var v8=Object.defineProperty;var w8=(e,t,n)=>t in e?v8(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Gn=(e,t,n)=>(w8(e,typeof t!="symbol"?t+"":t,n),n);function b8(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var jr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Gi(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function x8(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){if(this instanceof r){var i=[null];i.push.apply(i,arguments);var a=Function.bind.apply(t,i);return new a}return t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var uA={exports:{}},vt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rh=Symbol.for("react.element"),k8=Symbol.for("react.portal"),S8=Symbol.for("react.fragment"),C8=Symbol.for("react.strict_mode"),E8=Symbol.for("react.profiler"),T8=Symbol.for("react.provider"),_8=Symbol.for("react.context"),I8=Symbol.for("react.forward_ref"),P8=Symbol.for("react.suspense"),A8=Symbol.for("react.memo"),R8=Symbol.for("react.lazy"),S_=Symbol.iterator;function D8(e){return e===null||typeof e!="object"?null:(e=S_&&e[S_]||e["@@iterator"],typeof e=="function"?e:null)}var cA={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},dA=Object.assign,hA={};function Gu(e,t,n){this.props=e,this.context=t,this.refs=hA,this.updater=n||cA}Gu.prototype.isReactComponent={};Gu.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Gu.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function fA(){}fA.prototype=Gu.prototype;function Vk(e,t,n){this.props=e,this.context=t,this.refs=hA,this.updater=n||cA}var Wk=Vk.prototype=new fA;Wk.constructor=Vk;dA(Wk,Gu.prototype);Wk.isPureReactComponent=!0;var C_=Array.isArray,pA=Object.prototype.hasOwnProperty,Gk={current:null},mA={key:!0,ref:!0,__self:!0,__source:!0};function gA(e,t,n){var r,i={},a=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(a=""+t.key),t)pA.call(t,r)&&!mA.hasOwnProperty(r)&&(i[r]=t[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:Rh,type:e,key:a,ref:s,props:i,_owner:Gk.current}}function N8(e,t){return{$$typeof:Rh,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Hk(e){return typeof e=="object"&&e!==null&&e.$$typeof===Rh}function M8(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var E_=/\/+/g;function l1(e,t){return typeof e=="object"&&e!==null&&e.key!=null?M8(""+e.key):t.toString(36)}function Yp(e,t,n,r,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Rh:case k8:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+l1(s,0):r,C_(i)?(n="",e!=null&&(n=e.replace(E_,"$&/")+"/"),Yp(i,t,n,"",function(u){return u})):i!=null&&(Hk(i)&&(i=N8(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(E_,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",C_(e))for(var o=0;o<e.length;o++){a=e[o];var l=r+l1(a,o);s+=Yp(a,t,n,l,i)}else if(l=D8(e),typeof l=="function")for(e=l.call(e),o=0;!(a=e.next()).done;)a=a.value,l=r+l1(a,o++),s+=Yp(a,t,n,l,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Xf(e,t,n){if(e==null)return e;var r=[],i=0;return Yp(e,r,"","",function(a){return t.call(n,a,i++)}),r}function O8(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var vr={current:null},Xp={transition:null},L8={ReactCurrentDispatcher:vr,ReactCurrentBatchConfig:Xp,ReactCurrentOwner:Gk};vt.Children={map:Xf,forEach:function(e,t,n){Xf(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Xf(e,function(){t++}),t},toArray:function(e){return Xf(e,function(t){return t})||[]},only:function(e){if(!Hk(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};vt.Component=Gu;vt.Fragment=S8;vt.Profiler=E8;vt.PureComponent=Vk;vt.StrictMode=C8;vt.Suspense=P8;vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L8;vt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=dA({},e.props),i=e.key,a=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,s=Gk.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)pA.call(t,l)&&!mA.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:Rh,type:e.type,key:i,ref:a,props:r,_owner:s}};vt.createContext=function(e){return e={$$typeof:_8,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:T8,_context:e},e.Consumer=e};vt.createElement=gA;vt.createFactory=function(e){var t=gA.bind(null,e);return t.type=e,t};vt.createRef=function(){return{current:null}};vt.forwardRef=function(e){return{$$typeof:I8,render:e}};vt.isValidElement=Hk;vt.lazy=function(e){return{$$typeof:R8,_payload:{_status:-1,_result:e},_init:O8}};vt.memo=function(e,t){return{$$typeof:A8,type:e,compare:t===void 0?null:t}};vt.startTransition=function(e){var t=Xp.transition;Xp.transition={};try{e()}finally{Xp.transition=t}};vt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};vt.useCallback=function(e,t){return vr.current.useCallback(e,t)};vt.useContext=function(e){return vr.current.useContext(e)};vt.useDebugValue=function(){};vt.useDeferredValue=function(e){return vr.current.useDeferredValue(e)};vt.useEffect=function(e,t){return vr.current.useEffect(e,t)};vt.useId=function(){return vr.current.useId()};vt.useImperativeHandle=function(e,t,n){return vr.current.useImperativeHandle(e,t,n)};vt.useInsertionEffect=function(e,t){return vr.current.useInsertionEffect(e,t)};vt.useLayoutEffect=function(e,t){return vr.current.useLayoutEffect(e,t)};vt.useMemo=function(e,t){return vr.current.useMemo(e,t)};vt.useReducer=function(e,t,n){return vr.current.useReducer(e,t,n)};vt.useRef=function(e){return vr.current.useRef(e)};vt.useState=function(e){return vr.current.useState(e)};vt.useSyncExternalStore=function(e,t,n){return vr.current.useSyncExternalStore(e,t,n)};vt.useTransition=function(){return vr.current.useTransition()};vt.version="18.2.0";uA.exports=vt;var Y=uA.exports;const $e=Gi(Y),T_=b8({__proto__:null,default:$e},[Y]);function F8(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function B8(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var z8=function(){function e(n){var r=this;this._insertTag=function(i){var a;r.tags.length===0?r.insertionPoint?a=r.insertionPoint.nextSibling:r.prepend?a=r.container.firstChild:a=r.before:a=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,a),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(B8(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var a=F8(i);try{a.insertRule(r,a.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},e}(),ir="-ms-",Ym="-moz-",At="-webkit-",yA="comm",qk="rule",Kk="decl",U8="@import",vA="@keyframes",j8=Math.abs,A0=String.fromCharCode,$8=Object.assign;function V8(e,t){return Kn(e,0)^45?(((t<<2^Kn(e,0))<<2^Kn(e,1))<<2^Kn(e,2))<<2^Kn(e,3):0}function wA(e){return e.trim()}function W8(e,t){return(e=t.exec(e))?e[0]:e}function Rt(e,t,n){return e.replace(t,n)}function cb(e,t){return e.indexOf(t)}function Kn(e,t){return e.charCodeAt(t)|0}function Ud(e,t,n){return e.slice(t,n)}function sa(e){return e.length}function Yk(e){return e.length}function Qf(e,t){return t.push(e),e}function G8(e,t){return e.map(t).join("")}var R0=1,ku=1,bA=0,Mr=0,En=0,Hu="";function D0(e,t,n,r,i,a,s){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:R0,column:ku,length:s,return:""}}function Tc(e,t){return $8(D0("",null,null,"",null,null,0),e,{length:-e.length},t)}function H8(){return En}function q8(){return En=Mr>0?Kn(Hu,--Mr):0,ku--,En===10&&(ku=1,R0--),En}function Wr(){return En=Mr<bA?Kn(Hu,Mr++):0,ku++,En===10&&(ku=1,R0++),En}function da(){return Kn(Hu,Mr)}function Qp(){return Mr}function Dh(e,t){return Ud(Hu,e,t)}function jd(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function xA(e){return R0=ku=1,bA=sa(Hu=e),Mr=0,[]}function kA(e){return Hu="",e}function Zp(e){return wA(Dh(Mr-1,db(e===91?e+2:e===40?e+1:e)))}function K8(e){for(;(En=da())&&En<33;)Wr();return jd(e)>2||jd(En)>3?"":" "}function Y8(e,t){for(;--t&&Wr()&&!(En<48||En>102||En>57&&En<65||En>70&&En<97););return Dh(e,Qp()+(t<6&&da()==32&&Wr()==32))}function db(e){for(;Wr();)switch(En){case e:return Mr;case 34:case 39:e!==34&&e!==39&&db(En);break;case 40:e===41&&db(e);break;case 92:Wr();break}return Mr}function X8(e,t){for(;Wr()&&e+En!==47+10;)if(e+En===42+42&&da()===47)break;return"/*"+Dh(t,Mr-1)+"*"+A0(e===47?e:Wr())}function Q8(e){for(;!jd(da());)Wr();return Dh(e,Mr)}function Z8(e){return kA(Jp("",null,null,null,[""],e=xA(e),0,[0],e))}function Jp(e,t,n,r,i,a,s,o,l){for(var u=0,c=0,h=s,p=0,m=0,g=0,y=1,b=1,w=1,x=0,k="",_=i,A=a,P=r,N=k;b;)switch(g=x,x=Wr()){case 40:if(g!=108&&Kn(N,h-1)==58){cb(N+=Rt(Zp(x),"&","&\f"),"&\f")!=-1&&(w=-1);break}case 34:case 39:case 91:N+=Zp(x);break;case 9:case 10:case 13:case 32:N+=K8(g);break;case 92:N+=Y8(Qp()-1,7);continue;case 47:switch(da()){case 42:case 47:Qf(J8(X8(Wr(),Qp()),t,n),l);break;default:N+="/"}break;case 123*y:o[u++]=sa(N)*w;case 125*y:case 59:case 0:switch(x){case 0:case 125:b=0;case 59+c:w==-1&&(N=Rt(N,/\f/g,"")),m>0&&sa(N)-h&&Qf(m>32?I_(N+";",r,n,h-1):I_(Rt(N," ","")+";",r,n,h-2),l);break;case 59:N+=";";default:if(Qf(P=__(N,t,n,u,c,i,o,k,_=[],A=[],h),a),x===123)if(c===0)Jp(N,t,P,P,_,a,h,o,A);else switch(p===99&&Kn(N,3)===110?100:p){case 100:case 109:case 115:Jp(e,P,P,r&&Qf(__(e,P,P,0,0,i,o,k,i,_=[],h),A),i,A,h,o,r?_:A);break;default:Jp(N,P,P,P,[""],A,0,o,A)}}u=c=m=0,y=w=1,k=N="",h=s;break;case 58:h=1+sa(N),m=g;default:if(y<1){if(x==123)--y;else if(x==125&&y++==0&&q8()==125)continue}switch(N+=A0(x),x*y){case 38:w=c>0?1:(N+="\f",-1);break;case 44:o[u++]=(sa(N)-1)*w,w=1;break;case 64:da()===45&&(N+=Zp(Wr())),p=da(),c=h=sa(k=N+=Q8(Qp())),x++;break;case 45:g===45&&sa(N)==2&&(y=0)}}return a}function __(e,t,n,r,i,a,s,o,l,u,c){for(var h=i-1,p=i===0?a:[""],m=Yk(p),g=0,y=0,b=0;g<r;++g)for(var w=0,x=Ud(e,h+1,h=j8(y=s[g])),k=e;w<m;++w)(k=wA(y>0?p[w]+" "+x:Rt(x,/&\f/g,p[w])))&&(l[b++]=k);return D0(e,t,n,i===0?qk:o,l,u,c)}function J8(e,t,n){return D0(e,t,n,yA,A0(H8()),Ud(e,2,-2),0)}function I_(e,t,n,r){return D0(e,t,n,Kk,Ud(e,0,r),Ud(e,r+1,-1),r)}function au(e,t){for(var n="",r=Yk(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function eB(e,t,n,r){switch(e.type){case U8:case Kk:return e.return=e.return||e.value;case yA:return"";case vA:return e.return=e.value+"{"+au(e.children,r)+"}";case qk:e.value=e.props.join(",")}return sa(n=au(e.children,r))?e.return=e.value+"{"+n+"}":""}function tB(e){var t=Yk(e);return function(n,r,i,a){for(var s="",o=0;o<t;o++)s+=e[o](n,r,i,a)||"";return s}}function nB(e){return function(t){t.root||(t=t.return)&&e(t)}}function rB(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var iB=function(t,n,r){for(var i=0,a=0;i=a,a=da(),i===38&&a===12&&(n[r]=1),!jd(a);)Wr();return Dh(t,Mr)},aB=function(t,n){var r=-1,i=44;do switch(jd(i)){case 0:i===38&&da()===12&&(n[r]=1),t[r]+=iB(Mr-1,n,r);break;case 2:t[r]+=Zp(i);break;case 4:if(i===44){t[++r]=da()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=A0(i)}while(i=Wr());return t},sB=function(t,n){return kA(aB(xA(t),n))},P_=new WeakMap,oB=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,i=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!P_.get(r))&&!i){P_.set(t,!0);for(var a=[],s=sB(n,a),o=r.props,l=0,u=0;l<s.length;l++)for(var c=0;c<o.length;c++,u++)t.props[u]=a[l]?s[l].replace(/&\f/g,o[c]):o[c]+" "+s[l]}}},lB=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function SA(e,t){switch(V8(e,t)){case 5103:return At+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return At+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return At+e+Ym+e+ir+e+e;case 6828:case 4268:return At+e+ir+e+e;case 6165:return At+e+ir+"flex-"+e+e;case 5187:return At+e+Rt(e,/(\w+).+(:[^]+)/,At+"box-$1$2"+ir+"flex-$1$2")+e;case 5443:return At+e+ir+"flex-item-"+Rt(e,/flex-|-self/,"")+e;case 4675:return At+e+ir+"flex-line-pack"+Rt(e,/align-content|flex-|-self/,"")+e;case 5548:return At+e+ir+Rt(e,"shrink","negative")+e;case 5292:return At+e+ir+Rt(e,"basis","preferred-size")+e;case 6060:return At+"box-"+Rt(e,"-grow","")+At+e+ir+Rt(e,"grow","positive")+e;case 4554:return At+Rt(e,/([^-])(transform)/g,"$1"+At+"$2")+e;case 6187:return Rt(Rt(Rt(e,/(zoom-|grab)/,At+"$1"),/(image-set)/,At+"$1"),e,"")+e;case 5495:case 3959:return Rt(e,/(image-set\([^]*)/,At+"$1$`$1");case 4968:return Rt(Rt(e,/(.+:)(flex-)?(.*)/,At+"box-pack:$3"+ir+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+At+e+e;case 4095:case 3583:case 4068:case 2532:return Rt(e,/(.+)-inline(.+)/,At+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(sa(e)-1-t>6)switch(Kn(e,t+1)){case 109:if(Kn(e,t+4)!==45)break;case 102:return Rt(e,/(.+:)(.+)-([^]+)/,"$1"+At+"$2-$3$1"+Ym+(Kn(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~cb(e,"stretch")?SA(Rt(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Kn(e,t+1)!==115)break;case 6444:switch(Kn(e,sa(e)-3-(~cb(e,"!important")&&10))){case 107:return Rt(e,":",":"+At)+e;case 101:return Rt(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+At+(Kn(e,14)===45?"inline-":"")+"box$3$1"+At+"$2$3$1"+ir+"$2box$3")+e}break;case 5936:switch(Kn(e,t+11)){case 114:return At+e+ir+Rt(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return At+e+ir+Rt(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return At+e+ir+Rt(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return At+e+ir+e+e}return e}var uB=function(t,n,r,i){if(t.length>-1&&!t.return)switch(t.type){case Kk:t.return=SA(t.value,t.length);break;case vA:return au([Tc(t,{value:Rt(t.value,"@","@"+At)})],i);case qk:if(t.length)return G8(t.props,function(a){switch(W8(a,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return au([Tc(t,{props:[Rt(a,/:(read-\w+)/,":"+Ym+"$1")]})],i);case"::placeholder":return au([Tc(t,{props:[Rt(a,/:(plac\w+)/,":"+At+"input-$1")]}),Tc(t,{props:[Rt(a,/:(plac\w+)/,":"+Ym+"$1")]}),Tc(t,{props:[Rt(a,/:(plac\w+)/,ir+"input-$1")]})],i)}return""})}},cB=[uB],CA=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(y){var b=y.getAttribute("data-emotion");b.indexOf(" ")!==-1&&(document.head.appendChild(y),y.setAttribute("data-s",""))})}var i=t.stylisPlugins||cB,a={},s,o=[];s=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(y){for(var b=y.getAttribute("data-emotion").split(" "),w=1;w<b.length;w++)a[b[w]]=!0;o.push(y)});var l,u=[oB,lB];{var c,h=[eB,nB(function(y){c.insert(y)})],p=tB(u.concat(i,h)),m=function(b){return au(Z8(b),p)};l=function(b,w,x,k){c=x,m(b?b+"{"+w.styles+"}":w.styles),k&&(g.inserted[w.name]=!0)}}var g={key:n,sheet:new z8({key:n,container:s,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:a,registered:{},insert:l};return g.sheet.hydrate(o),g},EA={exports:{}},Lt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $n=typeof Symbol=="function"&&Symbol.for,Xk=$n?Symbol.for("react.element"):60103,Qk=$n?Symbol.for("react.portal"):60106,N0=$n?Symbol.for("react.fragment"):60107,M0=$n?Symbol.for("react.strict_mode"):60108,O0=$n?Symbol.for("react.profiler"):60114,L0=$n?Symbol.for("react.provider"):60109,F0=$n?Symbol.for("react.context"):60110,Zk=$n?Symbol.for("react.async_mode"):60111,B0=$n?Symbol.for("react.concurrent_mode"):60111,z0=$n?Symbol.for("react.forward_ref"):60112,U0=$n?Symbol.for("react.suspense"):60113,dB=$n?Symbol.for("react.suspense_list"):60120,j0=$n?Symbol.for("react.memo"):60115,$0=$n?Symbol.for("react.lazy"):60116,hB=$n?Symbol.for("react.block"):60121,fB=$n?Symbol.for("react.fundamental"):60117,pB=$n?Symbol.for("react.responder"):60118,mB=$n?Symbol.for("react.scope"):60119;function Zr(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Xk:switch(e=e.type,e){case Zk:case B0:case N0:case O0:case M0:case U0:return e;default:switch(e=e&&e.$$typeof,e){case F0:case z0:case $0:case j0:case L0:return e;default:return t}}case Qk:return t}}}function TA(e){return Zr(e)===B0}Lt.AsyncMode=Zk;Lt.ConcurrentMode=B0;Lt.ContextConsumer=F0;Lt.ContextProvider=L0;Lt.Element=Xk;Lt.ForwardRef=z0;Lt.Fragment=N0;Lt.Lazy=$0;Lt.Memo=j0;Lt.Portal=Qk;Lt.Profiler=O0;Lt.StrictMode=M0;Lt.Suspense=U0;Lt.isAsyncMode=function(e){return TA(e)||Zr(e)===Zk};Lt.isConcurrentMode=TA;Lt.isContextConsumer=function(e){return Zr(e)===F0};Lt.isContextProvider=function(e){return Zr(e)===L0};Lt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Xk};Lt.isForwardRef=function(e){return Zr(e)===z0};Lt.isFragment=function(e){return Zr(e)===N0};Lt.isLazy=function(e){return Zr(e)===$0};Lt.isMemo=function(e){return Zr(e)===j0};Lt.isPortal=function(e){return Zr(e)===Qk};Lt.isProfiler=function(e){return Zr(e)===O0};Lt.isStrictMode=function(e){return Zr(e)===M0};Lt.isSuspense=function(e){return Zr(e)===U0};Lt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===N0||e===B0||e===O0||e===M0||e===U0||e===dB||typeof e=="object"&&e!==null&&(e.$$typeof===$0||e.$$typeof===j0||e.$$typeof===L0||e.$$typeof===F0||e.$$typeof===z0||e.$$typeof===fB||e.$$typeof===pB||e.$$typeof===mB||e.$$typeof===hB)};Lt.typeOf=Zr;EA.exports=Lt;var gB=EA.exports,_A=gB,yB={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},vB={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},IA={};IA[_A.ForwardRef]=yB;IA[_A.Memo]=vB;var wB=!0;function Jk(e,t,n){var r="";return n.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):r+=i+" "}),r}var PA=function(t,n,r){var i=t.key+"-"+n.name;(r===!1||wB===!1)&&t.registered[i]===void 0&&(t.registered[i]=n.styles)},eS=function(t,n,r){PA(t,n,r);var i=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var a=n;do t.insert(n===a?"."+i:"",a,t.sheet,!0),a=a.next;while(a!==void 0)}};function bB(e){for(var t=0,n,r=0,i=e.length;i>=4;++r,i-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var xB={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},kB=/[A-Z]|^ms/g,SB=/_EMO_([^_]+?)_([^]*?)_EMO_/g,AA=function(t){return t.charCodeAt(1)===45},A_=function(t){return t!=null&&typeof t!="boolean"},u1=rB(function(e){return AA(e)?e:e.replace(kB,"-$&").toLowerCase()}),R_=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(SB,function(r,i,a){return oa={name:i,styles:a,next:oa},i})}return xB[t]!==1&&!AA(t)&&typeof n=="number"&&n!==0?n+"px":n};function $d(e,t,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return oa={name:n.name,styles:n.styles,next:oa},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)oa={name:r.name,styles:r.styles,next:oa},r=r.next;var i=n.styles+";";return i}return CB(e,t,n)}case"function":{if(e!==void 0){var a=oa,s=n(e);return oa=a,$d(e,t,s)}break}}if(t==null)return n;var o=t[n];return o!==void 0?o:n}function CB(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=$d(e,t,n[i])+";";else for(var a in n){var s=n[a];if(typeof s!="object")t!=null&&t[s]!==void 0?r+=a+"{"+t[s]+"}":A_(s)&&(r+=u1(a)+":"+R_(a,s)+";");else if(Array.isArray(s)&&typeof s[0]=="string"&&(t==null||t[s[0]]===void 0))for(var o=0;o<s.length;o++)A_(s[o])&&(r+=u1(a)+":"+R_(a,s[o])+";");else{var l=$d(e,t,s);switch(a){case"animation":case"animationName":{r+=u1(a)+":"+l+";";break}default:r+=a+"{"+l+"}"}}}return r}var D_=/label:\s*([^\s;\n{]+)\s*(;|$)/g,oa,su=function(t,n,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var i=!0,a="";oa=void 0;var s=t[0];s==null||s.raw===void 0?(i=!1,a+=$d(r,n,s)):a+=s[0];for(var o=1;o<t.length;o++)a+=$d(r,n,t[o]),i&&(a+=s[o]);D_.lastIndex=0;for(var l="",u;(u=D_.exec(a))!==null;)l+="-"+u[1];var c=bB(a)+l;return{name:c,styles:a,next:oa}},EB=function(t){return t()},RA=T_["useInsertionEffect"]?T_["useInsertionEffect"]:!1,TB=RA||EB,N_=RA||Y.useLayoutEffect,Nh={}.hasOwnProperty,DA=Y.createContext(typeof HTMLElement<"u"?CA({key:"css"}):null);DA.Provider;var NA=function(t){return Y.forwardRef(function(n,r){var i=Y.useContext(DA);return t(n,i,r)})},MA=Y.createContext({}),hb="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",tS=function(t,n){var r={};for(var i in n)Nh.call(n,i)&&(r[i]=n[i]);return r[hb]=t,r},_B=function(t){var n=t.cache,r=t.serialized,i=t.isStringTag;return PA(n,r,i),TB(function(){return eS(n,r,i)}),null},nS=NA(function(e,t,n){var r=e.css;typeof r=="string"&&t.registered[r]!==void 0&&(r=t.registered[r]);var i=e[hb],a=[r],s="";typeof e.className=="string"?s=Jk(t.registered,a,e.className):e.className!=null&&(s=e.className+" ");var o=su(a,void 0,Y.useContext(MA));s+=t.key+"-"+o.name;var l={};for(var u in e)Nh.call(e,u)&&u!=="css"&&u!==hb&&(l[u]=e[u]);return l.ref=n,l.className=s,Y.createElement(Y.Fragment,null,Y.createElement(_B,{cache:t,serialized:o,isStringTag:typeof i=="string"}),Y.createElement(i,l))}),OA={exports:{}},V0={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IB=Y,PB=Symbol.for("react.element"),AB=Symbol.for("react.fragment"),RB=Object.prototype.hasOwnProperty,DB=IB.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,NB={key:!0,ref:!0,__self:!0,__source:!0};function LA(e,t,n){var r,i={},a=null,s=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)RB.call(t,r)&&!NB.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:PB,type:e,key:a,ref:s,props:i,_owner:DB.current}}V0.Fragment=AB;V0.jsx=LA;V0.jsxs=LA;OA.exports=V0;var rS=OA.exports;const MB=rS.Fragment,M_=rS.jsx,O_=rS.jsxs;var rt=MB;function C(e,t,n){return Nh.call(t,"css")?M_(nS,tS(e,t),n):M_(e,t,n)}function ne(e,t,n){return Nh.call(t,"css")?O_(nS,tS(e,t),n):O_(e,t,n)}var fb={},FA={exports:{}},Jr={},BA={exports:{}},zA={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(de,ae){var pe=de.length;de.push(ae);e:for(;0<pe;){var F=pe-1>>>1,O=de[F];if(0<i(O,ae))de[F]=ae,de[pe]=O,pe=F;else break e}}function n(de){return de.length===0?null:de[0]}function r(de){if(de.length===0)return null;var ae=de[0],pe=de.pop();if(pe!==ae){de[0]=pe;e:for(var F=0,O=de.length,Ee=O>>>1;F<Ee;){var Ce=2*(F+1)-1,Te=de[Ce],Xe=Ce+1,ft=de[Xe];if(0>i(Te,pe))Xe<O&&0>i(ft,Te)?(de[F]=ft,de[Xe]=pe,F=Xe):(de[F]=Te,de[Ce]=pe,F=Ce);else if(Xe<O&&0>i(ft,pe))de[F]=ft,de[Xe]=pe,F=Xe;else break e}}return ae}function i(de,ae){var pe=de.sortIndex-ae.sortIndex;return pe!==0?pe:de.id-ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var l=[],u=[],c=1,h=null,p=3,m=!1,g=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(de){for(var ae=n(u);ae!==null;){if(ae.callback===null)r(u);else if(ae.startTime<=de)r(u),ae.sortIndex=ae.expirationTime,t(l,ae);else break;ae=n(u)}}function _(de){if(y=!1,k(de),!g)if(n(l)!==null)g=!0,X(A);else{var ae=n(u);ae!==null&&ue(_,ae.startTime-de)}}function A(de,ae){g=!1,y&&(y=!1,w(B),B=-1),m=!0;var pe=p;try{for(k(ae),h=n(l);h!==null&&(!(h.expirationTime>ae)||de&&!K());){var F=h.callback;if(typeof F=="function"){h.callback=null,p=h.priorityLevel;var O=F(h.expirationTime<=ae);ae=e.unstable_now(),typeof O=="function"?h.callback=O:h===n(l)&&r(l),k(ae)}else r(l);h=n(l)}if(h!==null)var Ee=!0;else{var Ce=n(u);Ce!==null&&ue(_,Ce.startTime-ae),Ee=!1}return Ee}finally{h=null,p=pe,m=!1}}var P=!1,N=null,B=-1,j=5,W=-1;function K(){return!(e.unstable_now()-W<j)}function z(){if(N!==null){var de=e.unstable_now();W=de;var ae=!0;try{ae=N(!0,de)}finally{ae?G():(P=!1,N=null)}}else P=!1}var G;if(typeof x=="function")G=function(){x(z)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,te=M.port2;M.port1.onmessage=z,G=function(){te.postMessage(null)}}else G=function(){b(z,0)};function X(de){N=de,P||(P=!0,G())}function ue(de,ae){B=b(function(){de(e.unstable_now())},ae)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(de){de.callback=null},e.unstable_continueExecution=function(){g||m||(g=!0,X(A))},e.unstable_forceFrameRate=function(de){0>de||125<de?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<de?Math.floor(1e3/de):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(de){switch(p){case 1:case 2:case 3:var ae=3;break;default:ae=p}var pe=p;p=ae;try{return de()}finally{p=pe}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(de,ae){switch(de){case 1:case 2:case 3:case 4:case 5:break;default:de=3}var pe=p;p=de;try{return ae()}finally{p=pe}},e.unstable_scheduleCallback=function(de,ae,pe){var F=e.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?F+pe:F):pe=F,de){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=pe+O,de={id:c++,callback:ae,priorityLevel:de,startTime:pe,expirationTime:O,sortIndex:-1},pe>F?(de.sortIndex=pe,t(u,de),n(l)===null&&de===n(u)&&(y?(w(B),B=-1):y=!0,ue(_,pe-F))):(de.sortIndex=O,t(l,de),g||m||(g=!0,X(A))),de},e.unstable_shouldYield=K,e.unstable_wrapCallback=function(de){var ae=p;return function(){var pe=p;p=ae;try{return de.apply(this,arguments)}finally{p=pe}}}})(zA);BA.exports=zA;var ud=BA.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UA=Y,Kr=ud;function Ae(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var jA=new Set,Vd={};function Jo(e,t){Su(e,t),Su(e+"Capture",t)}function Su(e,t){for(Vd[e]=t,e=0;e<t.length;e++)jA.add(t[e])}var Ua=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pb=Object.prototype.hasOwnProperty,OB=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,L_={},F_={};function LB(e){return pb.call(F_,e)?!0:pb.call(L_,e)?!1:OB.test(e)?F_[e]=!0:(L_[e]=!0,!1)}function FB(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function BB(e,t,n,r){if(t===null||typeof t>"u"||FB(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function wr(e,t,n,r,i,a,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var Xn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Xn[e]=new wr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Xn[t]=new wr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Xn[e]=new wr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Xn[e]=new wr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Xn[e]=new wr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Xn[e]=new wr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Xn[e]=new wr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Xn[e]=new wr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Xn[e]=new wr(e,5,!1,e.toLowerCase(),null,!1,!1)});var iS=/[\-:]([a-z])/g;function aS(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(iS,aS);Xn[t]=new wr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(iS,aS);Xn[t]=new wr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(iS,aS);Xn[t]=new wr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Xn[e]=new wr(e,1,!1,e.toLowerCase(),null,!1,!1)});Xn.xlinkHref=new wr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Xn[e]=new wr(e,1,!1,e.toLowerCase(),null,!0,!0)});function sS(e,t,n,r){var i=Xn.hasOwnProperty(t)?Xn[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(BB(t,n,i,r)&&(n=null),r||i===null?LB(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Ha=UA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Zf=Symbol.for("react.element"),Ul=Symbol.for("react.portal"),jl=Symbol.for("react.fragment"),oS=Symbol.for("react.strict_mode"),mb=Symbol.for("react.profiler"),$A=Symbol.for("react.provider"),VA=Symbol.for("react.context"),lS=Symbol.for("react.forward_ref"),gb=Symbol.for("react.suspense"),yb=Symbol.for("react.suspense_list"),uS=Symbol.for("react.memo"),gs=Symbol.for("react.lazy"),WA=Symbol.for("react.offscreen"),B_=Symbol.iterator;function _c(e){return e===null||typeof e!="object"?null:(e=B_&&e[B_]||e["@@iterator"],typeof e=="function"?e:null)}var dn=Object.assign,c1;function Zc(e){if(c1===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);c1=t&&t[1]||""}return`
`+c1+e}var d1=!1;function h1(e,t){if(!e||d1)return"";d1=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=r.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var l=`
`+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=o);break}}}finally{d1=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Zc(e):""}function zB(e){switch(e.tag){case 5:return Zc(e.type);case 16:return Zc("Lazy");case 13:return Zc("Suspense");case 19:return Zc("SuspenseList");case 0:case 2:case 15:return e=h1(e.type,!1),e;case 11:return e=h1(e.type.render,!1),e;case 1:return e=h1(e.type,!0),e;default:return""}}function vb(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case jl:return"Fragment";case Ul:return"Portal";case mb:return"Profiler";case oS:return"StrictMode";case gb:return"Suspense";case yb:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case VA:return(e.displayName||"Context")+".Consumer";case $A:return(e._context.displayName||"Context")+".Provider";case lS:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case uS:return t=e.displayName||null,t!==null?t:vb(e.type)||"Memo";case gs:t=e._payload,e=e._init;try{return vb(e(t))}catch{}}return null}function UB(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return vb(t);case 8:return t===oS?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Us(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function GA(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function jB(e){var t=GA(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,a.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Jf(e){e._valueTracker||(e._valueTracker=jB(e))}function HA(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=GA(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Xm(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function wb(e,t){var n=t.checked;return dn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function z_(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Us(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function qA(e,t){t=t.checked,t!=null&&sS(e,"checked",t,!1)}function bb(e,t){qA(e,t);var n=Us(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?xb(e,t.type,n):t.hasOwnProperty("defaultValue")&&xb(e,t.type,Us(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function U_(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function xb(e,t,n){(t!=="number"||Xm(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Jc=Array.isArray;function ou(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Us(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function kb(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ae(91));return dn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function j_(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Ae(92));if(Jc(n)){if(1<n.length)throw Error(Ae(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Us(n)}}function KA(e,t){var n=Us(t.value),r=Us(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function $_(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function YA(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Sb(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?YA(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ep,XA=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ep=ep||document.createElement("div"),ep.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ep.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Wd(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var cd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$B=["Webkit","ms","Moz","O"];Object.keys(cd).forEach(function(e){$B.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),cd[t]=cd[e]})});function QA(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||cd.hasOwnProperty(e)&&cd[e]?(""+t).trim():t+"px"}function ZA(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=QA(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var VB=dn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Cb(e,t){if(t){if(VB[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ae(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ae(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ae(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ae(62))}}function Eb(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tb=null;function cS(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var _b=null,lu=null,uu=null;function V_(e){if(e=Lh(e)){if(typeof _b!="function")throw Error(Ae(280));var t=e.stateNode;t&&(t=K0(t),_b(e.stateNode,e.type,t))}}function JA(e){lu?uu?uu.push(e):uu=[e]:lu=e}function eR(){if(lu){var e=lu,t=uu;if(uu=lu=null,V_(e),t)for(e=0;e<t.length;e++)V_(t[e])}}function tR(e,t){return e(t)}function nR(){}var f1=!1;function rR(e,t,n){if(f1)return e(t,n);f1=!0;try{return tR(e,t,n)}finally{f1=!1,(lu!==null||uu!==null)&&(nR(),eR())}}function Gd(e,t){var n=e.stateNode;if(n===null)return null;var r=K0(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Ae(231,t,typeof n));return n}var Ib=!1;if(Ua)try{var Ic={};Object.defineProperty(Ic,"passive",{get:function(){Ib=!0}}),window.addEventListener("test",Ic,Ic),window.removeEventListener("test",Ic,Ic)}catch{Ib=!1}function WB(e,t,n,r,i,a,s,o,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var dd=!1,Qm=null,Zm=!1,Pb=null,GB={onError:function(e){dd=!0,Qm=e}};function HB(e,t,n,r,i,a,s,o,l){dd=!1,Qm=null,WB.apply(GB,arguments)}function qB(e,t,n,r,i,a,s,o,l){if(HB.apply(this,arguments),dd){if(dd){var u=Qm;dd=!1,Qm=null}else throw Error(Ae(198));Zm||(Zm=!0,Pb=u)}}function el(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function iR(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function W_(e){if(el(e)!==e)throw Error(Ae(188))}function KB(e){var t=e.alternate;if(!t){if(t=el(e),t===null)throw Error(Ae(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return W_(i),e;if(a===r)return W_(i),t;a=a.sibling}throw Error(Ae(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,o=i.child;o;){if(o===n){s=!0,n=i,r=a;break}if(o===r){s=!0,r=i,n=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===n){s=!0,n=a,r=i;break}if(o===r){s=!0,r=a,n=i;break}o=o.sibling}if(!s)throw Error(Ae(189))}}if(n.alternate!==r)throw Error(Ae(190))}if(n.tag!==3)throw Error(Ae(188));return n.stateNode.current===n?e:t}function aR(e){return e=KB(e),e!==null?sR(e):null}function sR(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=sR(e);if(t!==null)return t;e=e.sibling}return null}var oR=Kr.unstable_scheduleCallback,G_=Kr.unstable_cancelCallback,YB=Kr.unstable_shouldYield,XB=Kr.unstable_requestPaint,xn=Kr.unstable_now,QB=Kr.unstable_getCurrentPriorityLevel,dS=Kr.unstable_ImmediatePriority,lR=Kr.unstable_UserBlockingPriority,Jm=Kr.unstable_NormalPriority,ZB=Kr.unstable_LowPriority,uR=Kr.unstable_IdlePriority,W0=null,ha=null;function JB(e){if(ha&&typeof ha.onCommitFiberRoot=="function")try{ha.onCommitFiberRoot(W0,e,void 0,(e.current.flags&128)===128)}catch{}}var ji=Math.clz32?Math.clz32:nz,ez=Math.log,tz=Math.LN2;function nz(e){return e>>>=0,e===0?32:31-(ez(e)/tz|0)|0}var tp=64,np=4194304;function ed(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function eg(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,s=n&268435455;if(s!==0){var o=s&~i;o!==0?r=ed(o):(a&=s,a!==0&&(r=ed(a)))}else s=n&~i,s!==0?r=ed(s):a!==0&&(r=ed(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-ji(t),i=1<<n,r|=e[n],t&=~i;return r}function rz(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function iz(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-ji(a),o=1<<s,l=i[s];l===-1?(!(o&n)||o&r)&&(i[s]=rz(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}}function Ab(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function cR(){var e=tp;return tp<<=1,!(tp&4194240)&&(tp=64),e}function p1(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Mh(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ji(t),e[t]=n}function az(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ji(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}function hS(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ji(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Ot=0;function dR(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var hR,fS,fR,pR,mR,Rb=!1,rp=[],As=null,Rs=null,Ds=null,Hd=new Map,qd=new Map,ks=[],sz="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function H_(e,t){switch(e){case"focusin":case"focusout":As=null;break;case"dragenter":case"dragleave":Rs=null;break;case"mouseover":case"mouseout":Ds=null;break;case"pointerover":case"pointerout":Hd.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":qd.delete(t.pointerId)}}function Pc(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=Lh(t),t!==null&&fS(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function oz(e,t,n,r,i){switch(t){case"focusin":return As=Pc(As,e,t,n,r,i),!0;case"dragenter":return Rs=Pc(Rs,e,t,n,r,i),!0;case"mouseover":return Ds=Pc(Ds,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Hd.set(a,Pc(Hd.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,qd.set(a,Pc(qd.get(a)||null,e,t,n,r,i)),!0}return!1}function gR(e){var t=To(e.target);if(t!==null){var n=el(t);if(n!==null){if(t=n.tag,t===13){if(t=iR(n),t!==null){e.blockedOn=t,mR(e.priority,function(){fR(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function em(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Db(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Tb=r,n.target.dispatchEvent(r),Tb=null}else return t=Lh(n),t!==null&&fS(t),e.blockedOn=n,!1;t.shift()}return!0}function q_(e,t,n){em(e)&&n.delete(t)}function lz(){Rb=!1,As!==null&&em(As)&&(As=null),Rs!==null&&em(Rs)&&(Rs=null),Ds!==null&&em(Ds)&&(Ds=null),Hd.forEach(q_),qd.forEach(q_)}function Ac(e,t){e.blockedOn===t&&(e.blockedOn=null,Rb||(Rb=!0,Kr.unstable_scheduleCallback(Kr.unstable_NormalPriority,lz)))}function Kd(e){function t(i){return Ac(i,e)}if(0<rp.length){Ac(rp[0],e);for(var n=1;n<rp.length;n++){var r=rp[n];r.blockedOn===e&&(r.blockedOn=null)}}for(As!==null&&Ac(As,e),Rs!==null&&Ac(Rs,e),Ds!==null&&Ac(Ds,e),Hd.forEach(t),qd.forEach(t),n=0;n<ks.length;n++)r=ks[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<ks.length&&(n=ks[0],n.blockedOn===null);)gR(n),n.blockedOn===null&&ks.shift()}var cu=Ha.ReactCurrentBatchConfig,tg=!0;function uz(e,t,n,r){var i=Ot,a=cu.transition;cu.transition=null;try{Ot=1,pS(e,t,n,r)}finally{Ot=i,cu.transition=a}}function cz(e,t,n,r){var i=Ot,a=cu.transition;cu.transition=null;try{Ot=4,pS(e,t,n,r)}finally{Ot=i,cu.transition=a}}function pS(e,t,n,r){if(tg){var i=Db(e,t,n,r);if(i===null)C1(e,t,r,ng,n),H_(e,r);else if(oz(i,e,t,n,r))r.stopPropagation();else if(H_(e,r),t&4&&-1<sz.indexOf(e)){for(;i!==null;){var a=Lh(i);if(a!==null&&hR(a),a=Db(e,t,n,r),a===null&&C1(e,t,r,ng,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else C1(e,t,r,null,n)}}var ng=null;function Db(e,t,n,r){if(ng=null,e=cS(r),e=To(e),e!==null)if(t=el(e),t===null)e=null;else if(n=t.tag,n===13){if(e=iR(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ng=e,null}function yR(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(QB()){case dS:return 1;case lR:return 4;case Jm:case ZB:return 16;case uR:return 536870912;default:return 16}default:return 16}}var Ts=null,mS=null,tm=null;function vR(){if(tm)return tm;var e,t=mS,n=t.length,r,i="value"in Ts?Ts.value:Ts.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[a-r];r++);return tm=i.slice(e,1<r?1-r:void 0)}function nm(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ip(){return!0}function K_(){return!1}function ei(e){function t(n,r,i,a,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?ip:K_,this.isPropagationStopped=K_,this}return dn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ip)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ip)},persist:function(){},isPersistent:ip}),t}var qu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gS=ei(qu),Oh=dn({},qu,{view:0,detail:0}),dz=ei(Oh),m1,g1,Rc,G0=dn({},Oh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yS,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Rc&&(Rc&&e.type==="mousemove"?(m1=e.screenX-Rc.screenX,g1=e.screenY-Rc.screenY):g1=m1=0,Rc=e),m1)},movementY:function(e){return"movementY"in e?e.movementY:g1}}),Y_=ei(G0),hz=dn({},G0,{dataTransfer:0}),fz=ei(hz),pz=dn({},Oh,{relatedTarget:0}),y1=ei(pz),mz=dn({},qu,{animationName:0,elapsedTime:0,pseudoElement:0}),gz=ei(mz),yz=dn({},qu,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vz=ei(yz),wz=dn({},qu,{data:0}),X_=ei(wz),bz={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xz={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kz={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sz(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=kz[e])?!!t[e]:!1}function yS(){return Sz}var Cz=dn({},Oh,{key:function(e){if(e.key){var t=bz[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=nm(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?xz[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yS,charCode:function(e){return e.type==="keypress"?nm(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?nm(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ez=ei(Cz),Tz=dn({},G0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Q_=ei(Tz),_z=dn({},Oh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yS}),Iz=ei(_z),Pz=dn({},qu,{propertyName:0,elapsedTime:0,pseudoElement:0}),Az=ei(Pz),Rz=dn({},G0,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dz=ei(Rz),Nz=[9,13,27,32],vS=Ua&&"CompositionEvent"in window,hd=null;Ua&&"documentMode"in document&&(hd=document.documentMode);var Mz=Ua&&"TextEvent"in window&&!hd,wR=Ua&&(!vS||hd&&8<hd&&11>=hd),Z_=String.fromCharCode(32),J_=!1;function bR(e,t){switch(e){case"keyup":return Nz.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xR(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var $l=!1;function Oz(e,t){switch(e){case"compositionend":return xR(t);case"keypress":return t.which!==32?null:(J_=!0,Z_);case"textInput":return e=t.data,e===Z_&&J_?null:e;default:return null}}function Lz(e,t){if($l)return e==="compositionend"||!vS&&bR(e,t)?(e=vR(),tm=mS=Ts=null,$l=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return wR&&t.locale!=="ko"?null:t.data;default:return null}}var Fz={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function e3(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Fz[e.type]:t==="textarea"}function kR(e,t,n,r){JA(r),t=rg(t,"onChange"),0<t.length&&(n=new gS("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var fd=null,Yd=null;function Bz(e){NR(e,0)}function H0(e){var t=Gl(e);if(HA(t))return e}function zz(e,t){if(e==="change")return t}var SR=!1;if(Ua){var v1;if(Ua){var w1="oninput"in document;if(!w1){var t3=document.createElement("div");t3.setAttribute("oninput","return;"),w1=typeof t3.oninput=="function"}v1=w1}else v1=!1;SR=v1&&(!document.documentMode||9<document.documentMode)}function n3(){fd&&(fd.detachEvent("onpropertychange",CR),Yd=fd=null)}function CR(e){if(e.propertyName==="value"&&H0(Yd)){var t=[];kR(t,Yd,e,cS(e)),rR(Bz,t)}}function Uz(e,t,n){e==="focusin"?(n3(),fd=t,Yd=n,fd.attachEvent("onpropertychange",CR)):e==="focusout"&&n3()}function jz(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return H0(Yd)}function $z(e,t){if(e==="click")return H0(t)}function Vz(e,t){if(e==="input"||e==="change")return H0(t)}function Wz(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Wi=typeof Object.is=="function"?Object.is:Wz;function Xd(e,t){if(Wi(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!pb.call(t,i)||!Wi(e[i],t[i]))return!1}return!0}function r3(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function i3(e,t){var n=r3(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=r3(n)}}function ER(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ER(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function TR(){for(var e=window,t=Xm();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Xm(e.document)}return t}function wS(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Gz(e){var t=TR(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ER(n.ownerDocument.documentElement,n)){if(r!==null&&wS(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=i3(n,a);var s=i3(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Hz=Ua&&"documentMode"in document&&11>=document.documentMode,Vl=null,Nb=null,pd=null,Mb=!1;function a3(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Mb||Vl==null||Vl!==Xm(r)||(r=Vl,"selectionStart"in r&&wS(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),pd&&Xd(pd,r)||(pd=r,r=rg(Nb,"onSelect"),0<r.length&&(t=new gS("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Vl)))}function ap(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Wl={animationend:ap("Animation","AnimationEnd"),animationiteration:ap("Animation","AnimationIteration"),animationstart:ap("Animation","AnimationStart"),transitionend:ap("Transition","TransitionEnd")},b1={},_R={};Ua&&(_R=document.createElement("div").style,"AnimationEvent"in window||(delete Wl.animationend.animation,delete Wl.animationiteration.animation,delete Wl.animationstart.animation),"TransitionEvent"in window||delete Wl.transitionend.transition);function q0(e){if(b1[e])return b1[e];if(!Wl[e])return e;var t=Wl[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in _R)return b1[e]=t[n];return e}var IR=q0("animationend"),PR=q0("animationiteration"),AR=q0("animationstart"),RR=q0("transitionend"),DR=new Map,s3="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ws(e,t){DR.set(e,t),Jo(t,[e])}for(var x1=0;x1<s3.length;x1++){var k1=s3[x1],qz=k1.toLowerCase(),Kz=k1[0].toUpperCase()+k1.slice(1);Ws(qz,"on"+Kz)}Ws(IR,"onAnimationEnd");Ws(PR,"onAnimationIteration");Ws(AR,"onAnimationStart");Ws("dblclick","onDoubleClick");Ws("focusin","onFocus");Ws("focusout","onBlur");Ws(RR,"onTransitionEnd");Su("onMouseEnter",["mouseout","mouseover"]);Su("onMouseLeave",["mouseout","mouseover"]);Su("onPointerEnter",["pointerout","pointerover"]);Su("onPointerLeave",["pointerout","pointerover"]);Jo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Jo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Jo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Jo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Jo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Jo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var td="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yz=new Set("cancel close invalid load scroll toggle".split(" ").concat(td));function o3(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,qB(r,t,void 0,e),e.currentTarget=null}function NR(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;o3(i,o,u),a=l}else for(s=0;s<r.length;s++){if(o=r[s],l=o.instance,u=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;o3(i,o,u),a=l}}}if(Zm)throw e=Pb,Zm=!1,Pb=null,e}function Zt(e,t){var n=t[zb];n===void 0&&(n=t[zb]=new Set);var r=e+"__bubble";n.has(r)||(MR(t,e,2,!1),n.add(r))}function S1(e,t,n){var r=0;t&&(r|=4),MR(n,e,r,t)}var sp="_reactListening"+Math.random().toString(36).slice(2);function Qd(e){if(!e[sp]){e[sp]=!0,jA.forEach(function(n){n!=="selectionchange"&&(Yz.has(n)||S1(n,!1,e),S1(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[sp]||(t[sp]=!0,S1("selectionchange",!1,t))}}function MR(e,t,n,r){switch(yR(t)){case 1:var i=uz;break;case 4:i=cz;break;default:i=pS}n=i.bind(null,t,n,e),i=void 0,!Ib||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function C1(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;o!==null;){if(s=To(o),s===null)return;if(l=s.tag,l===5||l===6){r=a=s;continue e}o=o.parentNode}}r=r.return}rR(function(){var u=a,c=cS(n),h=[];e:{var p=DR.get(e);if(p!==void 0){var m=gS,g=e;switch(e){case"keypress":if(nm(n)===0)break e;case"keydown":case"keyup":m=Ez;break;case"focusin":g="focus",m=y1;break;case"focusout":g="blur",m=y1;break;case"beforeblur":case"afterblur":m=y1;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Y_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=fz;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Iz;break;case IR:case PR:case AR:m=gz;break;case RR:m=Az;break;case"scroll":m=dz;break;case"wheel":m=Dz;break;case"copy":case"cut":case"paste":m=vz;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Q_}var y=(t&4)!==0,b=!y&&e==="scroll",w=y?p!==null?p+"Capture":null:p;y=[];for(var x=u,k;x!==null;){k=x;var _=k.stateNode;if(k.tag===5&&_!==null&&(k=_,w!==null&&(_=Gd(x,w),_!=null&&y.push(Zd(x,_,k)))),b)break;x=x.return}0<y.length&&(p=new m(p,g,null,n,c),h.push({event:p,listeners:y}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",p&&n!==Tb&&(g=n.relatedTarget||n.fromElement)&&(To(g)||g[ja]))break e;if((m||p)&&(p=c.window===c?c:(p=c.ownerDocument)?p.defaultView||p.parentWindow:window,m?(g=n.relatedTarget||n.toElement,m=u,g=g?To(g):null,g!==null&&(b=el(g),g!==b||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(y=Y_,_="onMouseLeave",w="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(y=Q_,_="onPointerLeave",w="onPointerEnter",x="pointer"),b=m==null?p:Gl(m),k=g==null?p:Gl(g),p=new y(_,x+"leave",m,n,c),p.target=b,p.relatedTarget=k,_=null,To(c)===u&&(y=new y(w,x+"enter",g,n,c),y.target=k,y.relatedTarget=b,_=y),b=_,m&&g)t:{for(y=m,w=g,x=0,k=y;k;k=Tl(k))x++;for(k=0,_=w;_;_=Tl(_))k++;for(;0<x-k;)y=Tl(y),x--;for(;0<k-x;)w=Tl(w),k--;for(;x--;){if(y===w||w!==null&&y===w.alternate)break t;y=Tl(y),w=Tl(w)}y=null}else y=null;m!==null&&l3(h,p,m,y,!1),g!==null&&b!==null&&l3(h,b,g,y,!0)}}e:{if(p=u?Gl(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var A=zz;else if(e3(p))if(SR)A=Vz;else{A=jz;var P=Uz}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(A=$z);if(A&&(A=A(e,u))){kR(h,A,n,c);break e}P&&P(e,p,u),e==="focusout"&&(P=p._wrapperState)&&P.controlled&&p.type==="number"&&xb(p,"number",p.value)}switch(P=u?Gl(u):window,e){case"focusin":(e3(P)||P.contentEditable==="true")&&(Vl=P,Nb=u,pd=null);break;case"focusout":pd=Nb=Vl=null;break;case"mousedown":Mb=!0;break;case"contextmenu":case"mouseup":case"dragend":Mb=!1,a3(h,n,c);break;case"selectionchange":if(Hz)break;case"keydown":case"keyup":a3(h,n,c)}var N;if(vS)e:{switch(e){case"compositionstart":var B="onCompositionStart";break e;case"compositionend":B="onCompositionEnd";break e;case"compositionupdate":B="onCompositionUpdate";break e}B=void 0}else $l?bR(e,n)&&(B="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(B="onCompositionStart");B&&(wR&&n.locale!=="ko"&&($l||B!=="onCompositionStart"?B==="onCompositionEnd"&&$l&&(N=vR()):(Ts=c,mS="value"in Ts?Ts.value:Ts.textContent,$l=!0)),P=rg(u,B),0<P.length&&(B=new X_(B,e,null,n,c),h.push({event:B,listeners:P}),N?B.data=N:(N=xR(n),N!==null&&(B.data=N)))),(N=Mz?Oz(e,n):Lz(e,n))&&(u=rg(u,"onBeforeInput"),0<u.length&&(c=new X_("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=N))}NR(h,t)})}function Zd(e,t,n){return{instance:e,listener:t,currentTarget:n}}function rg(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Gd(e,n),a!=null&&r.unshift(Zd(e,a,i)),a=Gd(e,t),a!=null&&r.push(Zd(e,a,i))),e=e.return}return r}function Tl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function l3(e,t,n,r,i){for(var a=t._reactName,s=[];n!==null&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&u!==null&&(o=u,i?(l=Gd(n,a),l!=null&&s.unshift(Zd(n,l,o))):i||(l=Gd(n,a),l!=null&&s.push(Zd(n,l,o)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var Xz=/\r\n?/g,Qz=/\u0000|\uFFFD/g;function u3(e){return(typeof e=="string"?e:""+e).replace(Xz,`
`).replace(Qz,"")}function op(e,t,n){if(t=u3(t),u3(e)!==t&&n)throw Error(Ae(425))}function ig(){}var Ob=null,Lb=null;function Fb(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Bb=typeof setTimeout=="function"?setTimeout:void 0,Zz=typeof clearTimeout=="function"?clearTimeout:void 0,c3=typeof Promise=="function"?Promise:void 0,Jz=typeof queueMicrotask=="function"?queueMicrotask:typeof c3<"u"?function(e){return c3.resolve(null).then(e).catch(e9)}:Bb;function e9(e){setTimeout(function(){throw e})}function E1(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Kd(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Kd(t)}function Ns(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function d3(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ku=Math.random().toString(36).slice(2),ua="__reactFiber$"+Ku,Jd="__reactProps$"+Ku,ja="__reactContainer$"+Ku,zb="__reactEvents$"+Ku,t9="__reactListeners$"+Ku,n9="__reactHandles$"+Ku;function To(e){var t=e[ua];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ja]||n[ua]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=d3(e);e!==null;){if(n=e[ua])return n;e=d3(e)}return t}e=n,n=e.parentNode}return null}function Lh(e){return e=e[ua]||e[ja],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Gl(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ae(33))}function K0(e){return e[Jd]||null}var Ub=[],Hl=-1;function Gs(e){return{current:e}}function en(e){0>Hl||(e.current=Ub[Hl],Ub[Hl]=null,Hl--)}function qt(e,t){Hl++,Ub[Hl]=e.current,e.current=t}var js={},cr=Gs(js),Rr=Gs(!1),Go=js;function Cu(e,t){var n=e.type.contextTypes;if(!n)return js;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Dr(e){return e=e.childContextTypes,e!=null}function ag(){en(Rr),en(cr)}function h3(e,t,n){if(cr.current!==js)throw Error(Ae(168));qt(cr,t),qt(Rr,n)}function OR(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(Ae(108,UB(e)||"Unknown",i));return dn({},n,r)}function sg(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||js,Go=cr.current,qt(cr,e),qt(Rr,Rr.current),!0}function f3(e,t,n){var r=e.stateNode;if(!r)throw Error(Ae(169));n?(e=OR(e,t,Go),r.__reactInternalMemoizedMergedChildContext=e,en(Rr),en(cr),qt(cr,e)):en(Rr),qt(Rr,n)}var Na=null,Y0=!1,T1=!1;function LR(e){Na===null?Na=[e]:Na.push(e)}function r9(e){Y0=!0,LR(e)}function Hs(){if(!T1&&Na!==null){T1=!0;var e=0,t=Ot;try{var n=Na;for(Ot=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Na=null,Y0=!1}catch(i){throw Na!==null&&(Na=Na.slice(e+1)),oR(dS,Hs),i}finally{Ot=t,T1=!1}}return null}var ql=[],Kl=0,og=null,lg=0,pi=[],mi=0,Ho=null,La=1,Fa="";function yo(e,t){ql[Kl++]=lg,ql[Kl++]=og,og=e,lg=t}function FR(e,t,n){pi[mi++]=La,pi[mi++]=Fa,pi[mi++]=Ho,Ho=e;var r=La;e=Fa;var i=32-ji(r)-1;r&=~(1<<i),n+=1;var a=32-ji(t)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,La=1<<32-ji(t)+i|n<<i|r,Fa=a+e}else La=1<<a|n<<i|r,Fa=e}function bS(e){e.return!==null&&(yo(e,1),FR(e,1,0))}function xS(e){for(;e===og;)og=ql[--Kl],ql[Kl]=null,lg=ql[--Kl],ql[Kl]=null;for(;e===Ho;)Ho=pi[--mi],pi[mi]=null,Fa=pi[--mi],pi[mi]=null,La=pi[--mi],pi[mi]=null}var Gr=null,Vr=null,sn=!1,Li=null;function BR(e,t){var n=vi(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function p3(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Gr=e,Vr=Ns(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Gr=e,Vr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Ho!==null?{id:La,overflow:Fa}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=vi(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Gr=e,Vr=null,!0):!1;default:return!1}}function jb(e){return(e.mode&1)!==0&&(e.flags&128)===0}function $b(e){if(sn){var t=Vr;if(t){var n=t;if(!p3(e,t)){if(jb(e))throw Error(Ae(418));t=Ns(n.nextSibling);var r=Gr;t&&p3(e,t)?BR(r,n):(e.flags=e.flags&-4097|2,sn=!1,Gr=e)}}else{if(jb(e))throw Error(Ae(418));e.flags=e.flags&-4097|2,sn=!1,Gr=e}}}function m3(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Gr=e}function lp(e){if(e!==Gr)return!1;if(!sn)return m3(e),sn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Fb(e.type,e.memoizedProps)),t&&(t=Vr)){if(jb(e))throw zR(),Error(Ae(418));for(;t;)BR(e,t),t=Ns(t.nextSibling)}if(m3(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ae(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Vr=Ns(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Vr=null}}else Vr=Gr?Ns(e.stateNode.nextSibling):null;return!0}function zR(){for(var e=Vr;e;)e=Ns(e.nextSibling)}function Eu(){Vr=Gr=null,sn=!1}function kS(e){Li===null?Li=[e]:Li.push(e)}var i9=Ha.ReactCurrentBatchConfig;function Mi(e,t){if(e&&e.defaultProps){t=dn({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var ug=Gs(null),cg=null,Yl=null,SS=null;function CS(){SS=Yl=cg=null}function ES(e){var t=ug.current;en(ug),e._currentValue=t}function Vb(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function du(e,t){cg=e,SS=Yl=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Pr=!0),e.firstContext=null)}function bi(e){var t=e._currentValue;if(SS!==e)if(e={context:e,memoizedValue:t,next:null},Yl===null){if(cg===null)throw Error(Ae(308));Yl=e,cg.dependencies={lanes:0,firstContext:e}}else Yl=Yl.next=e;return t}var _o=null;function TS(e){_o===null?_o=[e]:_o.push(e)}function UR(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,TS(t)):(n.next=i.next,i.next=n),t.interleaved=n,$a(e,r)}function $a(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ys=!1;function _S(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jR(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ba(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ms(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Ct&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,$a(e,n)}return i=r.interleaved,i===null?(t.next=t,TS(r)):(t.next=i.next,i.next=t),r.interleaved=t,$a(e,n)}function rm(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,hS(e,n)}}function g3(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function dg(e,t,n,r){var i=e.updateQueue;ys=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,s===null?a=u:s.next=u,s=l;var c=e.alternate;c!==null&&(c=c.updateQueue,o=c.lastBaseUpdate,o!==s&&(o===null?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(a!==null){var h=i.baseState;s=0,c=u=l=null,o=a;do{var p=o.lane,m=o.eventTime;if((r&p)===p){c!==null&&(c=c.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=e,y=o;switch(p=t,m=n,y.tag){case 1:if(g=y.payload,typeof g=="function"){h=g.call(m,h,p);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,p=typeof g=="function"?g.call(m,h,p):g,p==null)break e;h=dn({},h,p);break e;case 2:ys=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,p=i.effects,p===null?i.effects=[o]:p.push(o))}else m={eventTime:m,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(u=c=m,l=h):c=c.next=m,s|=p;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;p=o,o=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(1);if(c===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);Ko|=s,e.lanes=s,e.memoizedState=h}}function y3(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Ae(191,i));i.call(r)}}}var $R=new UA.Component().refs;function Wb(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:dn({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var X0={isMounted:function(e){return(e=e._reactInternals)?el(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=gr(),i=Ls(e),a=Ba(r,i);a.payload=t,n!=null&&(a.callback=n),t=Ms(e,a,i),t!==null&&($i(t,e,i,r),rm(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=gr(),i=Ls(e),a=Ba(r,i);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=Ms(e,a,i),t!==null&&($i(t,e,i,r),rm(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=gr(),r=Ls(e),i=Ba(n,r);i.tag=2,t!=null&&(i.callback=t),t=Ms(e,i,r),t!==null&&($i(t,e,r,n),rm(t,e,r))}};function v3(e,t,n,r,i,a,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,s):t.prototype&&t.prototype.isPureReactComponent?!Xd(n,r)||!Xd(i,a):!0}function VR(e,t,n){var r=!1,i=js,a=t.contextType;return typeof a=="object"&&a!==null?a=bi(a):(i=Dr(t)?Go:cr.current,r=t.contextTypes,a=(r=r!=null)?Cu(e,i):js),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=X0,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function w3(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&X0.enqueueReplaceState(t,t.state,null)}function Gb(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=$R,_S(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=bi(a):(a=Dr(t)?Go:cr.current,i.context=Cu(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Wb(e,t,a,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&X0.enqueueReplaceState(i,i.state,null),dg(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Dc(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ae(309));var r=n.stateNode}if(!r)throw Error(Ae(147,e));var i=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(s){var o=i.refs;o===$R&&(o=i.refs={}),s===null?delete o[a]:o[a]=s},t._stringRef=a,t)}if(typeof e!="string")throw Error(Ae(284));if(!n._owner)throw Error(Ae(290,e))}return e}function up(e,t){throw e=Object.prototype.toString.call(t),Error(Ae(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function b3(e){var t=e._init;return t(e._payload)}function WR(e){function t(w,x){if(e){var k=w.deletions;k===null?(w.deletions=[x],w.flags|=16):k.push(x)}}function n(w,x){if(!e)return null;for(;x!==null;)t(w,x),x=x.sibling;return null}function r(w,x){for(w=new Map;x!==null;)x.key!==null?w.set(x.key,x):w.set(x.index,x),x=x.sibling;return w}function i(w,x){return w=Fs(w,x),w.index=0,w.sibling=null,w}function a(w,x,k){return w.index=k,e?(k=w.alternate,k!==null?(k=k.index,k<x?(w.flags|=2,x):k):(w.flags|=2,x)):(w.flags|=1048576,x)}function s(w){return e&&w.alternate===null&&(w.flags|=2),w}function o(w,x,k,_){return x===null||x.tag!==6?(x=N1(k,w.mode,_),x.return=w,x):(x=i(x,k),x.return=w,x)}function l(w,x,k,_){var A=k.type;return A===jl?c(w,x,k.props.children,_,k.key):x!==null&&(x.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===gs&&b3(A)===x.type)?(_=i(x,k.props),_.ref=Dc(w,x,k),_.return=w,_):(_=um(k.type,k.key,k.props,null,w.mode,_),_.ref=Dc(w,x,k),_.return=w,_)}function u(w,x,k,_){return x===null||x.tag!==4||x.stateNode.containerInfo!==k.containerInfo||x.stateNode.implementation!==k.implementation?(x=M1(k,w.mode,_),x.return=w,x):(x=i(x,k.children||[]),x.return=w,x)}function c(w,x,k,_,A){return x===null||x.tag!==7?(x=Mo(k,w.mode,_,A),x.return=w,x):(x=i(x,k),x.return=w,x)}function h(w,x,k){if(typeof x=="string"&&x!==""||typeof x=="number")return x=N1(""+x,w.mode,k),x.return=w,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Zf:return k=um(x.type,x.key,x.props,null,w.mode,k),k.ref=Dc(w,null,x),k.return=w,k;case Ul:return x=M1(x,w.mode,k),x.return=w,x;case gs:var _=x._init;return h(w,_(x._payload),k)}if(Jc(x)||_c(x))return x=Mo(x,w.mode,k,null),x.return=w,x;up(w,x)}return null}function p(w,x,k,_){var A=x!==null?x.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return A!==null?null:o(w,x,""+k,_);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Zf:return k.key===A?l(w,x,k,_):null;case Ul:return k.key===A?u(w,x,k,_):null;case gs:return A=k._init,p(w,x,A(k._payload),_)}if(Jc(k)||_c(k))return A!==null?null:c(w,x,k,_,null);up(w,k)}return null}function m(w,x,k,_,A){if(typeof _=="string"&&_!==""||typeof _=="number")return w=w.get(k)||null,o(x,w,""+_,A);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Zf:return w=w.get(_.key===null?k:_.key)||null,l(x,w,_,A);case Ul:return w=w.get(_.key===null?k:_.key)||null,u(x,w,_,A);case gs:var P=_._init;return m(w,x,k,P(_._payload),A)}if(Jc(_)||_c(_))return w=w.get(k)||null,c(x,w,_,A,null);up(x,_)}return null}function g(w,x,k,_){for(var A=null,P=null,N=x,B=x=0,j=null;N!==null&&B<k.length;B++){N.index>B?(j=N,N=null):j=N.sibling;var W=p(w,N,k[B],_);if(W===null){N===null&&(N=j);break}e&&N&&W.alternate===null&&t(w,N),x=a(W,x,B),P===null?A=W:P.sibling=W,P=W,N=j}if(B===k.length)return n(w,N),sn&&yo(w,B),A;if(N===null){for(;B<k.length;B++)N=h(w,k[B],_),N!==null&&(x=a(N,x,B),P===null?A=N:P.sibling=N,P=N);return sn&&yo(w,B),A}for(N=r(w,N);B<k.length;B++)j=m(N,w,B,k[B],_),j!==null&&(e&&j.alternate!==null&&N.delete(j.key===null?B:j.key),x=a(j,x,B),P===null?A=j:P.sibling=j,P=j);return e&&N.forEach(function(K){return t(w,K)}),sn&&yo(w,B),A}function y(w,x,k,_){var A=_c(k);if(typeof A!="function")throw Error(Ae(150));if(k=A.call(k),k==null)throw Error(Ae(151));for(var P=A=null,N=x,B=x=0,j=null,W=k.next();N!==null&&!W.done;B++,W=k.next()){N.index>B?(j=N,N=null):j=N.sibling;var K=p(w,N,W.value,_);if(K===null){N===null&&(N=j);break}e&&N&&K.alternate===null&&t(w,N),x=a(K,x,B),P===null?A=K:P.sibling=K,P=K,N=j}if(W.done)return n(w,N),sn&&yo(w,B),A;if(N===null){for(;!W.done;B++,W=k.next())W=h(w,W.value,_),W!==null&&(x=a(W,x,B),P===null?A=W:P.sibling=W,P=W);return sn&&yo(w,B),A}for(N=r(w,N);!W.done;B++,W=k.next())W=m(N,w,B,W.value,_),W!==null&&(e&&W.alternate!==null&&N.delete(W.key===null?B:W.key),x=a(W,x,B),P===null?A=W:P.sibling=W,P=W);return e&&N.forEach(function(z){return t(w,z)}),sn&&yo(w,B),A}function b(w,x,k,_){if(typeof k=="object"&&k!==null&&k.type===jl&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case Zf:e:{for(var A=k.key,P=x;P!==null;){if(P.key===A){if(A=k.type,A===jl){if(P.tag===7){n(w,P.sibling),x=i(P,k.props.children),x.return=w,w=x;break e}}else if(P.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===gs&&b3(A)===P.type){n(w,P.sibling),x=i(P,k.props),x.ref=Dc(w,P,k),x.return=w,w=x;break e}n(w,P);break}else t(w,P);P=P.sibling}k.type===jl?(x=Mo(k.props.children,w.mode,_,k.key),x.return=w,w=x):(_=um(k.type,k.key,k.props,null,w.mode,_),_.ref=Dc(w,x,k),_.return=w,w=_)}return s(w);case Ul:e:{for(P=k.key;x!==null;){if(x.key===P)if(x.tag===4&&x.stateNode.containerInfo===k.containerInfo&&x.stateNode.implementation===k.implementation){n(w,x.sibling),x=i(x,k.children||[]),x.return=w,w=x;break e}else{n(w,x);break}else t(w,x);x=x.sibling}x=M1(k,w.mode,_),x.return=w,w=x}return s(w);case gs:return P=k._init,b(w,x,P(k._payload),_)}if(Jc(k))return g(w,x,k,_);if(_c(k))return y(w,x,k,_);up(w,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,x!==null&&x.tag===6?(n(w,x.sibling),x=i(x,k),x.return=w,w=x):(n(w,x),x=N1(k,w.mode,_),x.return=w,w=x),s(w)):n(w,x)}return b}var Tu=WR(!0),GR=WR(!1),Fh={},fa=Gs(Fh),eh=Gs(Fh),th=Gs(Fh);function Io(e){if(e===Fh)throw Error(Ae(174));return e}function IS(e,t){switch(qt(th,t),qt(eh,e),qt(fa,Fh),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Sb(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Sb(t,e)}en(fa),qt(fa,t)}function _u(){en(fa),en(eh),en(th)}function HR(e){Io(th.current);var t=Io(fa.current),n=Sb(t,e.type);t!==n&&(qt(eh,e),qt(fa,n))}function PS(e){eh.current===e&&(en(fa),en(eh))}var un=Gs(0);function hg(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var _1=[];function AS(){for(var e=0;e<_1.length;e++)_1[e]._workInProgressVersionPrimary=null;_1.length=0}var im=Ha.ReactCurrentDispatcher,I1=Ha.ReactCurrentBatchConfig,qo=0,cn=null,Rn=null,zn=null,fg=!1,md=!1,nh=0,a9=0;function nr(){throw Error(Ae(321))}function RS(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Wi(e[n],t[n]))return!1;return!0}function DS(e,t,n,r,i,a){if(qo=a,cn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,im.current=e===null||e.memoizedState===null?u9:c9,e=n(r,i),md){a=0;do{if(md=!1,nh=0,25<=a)throw Error(Ae(301));a+=1,zn=Rn=null,t.updateQueue=null,im.current=d9,e=n(r,i)}while(md)}if(im.current=pg,t=Rn!==null&&Rn.next!==null,qo=0,zn=Rn=cn=null,fg=!1,t)throw Error(Ae(300));return e}function NS(){var e=nh!==0;return nh=0,e}function ra(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zn===null?cn.memoizedState=zn=e:zn=zn.next=e,zn}function xi(){if(Rn===null){var e=cn.alternate;e=e!==null?e.memoizedState:null}else e=Rn.next;var t=zn===null?cn.memoizedState:zn.next;if(t!==null)zn=t,Rn=e;else{if(e===null)throw Error(Ae(310));Rn=e,e={memoizedState:Rn.memoizedState,baseState:Rn.baseState,baseQueue:Rn.baseQueue,queue:Rn.queue,next:null},zn===null?cn.memoizedState=zn=e:zn=zn.next=e}return zn}function rh(e,t){return typeof t=="function"?t(e):t}function P1(e){var t=xi(),n=t.queue;if(n===null)throw Error(Ae(311));n.lastRenderedReducer=e;var r=Rn,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var o=s=null,l=null,u=a;do{var c=u.lane;if((qo&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=h,s=r):l=l.next=h,cn.lanes|=c,Ko|=c}u=u.next}while(u!==null&&u!==a);l===null?s=r:l.next=o,Wi(r,t.memoizedState)||(Pr=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do a=i.lane,cn.lanes|=a,Ko|=a,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function A1(e){var t=xi(),n=t.queue;if(n===null)throw Error(Ae(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do a=e(a,s.action),s=s.next;while(s!==i);Wi(a,t.memoizedState)||(Pr=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function qR(){}function KR(e,t){var n=cn,r=xi(),i=t(),a=!Wi(r.memoizedState,i);if(a&&(r.memoizedState=i,Pr=!0),r=r.queue,MS(QR.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||zn!==null&&zn.memoizedState.tag&1){if(n.flags|=2048,ih(9,XR.bind(null,n,r,i,t),void 0,null),Un===null)throw Error(Ae(349));qo&30||YR(n,t,i)}return i}function YR(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=cn.updateQueue,t===null?(t={lastEffect:null,stores:null},cn.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function XR(e,t,n,r){t.value=n,t.getSnapshot=r,ZR(t)&&JR(e)}function QR(e,t,n){return n(function(){ZR(t)&&JR(e)})}function ZR(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Wi(e,n)}catch{return!0}}function JR(e){var t=$a(e,1);t!==null&&$i(t,e,1,-1)}function x3(e){var t=ra();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:rh,lastRenderedState:e},t.queue=e,e=e.dispatch=l9.bind(null,cn,e),[t.memoizedState,e]}function ih(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=cn.updateQueue,t===null?(t={lastEffect:null,stores:null},cn.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function eD(){return xi().memoizedState}function am(e,t,n,r){var i=ra();cn.flags|=e,i.memoizedState=ih(1|t,n,void 0,r===void 0?null:r)}function Q0(e,t,n,r){var i=xi();r=r===void 0?null:r;var a=void 0;if(Rn!==null){var s=Rn.memoizedState;if(a=s.destroy,r!==null&&RS(r,s.deps)){i.memoizedState=ih(t,n,a,r);return}}cn.flags|=e,i.memoizedState=ih(1|t,n,a,r)}function k3(e,t){return am(8390656,8,e,t)}function MS(e,t){return Q0(2048,8,e,t)}function tD(e,t){return Q0(4,2,e,t)}function nD(e,t){return Q0(4,4,e,t)}function rD(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function iD(e,t,n){return n=n!=null?n.concat([e]):null,Q0(4,4,rD.bind(null,t,e),n)}function OS(){}function aD(e,t){var n=xi();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&RS(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function sD(e,t){var n=xi();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&RS(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function oD(e,t,n){return qo&21?(Wi(n,t)||(n=cR(),cn.lanes|=n,Ko|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Pr=!0),e.memoizedState=n)}function s9(e,t){var n=Ot;Ot=n!==0&&4>n?n:4,e(!0);var r=I1.transition;I1.transition={};try{e(!1),t()}finally{Ot=n,I1.transition=r}}function lD(){return xi().memoizedState}function o9(e,t,n){var r=Ls(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},uD(e))cD(t,n);else if(n=UR(e,t,n,r),n!==null){var i=gr();$i(n,e,r,i),dD(n,t,r)}}function l9(e,t,n){var r=Ls(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(uD(e))cD(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var s=t.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,Wi(o,s)){var l=t.interleaved;l===null?(i.next=i,TS(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=UR(e,t,i,r),n!==null&&(i=gr(),$i(n,e,r,i),dD(n,t,r))}}function uD(e){var t=e.alternate;return e===cn||t!==null&&t===cn}function cD(e,t){md=fg=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function dD(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,hS(e,n)}}var pg={readContext:bi,useCallback:nr,useContext:nr,useEffect:nr,useImperativeHandle:nr,useInsertionEffect:nr,useLayoutEffect:nr,useMemo:nr,useReducer:nr,useRef:nr,useState:nr,useDebugValue:nr,useDeferredValue:nr,useTransition:nr,useMutableSource:nr,useSyncExternalStore:nr,useId:nr,unstable_isNewReconciler:!1},u9={readContext:bi,useCallback:function(e,t){return ra().memoizedState=[e,t===void 0?null:t],e},useContext:bi,useEffect:k3,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,am(4194308,4,rD.bind(null,t,e),n)},useLayoutEffect:function(e,t){return am(4194308,4,e,t)},useInsertionEffect:function(e,t){return am(4,2,e,t)},useMemo:function(e,t){var n=ra();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ra();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=o9.bind(null,cn,e),[r.memoizedState,e]},useRef:function(e){var t=ra();return e={current:e},t.memoizedState=e},useState:x3,useDebugValue:OS,useDeferredValue:function(e){return ra().memoizedState=e},useTransition:function(){var e=x3(!1),t=e[0];return e=s9.bind(null,e[1]),ra().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=cn,i=ra();if(sn){if(n===void 0)throw Error(Ae(407));n=n()}else{if(n=t(),Un===null)throw Error(Ae(349));qo&30||YR(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,k3(QR.bind(null,r,a,e),[e]),r.flags|=2048,ih(9,XR.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=ra(),t=Un.identifierPrefix;if(sn){var n=Fa,r=La;n=(r&~(1<<32-ji(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=nh++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=a9++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},c9={readContext:bi,useCallback:aD,useContext:bi,useEffect:MS,useImperativeHandle:iD,useInsertionEffect:tD,useLayoutEffect:nD,useMemo:sD,useReducer:P1,useRef:eD,useState:function(){return P1(rh)},useDebugValue:OS,useDeferredValue:function(e){var t=xi();return oD(t,Rn.memoizedState,e)},useTransition:function(){var e=P1(rh)[0],t=xi().memoizedState;return[e,t]},useMutableSource:qR,useSyncExternalStore:KR,useId:lD,unstable_isNewReconciler:!1},d9={readContext:bi,useCallback:aD,useContext:bi,useEffect:MS,useImperativeHandle:iD,useInsertionEffect:tD,useLayoutEffect:nD,useMemo:sD,useReducer:A1,useRef:eD,useState:function(){return A1(rh)},useDebugValue:OS,useDeferredValue:function(e){var t=xi();return Rn===null?t.memoizedState=e:oD(t,Rn.memoizedState,e)},useTransition:function(){var e=A1(rh)[0],t=xi().memoizedState;return[e,t]},useMutableSource:qR,useSyncExternalStore:KR,useId:lD,unstable_isNewReconciler:!1};function Iu(e,t){try{var n="",r=t;do n+=zB(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function R1(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Hb(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var h9=typeof WeakMap=="function"?WeakMap:Map;function hD(e,t,n){n=Ba(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){gg||(gg=!0,n2=r),Hb(e,t)},n}function fD(e,t,n){n=Ba(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Hb(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Hb(e,t),typeof r!="function"&&(Os===null?Os=new Set([this]):Os.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function S3(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new h9;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=T9.bind(null,e,t,n),t.then(e,e))}function C3(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function E3(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Ba(-1,1),t.tag=2,Ms(n,t,1))),n.lanes|=1),e)}var f9=Ha.ReactCurrentOwner,Pr=!1;function pr(e,t,n,r){t.child=e===null?GR(t,null,n,r):Tu(t,e.child,n,r)}function T3(e,t,n,r,i){n=n.render;var a=t.ref;return du(t,i),r=DS(e,t,n,r,a,i),n=NS(),e!==null&&!Pr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Va(e,t,i)):(sn&&n&&bS(t),t.flags|=1,pr(e,t,r,i),t.child)}function _3(e,t,n,r,i){if(e===null){var a=n.type;return typeof a=="function"&&!VS(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,pD(e,t,a,r,i)):(e=um(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:Xd,n(s,r)&&e.ref===t.ref)return Va(e,t,i)}return t.flags|=1,e=Fs(a,r),e.ref=t.ref,e.return=t,t.child=e}function pD(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(Xd(a,r)&&e.ref===t.ref)if(Pr=!1,t.pendingProps=r=a,(e.lanes&i)!==0)e.flags&131072&&(Pr=!0);else return t.lanes=e.lanes,Va(e,t,i)}return qb(e,t,n,r,i)}function mD(e,t,n){var r=t.pendingProps,i=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},qt(Ql,Ur),Ur|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,qt(Ql,Ur),Ur|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,qt(Ql,Ur),Ur|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,qt(Ql,Ur),Ur|=r;return pr(e,t,i,n),t.child}function gD(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function qb(e,t,n,r,i){var a=Dr(n)?Go:cr.current;return a=Cu(t,a),du(t,i),n=DS(e,t,n,r,a,i),r=NS(),e!==null&&!Pr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Va(e,t,i)):(sn&&r&&bS(t),t.flags|=1,pr(e,t,n,i),t.child)}function I3(e,t,n,r,i){if(Dr(n)){var a=!0;sg(t)}else a=!1;if(du(t,i),t.stateNode===null)sm(e,t),VR(t,n,r),Gb(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=bi(u):(u=Dr(n)?Go:cr.current,u=Cu(t,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==r||l!==u)&&w3(t,s,r,u),ys=!1;var p=t.memoizedState;s.state=p,dg(t,r,s,i),l=t.memoizedState,o!==r||p!==l||Rr.current||ys?(typeof c=="function"&&(Wb(t,n,c,r),l=t.memoizedState),(o=ys||v3(t,n,o,r,p,l,u))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=u,r=o):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,jR(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:Mi(t.type,o),s.props=u,h=t.pendingProps,p=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=bi(l):(l=Dr(n)?Go:cr.current,l=Cu(t,l));var m=n.getDerivedStateFromProps;(c=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==h||p!==l)&&w3(t,s,r,l),ys=!1,p=t.memoizedState,s.state=p,dg(t,r,s,i);var g=t.memoizedState;o!==h||p!==g||Rr.current||ys?(typeof m=="function"&&(Wb(t,n,m,r),g=t.memoizedState),(u=ys||v3(t,n,u,r,p,g,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,g,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,g,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),s.props=r,s.state=g,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return Kb(e,t,n,r,a,i)}function Kb(e,t,n,r,i,a){gD(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&f3(t,n,!1),Va(e,t,a);r=t.stateNode,f9.current=t;var o=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=Tu(t,e.child,null,a),t.child=Tu(t,null,o,a)):pr(e,t,o,a),t.memoizedState=r.state,i&&f3(t,n,!0),t.child}function yD(e){var t=e.stateNode;t.pendingContext?h3(e,t.pendingContext,t.pendingContext!==t.context):t.context&&h3(e,t.context,!1),IS(e,t.containerInfo)}function P3(e,t,n,r,i){return Eu(),kS(i),t.flags|=256,pr(e,t,n,r),t.child}var Yb={dehydrated:null,treeContext:null,retryLane:0};function Xb(e){return{baseLanes:e,cachePool:null,transitions:null}}function vD(e,t,n){var r=t.pendingProps,i=un.current,a=!1,s=(t.flags&128)!==0,o;if((o=s)||(o=e!==null&&e.memoizedState===null?!1:(i&2)!==0),o?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),qt(un,i&1),e===null)return $b(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,a?(r=t.mode,a=t.child,s={mode:"hidden",children:s},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=ey(s,r,0,null),e=Mo(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Xb(n),t.memoizedState=Yb,e):LS(t,s));if(i=e.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return p9(e,t,s,r,o,i,n);if(a){a=r.fallback,s=t.mode,i=e.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Fs(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=Fs(o,a):(a=Mo(a,s,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,s=e.child.memoizedState,s=s===null?Xb(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=e.childLanes&~n,t.memoizedState=Yb,r}return a=e.child,e=a.sibling,r=Fs(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function LS(e,t){return t=ey({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function cp(e,t,n,r){return r!==null&&kS(r),Tu(t,e.child,null,n),e=LS(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function p9(e,t,n,r,i,a,s){if(n)return t.flags&256?(t.flags&=-257,r=R1(Error(Ae(422))),cp(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=ey({mode:"visible",children:r.children},i,0,null),a=Mo(a,i,s,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&Tu(t,e.child,null,s),t.child.memoizedState=Xb(s),t.memoizedState=Yb,a);if(!(t.mode&1))return cp(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,a=Error(Ae(419)),r=R1(a,r,void 0),cp(e,t,s,r)}if(o=(s&e.childLanes)!==0,Pr||o){if(r=Un,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,$a(e,i),$i(r,e,i,-1))}return $S(),r=R1(Error(Ae(421))),cp(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=_9.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,Vr=Ns(i.nextSibling),Gr=t,sn=!0,Li=null,e!==null&&(pi[mi++]=La,pi[mi++]=Fa,pi[mi++]=Ho,La=e.id,Fa=e.overflow,Ho=t),t=LS(t,r.children),t.flags|=4096,t)}function A3(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Vb(e.return,t,n)}function D1(e,t,n,r,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function wD(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(pr(e,t,r.children,n),r=un.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&A3(e,n,t);else if(e.tag===19)A3(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(qt(un,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&hg(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),D1(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&hg(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}D1(t,!0,n,null,a);break;case"together":D1(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function sm(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Va(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ko|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ae(153));if(t.child!==null){for(e=t.child,n=Fs(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Fs(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function m9(e,t,n){switch(t.tag){case 3:yD(t),Eu();break;case 5:HR(t);break;case 1:Dr(t.type)&&sg(t);break;case 4:IS(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;qt(ug,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(qt(un,un.current&1),t.flags|=128,null):n&t.child.childLanes?vD(e,t,n):(qt(un,un.current&1),e=Va(e,t,n),e!==null?e.sibling:null);qt(un,un.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return wD(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),qt(un,un.current),r)break;return null;case 22:case 23:return t.lanes=0,mD(e,t,n)}return Va(e,t,n)}var bD,Qb,xD,kD;bD=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Qb=function(){};xD=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Io(fa.current);var a=null;switch(n){case"input":i=wb(e,i),r=wb(e,r),a=[];break;case"select":i=dn({},i,{value:void 0}),r=dn({},r,{value:void 0}),a=[];break;case"textarea":i=kb(e,i),r=kb(e,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ig)}Cb(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(s in o)o.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Vd.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var l=r[u];if(o=i?.[u],r.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(a||(a=[]),a.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Vd.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Zt("scroll",e),a||o===l||(a=[])):(a=a||[]).push(u,l))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};kD=function(e,t,n,r){n!==r&&(t.flags|=4)};function Nc(e,t){if(!sn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function rr(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function g9(e,t,n){var r=t.pendingProps;switch(xS(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rr(t),null;case 1:return Dr(t.type)&&ag(),rr(t),null;case 3:return r=t.stateNode,_u(),en(Rr),en(cr),AS(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(lp(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Li!==null&&(a2(Li),Li=null))),Qb(e,t),rr(t),null;case 5:PS(t);var i=Io(th.current);if(n=t.type,e!==null&&t.stateNode!=null)xD(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Ae(166));return rr(t),null}if(e=Io(fa.current),lp(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[ua]=t,r[Jd]=a,e=(t.mode&1)!==0,n){case"dialog":Zt("cancel",r),Zt("close",r);break;case"iframe":case"object":case"embed":Zt("load",r);break;case"video":case"audio":for(i=0;i<td.length;i++)Zt(td[i],r);break;case"source":Zt("error",r);break;case"img":case"image":case"link":Zt("error",r),Zt("load",r);break;case"details":Zt("toggle",r);break;case"input":z_(r,a),Zt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Zt("invalid",r);break;case"textarea":j_(r,a),Zt("invalid",r)}Cb(n,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?r.textContent!==o&&(a.suppressHydrationWarning!==!0&&op(r.textContent,o,e),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&op(r.textContent,o,e),i=["children",""+o]):Vd.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&Zt("scroll",r)}switch(n){case"input":Jf(r),U_(r,a,!0);break;case"textarea":Jf(r),$_(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=ig)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=YA(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[ua]=t,e[Jd]=r,bD(e,t,!1,!1),t.stateNode=e;e:{switch(s=Eb(n,r),n){case"dialog":Zt("cancel",e),Zt("close",e),i=r;break;case"iframe":case"object":case"embed":Zt("load",e),i=r;break;case"video":case"audio":for(i=0;i<td.length;i++)Zt(td[i],e);i=r;break;case"source":Zt("error",e),i=r;break;case"img":case"image":case"link":Zt("error",e),Zt("load",e),i=r;break;case"details":Zt("toggle",e),i=r;break;case"input":z_(e,r),i=wb(e,r),Zt("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=dn({},r,{value:void 0}),Zt("invalid",e);break;case"textarea":j_(e,r),i=kb(e,r),Zt("invalid",e);break;default:i=r}Cb(n,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?ZA(e,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&XA(e,l)):a==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Wd(e,l):typeof l=="number"&&Wd(e,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Vd.hasOwnProperty(a)?l!=null&&a==="onScroll"&&Zt("scroll",e):l!=null&&sS(e,a,l,s))}switch(n){case"input":Jf(e),U_(e,r,!1);break;case"textarea":Jf(e),$_(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Us(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?ou(e,!!r.multiple,a,!1):r.defaultValue!=null&&ou(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=ig)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return rr(t),null;case 6:if(e&&t.stateNode!=null)kD(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Ae(166));if(n=Io(th.current),Io(fa.current),lp(t)){if(r=t.stateNode,n=t.memoizedProps,r[ua]=t,(a=r.nodeValue!==n)&&(e=Gr,e!==null))switch(e.tag){case 3:op(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&op(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ua]=t,t.stateNode=r}return rr(t),null;case 13:if(en(un),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(sn&&Vr!==null&&t.mode&1&&!(t.flags&128))zR(),Eu(),t.flags|=98560,a=!1;else if(a=lp(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(Ae(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Ae(317));a[ua]=t}else Eu(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;rr(t),a=!1}else Li!==null&&(a2(Li),Li=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||un.current&1?Dn===0&&(Dn=3):$S())),t.updateQueue!==null&&(t.flags|=4),rr(t),null);case 4:return _u(),Qb(e,t),e===null&&Qd(t.stateNode.containerInfo),rr(t),null;case 10:return ES(t.type._context),rr(t),null;case 17:return Dr(t.type)&&ag(),rr(t),null;case 19:if(en(un),a=t.memoizedState,a===null)return rr(t),null;if(r=(t.flags&128)!==0,s=a.rendering,s===null)if(r)Nc(a,!1);else{if(Dn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=hg(e),s!==null){for(t.flags|=128,Nc(a,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,e=s.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return qt(un,un.current&1|2),t.child}e=e.sibling}a.tail!==null&&xn()>Pu&&(t.flags|=128,r=!0,Nc(a,!1),t.lanes=4194304)}else{if(!r)if(e=hg(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Nc(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!sn)return rr(t),null}else 2*xn()-a.renderingStartTime>Pu&&n!==1073741824&&(t.flags|=128,r=!0,Nc(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(n=a.last,n!==null?n.sibling=s:t.child=s,a.last=s)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=xn(),t.sibling=null,n=un.current,qt(un,r?n&1|2:n&1),t):(rr(t),null);case 22:case 23:return jS(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ur&1073741824&&(rr(t),t.subtreeFlags&6&&(t.flags|=8192)):rr(t),null;case 24:return null;case 25:return null}throw Error(Ae(156,t.tag))}function y9(e,t){switch(xS(t),t.tag){case 1:return Dr(t.type)&&ag(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return _u(),en(Rr),en(cr),AS(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return PS(t),null;case 13:if(en(un),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ae(340));Eu()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return en(un),null;case 4:return _u(),null;case 10:return ES(t.type._context),null;case 22:case 23:return jS(),null;case 24:return null;default:return null}}var dp=!1,sr=!1,v9=typeof WeakSet=="function"?WeakSet:Set,We=null;function Xl(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){pn(e,t,r)}else n.current=null}function Zb(e,t,n){try{n()}catch(r){pn(e,t,r)}}var R3=!1;function w9(e,t){if(Ob=tg,e=TR(),wS(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var s=0,o=-1,l=-1,u=0,c=0,h=e,p=null;t:for(;;){for(var m;h!==n||i!==0&&h.nodeType!==3||(o=s+i),h!==a||r!==0&&h.nodeType!==3||(l=s+r),h.nodeType===3&&(s+=h.nodeValue.length),(m=h.firstChild)!==null;)p=h,h=m;for(;;){if(h===e)break t;if(p===n&&++u===i&&(o=s),p===a&&++c===r&&(l=s),(m=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=m}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Lb={focusedElem:e,selectionRange:n},tg=!1,We=t;We!==null;)if(t=We,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,We=e;else for(;We!==null;){t=We;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,b=g.memoizedState,w=t.stateNode,x=w.getSnapshotBeforeUpdate(t.elementType===t.type?y:Mi(t.type,y),b);w.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var k=t.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ae(163))}}catch(_){pn(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,We=e;break}We=t.return}return g=R3,R3=!1,g}function gd(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&Zb(t,n,a)}i=i.next}while(i!==r)}}function Z0(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Jb(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function SD(e){var t=e.alternate;t!==null&&(e.alternate=null,SD(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ua],delete t[Jd],delete t[zb],delete t[t9],delete t[n9])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function CD(e){return e.tag===5||e.tag===3||e.tag===4}function D3(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||CD(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function e2(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ig));else if(r!==4&&(e=e.child,e!==null))for(e2(e,t,n),e=e.sibling;e!==null;)e2(e,t,n),e=e.sibling}function t2(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(t2(e,t,n),e=e.sibling;e!==null;)t2(e,t,n),e=e.sibling}var Hn=null,Oi=!1;function os(e,t,n){for(n=n.child;n!==null;)ED(e,t,n),n=n.sibling}function ED(e,t,n){if(ha&&typeof ha.onCommitFiberUnmount=="function")try{ha.onCommitFiberUnmount(W0,n)}catch{}switch(n.tag){case 5:sr||Xl(n,t);case 6:var r=Hn,i=Oi;Hn=null,os(e,t,n),Hn=r,Oi=i,Hn!==null&&(Oi?(e=Hn,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Hn.removeChild(n.stateNode));break;case 18:Hn!==null&&(Oi?(e=Hn,n=n.stateNode,e.nodeType===8?E1(e.parentNode,n):e.nodeType===1&&E1(e,n),Kd(e)):E1(Hn,n.stateNode));break;case 4:r=Hn,i=Oi,Hn=n.stateNode.containerInfo,Oi=!0,os(e,t,n),Hn=r,Oi=i;break;case 0:case 11:case 14:case 15:if(!sr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&Zb(n,t,s),i=i.next}while(i!==r)}os(e,t,n);break;case 1:if(!sr&&(Xl(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){pn(n,t,o)}os(e,t,n);break;case 21:os(e,t,n);break;case 22:n.mode&1?(sr=(r=sr)||n.memoizedState!==null,os(e,t,n),sr=r):os(e,t,n);break;default:os(e,t,n)}}function N3(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new v9),t.forEach(function(r){var i=I9.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ri(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,o=s;e:for(;o!==null;){switch(o.tag){case 5:Hn=o.stateNode,Oi=!1;break e;case 3:Hn=o.stateNode.containerInfo,Oi=!0;break e;case 4:Hn=o.stateNode.containerInfo,Oi=!0;break e}o=o.return}if(Hn===null)throw Error(Ae(160));ED(a,s,i),Hn=null,Oi=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){pn(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)TD(t,e),t=t.sibling}function TD(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ri(t,e),ta(e),r&4){try{gd(3,e,e.return),Z0(3,e)}catch(y){pn(e,e.return,y)}try{gd(5,e,e.return)}catch(y){pn(e,e.return,y)}}break;case 1:Ri(t,e),ta(e),r&512&&n!==null&&Xl(n,n.return);break;case 5:if(Ri(t,e),ta(e),r&512&&n!==null&&Xl(n,n.return),e.flags&32){var i=e.stateNode;try{Wd(i,"")}catch(y){pn(e,e.return,y)}}if(r&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,s=n!==null?n.memoizedProps:a,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&qA(i,a),Eb(o,s);var u=Eb(o,a);for(s=0;s<l.length;s+=2){var c=l[s],h=l[s+1];c==="style"?ZA(i,h):c==="dangerouslySetInnerHTML"?XA(i,h):c==="children"?Wd(i,h):sS(i,c,h,u)}switch(o){case"input":bb(i,a);break;case"textarea":KA(i,a);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var m=a.value;m!=null?ou(i,!!a.multiple,m,!1):p!==!!a.multiple&&(a.defaultValue!=null?ou(i,!!a.multiple,a.defaultValue,!0):ou(i,!!a.multiple,a.multiple?[]:"",!1))}i[Jd]=a}catch(y){pn(e,e.return,y)}}break;case 6:if(Ri(t,e),ta(e),r&4){if(e.stateNode===null)throw Error(Ae(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(y){pn(e,e.return,y)}}break;case 3:if(Ri(t,e),ta(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Kd(t.containerInfo)}catch(y){pn(e,e.return,y)}break;case 4:Ri(t,e),ta(e);break;case 13:Ri(t,e),ta(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(zS=xn())),r&4&&N3(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(sr=(u=sr)||c,Ri(t,e),sr=u):Ri(t,e),ta(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(We=e,c=e.child;c!==null;){for(h=We=c;We!==null;){switch(p=We,m=p.child,p.tag){case 0:case 11:case 14:case 15:gd(4,p,p.return);break;case 1:Xl(p,p.return);var g=p.stateNode;if(typeof g.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(y){pn(r,n,y)}}break;case 5:Xl(p,p.return);break;case 22:if(p.memoizedState!==null){O3(h);continue}}m!==null?(m.return=p,We=m):O3(h)}c=c.sibling}e:for(c=null,h=e;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=h.stateNode,l=h.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=QA("display",s))}catch(y){pn(e,e.return,y)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(y){pn(e,e.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ri(t,e),ta(e),r&4&&N3(e);break;case 21:break;default:Ri(t,e),ta(e)}}function ta(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(CD(n)){var r=n;break e}n=n.return}throw Error(Ae(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Wd(i,""),r.flags&=-33);var a=D3(e);t2(e,a,i);break;case 3:case 4:var s=r.stateNode.containerInfo,o=D3(e);e2(e,o,s);break;default:throw Error(Ae(161))}}catch(l){pn(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function b9(e,t,n){We=e,_D(e)}function _D(e,t,n){for(var r=(e.mode&1)!==0;We!==null;){var i=We,a=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||dp;if(!s){var o=i.alternate,l=o!==null&&o.memoizedState!==null||sr;o=dp;var u=sr;if(dp=s,(sr=l)&&!u)for(We=i;We!==null;)s=We,l=s.child,s.tag===22&&s.memoizedState!==null?L3(i):l!==null?(l.return=s,We=l):L3(i);for(;a!==null;)We=a,_D(a),a=a.sibling;We=i,dp=o,sr=u}M3(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,We=a):M3(e)}}function M3(e){for(;We!==null;){var t=We;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:sr||Z0(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!sr)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Mi(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&y3(t,a,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}y3(t,s,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&Kd(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ae(163))}sr||t.flags&512&&Jb(t)}catch(p){pn(t,t.return,p)}}if(t===e){We=null;break}if(n=t.sibling,n!==null){n.return=t.return,We=n;break}We=t.return}}function O3(e){for(;We!==null;){var t=We;if(t===e){We=null;break}var n=t.sibling;if(n!==null){n.return=t.return,We=n;break}We=t.return}}function L3(e){for(;We!==null;){var t=We;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Z0(4,t)}catch(l){pn(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){pn(t,i,l)}}var a=t.return;try{Jb(t)}catch(l){pn(t,a,l)}break;case 5:var s=t.return;try{Jb(t)}catch(l){pn(t,s,l)}}}catch(l){pn(t,t.return,l)}if(t===e){We=null;break}var o=t.sibling;if(o!==null){o.return=t.return,We=o;break}We=t.return}}var x9=Math.ceil,mg=Ha.ReactCurrentDispatcher,FS=Ha.ReactCurrentOwner,wi=Ha.ReactCurrentBatchConfig,Ct=0,Un=null,Tn=null,Yn=0,Ur=0,Ql=Gs(0),Dn=0,ah=null,Ko=0,J0=0,BS=0,yd=null,Ir=null,zS=0,Pu=1/0,Da=null,gg=!1,n2=null,Os=null,hp=!1,_s=null,yg=0,vd=0,r2=null,om=-1,lm=0;function gr(){return Ct&6?xn():om!==-1?om:om=xn()}function Ls(e){return e.mode&1?Ct&2&&Yn!==0?Yn&-Yn:i9.transition!==null?(lm===0&&(lm=cR()),lm):(e=Ot,e!==0||(e=window.event,e=e===void 0?16:yR(e.type)),e):1}function $i(e,t,n,r){if(50<vd)throw vd=0,r2=null,Error(Ae(185));Mh(e,n,r),(!(Ct&2)||e!==Un)&&(e===Un&&(!(Ct&2)&&(J0|=n),Dn===4&&Ss(e,Yn)),Nr(e,r),n===1&&Ct===0&&!(t.mode&1)&&(Pu=xn()+500,Y0&&Hs()))}function Nr(e,t){var n=e.callbackNode;iz(e,t);var r=eg(e,e===Un?Yn:0);if(r===0)n!==null&&G_(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&G_(n),t===1)e.tag===0?r9(F3.bind(null,e)):LR(F3.bind(null,e)),Jz(function(){!(Ct&6)&&Hs()}),n=null;else{switch(dR(r)){case 1:n=dS;break;case 4:n=lR;break;case 16:n=Jm;break;case 536870912:n=uR;break;default:n=Jm}n=LD(n,PD.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function PD(e,t){if(om=-1,lm=0,Ct&6)throw Error(Ae(327));var n=e.callbackNode;if(hu()&&e.callbackNode!==n)return null;var r=eg(e,e===Un?Yn:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=vg(e,r);else{t=r;var i=Ct;Ct|=2;var a=RD();(Un!==e||Yn!==t)&&(Da=null,Pu=xn()+500,No(e,t));do try{C9();break}catch(o){AD(e,o)}while(1);CS(),mg.current=a,Ct=i,Tn!==null?t=0:(Un=null,Yn=0,t=Dn)}if(t!==0){if(t===2&&(i=Ab(e),i!==0&&(r=i,t=i2(e,i))),t===1)throw n=ah,No(e,0),Ss(e,r),Nr(e,xn()),n;if(t===6)Ss(e,r);else{if(i=e.current.alternate,!(r&30)&&!k9(i)&&(t=vg(e,r),t===2&&(a=Ab(e),a!==0&&(r=a,t=i2(e,a))),t===1))throw n=ah,No(e,0),Ss(e,r),Nr(e,xn()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(Ae(345));case 2:vo(e,Ir,Da);break;case 3:if(Ss(e,r),(r&130023424)===r&&(t=zS+500-xn(),10<t)){if(eg(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){gr(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Bb(vo.bind(null,e,Ir,Da),t);break}vo(e,Ir,Da);break;case 4:if(Ss(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ji(r);a=1<<s,s=t[s],s>i&&(i=s),r&=~a}if(r=i,r=xn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*x9(r/1960))-r,10<r){e.timeoutHandle=Bb(vo.bind(null,e,Ir,Da),r);break}vo(e,Ir,Da);break;case 5:vo(e,Ir,Da);break;default:throw Error(Ae(329))}}}return Nr(e,xn()),e.callbackNode===n?PD.bind(null,e):null}function i2(e,t){var n=yd;return e.current.memoizedState.isDehydrated&&(No(e,t).flags|=256),e=vg(e,t),e!==2&&(t=Ir,Ir=n,t!==null&&a2(t)),e}function a2(e){Ir===null?Ir=e:Ir.push.apply(Ir,e)}function k9(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Wi(a(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ss(e,t){for(t&=~BS,t&=~J0,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ji(t),r=1<<n;e[n]=-1,t&=~r}}function F3(e){if(Ct&6)throw Error(Ae(327));hu();var t=eg(e,0);if(!(t&1))return Nr(e,xn()),null;var n=vg(e,t);if(e.tag!==0&&n===2){var r=Ab(e);r!==0&&(t=r,n=i2(e,r))}if(n===1)throw n=ah,No(e,0),Ss(e,t),Nr(e,xn()),n;if(n===6)throw Error(Ae(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,vo(e,Ir,Da),Nr(e,xn()),null}function US(e,t){var n=Ct;Ct|=1;try{return e(t)}finally{Ct=n,Ct===0&&(Pu=xn()+500,Y0&&Hs())}}function Yo(e){_s!==null&&_s.tag===0&&!(Ct&6)&&hu();var t=Ct;Ct|=1;var n=wi.transition,r=Ot;try{if(wi.transition=null,Ot=1,e)return e()}finally{Ot=r,wi.transition=n,Ct=t,!(Ct&6)&&Hs()}}function jS(){Ur=Ql.current,en(Ql)}function No(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Zz(n)),Tn!==null)for(n=Tn.return;n!==null;){var r=n;switch(xS(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ag();break;case 3:_u(),en(Rr),en(cr),AS();break;case 5:PS(r);break;case 4:_u();break;case 13:en(un);break;case 19:en(un);break;case 10:ES(r.type._context);break;case 22:case 23:jS()}n=n.return}if(Un=e,Tn=e=Fs(e.current,null),Yn=Ur=t,Dn=0,ah=null,BS=J0=Ko=0,Ir=yd=null,_o!==null){for(t=0;t<_o.length;t++)if(n=_o[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var s=a.next;a.next=i,r.next=s}n.pending=r}_o=null}return e}function AD(e,t){do{var n=Tn;try{if(CS(),im.current=pg,fg){for(var r=cn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}fg=!1}if(qo=0,zn=Rn=cn=null,md=!1,nh=0,FS.current=null,n===null||n.return===null){Dn=1,ah=t,Tn=null;break}e:{var a=e,s=n.return,o=n,l=t;if(t=Yn,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=o,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var p=c.alternate;p?(c.updateQueue=p.updateQueue,c.memoizedState=p.memoizedState,c.lanes=p.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=C3(s);if(m!==null){m.flags&=-257,E3(m,s,o,a,t),m.mode&1&&S3(a,u,t),t=m,l=u;var g=t.updateQueue;if(g===null){var y=new Set;y.add(l),t.updateQueue=y}else g.add(l);break e}else{if(!(t&1)){S3(a,u,t),$S();break e}l=Error(Ae(426))}}else if(sn&&o.mode&1){var b=C3(s);if(b!==null){!(b.flags&65536)&&(b.flags|=256),E3(b,s,o,a,t),kS(Iu(l,o));break e}}a=l=Iu(l,o),Dn!==4&&(Dn=2),yd===null?yd=[a]:yd.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var w=hD(a,l,t);g3(a,w);break e;case 1:o=l;var x=a.type,k=a.stateNode;if(!(a.flags&128)&&(typeof x.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(Os===null||!Os.has(k)))){a.flags|=65536,t&=-t,a.lanes|=t;var _=fD(a,o,t);g3(a,_);break e}}a=a.return}while(a!==null)}ND(n)}catch(A){t=A,Tn===n&&n!==null&&(Tn=n=n.return);continue}break}while(1)}function RD(){var e=mg.current;return mg.current=pg,e===null?pg:e}function $S(){(Dn===0||Dn===3||Dn===2)&&(Dn=4),Un===null||!(Ko&268435455)&&!(J0&268435455)||Ss(Un,Yn)}function vg(e,t){var n=Ct;Ct|=2;var r=RD();(Un!==e||Yn!==t)&&(Da=null,No(e,t));do try{S9();break}catch(i){AD(e,i)}while(1);if(CS(),Ct=n,mg.current=r,Tn!==null)throw Error(Ae(261));return Un=null,Yn=0,Dn}function S9(){for(;Tn!==null;)DD(Tn)}function C9(){for(;Tn!==null&&!YB();)DD(Tn)}function DD(e){var t=OD(e.alternate,e,Ur);e.memoizedProps=e.pendingProps,t===null?ND(e):Tn=t,FS.current=null}function ND(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=y9(n,t),n!==null){n.flags&=32767,Tn=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Dn=6,Tn=null;return}}else if(n=g9(n,t,Ur),n!==null){Tn=n;return}if(t=t.sibling,t!==null){Tn=t;return}Tn=t=e}while(t!==null);Dn===0&&(Dn=5)}function vo(e,t,n){var r=Ot,i=wi.transition;try{wi.transition=null,Ot=1,E9(e,t,n,r)}finally{wi.transition=i,Ot=r}return null}function E9(e,t,n,r){do hu();while(_s!==null);if(Ct&6)throw Error(Ae(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Ae(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(az(e,a),e===Un&&(Tn=Un=null,Yn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||hp||(hp=!0,LD(Jm,function(){return hu(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=wi.transition,wi.transition=null;var s=Ot;Ot=1;var o=Ct;Ct|=4,FS.current=null,w9(e,n),TD(n,e),Gz(Lb),tg=!!Ob,Lb=Ob=null,e.current=n,b9(n),XB(),Ct=o,Ot=s,wi.transition=a}else e.current=n;if(hp&&(hp=!1,_s=e,yg=i),a=e.pendingLanes,a===0&&(Os=null),JB(n.stateNode),Nr(e,xn()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(gg)throw gg=!1,e=n2,n2=null,e;return yg&1&&e.tag!==0&&hu(),a=e.pendingLanes,a&1?e===r2?vd++:(vd=0,r2=e):vd=0,Hs(),null}function hu(){if(_s!==null){var e=dR(yg),t=wi.transition,n=Ot;try{if(wi.transition=null,Ot=16>e?16:e,_s===null)var r=!1;else{if(e=_s,_s=null,yg=0,Ct&6)throw Error(Ae(331));var i=Ct;for(Ct|=4,We=e.current;We!==null;){var a=We,s=a.child;if(We.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(We=u;We!==null;){var c=We;switch(c.tag){case 0:case 11:case 15:gd(8,c,a)}var h=c.child;if(h!==null)h.return=c,We=h;else for(;We!==null;){c=We;var p=c.sibling,m=c.return;if(SD(c),c===u){We=null;break}if(p!==null){p.return=m,We=p;break}We=m}}}var g=a.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}We=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,We=s;else e:for(;We!==null;){if(a=We,a.flags&2048)switch(a.tag){case 0:case 11:case 15:gd(9,a,a.return)}var w=a.sibling;if(w!==null){w.return=a.return,We=w;break e}We=a.return}}var x=e.current;for(We=x;We!==null;){s=We;var k=s.child;if(s.subtreeFlags&2064&&k!==null)k.return=s,We=k;else e:for(s=x;We!==null;){if(o=We,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Z0(9,o)}}catch(A){pn(o,o.return,A)}if(o===s){We=null;break e}var _=o.sibling;if(_!==null){_.return=o.return,We=_;break e}We=o.return}}if(Ct=i,Hs(),ha&&typeof ha.onPostCommitFiberRoot=="function")try{ha.onPostCommitFiberRoot(W0,e)}catch{}r=!0}return r}finally{Ot=n,wi.transition=t}}return!1}function B3(e,t,n){t=Iu(n,t),t=hD(e,t,1),e=Ms(e,t,1),t=gr(),e!==null&&(Mh(e,1,t),Nr(e,t))}function pn(e,t,n){if(e.tag===3)B3(e,e,n);else for(;t!==null;){if(t.tag===3){B3(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Os===null||!Os.has(r))){e=Iu(n,e),e=fD(t,e,1),t=Ms(t,e,1),e=gr(),t!==null&&(Mh(t,1,e),Nr(t,e));break}}t=t.return}}function T9(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=gr(),e.pingedLanes|=e.suspendedLanes&n,Un===e&&(Yn&n)===n&&(Dn===4||Dn===3&&(Yn&130023424)===Yn&&500>xn()-zS?No(e,0):BS|=n),Nr(e,t)}function MD(e,t){t===0&&(e.mode&1?(t=np,np<<=1,!(np&130023424)&&(np=4194304)):t=1);var n=gr();e=$a(e,t),e!==null&&(Mh(e,t,n),Nr(e,n))}function _9(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),MD(e,n)}function I9(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Ae(314))}r!==null&&r.delete(t),MD(e,n)}var OD;OD=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Rr.current)Pr=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Pr=!1,m9(e,t,n);Pr=!!(e.flags&131072)}else Pr=!1,sn&&t.flags&1048576&&FR(t,lg,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;sm(e,t),e=t.pendingProps;var i=Cu(t,cr.current);du(t,n),i=DS(null,t,r,e,i,n);var a=NS();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Dr(r)?(a=!0,sg(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,_S(t),i.updater=X0,t.stateNode=i,i._reactInternals=t,Gb(t,r,e,n),t=Kb(null,t,r,!0,a,n)):(t.tag=0,sn&&a&&bS(t),pr(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(sm(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=A9(r),e=Mi(r,e),i){case 0:t=qb(null,t,r,e,n);break e;case 1:t=I3(null,t,r,e,n);break e;case 11:t=T3(null,t,r,e,n);break e;case 14:t=_3(null,t,r,Mi(r.type,e),n);break e}throw Error(Ae(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Mi(r,i),qb(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Mi(r,i),I3(e,t,r,i,n);case 3:e:{if(yD(t),e===null)throw Error(Ae(387));r=t.pendingProps,a=t.memoizedState,i=a.element,jR(e,t),dg(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=Iu(Error(Ae(423)),t),t=P3(e,t,r,n,i);break e}else if(r!==i){i=Iu(Error(Ae(424)),t),t=P3(e,t,r,n,i);break e}else for(Vr=Ns(t.stateNode.containerInfo.firstChild),Gr=t,sn=!0,Li=null,n=GR(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Eu(),r===i){t=Va(e,t,n);break e}pr(e,t,r,n)}t=t.child}return t;case 5:return HR(t),e===null&&$b(t),r=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,s=i.children,Fb(r,i)?s=null:a!==null&&Fb(r,a)&&(t.flags|=32),gD(e,t),pr(e,t,s,n),t.child;case 6:return e===null&&$b(t),null;case 13:return vD(e,t,n);case 4:return IS(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Tu(t,null,r,n):pr(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Mi(r,i),T3(e,t,r,i,n);case 7:return pr(e,t,t.pendingProps,n),t.child;case 8:return pr(e,t,t.pendingProps.children,n),t.child;case 12:return pr(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,qt(ug,r._currentValue),r._currentValue=s,a!==null)if(Wi(a.value,s)){if(a.children===i.children&&!Rr.current){t=Va(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(a.tag===1){l=Ba(-1,n&-n),l.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),Vb(a.return,n,t),o.lanes|=n;break}l=l.next}}else if(a.tag===10)s=a.type===t.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(Ae(341));s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),Vb(s,n,t),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===t){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}pr(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,du(t,n),i=bi(i),r=r(i),t.flags|=1,pr(e,t,r,n),t.child;case 14:return r=t.type,i=Mi(r,t.pendingProps),i=Mi(r.type,i),_3(e,t,r,i,n);case 15:return pD(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Mi(r,i),sm(e,t),t.tag=1,Dr(r)?(e=!0,sg(t)):e=!1,du(t,n),VR(t,r,i),Gb(t,r,i,n),Kb(null,t,r,!0,e,n);case 19:return wD(e,t,n);case 22:return mD(e,t,n)}throw Error(Ae(156,t.tag))};function LD(e,t){return oR(e,t)}function P9(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vi(e,t,n,r){return new P9(e,t,n,r)}function VS(e){return e=e.prototype,!(!e||!e.isReactComponent)}function A9(e){if(typeof e=="function")return VS(e)?1:0;if(e!=null){if(e=e.$$typeof,e===lS)return 11;if(e===uS)return 14}return 2}function Fs(e,t){var n=e.alternate;return n===null?(n=vi(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function um(e,t,n,r,i,a){var s=2;if(r=e,typeof e=="function")VS(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case jl:return Mo(n.children,i,a,t);case oS:s=8,i|=8;break;case mb:return e=vi(12,n,t,i|2),e.elementType=mb,e.lanes=a,e;case gb:return e=vi(13,n,t,i),e.elementType=gb,e.lanes=a,e;case yb:return e=vi(19,n,t,i),e.elementType=yb,e.lanes=a,e;case WA:return ey(n,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case $A:s=10;break e;case VA:s=9;break e;case lS:s=11;break e;case uS:s=14;break e;case gs:s=16,r=null;break e}throw Error(Ae(130,e==null?e:typeof e,""))}return t=vi(s,n,t,i),t.elementType=e,t.type=r,t.lanes=a,t}function Mo(e,t,n,r){return e=vi(7,e,r,t),e.lanes=n,e}function ey(e,t,n,r){return e=vi(22,e,r,t),e.elementType=WA,e.lanes=n,e.stateNode={isHidden:!1},e}function N1(e,t,n){return e=vi(6,e,null,t),e.lanes=n,e}function M1(e,t,n){return t=vi(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function R9(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=p1(0),this.expirationTimes=p1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=p1(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function WS(e,t,n,r,i,a,s,o,l){return e=new R9(e,t,n,o,l),t===1?(t=1,a===!0&&(t|=8)):t=0,a=vi(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},_S(a),e}function D9(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ul,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function FD(e){if(!e)return js;e=e._reactInternals;e:{if(el(e)!==e||e.tag!==1)throw Error(Ae(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Dr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ae(171))}if(e.tag===1){var n=e.type;if(Dr(n))return OR(e,n,t)}return t}function BD(e,t,n,r,i,a,s,o,l){return e=WS(n,r,!0,e,i,a,s,o,l),e.context=FD(null),n=e.current,r=gr(),i=Ls(n),a=Ba(r,i),a.callback=t??null,Ms(n,a,i),e.current.lanes=i,Mh(e,i,r),Nr(e,r),e}function ty(e,t,n,r){var i=t.current,a=gr(),s=Ls(i);return n=FD(n),t.context===null?t.context=n:t.pendingContext=n,t=Ba(a,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Ms(i,t,s),e!==null&&($i(e,i,s,a),rm(e,i,s)),s}function wg(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function z3(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function GS(e,t){z3(e,t),(e=e.alternate)&&z3(e,t)}function N9(){return null}var zD=typeof reportError=="function"?reportError:function(e){console.error(e)};function HS(e){this._internalRoot=e}ny.prototype.render=HS.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ae(409));ty(e,t,null,null)};ny.prototype.unmount=HS.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Yo(function(){ty(null,e,null,null)}),t[ja]=null}};function ny(e){this._internalRoot=e}ny.prototype.unstable_scheduleHydration=function(e){if(e){var t=pR();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ks.length&&t!==0&&t<ks[n].priority;n++);ks.splice(n,0,e),n===0&&gR(e)}};function qS(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ry(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function U3(){}function M9(e,t,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var u=wg(s);a.call(u)}}var s=BD(t,r,e,0,null,!1,!1,"",U3);return e._reactRootContainer=s,e[ja]=s.current,Qd(e.nodeType===8?e.parentNode:e),Yo(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var u=wg(l);o.call(u)}}var l=WS(e,0,!1,null,null,!1,!1,"",U3);return e._reactRootContainer=l,e[ja]=l.current,Qd(e.nodeType===8?e.parentNode:e),Yo(function(){ty(t,l,n,r)}),l}function iy(e,t,n,r,i){var a=n._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var l=wg(s);o.call(l)}}ty(t,s,e,i)}else s=M9(n,t,e,i,r);return wg(s)}hR=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ed(t.pendingLanes);n!==0&&(hS(t,n|1),Nr(t,xn()),!(Ct&6)&&(Pu=xn()+500,Hs()))}break;case 13:Yo(function(){var r=$a(e,1);if(r!==null){var i=gr();$i(r,e,1,i)}}),GS(e,1)}};fS=function(e){if(e.tag===13){var t=$a(e,134217728);if(t!==null){var n=gr();$i(t,e,134217728,n)}GS(e,134217728)}};fR=function(e){if(e.tag===13){var t=Ls(e),n=$a(e,t);if(n!==null){var r=gr();$i(n,e,t,r)}GS(e,t)}};pR=function(){return Ot};mR=function(e,t){var n=Ot;try{return Ot=e,t()}finally{Ot=n}};_b=function(e,t,n){switch(t){case"input":if(bb(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=K0(r);if(!i)throw Error(Ae(90));HA(r),bb(r,i)}}}break;case"textarea":KA(e,n);break;case"select":t=n.value,t!=null&&ou(e,!!n.multiple,t,!1)}};tR=US;nR=Yo;var O9={usingClientEntryPoint:!1,Events:[Lh,Gl,K0,JA,eR,US]},Mc={findFiberByHostInstance:To,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},L9={bundleType:Mc.bundleType,version:Mc.version,rendererPackageName:Mc.rendererPackageName,rendererConfig:Mc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ha.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=aR(e),e===null?null:e.stateNode},findFiberByHostInstance:Mc.findFiberByHostInstance||N9,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fp.isDisabled&&fp.supportsFiber)try{W0=fp.inject(L9),ha=fp}catch{}}Jr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O9;Jr.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qS(t))throw Error(Ae(200));return D9(e,t,null,n)};Jr.createRoot=function(e,t){if(!qS(e))throw Error(Ae(299));var n=!1,r="",i=zD;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=WS(e,1,!1,null,null,n,!1,r,i),e[ja]=t.current,Qd(e.nodeType===8?e.parentNode:e),new HS(t)};Jr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ae(188)):(e=Object.keys(e).join(","),Error(Ae(268,e)));return e=aR(t),e=e===null?null:e.stateNode,e};Jr.flushSync=function(e){return Yo(e)};Jr.hydrate=function(e,t,n){if(!ry(t))throw Error(Ae(200));return iy(null,e,t,!0,n)};Jr.hydrateRoot=function(e,t,n){if(!qS(e))throw Error(Ae(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",s=zD;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=BD(t,null,e,1,n??null,i,!1,a,s),e[ja]=t.current,Qd(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new ny(t)};Jr.render=function(e,t,n){if(!ry(t))throw Error(Ae(200));return iy(null,e,t,!1,n)};Jr.unmountComponentAtNode=function(e){if(!ry(e))throw Error(Ae(40));return e._reactRootContainer?(Yo(function(){iy(null,null,e,!1,function(){e._reactRootContainer=null,e[ja]=null})}),!0):!1};Jr.unstable_batchedUpdates=US;Jr.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ry(n))throw Error(Ae(200));if(e==null||e._reactInternals===void 0)throw Error(Ae(38));return iy(e,t,n,!1,r)};Jr.version="18.2.0-next-9e3b772b8-20220608";function UD(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(UD)}catch(e){console.error(e)}}UD(),FA.exports=Jr;var Yu=FA.exports,j3=Yu;fb.createRoot=j3.createRoot,fb.hydrateRoot=j3.hydrateRoot;var jD={},ay={};ay.byteLength=z9;ay.toByteArray=j9;ay.fromByteArray=W9;var ca=[],ci=[],F9=typeof Uint8Array<"u"?Uint8Array:Array,O1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var _l=0,B9=O1.length;_l<B9;++_l)ca[_l]=O1[_l],ci[O1.charCodeAt(_l)]=_l;ci["-".charCodeAt(0)]=62;ci["_".charCodeAt(0)]=63;function $D(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");n===-1&&(n=t);var r=n===t?0:4-n%4;return[n,r]}function z9(e){var t=$D(e),n=t[0],r=t[1];return(n+r)*3/4-r}function U9(e,t,n){return(t+n)*3/4-n}function j9(e){var t,n=$D(e),r=n[0],i=n[1],a=new F9(U9(e,r,i)),s=0,o=i>0?r-4:r,l;for(l=0;l<o;l+=4)t=ci[e.charCodeAt(l)]<<18|ci[e.charCodeAt(l+1)]<<12|ci[e.charCodeAt(l+2)]<<6|ci[e.charCodeAt(l+3)],a[s++]=t>>16&255,a[s++]=t>>8&255,a[s++]=t&255;return i===2&&(t=ci[e.charCodeAt(l)]<<2|ci[e.charCodeAt(l+1)]>>4,a[s++]=t&255),i===1&&(t=ci[e.charCodeAt(l)]<<10|ci[e.charCodeAt(l+1)]<<4|ci[e.charCodeAt(l+2)]>>2,a[s++]=t>>8&255,a[s++]=t&255),a}function $9(e){return ca[e>>18&63]+ca[e>>12&63]+ca[e>>6&63]+ca[e&63]}function V9(e,t,n){for(var r,i=[],a=t;a<n;a+=3)r=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(e[a+2]&255),i.push($9(r));return i.join("")}function W9(e){for(var t,n=e.length,r=n%3,i=[],a=16383,s=0,o=n-r;s<o;s+=a)i.push(V9(e,s,s+a>o?o:s+a));return r===1?(t=e[n-1],i.push(ca[t>>2]+ca[t<<4&63]+"==")):r===2&&(t=(e[n-2]<<8)+e[n-1],i.push(ca[t>>10]+ca[t>>4&63]+ca[t<<2&63]+"=")),i.join("")}var KS={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */KS.read=function(e,t,n,r,i){var a,s,o=i*8-r-1,l=(1<<o)-1,u=l>>1,c=-7,h=n?i-1:0,p=n?-1:1,m=e[t+h];for(h+=p,a=m&(1<<-c)-1,m>>=-c,c+=o;c>0;a=a*256+e[t+h],h+=p,c-=8);for(s=a&(1<<-c)-1,a>>=-c,c+=r;c>0;s=s*256+e[t+h],h+=p,c-=8);if(a===0)a=1-u;else{if(a===l)return s?NaN:(m?-1:1)*(1/0);s=s+Math.pow(2,r),a=a-u}return(m?-1:1)*s*Math.pow(2,a-r)};KS.write=function(e,t,n,r,i,a){var s,o,l,u=a*8-i-1,c=(1<<u)-1,h=c>>1,p=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=r?0:a-1,g=r?1:-1,y=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(o=isNaN(t)?1:0,s=c):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),s+h>=1?t+=p/l:t+=p*Math.pow(2,1-h),t*l>=2&&(s++,l/=2),s+h>=c?(o=0,s=c):s+h>=1?(o=(t*l-1)*Math.pow(2,i),s=s+h):(o=t*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;e[n+m]=o&255,m+=g,o/=256,i-=8);for(s=s<<i|o,u+=i;u>0;e[n+m]=s&255,m+=g,s/=256,u-=8);e[n+m-g]|=y*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){const t=ay,n=KS,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=o,e.SlowBuffer=x,e.INSPECT_MAX_BYTES=50;const i=2147483647;e.kMaxLength=i,o.TYPED_ARRAY_SUPPORT=a(),!o.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function a(){try{const D=new Uint8Array(1),E={foo:function(){return 42}};return Object.setPrototypeOf(E,Uint8Array.prototype),Object.setPrototypeOf(D,E),D.foo()===42}catch{return!1}}Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}});function s(D){if(D>i)throw new RangeError('The value "'+D+'" is invalid for option "size"');const E=new Uint8Array(D);return Object.setPrototypeOf(E,o.prototype),E}function o(D,E,I){if(typeof D=="number"){if(typeof E=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return h(D)}return l(D,E,I)}o.poolSize=8192;function l(D,E,I){if(typeof D=="string")return p(D,E);if(ArrayBuffer.isView(D))return g(D);if(D==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof D);if(he(D,ArrayBuffer)||D&&he(D.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(he(D,SharedArrayBuffer)||D&&he(D.buffer,SharedArrayBuffer)))return y(D,E,I);if(typeof D=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const $=D.valueOf&&D.valueOf();if($!=null&&$!==D)return o.from($,E,I);const J=b(D);if(J)return J;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof D[Symbol.toPrimitive]=="function")return o.from(D[Symbol.toPrimitive]("string"),E,I);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof D)}o.from=function(D,E,I){return l(D,E,I)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array);function u(D){if(typeof D!="number")throw new TypeError('"size" argument must be of type number');if(D<0)throw new RangeError('The value "'+D+'" is invalid for option "size"')}function c(D,E,I){return u(D),D<=0?s(D):E!==void 0?typeof I=="string"?s(D).fill(E,I):s(D).fill(E):s(D)}o.alloc=function(D,E,I){return c(D,E,I)};function h(D){return u(D),s(D<0?0:w(D)|0)}o.allocUnsafe=function(D){return h(D)},o.allocUnsafeSlow=function(D){return h(D)};function p(D,E){if((typeof E!="string"||E==="")&&(E="utf8"),!o.isEncoding(E))throw new TypeError("Unknown encoding: "+E);const I=k(D,E)|0;let $=s(I);const J=$.write(D,E);return J!==I&&($=$.slice(0,J)),$}function m(D){const E=D.length<0?0:w(D.length)|0,I=s(E);for(let $=0;$<E;$+=1)I[$]=D[$]&255;return I}function g(D){if(he(D,Uint8Array)){const E=new Uint8Array(D);return y(E.buffer,E.byteOffset,E.byteLength)}return m(D)}function y(D,E,I){if(E<0||D.byteLength<E)throw new RangeError('"offset" is outside of buffer bounds');if(D.byteLength<E+(I||0))throw new RangeError('"length" is outside of buffer bounds');let $;return E===void 0&&I===void 0?$=new Uint8Array(D):I===void 0?$=new Uint8Array(D,E):$=new Uint8Array(D,E,I),Object.setPrototypeOf($,o.prototype),$}function b(D){if(o.isBuffer(D)){const E=w(D.length)|0,I=s(E);return I.length===0||D.copy(I,0,0,E),I}if(D.length!==void 0)return typeof D.length!="number"||Pe(D.length)?s(0):m(D);if(D.type==="Buffer"&&Array.isArray(D.data))return m(D.data)}function w(D){if(D>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return D|0}function x(D){return+D!=D&&(D=0),o.alloc(+D)}o.isBuffer=function(E){return E!=null&&E._isBuffer===!0&&E!==o.prototype},o.compare=function(E,I){if(he(E,Uint8Array)&&(E=o.from(E,E.offset,E.byteLength)),he(I,Uint8Array)&&(I=o.from(I,I.offset,I.byteLength)),!o.isBuffer(E)||!o.isBuffer(I))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(E===I)return 0;let $=E.length,J=I.length;for(let fe=0,me=Math.min($,J);fe<me;++fe)if(E[fe]!==I[fe]){$=E[fe],J=I[fe];break}return $<J?-1:J<$?1:0},o.isEncoding=function(E){switch(String(E).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(E,I){if(!Array.isArray(E))throw new TypeError('"list" argument must be an Array of Buffers');if(E.length===0)return o.alloc(0);let $;if(I===void 0)for(I=0,$=0;$<E.length;++$)I+=E[$].length;const J=o.allocUnsafe(I);let fe=0;for($=0;$<E.length;++$){let me=E[$];if(he(me,Uint8Array))fe+me.length>J.length?(o.isBuffer(me)||(me=o.from(me)),me.copy(J,fe)):Uint8Array.prototype.set.call(J,me,fe);else if(o.isBuffer(me))me.copy(J,fe);else throw new TypeError('"list" argument must be an Array of Buffers');fe+=me.length}return J};function k(D,E){if(o.isBuffer(D))return D.length;if(ArrayBuffer.isView(D)||he(D,ArrayBuffer))return D.byteLength;if(typeof D!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof D);const I=D.length,$=arguments.length>2&&arguments[2]===!0;if(!$&&I===0)return 0;let J=!1;for(;;)switch(E){case"ascii":case"latin1":case"binary":return I;case"utf8":case"utf-8":return Q(D).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I*2;case"hex":return I>>>1;case"base64":return xe(D).length;default:if(J)return $?-1:Q(D).length;E=(""+E).toLowerCase(),J=!0}}o.byteLength=k;function _(D,E,I){let $=!1;if((E===void 0||E<0)&&(E=0),E>this.length||((I===void 0||I>this.length)&&(I=this.length),I<=0)||(I>>>=0,E>>>=0,I<=E))return"";for(D||(D="utf8");;)switch(D){case"hex":return ae(this,E,I);case"utf8":case"utf-8":return M(this,E,I);case"ascii":return ue(this,E,I);case"latin1":case"binary":return de(this,E,I);case"base64":return G(this,E,I);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return pe(this,E,I);default:if($)throw new TypeError("Unknown encoding: "+D);D=(D+"").toLowerCase(),$=!0}}o.prototype._isBuffer=!0;function A(D,E,I){const $=D[E];D[E]=D[I],D[I]=$}o.prototype.swap16=function(){const E=this.length;if(E%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let I=0;I<E;I+=2)A(this,I,I+1);return this},o.prototype.swap32=function(){const E=this.length;if(E%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let I=0;I<E;I+=4)A(this,I,I+3),A(this,I+1,I+2);return this},o.prototype.swap64=function(){const E=this.length;if(E%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let I=0;I<E;I+=8)A(this,I,I+7),A(this,I+1,I+6),A(this,I+2,I+5),A(this,I+3,I+4);return this},o.prototype.toString=function(){const E=this.length;return E===0?"":arguments.length===0?M(this,0,E):_.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(E){if(!o.isBuffer(E))throw new TypeError("Argument must be a Buffer");return this===E?!0:o.compare(this,E)===0},o.prototype.inspect=function(){let E="";const I=e.INSPECT_MAX_BYTES;return E=this.toString("hex",0,I).replace(/(.{2})/g,"$1 ").trim(),this.length>I&&(E+=" ... "),"<Buffer "+E+">"},r&&(o.prototype[r]=o.prototype.inspect),o.prototype.compare=function(E,I,$,J,fe){if(he(E,Uint8Array)&&(E=o.from(E,E.offset,E.byteLength)),!o.isBuffer(E))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof E);if(I===void 0&&(I=0),$===void 0&&($=E?E.length:0),J===void 0&&(J=0),fe===void 0&&(fe=this.length),I<0||$>E.length||J<0||fe>this.length)throw new RangeError("out of range index");if(J>=fe&&I>=$)return 0;if(J>=fe)return-1;if(I>=$)return 1;if(I>>>=0,$>>>=0,J>>>=0,fe>>>=0,this===E)return 0;let me=fe-J,Qe=$-I;const xt=Math.min(me,Qe),ut=this.slice(J,fe),nt=E.slice(I,$);for(let wt=0;wt<xt;++wt)if(ut[wt]!==nt[wt]){me=ut[wt],Qe=nt[wt];break}return me<Qe?-1:Qe<me?1:0};function P(D,E,I,$,J){if(D.length===0)return-1;if(typeof I=="string"?($=I,I=0):I>2147483647?I=2147483647:I<-2147483648&&(I=-2147483648),I=+I,Pe(I)&&(I=J?0:D.length-1),I<0&&(I=D.length+I),I>=D.length){if(J)return-1;I=D.length-1}else if(I<0)if(J)I=0;else return-1;if(typeof E=="string"&&(E=o.from(E,$)),o.isBuffer(E))return E.length===0?-1:N(D,E,I,$,J);if(typeof E=="number")return E=E&255,typeof Uint8Array.prototype.indexOf=="function"?J?Uint8Array.prototype.indexOf.call(D,E,I):Uint8Array.prototype.lastIndexOf.call(D,E,I):N(D,[E],I,$,J);throw new TypeError("val must be string, number or Buffer")}function N(D,E,I,$,J){let fe=1,me=D.length,Qe=E.length;if($!==void 0&&($=String($).toLowerCase(),$==="ucs2"||$==="ucs-2"||$==="utf16le"||$==="utf-16le")){if(D.length<2||E.length<2)return-1;fe=2,me/=2,Qe/=2,I/=2}function xt(nt,wt){return fe===1?nt[wt]:nt.readUInt16BE(wt*fe)}let ut;if(J){let nt=-1;for(ut=I;ut<me;ut++)if(xt(D,ut)===xt(E,nt===-1?0:ut-nt)){if(nt===-1&&(nt=ut),ut-nt+1===Qe)return nt*fe}else nt!==-1&&(ut-=ut-nt),nt=-1}else for(I+Qe>me&&(I=me-Qe),ut=I;ut>=0;ut--){let nt=!0;for(let wt=0;wt<Qe;wt++)if(xt(D,ut+wt)!==xt(E,wt)){nt=!1;break}if(nt)return ut}return-1}o.prototype.includes=function(E,I,$){return this.indexOf(E,I,$)!==-1},o.prototype.indexOf=function(E,I,$){return P(this,E,I,$,!0)},o.prototype.lastIndexOf=function(E,I,$){return P(this,E,I,$,!1)};function B(D,E,I,$){I=Number(I)||0;const J=D.length-I;$?($=Number($),$>J&&($=J)):$=J;const fe=E.length;$>fe/2&&($=fe/2);let me;for(me=0;me<$;++me){const Qe=parseInt(E.substr(me*2,2),16);if(Pe(Qe))return me;D[I+me]=Qe}return me}function j(D,E,I,$){return Se(Q(E,D.length-I),D,I,$)}function W(D,E,I,$){return Se(q(E),D,I,$)}function K(D,E,I,$){return Se(xe(E),D,I,$)}function z(D,E,I,$){return Se(se(E,D.length-I),D,I,$)}o.prototype.write=function(E,I,$,J){if(I===void 0)J="utf8",$=this.length,I=0;else if($===void 0&&typeof I=="string")J=I,$=this.length,I=0;else if(isFinite(I))I=I>>>0,isFinite($)?($=$>>>0,J===void 0&&(J="utf8")):(J=$,$=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const fe=this.length-I;if(($===void 0||$>fe)&&($=fe),E.length>0&&($<0||I<0)||I>this.length)throw new RangeError("Attempt to write outside buffer bounds");J||(J="utf8");let me=!1;for(;;)switch(J){case"hex":return B(this,E,I,$);case"utf8":case"utf-8":return j(this,E,I,$);case"ascii":case"latin1":case"binary":return W(this,E,I,$);case"base64":return K(this,E,I,$);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return z(this,E,I,$);default:if(me)throw new TypeError("Unknown encoding: "+J);J=(""+J).toLowerCase(),me=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function G(D,E,I){return E===0&&I===D.length?t.fromByteArray(D):t.fromByteArray(D.slice(E,I))}function M(D,E,I){I=Math.min(D.length,I);const $=[];let J=E;for(;J<I;){const fe=D[J];let me=null,Qe=fe>239?4:fe>223?3:fe>191?2:1;if(J+Qe<=I){let xt,ut,nt,wt;switch(Qe){case 1:fe<128&&(me=fe);break;case 2:xt=D[J+1],(xt&192)===128&&(wt=(fe&31)<<6|xt&63,wt>127&&(me=wt));break;case 3:xt=D[J+1],ut=D[J+2],(xt&192)===128&&(ut&192)===128&&(wt=(fe&15)<<12|(xt&63)<<6|ut&63,wt>2047&&(wt<55296||wt>57343)&&(me=wt));break;case 4:xt=D[J+1],ut=D[J+2],nt=D[J+3],(xt&192)===128&&(ut&192)===128&&(nt&192)===128&&(wt=(fe&15)<<18|(xt&63)<<12|(ut&63)<<6|nt&63,wt>65535&&wt<1114112&&(me=wt))}}me===null?(me=65533,Qe=1):me>65535&&(me-=65536,$.push(me>>>10&1023|55296),me=56320|me&1023),$.push(me),J+=Qe}return X($)}const te=4096;function X(D){const E=D.length;if(E<=te)return String.fromCharCode.apply(String,D);let I="",$=0;for(;$<E;)I+=String.fromCharCode.apply(String,D.slice($,$+=te));return I}function ue(D,E,I){let $="";I=Math.min(D.length,I);for(let J=E;J<I;++J)$+=String.fromCharCode(D[J]&127);return $}function de(D,E,I){let $="";I=Math.min(D.length,I);for(let J=E;J<I;++J)$+=String.fromCharCode(D[J]);return $}function ae(D,E,I){const $=D.length;(!E||E<0)&&(E=0),(!I||I<0||I>$)&&(I=$);let J="";for(let fe=E;fe<I;++fe)J+=Be[D[fe]];return J}function pe(D,E,I){const $=D.slice(E,I);let J="";for(let fe=0;fe<$.length-1;fe+=2)J+=String.fromCharCode($[fe]+$[fe+1]*256);return J}o.prototype.slice=function(E,I){const $=this.length;E=~~E,I=I===void 0?$:~~I,E<0?(E+=$,E<0&&(E=0)):E>$&&(E=$),I<0?(I+=$,I<0&&(I=0)):I>$&&(I=$),I<E&&(I=E);const J=this.subarray(E,I);return Object.setPrototypeOf(J,o.prototype),J};function F(D,E,I){if(D%1!==0||D<0)throw new RangeError("offset is not uint");if(D+E>I)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUintLE=o.prototype.readUIntLE=function(E,I,$){E=E>>>0,I=I>>>0,$||F(E,I,this.length);let J=this[E],fe=1,me=0;for(;++me<I&&(fe*=256);)J+=this[E+me]*fe;return J},o.prototype.readUintBE=o.prototype.readUIntBE=function(E,I,$){E=E>>>0,I=I>>>0,$||F(E,I,this.length);let J=this[E+--I],fe=1;for(;I>0&&(fe*=256);)J+=this[E+--I]*fe;return J},o.prototype.readUint8=o.prototype.readUInt8=function(E,I){return E=E>>>0,I||F(E,1,this.length),this[E]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(E,I){return E=E>>>0,I||F(E,2,this.length),this[E]|this[E+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(E,I){return E=E>>>0,I||F(E,2,this.length),this[E]<<8|this[E+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(E,I){return E=E>>>0,I||F(E,4,this.length),(this[E]|this[E+1]<<8|this[E+2]<<16)+this[E+3]*16777216},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(E,I){return E=E>>>0,I||F(E,4,this.length),this[E]*16777216+(this[E+1]<<16|this[E+2]<<8|this[E+3])},o.prototype.readBigUInt64LE=_e(function(E){E=E>>>0,St(E,"offset");const I=this[E],$=this[E+7];(I===void 0||$===void 0)&&L(E,this.length-8);const J=I+this[++E]*2**8+this[++E]*2**16+this[++E]*2**24,fe=this[++E]+this[++E]*2**8+this[++E]*2**16+$*2**24;return BigInt(J)+(BigInt(fe)<<BigInt(32))}),o.prototype.readBigUInt64BE=_e(function(E){E=E>>>0,St(E,"offset");const I=this[E],$=this[E+7];(I===void 0||$===void 0)&&L(E,this.length-8);const J=I*2**24+this[++E]*2**16+this[++E]*2**8+this[++E],fe=this[++E]*2**24+this[++E]*2**16+this[++E]*2**8+$;return(BigInt(J)<<BigInt(32))+BigInt(fe)}),o.prototype.readIntLE=function(E,I,$){E=E>>>0,I=I>>>0,$||F(E,I,this.length);let J=this[E],fe=1,me=0;for(;++me<I&&(fe*=256);)J+=this[E+me]*fe;return fe*=128,J>=fe&&(J-=Math.pow(2,8*I)),J},o.prototype.readIntBE=function(E,I,$){E=E>>>0,I=I>>>0,$||F(E,I,this.length);let J=I,fe=1,me=this[E+--J];for(;J>0&&(fe*=256);)me+=this[E+--J]*fe;return fe*=128,me>=fe&&(me-=Math.pow(2,8*I)),me},o.prototype.readInt8=function(E,I){return E=E>>>0,I||F(E,1,this.length),this[E]&128?(255-this[E]+1)*-1:this[E]},o.prototype.readInt16LE=function(E,I){E=E>>>0,I||F(E,2,this.length);const $=this[E]|this[E+1]<<8;return $&32768?$|4294901760:$},o.prototype.readInt16BE=function(E,I){E=E>>>0,I||F(E,2,this.length);const $=this[E+1]|this[E]<<8;return $&32768?$|4294901760:$},o.prototype.readInt32LE=function(E,I){return E=E>>>0,I||F(E,4,this.length),this[E]|this[E+1]<<8|this[E+2]<<16|this[E+3]<<24},o.prototype.readInt32BE=function(E,I){return E=E>>>0,I||F(E,4,this.length),this[E]<<24|this[E+1]<<16|this[E+2]<<8|this[E+3]},o.prototype.readBigInt64LE=_e(function(E){E=E>>>0,St(E,"offset");const I=this[E],$=this[E+7];(I===void 0||$===void 0)&&L(E,this.length-8);const J=this[E+4]+this[E+5]*2**8+this[E+6]*2**16+($<<24);return(BigInt(J)<<BigInt(32))+BigInt(I+this[++E]*2**8+this[++E]*2**16+this[++E]*2**24)}),o.prototype.readBigInt64BE=_e(function(E){E=E>>>0,St(E,"offset");const I=this[E],$=this[E+7];(I===void 0||$===void 0)&&L(E,this.length-8);const J=(I<<24)+this[++E]*2**16+this[++E]*2**8+this[++E];return(BigInt(J)<<BigInt(32))+BigInt(this[++E]*2**24+this[++E]*2**16+this[++E]*2**8+$)}),o.prototype.readFloatLE=function(E,I){return E=E>>>0,I||F(E,4,this.length),n.read(this,E,!0,23,4)},o.prototype.readFloatBE=function(E,I){return E=E>>>0,I||F(E,4,this.length),n.read(this,E,!1,23,4)},o.prototype.readDoubleLE=function(E,I){return E=E>>>0,I||F(E,8,this.length),n.read(this,E,!0,52,8)},o.prototype.readDoubleBE=function(E,I){return E=E>>>0,I||F(E,8,this.length),n.read(this,E,!1,52,8)};function O(D,E,I,$,J,fe){if(!o.isBuffer(D))throw new TypeError('"buffer" argument must be a Buffer instance');if(E>J||E<fe)throw new RangeError('"value" argument is out of bounds');if(I+$>D.length)throw new RangeError("Index out of range")}o.prototype.writeUintLE=o.prototype.writeUIntLE=function(E,I,$,J){if(E=+E,I=I>>>0,$=$>>>0,!J){const Qe=Math.pow(2,8*$)-1;O(this,E,I,$,Qe,0)}let fe=1,me=0;for(this[I]=E&255;++me<$&&(fe*=256);)this[I+me]=E/fe&255;return I+$},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(E,I,$,J){if(E=+E,I=I>>>0,$=$>>>0,!J){const Qe=Math.pow(2,8*$)-1;O(this,E,I,$,Qe,0)}let fe=$-1,me=1;for(this[I+fe]=E&255;--fe>=0&&(me*=256);)this[I+fe]=E/me&255;return I+$},o.prototype.writeUint8=o.prototype.writeUInt8=function(E,I,$){return E=+E,I=I>>>0,$||O(this,E,I,1,255,0),this[I]=E&255,I+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(E,I,$){return E=+E,I=I>>>0,$||O(this,E,I,2,65535,0),this[I]=E&255,this[I+1]=E>>>8,I+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(E,I,$){return E=+E,I=I>>>0,$||O(this,E,I,2,65535,0),this[I]=E>>>8,this[I+1]=E&255,I+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(E,I,$){return E=+E,I=I>>>0,$||O(this,E,I,4,4294967295,0),this[I+3]=E>>>24,this[I+2]=E>>>16,this[I+1]=E>>>8,this[I]=E&255,I+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(E,I,$){return E=+E,I=I>>>0,$||O(this,E,I,4,4294967295,0),this[I]=E>>>24,this[I+1]=E>>>16,this[I+2]=E>>>8,this[I+3]=E&255,I+4};function Ee(D,E,I,$,J){yn(E,$,J,D,I,7);let fe=Number(E&BigInt(4294967295));D[I++]=fe,fe=fe>>8,D[I++]=fe,fe=fe>>8,D[I++]=fe,fe=fe>>8,D[I++]=fe;let me=Number(E>>BigInt(32)&BigInt(4294967295));return D[I++]=me,me=me>>8,D[I++]=me,me=me>>8,D[I++]=me,me=me>>8,D[I++]=me,I}function Ce(D,E,I,$,J){yn(E,$,J,D,I,7);let fe=Number(E&BigInt(4294967295));D[I+7]=fe,fe=fe>>8,D[I+6]=fe,fe=fe>>8,D[I+5]=fe,fe=fe>>8,D[I+4]=fe;let me=Number(E>>BigInt(32)&BigInt(4294967295));return D[I+3]=me,me=me>>8,D[I+2]=me,me=me>>8,D[I+1]=me,me=me>>8,D[I]=me,I+8}o.prototype.writeBigUInt64LE=_e(function(E,I=0){return Ee(this,E,I,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeBigUInt64BE=_e(function(E,I=0){return Ce(this,E,I,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeIntLE=function(E,I,$,J){if(E=+E,I=I>>>0,!J){const xt=Math.pow(2,8*$-1);O(this,E,I,$,xt-1,-xt)}let fe=0,me=1,Qe=0;for(this[I]=E&255;++fe<$&&(me*=256);)E<0&&Qe===0&&this[I+fe-1]!==0&&(Qe=1),this[I+fe]=(E/me>>0)-Qe&255;return I+$},o.prototype.writeIntBE=function(E,I,$,J){if(E=+E,I=I>>>0,!J){const xt=Math.pow(2,8*$-1);O(this,E,I,$,xt-1,-xt)}let fe=$-1,me=1,Qe=0;for(this[I+fe]=E&255;--fe>=0&&(me*=256);)E<0&&Qe===0&&this[I+fe+1]!==0&&(Qe=1),this[I+fe]=(E/me>>0)-Qe&255;return I+$},o.prototype.writeInt8=function(E,I,$){return E=+E,I=I>>>0,$||O(this,E,I,1,127,-128),E<0&&(E=255+E+1),this[I]=E&255,I+1},o.prototype.writeInt16LE=function(E,I,$){return E=+E,I=I>>>0,$||O(this,E,I,2,32767,-32768),this[I]=E&255,this[I+1]=E>>>8,I+2},o.prototype.writeInt16BE=function(E,I,$){return E=+E,I=I>>>0,$||O(this,E,I,2,32767,-32768),this[I]=E>>>8,this[I+1]=E&255,I+2},o.prototype.writeInt32LE=function(E,I,$){return E=+E,I=I>>>0,$||O(this,E,I,4,2147483647,-2147483648),this[I]=E&255,this[I+1]=E>>>8,this[I+2]=E>>>16,this[I+3]=E>>>24,I+4},o.prototype.writeInt32BE=function(E,I,$){return E=+E,I=I>>>0,$||O(this,E,I,4,2147483647,-2147483648),E<0&&(E=4294967295+E+1),this[I]=E>>>24,this[I+1]=E>>>16,this[I+2]=E>>>8,this[I+3]=E&255,I+4},o.prototype.writeBigInt64LE=_e(function(E,I=0){return Ee(this,E,I,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeBigInt64BE=_e(function(E,I=0){return Ce(this,E,I,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Te(D,E,I,$,J,fe){if(I+$>D.length)throw new RangeError("Index out of range");if(I<0)throw new RangeError("Index out of range")}function Xe(D,E,I,$,J){return E=+E,I=I>>>0,J||Te(D,E,I,4),n.write(D,E,I,$,23,4),I+4}o.prototype.writeFloatLE=function(E,I,$){return Xe(this,E,I,!0,$)},o.prototype.writeFloatBE=function(E,I,$){return Xe(this,E,I,!1,$)};function ft(D,E,I,$,J){return E=+E,I=I>>>0,J||Te(D,E,I,8),n.write(D,E,I,$,52,8),I+8}o.prototype.writeDoubleLE=function(E,I,$){return ft(this,E,I,!0,$)},o.prototype.writeDoubleBE=function(E,I,$){return ft(this,E,I,!1,$)},o.prototype.copy=function(E,I,$,J){if(!o.isBuffer(E))throw new TypeError("argument should be a Buffer");if($||($=0),!J&&J!==0&&(J=this.length),I>=E.length&&(I=E.length),I||(I=0),J>0&&J<$&&(J=$),J===$||E.length===0||this.length===0)return 0;if(I<0)throw new RangeError("targetStart out of bounds");if($<0||$>=this.length)throw new RangeError("Index out of range");if(J<0)throw new RangeError("sourceEnd out of bounds");J>this.length&&(J=this.length),E.length-I<J-$&&(J=E.length-I+$);const fe=J-$;return this===E&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(I,$,J):Uint8Array.prototype.set.call(E,this.subarray($,J),I),fe},o.prototype.fill=function(E,I,$,J){if(typeof E=="string"){if(typeof I=="string"?(J=I,I=0,$=this.length):typeof $=="string"&&(J=$,$=this.length),J!==void 0&&typeof J!="string")throw new TypeError("encoding must be a string");if(typeof J=="string"&&!o.isEncoding(J))throw new TypeError("Unknown encoding: "+J);if(E.length===1){const me=E.charCodeAt(0);(J==="utf8"&&me<128||J==="latin1")&&(E=me)}}else typeof E=="number"?E=E&255:typeof E=="boolean"&&(E=Number(E));if(I<0||this.length<I||this.length<$)throw new RangeError("Out of range index");if($<=I)return this;I=I>>>0,$=$===void 0?this.length:$>>>0,E||(E=0);let fe;if(typeof E=="number")for(fe=I;fe<$;++fe)this[fe]=E;else{const me=o.isBuffer(E)?E:o.from(E,J),Qe=me.length;if(Qe===0)throw new TypeError('The value "'+E+'" is invalid for argument "value"');for(fe=0;fe<$-I;++fe)this[fe+I]=me[fe%Qe]}return this};const Ze={};function at(D,E,I){Ze[D]=class extends I{constructor(){super(),Object.defineProperty(this,"message",{value:E.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${D}]`,this.stack,delete this.name}get code(){return D}set code(J){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:J,writable:!0})}toString(){return`${this.name} [${D}]: ${this.message}`}}}at("ERR_BUFFER_OUT_OF_BOUNDS",function(D){return D?`${D} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),at("ERR_INVALID_ARG_TYPE",function(D,E){return`The "${D}" argument must be of type number. Received type ${typeof E}`},TypeError),at("ERR_OUT_OF_RANGE",function(D,E,I){let $=`The value of "${D}" is out of range.`,J=I;return Number.isInteger(I)&&Math.abs(I)>2**32?J=kt(String(I)):typeof I=="bigint"&&(J=String(I),(I>BigInt(2)**BigInt(32)||I<-(BigInt(2)**BigInt(32)))&&(J=kt(J)),J+="n"),$+=` It must be ${E}. Received ${J}`,$},RangeError);function kt(D){let E="",I=D.length;const $=D[0]==="-"?1:0;for(;I>=$+4;I-=3)E=`_${D.slice(I-3,I)}${E}`;return`${D.slice(0,I)}${E}`}function ct(D,E,I){St(E,"offset"),(D[E]===void 0||D[E+I]===void 0)&&L(E,D.length-(I+1))}function yn(D,E,I,$,J,fe){if(D>I||D<E){const me=typeof E=="bigint"?"n":"";let Qe;throw fe>3?E===0||E===BigInt(0)?Qe=`>= 0${me} and < 2${me} ** ${(fe+1)*8}${me}`:Qe=`>= -(2${me} ** ${(fe+1)*8-1}${me}) and < 2 ** ${(fe+1)*8-1}${me}`:Qe=`>= ${E}${me} and <= ${I}${me}`,new Ze.ERR_OUT_OF_RANGE("value",Qe,D)}ct($,J,fe)}function St(D,E){if(typeof D!="number")throw new Ze.ERR_INVALID_ARG_TYPE(E,"number",D)}function L(D,E,I){throw Math.floor(D)!==D?(St(D,I),new Ze.ERR_OUT_OF_RANGE(I||"offset","an integer",D)):E<0?new Ze.ERR_BUFFER_OUT_OF_BOUNDS:new Ze.ERR_OUT_OF_RANGE(I||"offset",`>= ${I?1:0} and <= ${E}`,D)}const be=/[^+/0-9A-Za-z-_]/g;function ve(D){if(D=D.split("=")[0],D=D.trim().replace(be,""),D.length<2)return"";for(;D.length%4!==0;)D=D+"=";return D}function Q(D,E){E=E||1/0;let I;const $=D.length;let J=null;const fe=[];for(let me=0;me<$;++me){if(I=D.charCodeAt(me),I>55295&&I<57344){if(!J){if(I>56319){(E-=3)>-1&&fe.push(239,191,189);continue}else if(me+1===$){(E-=3)>-1&&fe.push(239,191,189);continue}J=I;continue}if(I<56320){(E-=3)>-1&&fe.push(239,191,189),J=I;continue}I=(J-55296<<10|I-56320)+65536}else J&&(E-=3)>-1&&fe.push(239,191,189);if(J=null,I<128){if((E-=1)<0)break;fe.push(I)}else if(I<2048){if((E-=2)<0)break;fe.push(I>>6|192,I&63|128)}else if(I<65536){if((E-=3)<0)break;fe.push(I>>12|224,I>>6&63|128,I&63|128)}else if(I<1114112){if((E-=4)<0)break;fe.push(I>>18|240,I>>12&63|128,I>>6&63|128,I&63|128)}else throw new Error("Invalid code point")}return fe}function q(D){const E=[];for(let I=0;I<D.length;++I)E.push(D.charCodeAt(I)&255);return E}function se(D,E){let I,$,J;const fe=[];for(let me=0;me<D.length&&!((E-=2)<0);++me)I=D.charCodeAt(me),$=I>>8,J=I%256,fe.push(J),fe.push($);return fe}function xe(D){return t.toByteArray(ve(D))}function Se(D,E,I,$){let J;for(J=0;J<$&&!(J+I>=E.length||J>=D.length);++J)E[J+I]=D[J];return J}function he(D,E){return D instanceof E||D!=null&&D.constructor!=null&&D.constructor.name!=null&&D.constructor.name===E.name}function Pe(D){return D!==D}const Be=function(){const D="0123456789abcdef",E=new Array(256);for(let I=0;I<16;++I){const $=I*16;for(let J=0;J<16;++J)E[$+J]=D[I]+D[J]}return E}();function _e(D){return typeof BigInt>"u"?Ke:D}function Ke(){throw new Error("BigInt not supported")}})(jD);function $3(e,t){if(e.inserted[t.name]===void 0)return e.insert("",t,e.sheet,!0)}function V3(e,t,n){var r=[],i=Jk(e,r,n);return r.length<2?n:i+t(r)}var G9=function(t){var n=CA(t);n.sheet.speedy=function(o){this.isSpeedy=o},n.compat=!0;var r=function(){for(var l=arguments.length,u=new Array(l),c=0;c<l;c++)u[c]=arguments[c];var h=su(u,n.registered,void 0);return eS(n,h,!1),n.key+"-"+h.name},i=function(){for(var l=arguments.length,u=new Array(l),c=0;c<l;c++)u[c]=arguments[c];var h=su(u,n.registered),p="animation-"+h.name;return $3(n,{name:h.name,styles:"@keyframes "+p+"{"+h.styles+"}"}),p},a=function(){for(var l=arguments.length,u=new Array(l),c=0;c<l;c++)u[c]=arguments[c];var h=su(u,n.registered);$3(n,h)},s=function(){for(var l=arguments.length,u=new Array(l),c=0;c<l;c++)u[c]=arguments[c];return V3(n.registered,r,H9(u))};return{css:r,cx:s,injectGlobal:a,keyframes:i,hydrate:function(l){l.forEach(function(u){n.inserted[u]=!0})},flush:function(){n.registered={},n.inserted={},n.sheet.flush()},sheet:n.sheet,cache:n,getRegisteredStyles:Jk.bind(null,n.registered),merge:V3.bind(null,n.registered,r)}},H9=function e(t){for(var n="",r=0;r<t.length;r++){var i=t[r];if(i!=null){var a=void 0;switch(typeof i){case"boolean":break;case"object":{if(Array.isArray(i))a=e(i);else{a="";for(var s in i)i[s]&&s&&(a&&(a+=" "),a+=s)}break}default:a=i}a&&(n&&(n+=" "),n+=a)}}return n},q9=G9({key:"css"}),VD=q9.cx,K9=function(t,n){var r=arguments;if(n==null||!Nh.call(n,"css"))return Y.createElement.apply(void 0,r);var i=r.length,a=new Array(i);a[0]=nS,a[1]=tS(t,n);for(var s=2;s<i;s++)a[s]=r[s];return Y.createElement.apply(null,a)},Y9=NA(function(e,t){var n=e.styles,r=su([n],void 0,Y.useContext(MA)),i=Y.useRef();return N_(function(){var a=t.key+"-global",s=new t.sheet.constructor({key:a,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),o=!1,l=document.querySelector('style[data-emotion="'+a+" "+r.name+'"]');return t.sheet.tags.length&&(s.before=t.sheet.tags[0]),l!==null&&(o=!0,l.setAttribute("data-emotion",a),s.hydrate([l])),i.current=[s,o],function(){s.flush()}},[t]),N_(function(){var a=i.current,s=a[0],o=a[1];if(o){a[1]=!1;return}if(r.next!==void 0&&eS(t,r.next,!0),s.tags.length){var l=s.tags[s.tags.length-1].nextElementSibling;s.before=l,s.flush()}t.insert("",r,s,!1)},[t,r.name]),null});function WD(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return su(t)}var sy=function(){var t=WD.apply(void 0,arguments),n="animation-"+t.name;return{name:n,styles:"@keyframes "+n+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};function Bi(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Au(e){return!!e&&!!e[Yr]}function Xo(e){var t;return!!e&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===r7}(e)||Array.isArray(e)||!!e[Q3]||!!(!((t=e.constructor)===null||t===void 0)&&t[Q3])||YS(e)||XS(e))}function sh(e,t,n){n===void 0&&(n=!1),Xu(e)===0?(n?Object.keys:tC)(e).forEach(function(r){n&&typeof r=="symbol"||t(r,e[r],e)}):e.forEach(function(r,i){return t(i,r,e)})}function Xu(e){var t=e[Yr];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:YS(e)?2:XS(e)?3:0}function s2(e,t){return Xu(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function X9(e,t){return Xu(e)===2?e.get(t):e[t]}function GD(e,t,n){var r=Xu(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function Q9(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function YS(e){return t7&&e instanceof Map}function XS(e){return n7&&e instanceof Set}function wo(e){return e.o||e.t}function QS(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=i7(e);delete t[Yr];for(var n=tC(t),r=0;r<n.length;r++){var i=n[r],a=t[i];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function ZS(e,t){return t===void 0&&(t=!1),JS(e)||Au(e)||!Xo(e)||(Xu(e)>1&&(e.set=e.add=e.clear=e.delete=Z9),Object.freeze(e),t&&sh(e,function(n,r){return ZS(r,!0)},!0)),e}function Z9(){Bi(2)}function JS(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function pa(e){var t=a7[e];return t||Bi(18,e),t}function W3(){return oh}function L1(e,t){t&&(pa("Patches"),e.u=[],e.s=[],e.v=t)}function bg(e){o2(e),e.p.forEach(J9),e.p=null}function o2(e){e===oh&&(oh=e.l)}function G3(e){return oh={p:[],l:oh,h:e,m:!0,_:0}}function J9(e){var t=e[Yr];t.i===0||t.i===1?t.j():t.g=!0}function F1(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.O||pa("ES5").S(t,e,r),r?(n[Yr].P&&(bg(t),Bi(4)),Xo(e)&&(e=xg(t,e),t.l||kg(t,e)),t.u&&pa("Patches").M(n[Yr].t,e,t.u,t.s)):e=xg(t,n,[]),bg(t),t.u&&t.v(t.u,t.s),e!==HD?e:void 0}function xg(e,t,n){if(JS(t))return t;var r=t[Yr];if(!r)return sh(t,function(o,l){return H3(e,r,t,o,l,n)},!0),t;if(r.A!==e)return t;if(!r.P)return kg(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=QS(r.k):r.o,a=i,s=!1;r.i===3&&(a=new Set(i),i.clear(),s=!0),sh(a,function(o,l){return H3(e,r,i,o,l,n,s)}),kg(e,i,!1),n&&e.u&&pa("Patches").N(r,n,e.u,e.s)}return r.o}function H3(e,t,n,r,i,a,s){if(Au(i)){var o=xg(e,i,a&&t&&t.i!==3&&!s2(t.R,r)?a.concat(r):void 0);if(GD(n,r,o),!Au(o))return;e.m=!1}else s&&n.add(i);if(Xo(i)&&!JS(i)){if(!e.h.D&&e._<1)return;xg(e,i),t&&t.A.l||kg(e,i)}}function kg(e,t,n){n===void 0&&(n=!1),!e.l&&e.h.D&&e.m&&ZS(t,n)}function B1(e,t){var n=e[Yr];return(n?wo(n):e)[t]}function q3(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function l2(e){e.P||(e.P=!0,e.l&&l2(e.l))}function z1(e){e.o||(e.o=QS(e.t))}function u2(e,t,n){var r=YS(t)?pa("MapSet").F(t,n):XS(t)?pa("MapSet").T(t,n):e.O?function(i,a){var s=Array.isArray(i),o={i:s?1:0,A:a?a.A:W3(),P:!1,I:!1,R:{},l:a,t:i,k:null,o:null,j:null,C:!1},l=o,u=c2;s&&(l=[o],u=nd);var c=Proxy.revocable(l,u),h=c.revoke,p=c.proxy;return o.k=p,o.j=h,p}(t,n):pa("ES5").J(t,n);return(n?n.A:W3()).p.push(r),r}function e7(e){return Au(e)||Bi(22,e),function t(n){if(!Xo(n))return n;var r,i=n[Yr],a=Xu(n);if(i){if(!i.P&&(i.i<4||!pa("ES5").K(i)))return i.t;i.I=!0,r=K3(n,a),i.I=!1}else r=K3(n,a);return sh(r,function(s,o){i&&X9(i.t,s)===o||GD(r,s,t(o))}),a===3?new Set(r):r}(e)}function K3(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return QS(e)}var Y3,oh,eC=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",t7=typeof Map<"u",n7=typeof Set<"u",X3=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",HD=eC?Symbol.for("immer-nothing"):((Y3={})["immer-nothing"]=!0,Y3),Q3=eC?Symbol.for("immer-draftable"):"__$immer_draftable",Yr=eC?Symbol.for("immer-state"):"__$immer_state",r7=""+Object.prototype.constructor,tC=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,i7=Object.getOwnPropertyDescriptors||function(e){var t={};return tC(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},a7={},c2={get:function(e,t){if(t===Yr)return e;var n=wo(e);if(!s2(n,t))return function(i,a,s){var o,l=q3(a,s);return l?"value"in l?l.value:(o=l.get)===null||o===void 0?void 0:o.call(i.k):void 0}(e,n,t);var r=n[t];return e.I||!Xo(r)?r:r===B1(e.t,t)?(z1(e),e.o[t]=u2(e.A.h,r,e)):r},has:function(e,t){return t in wo(e)},ownKeys:function(e){return Reflect.ownKeys(wo(e))},set:function(e,t,n){var r=q3(wo(e),t);if(r?.set)return r.set.call(e.k,n),!0;if(!e.P){var i=B1(wo(e),t),a=i?.[Yr];if(a&&a.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(Q9(n,i)&&(n!==void 0||s2(e.t,t)))return!0;z1(e),l2(e)}return e.o[t]===n&&(n!==void 0||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return B1(e.t,t)!==void 0||t in e.t?(e.R[t]=!1,z1(e),l2(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=wo(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){Bi(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){Bi(12)}},nd={};sh(c2,function(e,t){nd[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),nd.deleteProperty=function(e,t){return nd.set.call(this,e,t,void 0)},nd.set=function(e,t,n){return c2.set.call(this,e[0],t,n,e[0])};var s7=function(){function e(n){var r=this;this.O=X3,this.D=!0,this.produce=function(i,a,s){if(typeof i=="function"&&typeof a!="function"){var o=a;a=i;var l=r;return function(y){var b=this;y===void 0&&(y=o);for(var w=arguments.length,x=Array(w>1?w-1:0),k=1;k<w;k++)x[k-1]=arguments[k];return l.produce(y,function(_){var A;return(A=a).call.apply(A,[b,_].concat(x))})}}var u;if(typeof a!="function"&&Bi(6),s!==void 0&&typeof s!="function"&&Bi(7),Xo(i)){var c=G3(r),h=u2(r,i,void 0),p=!0;try{u=a(h),p=!1}finally{p?bg(c):o2(c)}return typeof Promise<"u"&&u instanceof Promise?u.then(function(y){return L1(c,s),F1(y,c)},function(y){throw bg(c),y}):(L1(c,s),F1(u,c))}if(!i||typeof i!="object"){if((u=a(i))===void 0&&(u=i),u===HD&&(u=void 0),r.D&&ZS(u,!0),s){var m=[],g=[];pa("Patches").M(i,u,m,g),s(m,g)}return u}Bi(21,i)},this.produceWithPatches=function(i,a){if(typeof i=="function")return function(u){for(var c=arguments.length,h=Array(c>1?c-1:0),p=1;p<c;p++)h[p-1]=arguments[p];return r.produceWithPatches(u,function(m){return i.apply(void 0,[m].concat(h))})};var s,o,l=r.produce(i,a,function(u,c){s=u,o=c});return typeof Promise<"u"&&l instanceof Promise?l.then(function(u){return[u,s,o]}):[l,s,o]},typeof n?.useProxies=="boolean"&&this.setUseProxies(n.useProxies),typeof n?.autoFreeze=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){Xo(n)||Bi(8),Au(n)&&(n=e7(n));var r=G3(this),i=u2(this,n,void 0);return i[Yr].C=!0,o2(r),i},t.finishDraft=function(n,r){var i=n&&n[Yr],a=i.A;return L1(a,r),F1(void 0,a)},t.setAutoFreeze=function(n){this.D=n},t.setUseProxies=function(n){n&&!X3&&Bi(20),this.O=n},t.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var a=r[i];if(a.path.length===0&&a.op==="replace"){n=a.value;break}}i>-1&&(r=r.slice(i+1));var s=pa("Patches").$;return Au(n)?s(n,r):this.produce(n,function(o){return s(o,r)})},e}(),Xr=new s7,o7=Xr.produce;Xr.produceWithPatches.bind(Xr);Xr.setAutoFreeze.bind(Xr);Xr.setUseProxies.bind(Xr);Xr.applyPatches.bind(Xr);Xr.createDraft.bind(Xr);Xr.finishDraft.bind(Xr);const l7=o7;var qD="Expected a function",Z3=0/0,u7="[object Symbol]",c7=/^\s+|\s+$/g,d7=/^[-+]0x[0-9a-f]+$/i,h7=/^0b[01]+$/i,f7=/^0o[0-7]+$/i,p7=parseInt,m7=typeof jr=="object"&&jr&&jr.Object===Object&&jr,g7=typeof self=="object"&&self&&self.Object===Object&&self,y7=m7||g7||Function("return this")(),v7=Object.prototype,w7=v7.toString,b7=Math.max,x7=Math.min,U1=function(){return y7.Date.now()};function k7(e,t,n){var r,i,a,s,o,l,u=0,c=!1,h=!1,p=!0;if(typeof e!="function")throw new TypeError(qD);t=J3(t)||0,Sg(n)&&(c=!!n.leading,h="maxWait"in n,a=h?b7(J3(n.maxWait)||0,t):a,p="trailing"in n?!!n.trailing:p);function m(P){var N=r,B=i;return r=i=void 0,u=P,s=e.apply(B,N),s}function g(P){return u=P,o=setTimeout(w,t),c?m(P):s}function y(P){var N=P-l,B=P-u,j=t-N;return h?x7(j,a-B):j}function b(P){var N=P-l,B=P-u;return l===void 0||N>=t||N<0||h&&B>=a}function w(){var P=U1();if(b(P))return x(P);o=setTimeout(w,y(P))}function x(P){return o=void 0,p&&r?m(P):(r=i=void 0,s)}function k(){o!==void 0&&clearTimeout(o),u=0,r=l=i=o=void 0}function _(){return o===void 0?s:x(U1())}function A(){var P=U1(),N=b(P);if(r=arguments,i=this,l=P,N){if(o===void 0)return g(l);if(h)return o=setTimeout(w,t),m(l)}return o===void 0&&(o=setTimeout(w,t)),s}return A.cancel=k,A.flush=_,A}function S7(e,t,n){var r=!0,i=!0;if(typeof e!="function")throw new TypeError(qD);return Sg(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),k7(e,t,{leading:r,maxWait:t,trailing:i})}function Sg(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function C7(e){return!!e&&typeof e=="object"}function E7(e){return typeof e=="symbol"||C7(e)&&w7.call(e)==u7}function J3(e){if(typeof e=="number")return e;if(E7(e))return Z3;if(Sg(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Sg(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(c7,"");var n=h7.test(e);return n||f7.test(e)?p7(e.slice(2),n?2:8):d7.test(e)?Z3:+e}var T7=S7;const _7=Gi(T7);function I7(){for(var e=0,t,n,r="";e<arguments.length;)(t=arguments[e++])&&(n=KD(t))&&(r&&(r+=" "),r+=n);return r}function KD(e){if(typeof e=="string")return e;for(var t,n="",r=0;r<e.length;r++)e[r]&&(t=KD(e[r]))&&(n&&(n+=" "),n+=t);return n}var nC="-";function P7(e){var t=R7(e),n=e.conflictingClassGroups,r=e.conflictingClassGroupModifiers,i=r===void 0?{}:r;function a(o){var l=o.split(nC);return l[0]===""&&l.length!==1&&l.shift(),YD(l,t)||A7(o)}function s(o,l){var u=n[o]||[];return l&&i[o]?[].concat(u,i[o]):u}return{getClassGroupId:a,getConflictingClassGroupIds:s}}function YD(e,t){if(e.length===0)return t.classGroupId;var n=e[0],r=t.nextPart.get(n),i=r?YD(e.slice(1),r):void 0;if(i)return i;if(t.validators.length!==0){var a=e.join(nC);return t.validators.find(function(s){var o=s.validator;return o(a)})?.classGroupId}}var eI=/^\[(.+)\]$/;function A7(e){if(eI.test(e)){var t=eI.exec(e)[1],n=t?.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}}function R7(e){var t=e.theme,n=e.prefix,r={nextPart:new Map,validators:[]},i=N7(Object.entries(e.classGroups),n);return i.forEach(function(a){var s=a[0],o=a[1];d2(o,r,s,t)}),r}function d2(e,t,n,r){e.forEach(function(i){if(typeof i=="string"){var a=i===""?t:tI(t,i);a.classGroupId=n;return}if(typeof i=="function"){if(D7(i)){d2(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(function(s){var o=s[0],l=s[1];d2(l,tI(t,o),n,r)})})}function tI(e,t){var n=e;return t.split(nC).forEach(function(r){n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function D7(e){return e.isThemeGetter}function N7(e,t){return t?e.map(function(n){var r=n[0],i=n[1],a=i.map(function(s){return typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(function(o){var l=o[0],u=o[1];return[t+l,u]})):s});return[r,a]}):e}function M7(e){if(e<1)return{get:function(){},set:function(){}};var t=0,n=new Map,r=new Map;function i(a,s){n.set(a,s),t++,t>e&&(t=0,r=n,n=new Map)}return{get:function(s){var o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set:function(s,o){n.has(s)?n.set(s,o):i(s,o)}}}var XD="!";function O7(e){var t=e.separator||":",n=t.length===1,r=t[0],i=t.length;return function(s){for(var o=[],l=0,u=0,c,h=0;h<s.length;h++){var p=s[h];if(l===0){if(p===r&&(n||s.slice(h,h+i)===t)){o.push(s.slice(u,h)),u=h+i;continue}if(p==="/"){c=h;continue}}p==="["?l++:p==="]"&&l--}var m=o.length===0?s:s.substring(u),g=m.startsWith(XD),y=g?m.substring(1):m,b=c&&c>u?c-u:void 0;return{modifiers:o,hasImportantModifier:g,baseClassName:y,maybePostfixModifierPosition:b}}}function L7(e){if(e.length<=1)return e;var t=[],n=[];return e.forEach(function(r){var i=r[0]==="[";i?(t.push.apply(t,n.sort().concat([r])),n=[]):n.push(r)}),t.push.apply(t,n.sort()),t}function F7(e){return{cache:M7(e.cacheSize),splitModifiers:O7(e),...P7(e)}}var B7=/\s+/;function z7(e,t){var n=t.splitModifiers,r=t.getClassGroupId,i=t.getConflictingClassGroupIds,a=new Set;return e.trim().split(B7).map(function(s){var o=n(s),l=o.modifiers,u=o.hasImportantModifier,c=o.baseClassName,h=o.maybePostfixModifierPosition,p=r(h?c.substring(0,h):c),m=!!h;if(!p){if(!h)return{isTailwindClass:!1,originalClassName:s};if(p=r(c),!p)return{isTailwindClass:!1,originalClassName:s};m=!1}var g=L7(l).join(":"),y=u?g+XD:g;return{isTailwindClass:!0,modifierId:y,classGroupId:p,originalClassName:s,hasPostfixModifier:m}}).reverse().filter(function(s){if(!s.isTailwindClass)return!0;var o=s.modifierId,l=s.classGroupId,u=s.hasPostfixModifier,c=o+l;return a.has(c)?!1:(a.add(c),i(l,u).forEach(function(h){return a.add(o+h)}),!0)}).reverse().map(function(s){return s.originalClassName}).join(" ")}function U7(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i,a,s=o;function o(u){var c=t[0],h=t.slice(1),p=h.reduce(function(m,g){return g(m)},c());return r=F7(p),i=r.cache.get,a=r.cache.set,s=l,l(u)}function l(u){var c=i(u);if(c)return c;var h=z7(u,r);return a(u,h),h}return function(){return s(I7.apply(null,arguments))}}function Qt(e){var t=function(r){return r[e]||[]};return t.isThemeGetter=!0,t}var QD=/^\[(?:([a-z-]+):)?(.+)\]$/i,j7=/^\d+\/\d+$/,$7=new Set(["px","full","screen"]),V7=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,W7=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))/,G7=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function Di(e){return Po(e)||$7.has(e)||j7.test(e)||hs(e)}function hs(e){return tl(e,"length",Q7)}function H7(e){return tl(e,"size",ZD)}function q7(e){return tl(e,"position",ZD)}function K7(e){return tl(e,"url",Z7)}function pp(e){return tl(e,"number",Po)}function Po(e){return!Number.isNaN(Number(e))}function Y7(e){return e.endsWith("%")&&Po(e.slice(0,-1))}function Oc(e){return nI(e)||tl(e,"number",nI)}function wn(e){return QD.test(e)}function Lc(){return!0}function ls(e){return V7.test(e)}function X7(e){return tl(e,"",J7)}function tl(e,t,n){var r=QD.exec(e);return r?r[1]?r[1]===t:n(r[2]):!1}function Q7(e){return W7.test(e)}function ZD(){return!1}function Z7(e){return e.startsWith("url(")}function nI(e){return Number.isInteger(Number(e))}function J7(e){return G7.test(e)}function eU(){var e=Qt("colors"),t=Qt("spacing"),n=Qt("blur"),r=Qt("brightness"),i=Qt("borderColor"),a=Qt("borderRadius"),s=Qt("borderSpacing"),o=Qt("borderWidth"),l=Qt("contrast"),u=Qt("grayscale"),c=Qt("hueRotate"),h=Qt("invert"),p=Qt("gap"),m=Qt("gradientColorStops"),g=Qt("gradientColorStopPositions"),y=Qt("inset"),b=Qt("margin"),w=Qt("opacity"),x=Qt("padding"),k=Qt("saturate"),_=Qt("scale"),A=Qt("sepia"),P=Qt("skew"),N=Qt("space"),B=Qt("translate"),j=function(){return["auto","contain","none"]},W=function(){return["auto","hidden","clip","visible","scroll"]},K=function(){return["auto",t]},z=function(){return["",Di]},G=function(){return["auto",Po,wn]},M=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},te=function(){return["solid","dashed","dotted","double","none"]},X=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},ue=function(){return["start","end","center","between","around","evenly","stretch"]},de=function(){return["","0",wn]},ae=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},pe=function(){return[Po,pp]},F=function(){return[Po,wn]};return{cacheSize:500,theme:{colors:[Lc],spacing:[Di],blur:["none","",ls,hs],brightness:pe(),borderColor:[e],borderRadius:["none","","full",ls,hs],borderSpacing:[t],borderWidth:z(),contrast:pe(),grayscale:de(),hueRotate:F(),invert:de(),gap:[t],gradientColorStops:[e],gradientColorStopPositions:[Y7,hs],inset:K(),margin:K(),opacity:pe(),padding:[t],saturate:pe(),scale:pe(),sepia:de(),skew:F(),space:[t],translate:[t]},classGroups:{aspect:[{aspect:["auto","square","video",wn]}],container:["container"],columns:[{columns:[ls]}],"break-after":[{"break-after":ae()}],"break-before":[{"break-before":ae()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(M(),[wn])}],overflow:[{overflow:W()}],"overflow-x":[{"overflow-x":W()}],"overflow-y":[{"overflow-y":W()}],overscroll:[{overscroll:j()}],"overscroll-x":[{"overscroll-x":j()}],"overscroll-y":[{"overscroll-y":j()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Oc]}],basis:[{basis:[t]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",wn]}],grow:[{grow:de()}],shrink:[{shrink:de()}],order:[{order:["first","last","none",Oc]}],"grid-cols":[{"grid-cols":[Lc]}],"col-start-end":[{col:["auto",{span:[Oc]},wn]}],"col-start":[{"col-start":G()}],"col-end":[{"col-end":G()}],"grid-rows":[{"grid-rows":[Lc]}],"row-start-end":[{row:["auto",{span:[Oc]},wn]}],"row-start":[{"row-start":G()}],"row-end":[{"row-end":G()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",wn]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",wn]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal"].concat(ue())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(ue(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(ue(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",t]}],"min-w":[{"min-w":["min","max","fit",Di]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[ls]},ls,hs]}],h:[{h:[t,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",Di]}],"max-h":[{"max-h":[t,"min","max","fit"]}],"font-size":[{text:["base",ls,hs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",pp]}],"font-family":[{font:[Lc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",hs]}],"line-clamp":[{"line-clamp":["none",Po,pp]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Di]}],"list-image":[{"list-image":["none",wn]}],"list-style-type":[{list:["none","disc","decimal",wn]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(te(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",Di]}],"underline-offset":[{"underline-offset":["auto",Di]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:[t]}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",hs]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",wn]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(M(),[q7])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",H7]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},K7]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[].concat(te(),["hidden"])}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:te()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:[""].concat(te())}],"outline-offset":[{"outline-offset":[Di]}],"outline-w":[{outline:[Di]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[Di]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ls,X7]}],"shadow-color":[{shadow:[Lc]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":X()}],"bg-blend":[{"bg-blend":X()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",ls,wn]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[c]}],invert:[{invert:[h]}],saturate:[{saturate:[k]}],sepia:[{sepia:[A]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[c]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[k]}],"backdrop-sepia":[{"backdrop-sepia":[A]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",wn]}],duration:[{duration:F()}],ease:[{ease:["linear","in","out","in-out",wn]}],delay:[{delay:F()}],animate:[{animate:["none","spin","ping","pulse","bounce",wn]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[Oc,wn]}],"translate-x":[{"translate-x":[B]}],"translate-y":[{"translate-y":[B]}],"skew-x":[{"skew-x":[P]}],"skew-y":[{"skew-y":[P]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",wn]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",wn]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":[t]}],"scroll-mx":[{"scroll-mx":[t]}],"scroll-my":[{"scroll-my":[t]}],"scroll-ms":[{"scroll-ms":[t]}],"scroll-me":[{"scroll-me":[t]}],"scroll-mt":[{"scroll-mt":[t]}],"scroll-mr":[{"scroll-mr":[t]}],"scroll-mb":[{"scroll-mb":[t]}],"scroll-ml":[{"scroll-ml":[t]}],"scroll-p":[{"scroll-p":[t]}],"scroll-px":[{"scroll-px":[t]}],"scroll-py":[{"scroll-py":[t]}],"scroll-ps":[{"scroll-ps":[t]}],"scroll-pe":[{"scroll-pe":[t]}],"scroll-pt":[{"scroll-pt":[t]}],"scroll-pr":[{"scroll-pr":[t]}],"scroll-pb":[{"scroll-pb":[t]}],"scroll-pl":[{"scroll-pl":[t]}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",wn]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Di,pp]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var tU=U7(eU),h2;(e=>{e.create=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const n=Math.random()*16|0;return(t=="x"?n:n&3|8).toString(16)})})(h2||(h2={}));globalThis.ID=h2;globalThis.Buffer=jD.Buffer;globalThis.React=$e;globalThis.useState=$e.useState;globalThis.useMemo=$e.useMemo;globalThis.useCallback=$e.useCallback;globalThis.useEffect=$e.useEffect;globalThis.useRef=$e.useRef;globalThis.useReducer=$e.useReducer;globalThis.useContext=$e.useContext;globalThis.useLayoutEffect=$e.useLayoutEffect;globalThis.useDebugValue=$e.useDebugValue;globalThis.keys=function(...e){return e.map(t=>`${t}`).join(".")};globalThis.css=WD;globalThis.classes=function(...e){return tU(VD(...e))};globalThis.spy=function(e){return console.log(e),e};globalThis.spyJSON=function(e){return console.log(JSON.stringify(e,null,2)),e};globalThis.doNothing=()=>{};globalThis.clamp=function(e,t,n){return Math.min(Math.max(e,t),n)};globalThis.copy=l7;globalThis.throttle=_7;globalThis.toJSON=function(e){try{return JSON.stringify(e,null,2)}catch{return`{ "message": "Failed to parse JSON: \`${e}\`" }`}};/**
 * @remix-run/router v1.6.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lh(){return lh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lh.apply(this,arguments)}var Is;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Is||(Is={}));const rI="popstate";function nU(e){e===void 0&&(e={});function t(r,i){let{pathname:a,search:s,hash:o}=r.location;return f2("",{pathname:a,search:s,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Cg(i)}return iU(t,n,null,e)}function jn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function rC(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function rU(){return Math.random().toString(36).substr(2,8)}function iI(e,t){return{usr:e.state,key:e.key,idx:t}}function f2(e,t,n,r){return n===void 0&&(n=null),lh({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Qu(t):t,{state:n,key:t&&t.key||r||rU()})}function Cg(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Qu(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function iU(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,o=Is.Pop,l=null,u=c();u==null&&(u=0,s.replaceState(lh({},s.state,{idx:u}),""));function c(){return(s.state||{idx:null}).idx}function h(){o=Is.Pop;let b=c(),w=b==null?null:b-u;u=b,l&&l({action:o,location:y.location,delta:w})}function p(b,w){o=Is.Push;let x=f2(y.location,b,w);n&&n(x,b),u=c()+1;let k=iI(x,u),_=y.createHref(x);try{s.pushState(k,"",_)}catch{i.location.assign(_)}a&&l&&l({action:o,location:y.location,delta:1})}function m(b,w){o=Is.Replace;let x=f2(y.location,b,w);n&&n(x,b),u=c();let k=iI(x,u),_=y.createHref(x);s.replaceState(k,"",_),a&&l&&l({action:o,location:y.location,delta:0})}function g(b){let w=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof b=="string"?b:Cg(b);return jn(w,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,w)}let y={get action(){return o},get location(){return e(i,s)},listen(b){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(rI,h),l=b,()=>{i.removeEventListener(rI,h),l=null}},createHref(b){return t(i,b)},createURL:g,encodeLocation(b){let w=g(b);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:p,replace:m,go(b){return s.go(b)}};return y}var aI;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(aI||(aI={}));function aU(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?Qu(t):t,i=iC(r.pathname||"/",n);if(i==null)return null;let a=JD(e);sU(a);let s=null;for(let o=0;s==null&&o<a.length;++o)s=mU(a[o],vU(i));return s}function JD(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,s,o)=>{let l={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};l.relativePath.startsWith("/")&&(jn(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Bs([r,l.relativePath]),c=n.concat(l);a.children&&a.children.length>0&&(jn(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),JD(a.children,t,c,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:fU(u,a.index),routesMeta:c})};return e.forEach((a,s)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))i(a,s);else for(let l of eN(a.path))i(a,s,l)}),t}function eN(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let s=eN(r.join("/")),o=[];return o.push(...s.map(l=>l===""?a:[a,l].join("/"))),i&&o.push(...s),o.map(l=>e.startsWith("/")&&l===""?"/":l)}function sU(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:pU(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const oU=/^:\w+$/,lU=3,uU=2,cU=1,dU=10,hU=-2,sI=e=>e==="*";function fU(e,t){let n=e.split("/"),r=n.length;return n.some(sI)&&(r+=hU),t&&(r+=uU),n.filter(i=>!sI(i)).reduce((i,a)=>i+(oU.test(a)?lU:a===""?cU:dU),r)}function pU(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function mU(e,t){let{routesMeta:n}=e,r={},i="/",a=[];for(let s=0;s<n.length;++s){let o=n[s],l=s===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",c=gU({path:o.relativePath,caseSensitive:o.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let h=o.route;a.push({params:r,pathname:Bs([i,c.pathname]),pathnameBase:kU(Bs([i,c.pathnameBase])),route:h}),c.pathnameBase!=="/"&&(i=Bs([i,c.pathnameBase]))}return a}function gU(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=yU(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((u,c,h)=>{if(c==="*"){let p=o[h]||"";s=a.slice(0,a.length-p.length).replace(/(.)\/+$/,"$1")}return u[c]=wU(o[h]||"",c),u},{}),pathname:a,pathnameBase:s,pattern:e}}function yU(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),rC(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(s,o)=>(r.push(o),"/([^\\/]+)"));return e.endsWith("*")?(r.push("*"),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function vU(e){try{return decodeURI(e)}catch(t){return rC(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function wU(e,t){try{return decodeURIComponent(e)}catch(n){return rC(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function iC(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function bU(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Qu(e):e;return{pathname:n?n.startsWith("/")?n:xU(n,t):t,search:SU(r),hash:CU(i)}}function xU(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function j1(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function tN(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function nN(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Qu(e):(i=lh({},e),jn(!i.pathname||!i.pathname.includes("?"),j1("?","pathname","search",i)),jn(!i.pathname||!i.pathname.includes("#"),j1("#","pathname","hash",i)),jn(!i.search||!i.search.includes("#"),j1("#","search","hash",i)));let a=e===""||i.pathname==="",s=a?"/":i.pathname,o;if(r||s==null)o=n;else{let h=t.length-1;if(s.startsWith("..")){let p=s.split("/");for(;p[0]==="..";)p.shift(),h-=1;i.pathname=p.join("/")}o=h>=0?t[h]:"/"}let l=bU(i,o),u=s&&s!=="/"&&s.endsWith("/"),c=(a||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Bs=e=>e.join("/").replace(/\/\/+/g,"/"),kU=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),SU=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,CU=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function EU(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const rN=["post","put","patch","delete"];new Set(rN);const TU=["get",...rN];new Set(TU);/**
 * React Router v6.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Eg(){return Eg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Eg.apply(this,arguments)}const aC=Y.createContext(null),iN=Y.createContext(null),Zu=Y.createContext(null),oy=Y.createContext(null),Ju=Y.createContext({outlet:null,matches:[]}),aN=Y.createContext(null);function _U(e,t){let{relative:n}=t===void 0?{}:t;ec()||jn(!1);let{basename:r,navigator:i}=Y.useContext(Zu),{hash:a,pathname:s,search:o}=oN(e,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:Bs([r,s])),i.createHref({pathname:l,search:o,hash:a})}function ec(){return Y.useContext(oy)!=null}function qs(){return ec()||jn(!1),Y.useContext(oy).location}function sN(e){Y.useContext(Zu).static||Y.useLayoutEffect(e)}function sC(){return Y.useContext(aC)!=null?UU():IU()}function IU(){ec()||jn(!1);let{basename:e,navigator:t}=Y.useContext(Zu),{matches:n}=Y.useContext(Ju),{pathname:r}=qs(),i=JSON.stringify(tN(n).map(o=>o.pathnameBase)),a=Y.useRef(!1);return sN(()=>{a.current=!0}),Y.useCallback(function(o,l){if(l===void 0&&(l={}),!a.current)return;if(typeof o=="number"){t.go(o);return}let u=nN(o,JSON.parse(i),r,l.relative==="path");e!=="/"&&(u.pathname=u.pathname==="/"?e:Bs([e,u.pathname])),(l.replace?t.replace:t.push)(u,l.state,l)},[e,t,i,r])}function oN(e,t){let{relative:n}=t===void 0?{}:t,{matches:r}=Y.useContext(Ju),{pathname:i}=qs(),a=JSON.stringify(tN(r).map(s=>s.pathnameBase));return Y.useMemo(()=>nN(e,JSON.parse(a),i,n==="path"),[e,a,i,n])}function PU(e,t){return AU(e,t)}function AU(e,t,n){ec()||jn(!1);let{navigator:r}=Y.useContext(Zu),{matches:i}=Y.useContext(Ju),a=i[i.length-1],s=a?a.params:{};a&&a.pathname;let o=a?a.pathnameBase:"/";a&&a.route;let l=qs(),u;if(t){var c;let y=typeof t=="string"?Qu(t):t;o==="/"||(c=y.pathname)!=null&&c.startsWith(o)||jn(!1),u=y}else u=l;let h=u.pathname||"/",p=o==="/"?h:h.slice(o.length)||"/",m=aU(e,{pathname:p}),g=OU(m&&m.map(y=>Object.assign({},y,{params:Object.assign({},s,y.params),pathname:Bs([o,r.encodeLocation?r.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?o:Bs([o,r.encodeLocation?r.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,n);return t&&g?Y.createElement(oy.Provider,{value:{location:Eg({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Is.Pop}},g):g}function RU(){let e=zU(),t=EU(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},a=null;return Y.createElement(Y.Fragment,null,Y.createElement("h2",null,"Unexpected Application Error!"),Y.createElement("h3",{style:{fontStyle:"italic"}},t),n?Y.createElement("pre",{style:i},n):null,a)}const DU=Y.createElement(RU,null);class NU extends Y.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error||n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error?Y.createElement(Ju.Provider,{value:this.props.routeContext},Y.createElement(aN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function MU(e){let{routeContext:t,match:n,children:r}=e,i=Y.useContext(aC);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),Y.createElement(Ju.Provider,{value:t},r)}function OU(e,t,n){var r;if(t===void 0&&(t=[]),n===void 0&&(n=null),e==null){var i;if((i=n)!=null&&i.errors)e=n.matches;else return null}let a=e,s=(r=n)==null?void 0:r.errors;if(s!=null){let o=a.findIndex(l=>l.route.id&&s?.[l.route.id]);o>=0||jn(!1),a=a.slice(0,Math.min(a.length,o+1))}return a.reduceRight((o,l,u)=>{let c=l.route.id?s?.[l.route.id]:null,h=null;n&&(h=l.route.errorElement||DU);let p=t.concat(a.slice(0,u+1)),m=()=>{let g;return c?g=h:l.route.element?g=l.route.element:g=o,Y.createElement(MU,{match:l,routeContext:{outlet:o,matches:p},children:g})};return n&&(l.route.ErrorBoundary||l.route.errorElement||u===0)?Y.createElement(NU,{location:n.location,revalidation:n.revalidation,component:h,error:c,children:m(),routeContext:{outlet:null,matches:p}}):m()},null)}var p2;(function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate"})(p2||(p2={}));var uh;(function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId"})(uh||(uh={}));function LU(e){let t=Y.useContext(aC);return t||jn(!1),t}function FU(e){let t=Y.useContext(iN);return t||jn(!1),t}function BU(e){let t=Y.useContext(Ju);return t||jn(!1),t}function lN(e){let t=BU(),n=t.matches[t.matches.length-1];return n.route.id||jn(!1),n.route.id}function zU(){var e;let t=Y.useContext(aN),n=FU(uh.UseRouteError),r=lN(uh.UseRouteError);return t||((e=n.errors)==null?void 0:e[r])}function UU(){let{router:e}=LU(p2.UseNavigateStable),t=lN(uh.UseNavigateStable),n=Y.useRef(!1);return sN(()=>{n.current=!0}),Y.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Eg({fromRouteId:t},a)))},[e,t])}function jU(e){let{to:t,replace:n,state:r,relative:i}=e;ec()||jn(!1);let a=Y.useContext(iN),s=sC();return Y.useEffect(()=>{a&&a.navigation.state!=="idle"||s(t,{replace:n,state:r,relative:i})}),null}function $U(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Is.Pop,navigator:a,static:s=!1}=e;ec()&&jn(!1);let o=t.replace(/^\/*/,"/"),l=Y.useMemo(()=>({basename:o,navigator:a,static:s}),[o,a,s]);typeof r=="string"&&(r=Qu(r));let{pathname:u="/",search:c="",hash:h="",state:p=null,key:m="default"}=r,g=Y.useMemo(()=>{let y=iC(u,o);return y==null?null:{location:{pathname:y,search:c,hash:h,state:p,key:m},navigationType:i}},[o,u,c,h,p,m,i]);return g==null?null:Y.createElement(Zu.Provider,{value:l},Y.createElement(oy.Provider,{children:n,value:g}))}var oI;(function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"})(oI||(oI={}));new Promise(()=>{});/**
 * React Router DOM v6.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function m2(){return m2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m2.apply(this,arguments)}function VU(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function WU(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function GU(e,t){return e.button===0&&(!t||t==="_self")&&!WU(e)}const HU=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function qU(e){let{basename:t,children:n,window:r}=e,i=Y.useRef();i.current==null&&(i.current=nU({window:r,v5Compat:!0}));let a=i.current,[s,o]=Y.useState({action:a.action,location:a.location});return Y.useLayoutEffect(()=>a.listen(o),[a]),Y.createElement($U,{basename:t,children:n,location:s.location,navigationType:s.action,navigator:a})}const KU=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",YU=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ly=Y.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:a,replace:s,state:o,target:l,to:u,preventScrollReset:c}=t,h=VU(t,HU),{basename:p}=Y.useContext(Zu),m,g=!1;if(typeof u=="string"&&YU.test(u)&&(m=u,KU))try{let x=new URL(window.location.href),k=u.startsWith("//")?new URL(x.protocol+u):new URL(u),_=iC(k.pathname,p);k.origin===x.origin&&_!=null?u=_+k.search+k.hash:g=!0}catch{}let y=_U(u,{relative:i}),b=XU(u,{replace:s,state:o,target:l,preventScrollReset:c,relative:i});function w(x){r&&r(x),x.defaultPrevented||b(x)}return Y.createElement("a",m2({},h,{href:m||y,onClick:g||a?r:w,ref:n,target:l}))});var lI;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(lI||(lI={}));var uI;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(uI||(uI={}));function XU(e,t){let{target:n,replace:r,state:i,preventScrollReset:a,relative:s}=t===void 0?{}:t,o=sC(),l=qs(),u=oN(e,{relative:s});return Y.useCallback(c=>{if(GU(c,n)){c.preventDefault();let h=r!==void 0?r:Cg(l)===Cg(u);o(e,{replace:h,state:i,preventScrollReset:a,relative:s})}},[l,o,u,r,i,n,e,a,s])}const cI=e=>{let t;const n=new Set,r=(l,u)=>{const c=typeof l=="function"?l(t):l;if(!Object.is(c,t)){const h=t;t=u??typeof c!="object"?c:Object.assign({},t,c),n.forEach(p=>p(t,h))}},i=()=>t,o={setState:r,getState:i,subscribe:l=>(n.add(l),()=>n.delete(l)),destroy:()=>{({VITE_GIT_HASH:"76772d7b9a4e6d87bd87c26665f7ab74cd40f2cd",BASE_URL:"/extensions/omni-extension-stability/",MODE:"preview",DEV:!1,PROD:!0,SSR:!1}&&"preview")!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}};return t=e(r,i,o),o},uN=e=>e?cI(e):cI;var cN={exports:{}},dN={},hN={exports:{}},fN={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ru=Y;function QU(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ZU=typeof Object.is=="function"?Object.is:QU,JU=Ru.useState,ej=Ru.useEffect,tj=Ru.useLayoutEffect,nj=Ru.useDebugValue;function rj(e,t){var n=t(),r=JU({inst:{value:n,getSnapshot:t}}),i=r[0].inst,a=r[1];return tj(function(){i.value=n,i.getSnapshot=t,$1(i)&&a({inst:i})},[e,n,t]),ej(function(){return $1(i)&&a({inst:i}),e(function(){$1(i)&&a({inst:i})})},[e]),nj(n),n}function $1(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ZU(e,n)}catch{return!0}}function ij(e,t){return t()}var aj=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?ij:rj;fN.useSyncExternalStore=Ru.useSyncExternalStore!==void 0?Ru.useSyncExternalStore:aj;hN.exports=fN;var pN=hN.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uy=Y,sj=pN;function oj(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var lj=typeof Object.is=="function"?Object.is:oj,uj=sj.useSyncExternalStore,cj=uy.useRef,dj=uy.useEffect,hj=uy.useMemo,fj=uy.useDebugValue;dN.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var a=cj(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=hj(function(){function l(m){if(!u){if(u=!0,c=m,m=r(m),i!==void 0&&s.hasValue){var g=s.value;if(i(g,m))return h=g}return h=m}if(g=h,lj(c,m))return g;var y=r(m);return i!==void 0&&i(g,y)?g:(c=m,h=y)}var u=!1,c,h,p=n===void 0?null:n;return[function(){return l(t())},p===null?void 0:function(){return l(p())}]},[t,n,r,i]);var o=uj(e,a[0],a[1]);return dj(function(){s.hasValue=!0,s.value=o},[o]),fj(o),o};cN.exports=dN;var pj=cN.exports;const mj=Gi(pj),{useSyncExternalStoreWithSelector:gj}=mj;function oC(e,t=e.getState,n){const r=gj(e.subscribe,e.getState,e.getServerState||e.getState,t,n);return Y.useDebugValue(r),r}const dI=e=>{({VITE_GIT_HASH:"76772d7b9a4e6d87bd87c26665f7ab74cd40f2cd",BASE_URL:"/extensions/omni-extension-stability/",MODE:"preview",DEV:!1,PROD:!0,SSR:!1}&&"preview")!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?uN(e):e,n=(r,i)=>oC(t,r,i);return Object.assign(n,t),n},Bh=e=>e?dI(e):dI;var yj=e=>(({VITE_GIT_HASH:"76772d7b9a4e6d87bd87c26665f7ab74cd40f2cd",BASE_URL:"/extensions/omni-extension-stability/",MODE:"preview",DEV:!1,PROD:!0,SSR:!1}&&"preview")!=="production"&&console.warn("[DEPRECATED] Default export is deprecated. Instead use `import { create } from 'zustand'`."),Bh(e));const vj=Object.freeze(Object.defineProperty({__proto__:null,create:Bh,createStore:uN,default:yj,useStore:oC},Symbol.toStringTag,{value:"Module"}));function wj(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,i]of e)if(!Object.is(i,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(t,n[r])||!Object.is(e[n[r]],t[n[r]]))return!1;return!0}var et;(e=>{e.create=Bh,e.shallow=wj,e.useStore=oC})(et||(et={}));var bj=Math.PI/180;function xj(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}const fu=typeof global<"u"?global:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},Ge={_global:fu,version:"8.4.3",isBrowser:xj(),isUnminified:/param/.test(function(e){}.toString()),dblClickWindow:400,getAngle(e){return Ge.angleDeg?e*bj:e},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return Ge.DD.isDragging},isDragReady(){return!!Ge.DD.node},releaseCanvasOnDestroy:!0,document:fu.document,_injectGlobal(e){fu.Konva=e}},fn=e=>{Ge[e.prototype.getClassName()]=e};Ge._injectGlobal(Ge);class $r{constructor(t=[1,0,0,1,0,0]){this.dirty=!1,this.m=t&&t.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new $r(this.m)}copyInto(t){t.m[0]=this.m[0],t.m[1]=this.m[1],t.m[2]=this.m[2],t.m[3]=this.m[3],t.m[4]=this.m[4],t.m[5]=this.m[5]}point(t){var n=this.m;return{x:n[0]*t.x+n[2]*t.y+n[4],y:n[1]*t.x+n[3]*t.y+n[5]}}translate(t,n){return this.m[4]+=this.m[0]*t+this.m[2]*n,this.m[5]+=this.m[1]*t+this.m[3]*n,this}scale(t,n){return this.m[0]*=t,this.m[1]*=t,this.m[2]*=n,this.m[3]*=n,this}rotate(t){var n=Math.cos(t),r=Math.sin(t),i=this.m[0]*n+this.m[2]*r,a=this.m[1]*n+this.m[3]*r,s=this.m[0]*-r+this.m[2]*n,o=this.m[1]*-r+this.m[3]*n;return this.m[0]=i,this.m[1]=a,this.m[2]=s,this.m[3]=o,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(t,n){var r=this.m[0]+this.m[2]*n,i=this.m[1]+this.m[3]*n,a=this.m[2]+this.m[0]*t,s=this.m[3]+this.m[1]*t;return this.m[0]=r,this.m[1]=i,this.m[2]=a,this.m[3]=s,this}multiply(t){var n=this.m[0]*t.m[0]+this.m[2]*t.m[1],r=this.m[1]*t.m[0]+this.m[3]*t.m[1],i=this.m[0]*t.m[2]+this.m[2]*t.m[3],a=this.m[1]*t.m[2]+this.m[3]*t.m[3],s=this.m[0]*t.m[4]+this.m[2]*t.m[5]+this.m[4],o=this.m[1]*t.m[4]+this.m[3]*t.m[5]+this.m[5];return this.m[0]=n,this.m[1]=r,this.m[2]=i,this.m[3]=a,this.m[4]=s,this.m[5]=o,this}invert(){var t=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),n=this.m[3]*t,r=-this.m[1]*t,i=-this.m[2]*t,a=this.m[0]*t,s=t*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),o=t*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=n,this.m[1]=r,this.m[2]=i,this.m[3]=a,this.m[4]=s,this.m[5]=o,this}getMatrix(){return this.m}decompose(){var t=this.m[0],n=this.m[1],r=this.m[2],i=this.m[3],a=this.m[4],s=this.m[5],o=t*i-n*r;let l={x:a,y:s,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(t!=0||n!=0){var u=Math.sqrt(t*t+n*n);l.rotation=n>0?Math.acos(t/u):-Math.acos(t/u),l.scaleX=u,l.scaleY=o/u,l.skewX=(t*r+n*i)/o,l.skewY=0}else if(r!=0||i!=0){var c=Math.sqrt(r*r+i*i);l.rotation=Math.PI/2-(i>0?Math.acos(-r/c):-Math.acos(r/c)),l.scaleX=o/c,l.scaleY=c,l.skewX=0,l.skewY=(t*r+n*i)/o}return l.rotation=ce._getRotation(l.rotation),l}}var kj="[object Array]",Sj="[object Number]",Cj="[object String]",Ej="[object Boolean]",Tj=Math.PI/180,_j=180/Math.PI,V1="#",Ij="",Pj="0",Aj="Konva warning: ",hI="Konva error: ",Rj="rgb(",W1={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},Dj=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/,mp=[];const Nj=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(e){setTimeout(e,60)},ce={_isElement(e){return!!(e&&e.nodeType==1)},_isFunction(e){return!!(e&&e.constructor&&e.call&&e.apply)},_isPlainObject(e){return!!e&&e.constructor===Object},_isArray(e){return Object.prototype.toString.call(e)===kj},_isNumber(e){return Object.prototype.toString.call(e)===Sj&&!isNaN(e)&&isFinite(e)},_isString(e){return Object.prototype.toString.call(e)===Cj},_isBoolean(e){return Object.prototype.toString.call(e)===Ej},isObject(e){return e instanceof Object},isValidSelector(e){if(typeof e!="string")return!1;var t=e[0];return t==="#"||t==="."||t===t.toUpperCase()},_sign(e){return e===0||e>0?1:-1},requestAnimFrame(e){mp.push(e),mp.length===1&&Nj(function(){const t=mp;mp=[],t.forEach(function(n){n()})})},createCanvasElement(){var e=document.createElement("canvas");try{e.style=e.style||{}}catch{}return e},createImageElement(){return document.createElement("img")},_isInDocument(e){for(;e=e.parentNode;)if(e==document)return!0;return!1},_urlToImage(e,t){var n=ce.createImageElement();n.onload=function(){t(n)},n.src=e},_rgbToHex(e,t,n){return((1<<24)+(e<<16)+(t<<8)+n).toString(16).slice(1)},_hexToRgb(e){e=e.replace(V1,Ij);var t=parseInt(e,16);return{r:t>>16&255,g:t>>8&255,b:t&255}},getRandomColor(){for(var e=(Math.random()*16777215<<0).toString(16);e.length<6;)e=Pj+e;return V1+e},getRGB(e){var t;return e in W1?(t=W1[e],{r:t[0],g:t[1],b:t[2]}):e[0]===V1?this._hexToRgb(e.substring(1)):e.substr(0,4)===Rj?(t=Dj.exec(e.replace(/ /g,"")),{r:parseInt(t[1],10),g:parseInt(t[2],10),b:parseInt(t[3],10)}):{r:0,g:0,b:0}},colorToRGBA(e){return e=e||"black",ce._namedColorToRBA(e)||ce._hex3ColorToRGBA(e)||ce._hex4ColorToRGBA(e)||ce._hex6ColorToRGBA(e)||ce._hex8ColorToRGBA(e)||ce._rgbColorToRGBA(e)||ce._rgbaColorToRGBA(e)||ce._hslColorToRGBA(e)},_namedColorToRBA(e){var t=W1[e.toLowerCase()];return t?{r:t[0],g:t[1],b:t[2],a:1}:null},_rgbColorToRGBA(e){if(e.indexOf("rgb(")===0){e=e.match(/rgb\(([^)]+)\)/)[1];var t=e.split(/ *, */).map(Number);return{r:t[0],g:t[1],b:t[2],a:1}}},_rgbaColorToRGBA(e){if(e.indexOf("rgba(")===0){e=e.match(/rgba\(([^)]+)\)/)[1];var t=e.split(/ *, */).map((n,r)=>n.slice(-1)==="%"?r===3?parseInt(n)/100:parseInt(n)/100*255:Number(n));return{r:t[0],g:t[1],b:t[2],a:t[3]}}},_hex8ColorToRGBA(e){if(e[0]==="#"&&e.length===9)return{r:parseInt(e.slice(1,3),16),g:parseInt(e.slice(3,5),16),b:parseInt(e.slice(5,7),16),a:parseInt(e.slice(7,9),16)/255}},_hex6ColorToRGBA(e){if(e[0]==="#"&&e.length===7)return{r:parseInt(e.slice(1,3),16),g:parseInt(e.slice(3,5),16),b:parseInt(e.slice(5,7),16),a:1}},_hex4ColorToRGBA(e){if(e[0]==="#"&&e.length===5)return{r:parseInt(e[1]+e[1],16),g:parseInt(e[2]+e[2],16),b:parseInt(e[3]+e[3],16),a:parseInt(e[4]+e[4],16)/255}},_hex3ColorToRGBA(e){if(e[0]==="#"&&e.length===4)return{r:parseInt(e[1]+e[1],16),g:parseInt(e[2]+e[2],16),b:parseInt(e[3]+e[3],16),a:1}},_hslColorToRGBA(e){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(e)){const[t,...n]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(e),r=Number(n[0])/360,i=Number(n[1])/100,a=Number(n[2])/100;let s,o,l;if(i===0)return l=a*255,{r:Math.round(l),g:Math.round(l),b:Math.round(l),a:1};a<.5?s=a*(1+i):s=a+i-a*i;const u=2*a-s,c=[0,0,0];for(let h=0;h<3;h++)o=r+1/3*-(h-1),o<0&&o++,o>1&&o--,6*o<1?l=u+(s-u)*6*o:2*o<1?l=s:3*o<2?l=u+(s-u)*(2/3-o)*6:l=u,c[h]=l*255;return{r:Math.round(c[0]),g:Math.round(c[1]),b:Math.round(c[2]),a:1}}},haveIntersection(e,t){return!(t.x>e.x+e.width||t.x+t.width<e.x||t.y>e.y+e.height||t.y+t.height<e.y)},cloneObject(e){var t={};for(var n in e)this._isPlainObject(e[n])?t[n]=this.cloneObject(e[n]):this._isArray(e[n])?t[n]=this.cloneArray(e[n]):t[n]=e[n];return t},cloneArray(e){return e.slice(0)},degToRad(e){return e*Tj},radToDeg(e){return e*_j},_degToRad(e){return ce.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),ce.degToRad(e)},_radToDeg(e){return ce.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),ce.radToDeg(e)},_getRotation(e){return Ge.angleDeg?ce.radToDeg(e):e},_capitalize(e){return e.charAt(0).toUpperCase()+e.slice(1)},throw(e){throw new Error(hI+e)},error(e){console.error(hI+e)},warn(e){Ge.showWarnings&&console.warn(Aj+e)},each(e,t){for(var n in e)t(n,e[n])},_inRange(e,t,n){return t<=e&&e<n},_getProjectionToSegment(e,t,n,r,i,a){var s,o,l,u=(e-n)*(e-n)+(t-r)*(t-r);if(u==0)s=e,o=t,l=(i-n)*(i-n)+(a-r)*(a-r);else{var c=((i-e)*(n-e)+(a-t)*(r-t))/u;c<0?(s=e,o=t,l=(e-i)*(e-i)+(t-a)*(t-a)):c>1?(s=n,o=r,l=(n-i)*(n-i)+(r-a)*(r-a)):(s=e+c*(n-e),o=t+c*(r-t),l=(s-i)*(s-i)+(o-a)*(o-a))}return[s,o,l]},_getProjectionToLine(e,t,n){var r=ce.cloneObject(e),i=Number.MAX_VALUE;return t.forEach(function(a,s){if(!(!n&&s===t.length-1)){var o=t[(s+1)%t.length],l=ce._getProjectionToSegment(a.x,a.y,o.x,o.y,e.x,e.y),u=l[0],c=l[1],h=l[2];h<i&&(r.x=u,r.y=c,i=h)}}),r},_prepareArrayForTween(e,t,n){var r,i=[],a=[];if(e.length>t.length){var s=t;t=e,e=s}for(r=0;r<e.length;r+=2)i.push({x:e[r],y:e[r+1]});for(r=0;r<t.length;r+=2)a.push({x:t[r],y:t[r+1]});var o=[];return a.forEach(function(l){var u=ce._getProjectionToLine(l,i,n);o.push(u.x),o.push(u.y)}),o},_prepareToStringify(e){var t;e.visitedByCircularReferenceRemoval=!0;for(var n in e)if(e.hasOwnProperty(n)&&e[n]&&typeof e[n]=="object"){if(t=Object.getOwnPropertyDescriptor(e,n),e[n].visitedByCircularReferenceRemoval||ce._isElement(e[n]))if(t.configurable)delete e[n];else return null;else if(ce._prepareToStringify(e[n])===null)if(t.configurable)delete e[n];else return null}return delete e.visitedByCircularReferenceRemoval,e},_assign(e,t){for(var n in t)e[n]=t[n];return e},_getFirstPointerId(e){return e.touches?e.changedTouches[0].identifier:e.pointerId||999},releaseCanvas(...e){Ge.releaseCanvasOnDestroy&&e.forEach(t=>{t.width=0,t.height=0})},drawRoundedRectPath(e,t,n,r){let i=0,a=0,s=0,o=0;typeof r=="number"?i=a=s=o=Math.min(r,t/2,n/2):(i=Math.min(r[0]||0,t/2,n/2),a=Math.min(r[1]||0,t/2,n/2),o=Math.min(r[2]||0,t/2,n/2),s=Math.min(r[3]||0,t/2,n/2)),e.moveTo(i,0),e.lineTo(t-a,0),e.arc(t-a,a,a,Math.PI*3/2,0,!1),e.lineTo(t,n-o),e.arc(t-o,n-o,o,0,Math.PI/2,!1),e.lineTo(s,n),e.arc(s,n-s,s,Math.PI/2,Math.PI,!1),e.lineTo(0,i),e.arc(i,i,i,Math.PI,Math.PI*3/2,!1)}};function Ks(e){return ce._isString(e)?'"'+e+'"':Object.prototype.toString.call(e)==="[object Number]"||ce._isBoolean(e)?e:Object.prototype.toString.call(e)}function mN(e){return e>255?255:e<0?0:Math.round(e)}function Oe(){if(Ge.isUnminified)return function(e,t){return ce._isNumber(e)||ce.warn(Ks(e)+' is a not valid value for "'+t+'" attribute. The value should be a number.'),e}}function lC(e){if(Ge.isUnminified)return function(t,n){let r=ce._isNumber(t),i=ce._isArray(t)&&t.length==e;return!r&&!i&&ce.warn(Ks(t)+' is a not valid value for "'+n+'" attribute. The value should be a number or Array<number>('+e+")"),t}}function uC(){if(Ge.isUnminified)return function(e,t){var n=ce._isNumber(e),r=e==="auto";return n||r||ce.warn(Ks(e)+' is a not valid value for "'+t+'" attribute. The value should be a number or "auto".'),e}}function tc(){if(Ge.isUnminified)return function(e,t){return ce._isString(e)||ce.warn(Ks(e)+' is a not valid value for "'+t+'" attribute. The value should be a string.'),e}}function gN(){if(Ge.isUnminified)return function(e,t){const n=ce._isString(e),r=Object.prototype.toString.call(e)==="[object CanvasGradient]"||e&&e.addColorStop;return n||r||ce.warn(Ks(e)+' is a not valid value for "'+t+'" attribute. The value should be a string or a native gradient.'),e}}function Mj(){if(Ge.isUnminified)return function(e,t){const n=Int8Array?Object.getPrototypeOf(Int8Array):null;return n&&e instanceof n||(ce._isArray(e)?e.forEach(function(r){ce._isNumber(r)||ce.warn('"'+t+'" attribute has non numeric element '+r+". Make sure that all elements are numbers.")}):ce.warn(Ks(e)+' is a not valid value for "'+t+'" attribute. The value should be a array of numbers.')),e}}function Hi(){if(Ge.isUnminified)return function(e,t){var n=e===!0||e===!1;return n||ce.warn(Ks(e)+' is a not valid value for "'+t+'" attribute. The value should be a boolean.'),e}}function Oj(e){if(Ge.isUnminified)return function(t,n){return t==null||ce.isObject(t)||ce.warn(Ks(t)+' is a not valid value for "'+n+'" attribute. The value should be an object with properties '+e),t}}var Fc="get",Bc="set";const Z={addGetterSetter(e,t,n,r,i){Z.addGetter(e,t,n),Z.addSetter(e,t,r,i),Z.addOverloadedGetterSetter(e,t)},addGetter(e,t,n){var r=Fc+ce._capitalize(t);e.prototype[r]=e.prototype[r]||function(){var i=this.attrs[t];return i===void 0?n:i}},addSetter(e,t,n,r){var i=Bc+ce._capitalize(t);e.prototype[i]||Z.overWriteSetter(e,t,n,r)},overWriteSetter(e,t,n,r){var i=Bc+ce._capitalize(t);e.prototype[i]=function(a){return n&&a!==void 0&&a!==null&&(a=n.call(this,a,t)),this._setAttr(t,a),r&&r.call(this),this}},addComponentsGetterSetter(e,t,n,r,i){var a=n.length,s=ce._capitalize,o=Fc+s(t),l=Bc+s(t),u,c;e.prototype[o]=function(){var p={};for(u=0;u<a;u++)c=n[u],p[c]=this.getAttr(t+s(c));return p};var h=Oj(n);e.prototype[l]=function(p){var m=this.attrs[t],g;r&&(p=r.call(this,p)),h&&h.call(this,p,t);for(g in p)p.hasOwnProperty(g)&&this._setAttr(t+s(g),p[g]);return p||n.forEach(y=>{this._setAttr(t+s(y),void 0)}),this._fireChangeEvent(t,m,p),i&&i.call(this),this},Z.addOverloadedGetterSetter(e,t)},addOverloadedGetterSetter(e,t){var n=ce._capitalize(t),r=Bc+n,i=Fc+n;e.prototype[t]=function(){return arguments.length?(this[r](arguments[0]),this):this[i]()}},addDeprecatedGetterSetter(e,t,n,r){ce.error("Adding deprecated "+t);var i=Fc+ce._capitalize(t),a=t+" property is deprecated and will be removed soon. Look at Konva change log for more information.";e.prototype[i]=function(){ce.error(a);var s=this.attrs[t];return s===void 0?n:s},Z.addSetter(e,t,r,function(){ce.error(a)}),Z.addOverloadedGetterSetter(e,t)},backCompat(e,t){ce.each(t,function(n,r){var i=e.prototype[r],a=Fc+ce._capitalize(n),s=Bc+ce._capitalize(n);function o(){i.apply(this,arguments),ce.error('"'+n+'" method is deprecated and will be removed soon. Use ""'+r+'" instead.')}e.prototype[n]=o,e.prototype[a]=o,e.prototype[s]=o})},afterSetFilter(){this._filterUpToDate=!1}};function Lj(e){var t=[],n=e.length,r=ce,i,a;for(i=0;i<n;i++)a=e[i],r._isNumber(a)?a=Math.round(a*1e3)/1e3:r._isString(a)||(a=a+""),t.push(a);return t}var fI=",",Fj="(",Bj=")",zj="([",Uj="])",jj=";",$j="()",Vj="=",pI=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],Wj=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"];const Gj=100;class cy{constructor(t){this.canvas=t,Ge.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(t){t.fillEnabled()&&this._fill(t)}_fill(t){}strokeShape(t){t.hasStroke()&&this._stroke(t)}_stroke(t){}fillStrokeShape(t){t.attrs.fillAfterStrokeEnabled?(this.strokeShape(t),this.fillShape(t)):(this.fillShape(t),this.strokeShape(t))}getTrace(t,n){var r=this.traceArr,i=r.length,a="",s,o,l,u;for(s=0;s<i;s++)o=r[s],l=o.method,l?(u=o.args,a+=l,t?a+=$j:ce._isArray(u[0])?a+=zj+u.join(fI)+Uj:(n&&(u=u.map(c=>typeof c=="number"?Math.floor(c):c)),a+=Fj+u.join(fI)+Bj)):(a+=o.property,t||(a+=Vj+o.val)),a+=jj;return a}clearTrace(){this.traceArr=[]}_trace(t){var n=this.traceArr,r;n.push(t),r=n.length,r>=Gj&&n.shift()}reset(){var t=this.getCanvas().getPixelRatio();this.setTransform(1*t,0,0,1*t,0,0)}getCanvas(){return this.canvas}clear(t){var n=this.getCanvas();t?this.clearRect(t.x||0,t.y||0,t.width||0,t.height||0):this.clearRect(0,0,n.getWidth()/n.pixelRatio,n.getHeight()/n.pixelRatio)}_applyLineCap(t){const n=t.attrs.lineCap;n&&this.setAttr("lineCap",n)}_applyOpacity(t){var n=t.getAbsoluteOpacity();n!==1&&this.setAttr("globalAlpha",n)}_applyLineJoin(t){const n=t.attrs.lineJoin;n&&this.setAttr("lineJoin",n)}setAttr(t,n){this._context[t]=n}arc(t,n,r,i,a,s){this._context.arc(t,n,r,i,a,s)}arcTo(t,n,r,i,a){this._context.arcTo(t,n,r,i,a)}beginPath(){this._context.beginPath()}bezierCurveTo(t,n,r,i,a,s){this._context.bezierCurveTo(t,n,r,i,a,s)}clearRect(t,n,r,i){this._context.clearRect(t,n,r,i)}clip(){this._context.clip()}closePath(){this._context.closePath()}createImageData(t,n){var r=arguments;if(r.length===2)return this._context.createImageData(t,n);if(r.length===1)return this._context.createImageData(t)}createLinearGradient(t,n,r,i){return this._context.createLinearGradient(t,n,r,i)}createPattern(t,n){return this._context.createPattern(t,n)}createRadialGradient(t,n,r,i,a,s){return this._context.createRadialGradient(t,n,r,i,a,s)}drawImage(t,n,r,i,a,s,o,l,u){var c=arguments,h=this._context;c.length===3?h.drawImage(t,n,r):c.length===5?h.drawImage(t,n,r,i,a):c.length===9&&h.drawImage(t,n,r,i,a,s,o,l,u)}ellipse(t,n,r,i,a,s,o,l){this._context.ellipse(t,n,r,i,a,s,o,l)}isPointInPath(t,n,r,i){return r?this._context.isPointInPath(r,t,n,i):this._context.isPointInPath(t,n,i)}fill(t){t?this._context.fill(t):this._context.fill()}fillRect(t,n,r,i){this._context.fillRect(t,n,r,i)}strokeRect(t,n,r,i){this._context.strokeRect(t,n,r,i)}fillText(t,n,r,i){i?this._context.fillText(t,n,r,i):this._context.fillText(t,n,r)}measureText(t){return this._context.measureText(t)}getImageData(t,n,r,i){return this._context.getImageData(t,n,r,i)}lineTo(t,n){this._context.lineTo(t,n)}moveTo(t,n){this._context.moveTo(t,n)}rect(t,n,r,i){this._context.rect(t,n,r,i)}putImageData(t,n,r){this._context.putImageData(t,n,r)}quadraticCurveTo(t,n,r,i){this._context.quadraticCurveTo(t,n,r,i)}restore(){this._context.restore()}rotate(t){this._context.rotate(t)}save(){this._context.save()}scale(t,n){this._context.scale(t,n)}setLineDash(t){this._context.setLineDash?this._context.setLineDash(t):"mozDash"in this._context?this._context.mozDash=t:"webkitLineDash"in this._context&&(this._context.webkitLineDash=t)}getLineDash(){return this._context.getLineDash()}setTransform(t,n,r,i,a,s){this._context.setTransform(t,n,r,i,a,s)}stroke(t){t?this._context.stroke(t):this._context.stroke()}strokeText(t,n,r,i){this._context.strokeText(t,n,r,i)}transform(t,n,r,i,a,s){this._context.transform(t,n,r,i,a,s)}translate(t,n){this._context.translate(t,n)}_enableTrace(){var t=this,n=pI.length,r=this.setAttr,i,a,s=function(o){var l=t[o],u;t[o]=function(){return a=Lj(Array.prototype.slice.call(arguments,0)),u=l.apply(t,arguments),t._trace({method:o,args:a}),u}};for(i=0;i<n;i++)s(pI[i]);t.setAttr=function(){r.apply(t,arguments);var o=arguments[0],l=arguments[1];(o==="shadowOffsetX"||o==="shadowOffsetY"||o==="shadowBlur")&&(l=l/this.canvas.getPixelRatio()),t._trace({property:o,val:l})}}_applyGlobalCompositeOperation(t){const n=t.attrs.globalCompositeOperation;var r=!n||n==="source-over";r||this.setAttr("globalCompositeOperation",n)}}Wj.forEach(function(e){Object.defineProperty(cy.prototype,e,{get(){return this._context[e]},set(t){this._context[e]=t}})});class Hj extends cy{constructor(t){super(t),this._context=t._canvas.getContext("2d")}_fillColor(t){var n=t.fill();this.setAttr("fillStyle",n),t._fillFunc(this)}_fillPattern(t){this.setAttr("fillStyle",t._getFillPattern()),t._fillFunc(this)}_fillLinearGradient(t){var n=t._getLinearGradient();n&&(this.setAttr("fillStyle",n),t._fillFunc(this))}_fillRadialGradient(t){const n=t._getRadialGradient();n&&(this.setAttr("fillStyle",n),t._fillFunc(this))}_fill(t){const n=t.fill(),r=t.getFillPriority();if(n&&r==="color"){this._fillColor(t);return}const i=t.getFillPatternImage();if(i&&r==="pattern"){this._fillPattern(t);return}const a=t.getFillLinearGradientColorStops();if(a&&r==="linear-gradient"){this._fillLinearGradient(t);return}const s=t.getFillRadialGradientColorStops();if(s&&r==="radial-gradient"){this._fillRadialGradient(t);return}n?this._fillColor(t):i?this._fillPattern(t):a?this._fillLinearGradient(t):s&&this._fillRadialGradient(t)}_strokeLinearGradient(t){const n=t.getStrokeLinearGradientStartPoint(),r=t.getStrokeLinearGradientEndPoint(),i=t.getStrokeLinearGradientColorStops(),a=this.createLinearGradient(n.x,n.y,r.x,r.y);if(i){for(var s=0;s<i.length;s+=2)a.addColorStop(i[s],i[s+1]);this.setAttr("strokeStyle",a)}}_stroke(t){var n=t.dash(),r=t.getStrokeScaleEnabled();if(t.hasStroke()){if(!r){this.save();var i=this.getCanvas().getPixelRatio();this.setTransform(i,0,0,i,0,0)}this._applyLineCap(t),n&&t.dashEnabled()&&(this.setLineDash(n),this.setAttr("lineDashOffset",t.dashOffset())),this.setAttr("lineWidth",t.strokeWidth()),t.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)");var a=t.getStrokeLinearGradientColorStops();a?this._strokeLinearGradient(t):this.setAttr("strokeStyle",t.stroke()),t._strokeFunc(this),r||this.restore()}}_applyShadow(t){var n,r,i,a=(n=t.getShadowRGBA())!==null&&n!==void 0?n:"black",s=(r=t.getShadowBlur())!==null&&r!==void 0?r:5,o=(i=t.getShadowOffset())!==null&&i!==void 0?i:{x:0,y:0},l=t.getAbsoluteScale(),u=this.canvas.getPixelRatio(),c=l.x*u,h=l.y*u;this.setAttr("shadowColor",a),this.setAttr("shadowBlur",s*Math.min(Math.abs(c),Math.abs(h))),this.setAttr("shadowOffsetX",o.x*c),this.setAttr("shadowOffsetY",o.y*h)}}class qj extends cy{constructor(t){super(t),this._context=t._canvas.getContext("2d",{willReadFrequently:!0})}_fill(t){this.save(),this.setAttr("fillStyle",t.colorKey),t._fillFuncHit(this),this.restore()}strokeShape(t){t.hasHitStroke()&&this._stroke(t)}_stroke(t){if(t.hasHitStroke()){const a=t.getStrokeScaleEnabled();if(!a){this.save();var n=this.getCanvas().getPixelRatio();this.setTransform(n,0,0,n,0,0)}this._applyLineCap(t);var r=t.hitStrokeWidth(),i=r==="auto"?t.strokeWidth():r;this.setAttr("lineWidth",i),this.setAttr("strokeStyle",t.colorKey),t._strokeFuncHit(this),a||this.restore()}}}var gp;function Kj(){if(gp)return gp;var e=ce.createCanvasElement(),t=e.getContext("2d");return gp=function(){var n=Ge._global.devicePixelRatio||1,r=t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return n/r}(),ce.releaseCanvas(e),gp}let dy=class{constructor(t){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;var n=t||{},r=n.pixelRatio||Ge.pixelRatio||Kj();this.pixelRatio=r,this._canvas=ce.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(t){var n=this.pixelRatio;this.pixelRatio=t,this.setSize(this.getWidth()/n,this.getHeight()/n)}setWidth(t){this.width=this._canvas.width=t*this.pixelRatio,this._canvas.style.width=t+"px";var n=this.pixelRatio,r=this.getContext()._context;r.scale(n,n)}setHeight(t){this.height=this._canvas.height=t*this.pixelRatio,this._canvas.style.height=t+"px";var n=this.pixelRatio,r=this.getContext()._context;r.scale(n,n)}getWidth(){return this.width}getHeight(){return this.height}setSize(t,n){this.setWidth(t||0),this.setHeight(n||0)}toDataURL(t,n){try{return this._canvas.toDataURL(t,n)}catch{try{return this._canvas.toDataURL()}catch(i){return ce.error("Unable to get data URL. "+i.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}};Z.addGetterSetter(dy,"pixelRatio",void 0,Oe());class pu extends dy{constructor(t={width:0,height:0}){super(t),this.context=new Hj(this),this.setSize(t.width,t.height)}}class cC extends dy{constructor(t={width:0,height:0}){super(t),this.hitCanvas=!0,this.context=new qj(this),this.setSize(t.width,t.height)}}const Pt={get isDragging(){var e=!1;return Pt._dragElements.forEach(t=>{t.dragStatus==="dragging"&&(e=!0)}),e},justDragged:!1,get node(){var e;return Pt._dragElements.forEach(t=>{e=t.node}),e},_dragElements:new Map,_drag(e){const t=[];Pt._dragElements.forEach((n,r)=>{const{node:i}=n,a=i.getStage();a.setPointersPositions(e),n.pointerId===void 0&&(n.pointerId=ce._getFirstPointerId(e));const s=a._changedPointerPositions.find(u=>u.id===n.pointerId);if(s){if(n.dragStatus!=="dragging"){var o=i.dragDistance(),l=Math.max(Math.abs(s.x-n.startPointerPos.x),Math.abs(s.y-n.startPointerPos.y));if(l<o||(i.startDrag({evt:e}),!i.isDragging()))return}i._setDragPosition(e,n),t.push(i)}}),t.forEach(n=>{n.fire("dragmove",{type:"dragmove",target:n,evt:e},!0)})},_endDragBefore(e){const t=[];Pt._dragElements.forEach(n=>{const{node:r}=n,i=r.getStage();if(e&&i.setPointersPositions(e),!i._changedPointerPositions.find(o=>o.id===n.pointerId))return;(n.dragStatus==="dragging"||n.dragStatus==="stopped")&&(Pt.justDragged=!0,Ge._mouseListenClick=!1,Ge._touchListenClick=!1,Ge._pointerListenClick=!1,n.dragStatus="stopped");const s=n.node.getLayer()||n.node instanceof Ge.Stage&&n.node;s&&t.indexOf(s)===-1&&t.push(s)}),t.forEach(n=>{n.draw()})},_endDragAfter(e){Pt._dragElements.forEach((t,n)=>{t.dragStatus==="stopped"&&t.node.fire("dragend",{type:"dragend",target:t.node,evt:e},!0),t.dragStatus!=="dragging"&&Pt._dragElements.delete(n)})}};Ge.isBrowser&&(window.addEventListener("mouseup",Pt._endDragBefore,!0),window.addEventListener("touchend",Pt._endDragBefore,!0),window.addEventListener("mousemove",Pt._drag),window.addEventListener("touchmove",Pt._drag),window.addEventListener("mouseup",Pt._endDragAfter,!1),window.addEventListener("touchend",Pt._endDragAfter,!1));var cm="absoluteOpacity",yp="allEventListeners",Ra="absoluteTransform",mI="absoluteScale",co="canvas",Yj="Change",Xj="children",Qj="konva",g2="listening",gI="mouseenter",yI="mouseleave",vI="set",wI="Shape",dm=" ",bI="stage",fs="transform",Zj="Stage",y2="visible",Jj=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(dm);let e$=1;class Me{constructor(t){this._id=e$++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(t),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(t){(t===fs||t===Ra)&&this._cache.get(t)?this._cache.get(t).dirty=!0:t?this._cache.delete(t):this._cache.clear()}_getCache(t,n){var r=this._cache.get(t),i=t===fs||t===Ra,a=r===void 0||i&&r.dirty===!0;return a&&(r=n.call(this),this._cache.set(t,r)),r}_calculate(t,n,r){if(!this._attachedDepsListeners.get(t)){const i=n.map(a=>a+"Change.konva").join(dm);this.on(i,()=>{this._clearCache(t)}),this._attachedDepsListeners.set(t,!0)}return this._getCache(t,r)}_getCanvasCache(){return this._cache.get(co)}_clearSelfAndDescendantCache(t){this._clearCache(t),t===Ra&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(co)){const{scene:t,filter:n,hit:r}=this._cache.get(co);ce.releaseCanvas(t,n,r),this._cache.delete(co)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(t){var n=t||{},r={};(n.x===void 0||n.y===void 0||n.width===void 0||n.height===void 0)&&(r=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()}));var i=Math.ceil(n.width||r.width),a=Math.ceil(n.height||r.height),s=n.pixelRatio,o=n.x===void 0?Math.floor(r.x):n.x,l=n.y===void 0?Math.floor(r.y):n.y,u=n.offset||0,c=n.drawBorder||!1,h=n.hitCanvasPixelRatio||1;if(!i||!a){ce.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}i+=u*2+1,a+=u*2+1,o-=u,l-=u;var p=new pu({pixelRatio:s,width:i,height:a}),m=new pu({pixelRatio:s,width:0,height:0}),g=new cC({pixelRatio:h,width:i,height:a}),y=p.getContext(),b=g.getContext();return g.isCache=!0,p.isCache=!0,this._cache.delete(co),this._filterUpToDate=!1,n.imageSmoothingEnabled===!1&&(p.getContext()._context.imageSmoothingEnabled=!1,m.getContext()._context.imageSmoothingEnabled=!1),y.save(),b.save(),y.translate(-o,-l),b.translate(-o,-l),this._isUnderCache=!0,this._clearSelfAndDescendantCache(cm),this._clearSelfAndDescendantCache(mI),this.drawScene(p,this),this.drawHit(g,this),this._isUnderCache=!1,y.restore(),b.restore(),c&&(y.save(),y.beginPath(),y.rect(0,0,i,a),y.closePath(),y.setAttr("strokeStyle","red"),y.setAttr("lineWidth",5),y.stroke(),y.restore()),this._cache.set(co,{scene:p,filter:m,hit:g,x:o,y:l}),this._requestDraw(),this}isCached(){return this._cache.has(co)}getClientRect(t){throw new Error('abstract "getClientRect" method call')}_transformedRect(t,n){var r=[{x:t.x,y:t.y},{x:t.x+t.width,y:t.y},{x:t.x+t.width,y:t.y+t.height},{x:t.x,y:t.y+t.height}],i,a,s,o,l=this.getAbsoluteTransform(n);return r.forEach(function(u){var c=l.point(u);i===void 0&&(i=s=c.x,a=o=c.y),i=Math.min(i,c.x),a=Math.min(a,c.y),s=Math.max(s,c.x),o=Math.max(o,c.y)}),{x:i,y:a,width:s-i,height:o-a}}_drawCachedSceneCanvas(t){t.save(),t._applyOpacity(this),t._applyGlobalCompositeOperation(this);const n=this._getCanvasCache();t.translate(n.x,n.y);var r=this._getCachedSceneCanvas(),i=r.pixelRatio;t.drawImage(r._canvas,0,0,r.width/i,r.height/i),t.restore()}_drawCachedHitCanvas(t){var n=this._getCanvasCache(),r=n.hit;t.save(),t.translate(n.x,n.y),t.drawImage(r._canvas,0,0,r.width/r.pixelRatio,r.height/r.pixelRatio),t.restore()}_getCachedSceneCanvas(){var t=this.filters(),n=this._getCanvasCache(),r=n.scene,i=n.filter,a=i.getContext(),s,o,l,u;if(t){if(!this._filterUpToDate){var c=r.pixelRatio;i.setSize(r.width/r.pixelRatio,r.height/r.pixelRatio);try{for(s=t.length,a.clear(),a.drawImage(r._canvas,0,0,r.getWidth()/c,r.getHeight()/c),o=a.getImageData(0,0,i.getWidth(),i.getHeight()),l=0;l<s;l++){if(u=t[l],typeof u!="function"){ce.error("Filter should be type of function, but got "+typeof u+" instead. Please check correct filters");continue}u.call(this,o),a.putImageData(o,0,0)}}catch(h){ce.error("Unable to apply filter. "+h.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return i}return r}on(t,n){if(this._cache&&this._cache.delete(yp),arguments.length===3)return this._delegate.apply(this,arguments);var r=t.split(dm),i=r.length,a,s,o,l,u;for(a=0;a<i;a++)s=r[a],o=s.split("."),l=o[0],u=o[1]||"",this.eventListeners[l]||(this.eventListeners[l]=[]),this.eventListeners[l].push({name:u,handler:n});return this}off(t,n){var r=(t||"").split(dm),i=r.length,a,s,o,l,u,c;if(this._cache&&this._cache.delete(yp),!t)for(s in this.eventListeners)this._off(s);for(a=0;a<i;a++)if(o=r[a],l=o.split("."),u=l[0],c=l[1],u)this.eventListeners[u]&&this._off(u,c,n);else for(s in this.eventListeners)this._off(s,c,n);return this}dispatchEvent(t){var n={target:this,type:t.type,evt:t};return this.fire(t.type,n),this}addEventListener(t,n){return this.on(t,function(r){n.call(this,r.evt)}),this}removeEventListener(t){return this.off(t),this}_delegate(t,n,r){var i=this;this.on(t,function(a){for(var s=a.target.findAncestors(n,!0,i),o=0;o<s.length;o++)a=ce.cloneObject(a),a.currentTarget=s[o],r.call(s[o],a)})}remove(){return this.isDragging()&&this.stopDrag(),Pt._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(Ra),this._clearSelfAndDescendantCache(cm),this._clearSelfAndDescendantCache(mI),this._clearSelfAndDescendantCache(bI),this._clearSelfAndDescendantCache(y2),this._clearSelfAndDescendantCache(g2)}_remove(){this._clearCaches();var t=this.getParent();t&&t.children&&(t.children.splice(this.index,1),t._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(t){var n="get"+ce._capitalize(t);return ce._isFunction(this[n])?this[n]():this.attrs[t]}getAncestors(){for(var t=this.getParent(),n=[];t;)n.push(t),t=t.getParent();return n}getAttrs(){return this.attrs||{}}setAttrs(t){return this._batchTransformChanges(()=>{var n,r;if(!t)return this;for(n in t)n!==Xj&&(r=vI+ce._capitalize(n),ce._isFunction(this[r])?this[r](t[n]):this._setAttr(n,t[n]))}),this}isListening(){return this._getCache(g2,this._isListening)}_isListening(t){if(!this.listening())return!1;const r=this.getParent();return r&&r!==t&&this!==t?r._isListening(t):!0}isVisible(){return this._getCache(y2,this._isVisible)}_isVisible(t){if(!this.visible())return!1;const r=this.getParent();return r&&r!==t&&this!==t?r._isVisible(t):!0}shouldDrawHit(t,n=!1){if(t)return this._isVisible(t)&&this._isListening(t);var r=this.getLayer(),i=!1;Pt._dragElements.forEach(s=>{s.dragStatus==="dragging"&&(s.node.nodeType==="Stage"||s.node.getLayer()===r)&&(i=!0)});var a=!n&&!Ge.hitOnDragEnabled&&i;return this.isListening()&&this.isVisible()&&!a}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){var t=this.getDepth(),n=this,r=0,i,a,s,o;function l(u){for(i=[],a=u.length,s=0;s<a;s++)o=u[s],r++,o.nodeType!==wI&&(i=i.concat(o.getChildren().slice())),o._id===n._id&&(s=a);i.length>0&&i[0].getDepth()<=t&&l(i)}return n.nodeType!==Zj&&l(n.getStage().getChildren()),r}getDepth(){for(var t=0,n=this.parent;n;)t++,n=n.parent;return t}_batchTransformChanges(t){this._batchingTransformChange=!0,t(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(fs),this._clearSelfAndDescendantCache(Ra)),this._needClearTransformCache=!1}setPosition(t){return this._batchTransformChanges(()=>{this.x(t.x),this.y(t.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){if(!this.getStage())return null;var t=this.getStage().getPointerPosition();if(!t)return null;var n=this.getAbsoluteTransform().copy();return n.invert(),n.point(t)}getAbsolutePosition(t){let n=!1,r=this.parent;for(;r;){if(r.isCached()){n=!0;break}r=r.parent}n&&!t&&(t=!0);var i=this.getAbsoluteTransform(t).getMatrix(),a=new $r,s=this.offset();return a.m=i.slice(),a.translate(s.x,s.y),a.getTranslation()}setAbsolutePosition(t){var n=this._clearTransform();this.attrs.x=n.x,this.attrs.y=n.y,delete n.x,delete n.y,this._clearCache(fs);var r=this._getAbsoluteTransform().copy();return r.invert(),r.translate(t.x,t.y),t={x:this.attrs.x+r.getTranslation().x,y:this.attrs.y+r.getTranslation().y},this._setTransform(n),this.setPosition({x:t.x,y:t.y}),this._clearCache(fs),this._clearSelfAndDescendantCache(Ra),this}_setTransform(t){var n;for(n in t)this.attrs[n]=t[n]}_clearTransform(){var t={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,t}move(t){var n=t.x,r=t.y,i=this.x(),a=this.y();return n!==void 0&&(i+=n),r!==void 0&&(a+=r),this.setPosition({x:i,y:a}),this}_eachAncestorReverse(t,n){var r=[],i=this.getParent(),a,s;if(!(n&&n._id===this._id)){for(r.unshift(this);i&&(!n||i._id!==n._id);)r.unshift(i),i=i.parent;for(a=r.length,s=0;s<a;s++)t(r[s])}}rotate(t){return this.rotation(this.rotation()+t),this}moveToTop(){if(!this.parent)return ce.warn("Node has no parent. moveToTop function is ignored."),!1;var t=this.index,n=this.parent.getChildren().length;return t<n-1?(this.parent.children.splice(t,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return ce.warn("Node has no parent. moveUp function is ignored."),!1;var t=this.index,n=this.parent.getChildren().length;return t<n-1?(this.parent.children.splice(t,1),this.parent.children.splice(t+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return ce.warn("Node has no parent. moveDown function is ignored."),!1;var t=this.index;return t>0?(this.parent.children.splice(t,1),this.parent.children.splice(t-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return ce.warn("Node has no parent. moveToBottom function is ignored."),!1;var t=this.index;return t>0?(this.parent.children.splice(t,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(t){if(!this.parent)return ce.warn("Node has no parent. zIndex parameter is ignored."),this;(t<0||t>=this.parent.children.length)&&ce.warn("Unexpected value "+t+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");var n=this.index;return this.parent.children.splice(n,1),this.parent.children.splice(t,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(cm,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){var t=this.opacity(),n=this.getParent();return n&&!n._isUnderCache&&(t*=n.getAbsoluteOpacity()),t}moveTo(t){return this.getParent()!==t&&(this._remove(),t.add(this)),this}toObject(){var t={},n=this.getAttrs(),r,i,a,s,o;t.attrs={};for(r in n)i=n[r],o=ce.isObject(i)&&!ce._isPlainObject(i)&&!ce._isArray(i),!o&&(a=typeof this[r]=="function"&&this[r],delete n[r],s=a?a.call(this):null,n[r]=i,s!==i&&(t.attrs[r]=i));return t.className=this.getClassName(),ce._prepareToStringify(t)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(t,n,r){var i=[];n&&this._isMatch(t)&&i.push(this);for(var a=this.parent;a;){if(a===r)return i;a._isMatch(t)&&i.push(a),a=a.parent}return i}isAncestorOf(t){return!1}findAncestor(t,n,r){return this.findAncestors(t,n,r)[0]}_isMatch(t){if(!t)return!1;if(typeof t=="function")return t(this);var n=t.replace(/ /g,"").split(","),r=n.length,i,a;for(i=0;i<r;i++)if(a=n[i],ce.isValidSelector(a)||(ce.warn('Selector "'+a+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),ce.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),ce.warn("Konva is awesome, right?")),a.charAt(0)==="#"){if(this.id()===a.slice(1))return!0}else if(a.charAt(0)==="."){if(this.hasName(a.slice(1)))return!0}else if(this.className===a||this.nodeType===a)return!0;return!1}getLayer(){var t=this.getParent();return t?t.getLayer():null}getStage(){return this._getCache(bI,this._getStage)}_getStage(){var t=this.getParent();if(t)return t.getStage()}fire(t,n={},r){return n.target=n.target||this,r?this._fireAndBubble(t,n):this._fire(t,n),this}getAbsoluteTransform(t){return t?this._getAbsoluteTransform(t):this._getCache(Ra,this._getAbsoluteTransform)}_getAbsoluteTransform(t){var n;if(t)return n=new $r,this._eachAncestorReverse(function(i){var a=i.transformsEnabled();a==="all"?n.multiply(i.getTransform()):a==="position"&&n.translate(i.x()-i.offsetX(),i.y()-i.offsetY())},t),n;n=this._cache.get(Ra)||new $r,this.parent?this.parent.getAbsoluteTransform().copyInto(n):n.reset();var r=this.transformsEnabled();if(r==="all")n.multiply(this.getTransform());else if(r==="position"){const i=this.attrs.x||0,a=this.attrs.y||0,s=this.attrs.offsetX||0,o=this.attrs.offsetY||0;n.translate(i-s,a-o)}return n.dirty=!1,n}getAbsoluteScale(t){for(var n=this;n;)n._isUnderCache&&(t=n),n=n.getParent();const i=this.getAbsoluteTransform(t).decompose();return{x:i.scaleX,y:i.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(fs,this._getTransform)}_getTransform(){var t,n,r=this._cache.get(fs)||new $r;r.reset();var i=this.x(),a=this.y(),s=Ge.getAngle(this.rotation()),o=(t=this.attrs.scaleX)!==null&&t!==void 0?t:1,l=(n=this.attrs.scaleY)!==null&&n!==void 0?n:1,u=this.attrs.skewX||0,c=this.attrs.skewY||0,h=this.attrs.offsetX||0,p=this.attrs.offsetY||0;return(i!==0||a!==0)&&r.translate(i,a),s!==0&&r.rotate(s),(u!==0||c!==0)&&r.skew(u,c),(o!==1||l!==1)&&r.scale(o,l),(h!==0||p!==0)&&r.translate(-1*h,-1*p),r.dirty=!1,r}clone(t){var n=ce.cloneObject(this.attrs),r,i,a,s,o;for(r in t)n[r]=t[r];var l=new this.constructor(n);for(r in this.eventListeners)for(i=this.eventListeners[r],a=i.length,s=0;s<a;s++)o=i[s],o.name.indexOf(Qj)<0&&(l.eventListeners[r]||(l.eventListeners[r]=[]),l.eventListeners[r].push(o));return l}_toKonvaCanvas(t){t=t||{};var n=this.getClientRect(),r=this.getStage(),i=t.x!==void 0?t.x:Math.floor(n.x),a=t.y!==void 0?t.y:Math.floor(n.y),s=t.pixelRatio||1,o=new pu({width:t.width||Math.ceil(n.width)||(r?r.width():0),height:t.height||Math.ceil(n.height)||(r?r.height():0),pixelRatio:s}),l=o.getContext();return t.imageSmoothingEnabled===!1&&(l._context.imageSmoothingEnabled=!1),l.save(),(i||a)&&l.translate(-1*i,-1*a),this.drawScene(o),l.restore(),o}toCanvas(t){return this._toKonvaCanvas(t)._canvas}toDataURL(t){t=t||{};var n=t.mimeType||null,r=t.quality||null,i=this._toKonvaCanvas(t).toDataURL(n,r);return t.callback&&t.callback(i),i}toImage(t){return new Promise((n,r)=>{try{const i=t?.callback;i&&delete t.callback,ce._urlToImage(this.toDataURL(t),function(a){n(a),i?.(a)})}catch(i){r(i)}})}toBlob(t){return new Promise((n,r)=>{try{const i=t?.callback;i&&delete t.callback,this.toCanvas(t).toBlob(a=>{n(a),i?.(a)})}catch(i){r(i)}})}setSize(t){return this.width(t.width),this.height(t.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():Ge.dragDistance}_off(t,n,r){var i=this.eventListeners[t],a,s,o;for(a=0;a<i.length;a++)if(s=i[a].name,o=i[a].handler,(s!=="konva"||n==="konva")&&(!n||s===n)&&(!r||r===o)){if(i.splice(a,1),i.length===0){delete this.eventListeners[t];break}a--}}_fireChangeEvent(t,n,r){this._fire(t+Yj,{oldVal:n,newVal:r})}addName(t){if(!this.hasName(t)){var n=this.name(),r=n?n+" "+t:t;this.name(r)}return this}hasName(t){if(!t)return!1;const n=this.name();if(!n)return!1;var r=(n||"").split(/\s/g);return r.indexOf(t)!==-1}removeName(t){var n=(this.name()||"").split(/\s/g),r=n.indexOf(t);return r!==-1&&(n.splice(r,1),this.name(n.join(" "))),this}setAttr(t,n){var r=this[vI+ce._capitalize(t)];return ce._isFunction(r)?r.call(this,n):this._setAttr(t,n),this}_requestDraw(){if(Ge.autoDrawEnabled){const t=this.getLayer()||this.getStage();t?.batchDraw()}}_setAttr(t,n){var r=this.attrs[t];r===n&&!ce.isObject(n)||(n==null?delete this.attrs[t]:this.attrs[t]=n,this._shouldFireChangeEvents&&this._fireChangeEvent(t,r,n),this._requestDraw())}_setComponentAttr(t,n,r){var i;r!==void 0&&(i=this.attrs[t],i||(this.attrs[t]=this.getAttr(t)),this.attrs[t][n]=r,this._fireChangeEvent(t,i,r))}_fireAndBubble(t,n,r){n&&this.nodeType===wI&&(n.target=this);var i=(t===gI||t===yI)&&(r&&(this===r||this.isAncestorOf&&this.isAncestorOf(r))||this.nodeType==="Stage"&&!r);if(!i){this._fire(t,n);var a=(t===gI||t===yI)&&r&&r.isAncestorOf&&r.isAncestorOf(this)&&!r.isAncestorOf(this.parent);(n&&!n.cancelBubble||!n)&&this.parent&&this.parent.isListening()&&!a&&(r&&r.parent?this._fireAndBubble.call(this.parent,t,n,r):this._fireAndBubble.call(this.parent,t,n))}}_getProtoListeners(t){let n=this._cache.get(yp);if(!n){n={};let i=Object.getPrototypeOf(this);for(;i;){if(!i.eventListeners){i=Object.getPrototypeOf(i);continue}for(var r in i.eventListeners){const a=i.eventListeners[r],s=n[r]||[];n[r]=a.concat(s)}i=Object.getPrototypeOf(i)}this._cache.set(yp,n)}return n[t]}_fire(t,n){n=n||{},n.currentTarget=this,n.type=t;const r=this._getProtoListeners(t);if(r)for(var i=0;i<r.length;i++)r[i].handler.call(this,n);const a=this.eventListeners[t];if(a)for(var i=0;i<a.length;i++)a[i].handler.call(this,n)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(t){var n=t?t.pointerId:void 0,r=this.getStage(),i=this.getAbsolutePosition(),a=r._getPointerById(n)||r._changedPointerPositions[0]||i;Pt._dragElements.set(this._id,{node:this,startPointerPos:a,offset:{x:a.x-i.x,y:a.y-i.y},dragStatus:"ready",pointerId:n})}startDrag(t,n=!0){Pt._dragElements.has(this._id)||this._createDragElement(t);const r=Pt._dragElements.get(this._id);r.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:t&&t.evt},n)}_setDragPosition(t,n){const r=this.getStage()._getPointerById(n.pointerId);if(r){var i={x:r.x-n.offset.x,y:r.y-n.offset.y},a=this.dragBoundFunc();if(a!==void 0){const s=a.call(this,i,t);s?i=s:ce.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==i.x||this._lastPos.y!==i.y)&&(this.setAbsolutePosition(i),this._requestDraw()),this._lastPos=i}}stopDrag(t){const n=Pt._dragElements.get(this._id);n&&(n.dragStatus="stopped"),Pt._endDragBefore(t),Pt._endDragAfter(t)}setDraggable(t){this._setAttr("draggable",t),this._dragChange()}isDragging(){const t=Pt._dragElements.get(this._id);return t?t.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(t){var n=t.evt.button!==void 0,r=!n||Ge.dragButtons.indexOf(t.evt.button)>=0;if(r&&!this.isDragging()){var i=!1;Pt._dragElements.forEach(a=>{this.isAncestorOf(a.node)&&(i=!0)}),i||this._createDragElement(t)}})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{this._dragCleanup();var t=this.getStage();if(!t)return;const n=Pt._dragElements.get(this._id),r=n&&n.dragStatus==="dragging",i=n&&n.dragStatus==="ready";r?this.stopDrag():i&&Pt._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(t={x:0,y:0}){const n=this.getStage();if(!n)return!1;const r={x:-t.x,y:-t.y,width:n.width()+2*t.x,height:n.height()+2*t.y};return ce.haveIntersection(r,this.getClientRect())}static create(t,n){return ce._isString(t)&&(t=JSON.parse(t)),this._createNode(t,n)}static _createNode(t,n){var r=Me.prototype.getClassName.call(t),i=t.children,a,s,o;n&&(t.attrs.container=n),Ge[r]||(ce.warn('Can not find a node with class name "'+r+'". Fallback to "Shape".'),r="Shape");const l=Ge[r];if(a=new l(t.attrs),i)for(s=i.length,o=0;o<s;o++)a.add(Me._createNode(i[o]));return a}}Me.prototype.nodeType="Node";Me.prototype._attrsAffectingSize=[];Me.prototype.eventListeners={};Me.prototype.on.call(Me.prototype,Jj,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(fs),this._clearSelfAndDescendantCache(Ra)});Me.prototype.on.call(Me.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(y2)});Me.prototype.on.call(Me.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(g2)});Me.prototype.on.call(Me.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(cm)});const Vt=Z.addGetterSetter;Vt(Me,"zIndex");Vt(Me,"absolutePosition");Vt(Me,"position");Vt(Me,"x",0,Oe());Vt(Me,"y",0,Oe());Vt(Me,"globalCompositeOperation","source-over",tc());Vt(Me,"opacity",1,Oe());Vt(Me,"name","",tc());Vt(Me,"id","",tc());Vt(Me,"rotation",0,Oe());Z.addComponentsGetterSetter(Me,"scale",["x","y"]);Vt(Me,"scaleX",1,Oe());Vt(Me,"scaleY",1,Oe());Z.addComponentsGetterSetter(Me,"skew",["x","y"]);Vt(Me,"skewX",0,Oe());Vt(Me,"skewY",0,Oe());Z.addComponentsGetterSetter(Me,"offset",["x","y"]);Vt(Me,"offsetX",0,Oe());Vt(Me,"offsetY",0,Oe());Vt(Me,"dragDistance",null,Oe());Vt(Me,"width",0,Oe());Vt(Me,"height",0,Oe());Vt(Me,"listening",!0,Hi());Vt(Me,"preventDefault",!0,Hi());Vt(Me,"filters",null,function(e){return this._filterUpToDate=!1,e});Vt(Me,"visible",!0,Hi());Vt(Me,"transformsEnabled","all",tc());Vt(Me,"size");Vt(Me,"dragBoundFunc");Vt(Me,"draggable",!1,Hi());Z.backCompat(Me,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"});class Hr extends Me{constructor(){super(...arguments),this.children=[]}getChildren(t){if(!t)return this.children||[];const n=this.children||[];var r=[];return n.forEach(function(i){t(i)&&r.push(i)}),r}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(t=>{t.parent=null,t.index=0,t.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(t=>{t.parent=null,t.index=0,t.destroy()}),this.children=[],this._requestDraw(),this}add(...t){if(t.length===0)return this;if(t.length>1){for(var n=0;n<t.length;n++)this.add(t[n]);return this}const r=t[0];return r.getParent()?(r.moveTo(this),this):(this._validateAdd(r),r.index=this.getChildren().length,r.parent=this,r._clearCaches(),this.getChildren().push(r),this._fire("add",{child:r}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(t){return this._generalFind(t,!1)}findOne(t){var n=this._generalFind(t,!0);return n.length>0?n[0]:void 0}_generalFind(t,n){var r=[];return this._descendants(i=>{const a=i._isMatch(t);return a&&r.push(i),!!(a&&n)}),r}_descendants(t){let n=!1;const r=this.getChildren();for(const i of r){if(n=t(i),n)return!0;if(i.hasChildren()&&(n=i._descendants(t),n))return!0}return!1}toObject(){var t=Me.prototype.toObject.call(this);return t.children=[],this.getChildren().forEach(n=>{t.children.push(n.toObject())}),t}isAncestorOf(t){for(var n=t.getParent();n;){if(n._id===this._id)return!0;n=n.getParent()}return!1}clone(t){var n=Me.prototype.clone.call(this,t);return this.getChildren().forEach(function(r){n.add(r.clone())}),n}getAllIntersections(t){var n=[];return this.find("Shape").forEach(function(r){r.isVisible()&&r.intersects(t)&&n.push(r)}),n}_clearSelfAndDescendantCache(t){var n;super._clearSelfAndDescendantCache(t),!this.isCached()&&((n=this.children)===null||n===void 0||n.forEach(function(r){r._clearSelfAndDescendantCache(t)}))}_setChildrenIndices(){var t;(t=this.children)===null||t===void 0||t.forEach(function(n,r){n.index=r}),this._requestDraw()}drawScene(t,n){var r=this.getLayer(),i=t||r&&r.getCanvas(),a=i&&i.getContext(),s=this._getCanvasCache(),o=s&&s.scene,l=i&&i.isCache;if(!this.isVisible()&&!l)return this;if(o){a.save();var u=this.getAbsoluteTransform(n).getMatrix();a.transform(u[0],u[1],u[2],u[3],u[4],u[5]),this._drawCachedSceneCanvas(a),a.restore()}else this._drawChildren("drawScene",i,n);return this}drawHit(t,n){if(!this.shouldDrawHit(n))return this;var r=this.getLayer(),i=t||r&&r.hitCanvas,a=i&&i.getContext(),s=this._getCanvasCache(),o=s&&s.hit;if(o){a.save();var l=this.getAbsoluteTransform(n).getMatrix();a.transform(l[0],l[1],l[2],l[3],l[4],l[5]),this._drawCachedHitCanvas(a),a.restore()}else this._drawChildren("drawHit",i,n);return this}_drawChildren(t,n,r){var i,a=n&&n.getContext(),s=this.clipWidth(),o=this.clipHeight(),l=this.clipFunc(),u=s&&o||l;const c=r===this;if(u){a.save();var h=this.getAbsoluteTransform(r),p=h.getMatrix();if(a.transform(p[0],p[1],p[2],p[3],p[4],p[5]),a.beginPath(),l)l.call(this,a,this);else{var m=this.clipX(),g=this.clipY();a.rect(m,g,s,o)}a.clip(),p=h.copy().invert().getMatrix(),a.transform(p[0],p[1],p[2],p[3],p[4],p[5])}var y=!c&&this.globalCompositeOperation()!=="source-over"&&t==="drawScene";y&&(a.save(),a._applyGlobalCompositeOperation(this)),(i=this.children)===null||i===void 0||i.forEach(function(b){b[t](n,r)}),y&&a.restore(),u&&a.restore()}getClientRect(t){var n;t=t||{};var r=t.skipTransform,i=t.relativeTo,a,s,o,l,u={x:1/0,y:1/0,width:0,height:0},c=this;(n=this.children)===null||n===void 0||n.forEach(function(y){if(y.visible()){var b=y.getClientRect({relativeTo:c,skipShadow:t.skipShadow,skipStroke:t.skipStroke});b.width===0&&b.height===0||(a===void 0?(a=b.x,s=b.y,o=b.x+b.width,l=b.y+b.height):(a=Math.min(a,b.x),s=Math.min(s,b.y),o=Math.max(o,b.x+b.width),l=Math.max(l,b.y+b.height)))}});for(var h=this.find("Shape"),p=!1,m=0;m<h.length;m++){var g=h[m];if(g._isVisible(this)){p=!0;break}}return p&&a!==void 0?u={x:a,y:s,width:o-a,height:l-s}:u={x:0,y:0,width:0,height:0},r?u:this._transformedRect(u,i)}}Z.addComponentsGetterSetter(Hr,"clip",["x","y","width","height"]);Z.addGetterSetter(Hr,"clipX",void 0,Oe());Z.addGetterSetter(Hr,"clipY",void 0,Oe());Z.addGetterSetter(Hr,"clipWidth",void 0,Oe());Z.addGetterSetter(Hr,"clipHeight",void 0,Oe());Z.addGetterSetter(Hr,"clipFunc");const ch=new Map,yN=Ge._global.PointerEvent!==void 0;function G1(e){return ch.get(e)}function dC(e){return{evt:e,pointerId:e.pointerId}}function vN(e,t){return ch.get(e)===t}function wN(e,t){wd(e),t.getStage()&&(ch.set(e,t),yN&&t._fire("gotpointercapture",dC(new PointerEvent("gotpointercapture"))))}function wd(e,t){const n=ch.get(e);if(!n)return;const r=n.getStage();r&&r.content,ch.delete(e),yN&&n._fire("lostpointercapture",dC(new PointerEvent("lostpointercapture")))}var t$="Stage",n$="string",xI="px",r$="mouseout",bN="mouseleave",xN="mouseover",kN="mouseenter",SN="mousemove",CN="mousedown",EN="mouseup",rd="pointermove",id="pointerdown",Zl="pointerup",ad="pointercancel",i$="lostpointercapture",vp="pointerout",wp="pointerleave",bp="pointerover",xp="pointerenter",v2="contextmenu",TN="touchstart",_N="touchend",IN="touchmove",PN="touchcancel",w2="wheel",a$=5,s$=[[kN,"_pointerenter"],[CN,"_pointerdown"],[SN,"_pointermove"],[EN,"_pointerup"],[bN,"_pointerleave"],[TN,"_pointerdown"],[IN,"_pointermove"],[_N,"_pointerup"],[PN,"_pointercancel"],[xN,"_pointerover"],[w2,"_wheel"],[v2,"_contextmenu"],[id,"_pointerdown"],[rd,"_pointermove"],[Zl,"_pointerup"],[ad,"_pointercancel"],[i$,"_lostpointercapture"]];const H1={mouse:{[vp]:r$,[wp]:bN,[bp]:xN,[xp]:kN,[rd]:SN,[id]:CN,[Zl]:EN,[ad]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[vp]:"touchout",[wp]:"touchleave",[bp]:"touchover",[xp]:"touchenter",[rd]:IN,[id]:TN,[Zl]:_N,[ad]:PN,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[vp]:vp,[wp]:wp,[bp]:bp,[xp]:xp,[rd]:rd,[id]:id,[Zl]:Zl,[ad]:ad,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},sd=e=>e.indexOf("pointer")>=0?"pointer":e.indexOf("touch")>=0?"touch":"mouse",Il=e=>{const t=sd(e);if(t==="pointer")return Ge.pointerEventsEnabled&&H1.pointer;if(t==="touch")return H1.touch;if(t==="mouse")return H1.mouse};function kI(e={}){return(e.clipFunc||e.clipWidth||e.clipHeight)&&ce.warn("Stage does not support clipping. Please use clip for Layers or Groups."),e}const o$="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);",hm=[];let hy=class extends Hr{constructor(t){super(kI(t)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),hm.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{kI(this.attrs)}),this._checkVisibility()}_validateAdd(t){const n=t.getType()==="Layer",r=t.getType()==="FastLayer";n||r||ce.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const t=this.visible()?"":"none";this.content.style.display=t}setContainer(t){if(typeof t===n$){if(t.charAt(0)==="."){var n=t.slice(1);t=document.getElementsByClassName(n)[0]}else{var r;t.charAt(0)!=="#"?r=t:r=t.slice(1),t=document.getElementById(r)}if(!t)throw"Can not find container in document with id "+r}return this._setAttr("container",t),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),t.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){var t=this.children,n=t.length,r;for(r=0;r<n;r++)t[r].clear();return this}clone(t){return t||(t={}),t.container=typeof document<"u"&&document.createElement("div"),Hr.prototype.clone.call(this,t)}destroy(){super.destroy();var t=this.content;t&&ce._isInDocument(t)&&this.container().removeChild(t);var n=hm.indexOf(this);return n>-1&&hm.splice(n,1),ce.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const t=this._pointerPositions[0]||this._changedPointerPositions[0];return t?{x:t.x,y:t.y}:(ce.warn(o$),null)}_getPointerById(t){return this._pointerPositions.find(n=>n.id===t)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(t){t=t||{},t.x=t.x||0,t.y=t.y||0,t.width=t.width||this.width(),t.height=t.height||this.height();var n=new pu({width:t.width,height:t.height,pixelRatio:t.pixelRatio||1}),r=n.getContext()._context,i=this.children;return(t.x||t.y)&&r.translate(-1*t.x,-1*t.y),i.forEach(function(a){if(a.isVisible()){var s=a._toKonvaCanvas(t);r.drawImage(s._canvas,t.x,t.y,s.getWidth()/s.getPixelRatio(),s.getHeight()/s.getPixelRatio())}}),n}getIntersection(t){if(!t)return null;var n=this.children,r=n.length,i=r-1,a;for(a=i;a>=0;a--){const s=n[a].getIntersection(t);if(s)return s}return null}_resizeDOM(){var t=this.width(),n=this.height();this.content&&(this.content.style.width=t+xI,this.content.style.height=n+xI),this.bufferCanvas.setSize(t,n),this.bufferHitCanvas.setSize(t,n),this.children.forEach(r=>{r.setSize({width:t,height:n}),r.draw()})}add(t,...n){if(arguments.length>1){for(var r=0;r<arguments.length;r++)this.add(arguments[r]);return this}super.add(t);var i=this.children.length;return i>a$&&ce.warn("The stage has "+i+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),t.setSize({width:this.width(),height:this.height()}),t.draw(),Ge.isBrowser&&this.content.appendChild(t.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(t){return vN(t,this)}setPointerCapture(t){wN(t,this)}releaseCapture(t){wd(t)}getLayers(){return this.children}_bindContentEvents(){Ge.isBrowser&&s$.forEach(([t,n])=>{this.content.addEventListener(t,r=>{this[n](r)},{passive:!1})})}_pointerenter(t){this.setPointersPositions(t);const n=Il(t.type);this._fire(n.pointerenter,{evt:t,target:this,currentTarget:this})}_pointerover(t){this.setPointersPositions(t);const n=Il(t.type);this._fire(n.pointerover,{evt:t,target:this,currentTarget:this})}_getTargetShape(t){let n=this[t+"targetShape"];return n&&!n.getStage()&&(n=null),n}_pointerleave(t){const n=Il(t.type),r=sd(t.type);if(n){this.setPointersPositions(t);var i=this._getTargetShape(r),a=!Pt.isDragging||Ge.hitOnDragEnabled;i&&a?(i._fireAndBubble(n.pointerout,{evt:t}),i._fireAndBubble(n.pointerleave,{evt:t}),this._fire(n.pointerleave,{evt:t,target:this,currentTarget:this}),this[r+"targetShape"]=null):a&&(this._fire(n.pointerleave,{evt:t,target:this,currentTarget:this}),this._fire(n.pointerout,{evt:t,target:this,currentTarget:this})),this.pointerPos=void 0,this._pointerPositions=[]}}_pointerdown(t){const n=Il(t.type),r=sd(t.type);if(n){this.setPointersPositions(t);var i=!1;this._changedPointerPositions.forEach(a=>{var s=this.getIntersection(a);if(Pt.justDragged=!1,Ge["_"+r+"ListenClick"]=!0,!(s&&s.isListening()))return;Ge.capturePointerEventsEnabled&&s.setPointerCapture(a.id),this[r+"ClickStartShape"]=s,s._fireAndBubble(n.pointerdown,{evt:t,pointerId:a.id}),i=!0;const l=t.type.indexOf("touch")>=0;s.preventDefault()&&t.cancelable&&l&&t.preventDefault()}),i||this._fire(n.pointerdown,{evt:t,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}}_pointermove(t){const n=Il(t.type),r=sd(t.type);if(!n)return;Pt.isDragging&&Pt.node.preventDefault()&&t.cancelable&&t.preventDefault(),this.setPointersPositions(t);var i=!Pt.isDragging||Ge.hitOnDragEnabled;if(!i)return;var a={};let s=!1;var o=this._getTargetShape(r);this._changedPointerPositions.forEach(l=>{const u=G1(l.id)||this.getIntersection(l),c=l.id,h={evt:t,pointerId:c};var p=o!==u;if(p&&o&&(o._fireAndBubble(n.pointerout,Object.assign({},h),u),o._fireAndBubble(n.pointerleave,Object.assign({},h),u)),u){if(a[u._id])return;a[u._id]=!0}u&&u.isListening()?(s=!0,p&&(u._fireAndBubble(n.pointerover,Object.assign({},h),o),u._fireAndBubble(n.pointerenter,Object.assign({},h),o),this[r+"targetShape"]=u),u._fireAndBubble(n.pointermove,Object.assign({},h))):o&&(this._fire(n.pointerover,{evt:t,target:this,currentTarget:this,pointerId:c}),this[r+"targetShape"]=null)}),s||this._fire(n.pointermove,{evt:t,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(t){const n=Il(t.type),r=sd(t.type);if(!n)return;this.setPointersPositions(t);const i=this[r+"ClickStartShape"],a=this[r+"ClickEndShape"];var s={};let o=!1;this._changedPointerPositions.forEach(l=>{const u=G1(l.id)||this.getIntersection(l);if(u){if(u.releaseCapture(l.id),s[u._id])return;s[u._id]=!0}const c=l.id,h={evt:t,pointerId:c};let p=!1;Ge["_"+r+"InDblClickWindow"]?(p=!0,clearTimeout(this[r+"DblTimeout"])):Pt.justDragged||(Ge["_"+r+"InDblClickWindow"]=!0,clearTimeout(this[r+"DblTimeout"])),this[r+"DblTimeout"]=setTimeout(function(){Ge["_"+r+"InDblClickWindow"]=!1},Ge.dblClickWindow),u&&u.isListening()?(o=!0,this[r+"ClickEndShape"]=u,u._fireAndBubble(n.pointerup,Object.assign({},h)),Ge["_"+r+"ListenClick"]&&i&&i===u&&(u._fireAndBubble(n.pointerclick,Object.assign({},h)),p&&a&&a===u&&u._fireAndBubble(n.pointerdblclick,Object.assign({},h)))):(this[r+"ClickEndShape"]=null,Ge["_"+r+"ListenClick"]&&this._fire(n.pointerclick,{evt:t,target:this,currentTarget:this,pointerId:c}),p&&this._fire(n.pointerdblclick,{evt:t,target:this,currentTarget:this,pointerId:c}))}),o||this._fire(n.pointerup,{evt:t,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),Ge["_"+r+"ListenClick"]=!1,t.cancelable&&r!=="touch"&&t.preventDefault()}_contextmenu(t){this.setPointersPositions(t);var n=this.getIntersection(this.getPointerPosition());n&&n.isListening()?n._fireAndBubble(v2,{evt:t}):this._fire(v2,{evt:t,target:this,currentTarget:this})}_wheel(t){this.setPointersPositions(t);var n=this.getIntersection(this.getPointerPosition());n&&n.isListening()?n._fireAndBubble(w2,{evt:t}):this._fire(w2,{evt:t,target:this,currentTarget:this})}_pointercancel(t){this.setPointersPositions(t);const n=G1(t.pointerId)||this.getIntersection(this.getPointerPosition());n&&n._fireAndBubble(Zl,dC(t)),wd(t.pointerId)}_lostpointercapture(t){wd(t.pointerId)}setPointersPositions(t){var n=this._getContentPosition(),r=null,i=null;t=t||window.event,t.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(t.touches,a=>{this._pointerPositions.push({id:a.identifier,x:(a.clientX-n.left)/n.scaleX,y:(a.clientY-n.top)/n.scaleY})}),Array.prototype.forEach.call(t.changedTouches||t.touches,a=>{this._changedPointerPositions.push({id:a.identifier,x:(a.clientX-n.left)/n.scaleX,y:(a.clientY-n.top)/n.scaleY})})):(r=(t.clientX-n.left)/n.scaleX,i=(t.clientY-n.top)/n.scaleY,this.pointerPos={x:r,y:i},this._pointerPositions=[{x:r,y:i,id:ce._getFirstPointerId(t)}],this._changedPointerPositions=[{x:r,y:i,id:ce._getFirstPointerId(t)}])}_setPointerPosition(t){ce.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(t)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};var t=this.content.getBoundingClientRect();return{top:t.top,left:t.left,scaleX:t.width/this.content.clientWidth||1,scaleY:t.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new pu({width:this.width(),height:this.height()}),this.bufferHitCanvas=new cC({pixelRatio:1,width:this.width(),height:this.height()}),!!Ge.isBrowser){var t=this.container();if(!t)throw"Stage has no container. A container is required.";t.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),t.appendChild(this.content),this._resizeDOM()}}cache(){return ce.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(t){t.batchDraw()}),this}};hy.prototype.nodeType=t$;fn(hy);Z.addGetterSetter(hy,"container");var AN="hasShadow",RN="shadowRGBA",DN="patternImage",NN="linearGradient",MN="radialGradient";let kp;function q1(){return kp||(kp=ce.createCanvasElement().getContext("2d"),kp)}const bd={};function l$(e){e.fill()}function u$(e){e.stroke()}function c$(e){e.fill()}function d$(e){e.stroke()}function h$(){this._clearCache(AN)}function f$(){this._clearCache(RN)}function p$(){this._clearCache(DN)}function m$(){this._clearCache(NN)}function g$(){this._clearCache(MN)}let Ie=class extends Me{constructor(t){super(t);let n;for(;n=ce.getRandomColor(),!(n&&!(n in bd)););this.colorKey=n,bd[n]=this}getContext(){return ce.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return ce.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(AN,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(DN,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){var t=q1();const n=t.createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(n&&n.setTransform){const r=new $r;r.translate(this.fillPatternX(),this.fillPatternY()),r.rotate(Ge.getAngle(this.fillPatternRotation())),r.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),r.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const i=r.getMatrix(),a=typeof DOMMatrix>"u"?{a:i[0],b:i[1],c:i[2],d:i[3],e:i[4],f:i[5]}:new DOMMatrix(i);n.setTransform(a)}return n}}_getLinearGradient(){return this._getCache(NN,this.__getLinearGradient)}__getLinearGradient(){var t=this.fillLinearGradientColorStops();if(t){for(var n=q1(),r=this.fillLinearGradientStartPoint(),i=this.fillLinearGradientEndPoint(),a=n.createLinearGradient(r.x,r.y,i.x,i.y),s=0;s<t.length;s+=2)a.addColorStop(t[s],t[s+1]);return a}}_getRadialGradient(){return this._getCache(MN,this.__getRadialGradient)}__getRadialGradient(){var t=this.fillRadialGradientColorStops();if(t){for(var n=q1(),r=this.fillRadialGradientStartPoint(),i=this.fillRadialGradientEndPoint(),a=n.createRadialGradient(r.x,r.y,this.fillRadialGradientStartRadius(),i.x,i.y,this.fillRadialGradientEndRadius()),s=0;s<t.length;s+=2)a.addColorStop(t[s],t[s+1]);return a}}getShadowRGBA(){return this._getCache(RN,this._getShadowRGBA)}_getShadowRGBA(){if(this.hasShadow()){var t=ce.colorToRGBA(this.shadowColor());if(t)return"rgba("+t.r+","+t.g+","+t.b+","+t.a*(this.shadowOpacity()||1)+")"}}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const t=this.hitStrokeWidth();return t==="auto"?this.hasStroke():this.strokeEnabled()&&!!t}intersects(t){var n=this.getStage(),r=n.bufferHitCanvas,i;return r.getContext().clear(),this.drawHit(r,null,!0),i=r.context.getImageData(Math.round(t.x),Math.round(t.y),1,1).data,i[3]>0}destroy(){return Me.prototype.destroy.call(this),delete bd[this.colorKey],delete this.colorKey,this}_useBufferCanvas(t){var n;if(!this.getStage()||!((n=this.attrs.perfectDrawEnabled)!==null&&n!==void 0?n:!0))return!1;const i=t||this.hasFill(),a=this.hasStroke(),s=this.getAbsoluteOpacity()!==1;if(i&&a&&s)return!0;const o=this.hasShadow(),l=this.shadowForStrokeEnabled();return!!(i&&a&&o&&l)}setStrokeHitEnabled(t){ce.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),t?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){var t=this.size();return{x:this._centroid?-t.width/2:0,y:this._centroid?-t.height/2:0,width:t.width,height:t.height}}getClientRect(t={}){const n=t.skipTransform,r=t.relativeTo,i=this.getSelfRect(),s=!t.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,o=i.width+s,l=i.height+s,u=!t.skipShadow&&this.hasShadow(),c=u?this.shadowOffsetX():0,h=u?this.shadowOffsetY():0,p=o+Math.abs(c),m=l+Math.abs(h),g=u&&this.shadowBlur()||0,y=p+g*2,b=m+g*2,w={width:y,height:b,x:-(s/2+g)+Math.min(c,0)+i.x,y:-(s/2+g)+Math.min(h,0)+i.y};return n?w:this._transformedRect(w,r)}drawScene(t,n){var r=this.getLayer(),i=t||r.getCanvas(),a=i.getContext(),s=this._getCanvasCache(),o=this.getSceneFunc(),l=this.hasShadow(),u,c,h,p=i.isCache,m=n===this;if(!this.isVisible()&&!m)return this;if(s){a.save();var g=this.getAbsoluteTransform(n).getMatrix();return a.transform(g[0],g[1],g[2],g[3],g[4],g[5]),this._drawCachedSceneCanvas(a),a.restore(),this}if(!o)return this;if(a.save(),this._useBufferCanvas()&&!p){u=this.getStage(),c=u.bufferCanvas,h=c.getContext(),h.clear(),h.save(),h._applyLineJoin(this);var y=this.getAbsoluteTransform(n).getMatrix();h.transform(y[0],y[1],y[2],y[3],y[4],y[5]),o.call(this,h,this),h.restore();var b=c.pixelRatio;l&&a._applyShadow(this),a._applyOpacity(this),a._applyGlobalCompositeOperation(this),a.drawImage(c._canvas,0,0,c.width/b,c.height/b)}else{if(a._applyLineJoin(this),!m){var y=this.getAbsoluteTransform(n).getMatrix();a.transform(y[0],y[1],y[2],y[3],y[4],y[5]),a._applyOpacity(this),a._applyGlobalCompositeOperation(this)}l&&a._applyShadow(this),o.call(this,a,this)}return a.restore(),this}drawHit(t,n,r=!1){if(!this.shouldDrawHit(n,r))return this;var i=this.getLayer(),a=t||i.hitCanvas,s=a&&a.getContext(),o=this.hitFunc()||this.sceneFunc(),l=this._getCanvasCache(),u=l&&l.hit;if(this.colorKey||ce.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),u){s.save();var c=this.getAbsoluteTransform(n).getMatrix();return s.transform(c[0],c[1],c[2],c[3],c[4],c[5]),this._drawCachedHitCanvas(s),s.restore(),this}if(!o)return this;if(s.save(),s._applyLineJoin(this),!(this===n)){var p=this.getAbsoluteTransform(n).getMatrix();s.transform(p[0],p[1],p[2],p[3],p[4],p[5])}return o.call(this,s,this),s.restore(),this}drawHitFromCache(t=0){var n=this._getCanvasCache(),r=this._getCachedSceneCanvas(),i=n.hit,a=i.getContext(),s=i.getWidth(),o=i.getHeight(),l,u,c,h,p,m;a.clear(),a.drawImage(r._canvas,0,0,s,o);try{for(l=a.getImageData(0,0,s,o),u=l.data,c=u.length,h=ce._hexToRgb(this.colorKey),p=0;p<c;p+=4)m=u[p+3],m>t?(u[p]=h.r,u[p+1]=h.g,u[p+2]=h.b,u[p+3]=255):u[p+3]=0;a.putImageData(l,0,0)}catch(g){ce.error("Unable to draw hit graph from cached scene canvas. "+g.message)}return this}hasPointerCapture(t){return vN(t,this)}setPointerCapture(t){wN(t,this)}releaseCapture(t){wd(t)}};Ie.prototype._fillFunc=l$;Ie.prototype._strokeFunc=u$;Ie.prototype._fillFuncHit=c$;Ie.prototype._strokeFuncHit=d$;Ie.prototype._centroid=!1;Ie.prototype.nodeType="Shape";fn(Ie);Ie.prototype.eventListeners={};Ie.prototype.on.call(Ie.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",h$);Ie.prototype.on.call(Ie.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",f$);Ie.prototype.on.call(Ie.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",p$);Ie.prototype.on.call(Ie.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",m$);Ie.prototype.on.call(Ie.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",g$);Z.addGetterSetter(Ie,"stroke",void 0,gN());Z.addGetterSetter(Ie,"strokeWidth",2,Oe());Z.addGetterSetter(Ie,"fillAfterStrokeEnabled",!1);Z.addGetterSetter(Ie,"hitStrokeWidth","auto",uC());Z.addGetterSetter(Ie,"strokeHitEnabled",!0,Hi());Z.addGetterSetter(Ie,"perfectDrawEnabled",!0,Hi());Z.addGetterSetter(Ie,"shadowForStrokeEnabled",!0,Hi());Z.addGetterSetter(Ie,"lineJoin");Z.addGetterSetter(Ie,"lineCap");Z.addGetterSetter(Ie,"sceneFunc");Z.addGetterSetter(Ie,"hitFunc");Z.addGetterSetter(Ie,"dash");Z.addGetterSetter(Ie,"dashOffset",0,Oe());Z.addGetterSetter(Ie,"shadowColor",void 0,tc());Z.addGetterSetter(Ie,"shadowBlur",0,Oe());Z.addGetterSetter(Ie,"shadowOpacity",1,Oe());Z.addComponentsGetterSetter(Ie,"shadowOffset",["x","y"]);Z.addGetterSetter(Ie,"shadowOffsetX",0,Oe());Z.addGetterSetter(Ie,"shadowOffsetY",0,Oe());Z.addGetterSetter(Ie,"fillPatternImage");Z.addGetterSetter(Ie,"fill",void 0,gN());Z.addGetterSetter(Ie,"fillPatternX",0,Oe());Z.addGetterSetter(Ie,"fillPatternY",0,Oe());Z.addGetterSetter(Ie,"fillLinearGradientColorStops");Z.addGetterSetter(Ie,"strokeLinearGradientColorStops");Z.addGetterSetter(Ie,"fillRadialGradientStartRadius",0);Z.addGetterSetter(Ie,"fillRadialGradientEndRadius",0);Z.addGetterSetter(Ie,"fillRadialGradientColorStops");Z.addGetterSetter(Ie,"fillPatternRepeat","repeat");Z.addGetterSetter(Ie,"fillEnabled",!0);Z.addGetterSetter(Ie,"strokeEnabled",!0);Z.addGetterSetter(Ie,"shadowEnabled",!0);Z.addGetterSetter(Ie,"dashEnabled",!0);Z.addGetterSetter(Ie,"strokeScaleEnabled",!0);Z.addGetterSetter(Ie,"fillPriority","color");Z.addComponentsGetterSetter(Ie,"fillPatternOffset",["x","y"]);Z.addGetterSetter(Ie,"fillPatternOffsetX",0,Oe());Z.addGetterSetter(Ie,"fillPatternOffsetY",0,Oe());Z.addComponentsGetterSetter(Ie,"fillPatternScale",["x","y"]);Z.addGetterSetter(Ie,"fillPatternScaleX",1,Oe());Z.addGetterSetter(Ie,"fillPatternScaleY",1,Oe());Z.addComponentsGetterSetter(Ie,"fillLinearGradientStartPoint",["x","y"]);Z.addComponentsGetterSetter(Ie,"strokeLinearGradientStartPoint",["x","y"]);Z.addGetterSetter(Ie,"fillLinearGradientStartPointX",0);Z.addGetterSetter(Ie,"strokeLinearGradientStartPointX",0);Z.addGetterSetter(Ie,"fillLinearGradientStartPointY",0);Z.addGetterSetter(Ie,"strokeLinearGradientStartPointY",0);Z.addComponentsGetterSetter(Ie,"fillLinearGradientEndPoint",["x","y"]);Z.addComponentsGetterSetter(Ie,"strokeLinearGradientEndPoint",["x","y"]);Z.addGetterSetter(Ie,"fillLinearGradientEndPointX",0);Z.addGetterSetter(Ie,"strokeLinearGradientEndPointX",0);Z.addGetterSetter(Ie,"fillLinearGradientEndPointY",0);Z.addGetterSetter(Ie,"strokeLinearGradientEndPointY",0);Z.addComponentsGetterSetter(Ie,"fillRadialGradientStartPoint",["x","y"]);Z.addGetterSetter(Ie,"fillRadialGradientStartPointX",0);Z.addGetterSetter(Ie,"fillRadialGradientStartPointY",0);Z.addComponentsGetterSetter(Ie,"fillRadialGradientEndPoint",["x","y"]);Z.addGetterSetter(Ie,"fillRadialGradientEndPointX",0);Z.addGetterSetter(Ie,"fillRadialGradientEndPointY",0);Z.addGetterSetter(Ie,"fillPatternRotation",0);Z.backCompat(Ie,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"});var y$="#",v$="beforeDraw",w$="draw",ON=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],b$=ON.length;let nl=class extends Hr{constructor(t){super(t),this.canvas=new pu,this.hitCanvas=new cC({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(t){return this.getContext().clear(t),this.getHitCanvas().getContext().clear(t),this}setZIndex(t){super.setZIndex(t);var n=this.getStage();return n&&n.content&&(n.content.removeChild(this.getNativeCanvasElement()),t<n.children.length-1?n.content.insertBefore(this.getNativeCanvasElement(),n.children[t+1].getCanvas()._canvas):n.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){Me.prototype.moveToTop.call(this);var t=this.getStage();return t&&t.content&&(t.content.removeChild(this.getNativeCanvasElement()),t.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){var t=Me.prototype.moveUp.call(this);if(!t)return!1;var n=this.getStage();return!n||!n.content?!1:(n.content.removeChild(this.getNativeCanvasElement()),this.index<n.children.length-1?n.content.insertBefore(this.getNativeCanvasElement(),n.children[this.index+1].getCanvas()._canvas):n.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(Me.prototype.moveDown.call(this)){var t=this.getStage();if(t){var n=t.children;t.content&&(t.content.removeChild(this.getNativeCanvasElement()),t.content.insertBefore(this.getNativeCanvasElement(),n[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(Me.prototype.moveToBottom.call(this)){var t=this.getStage();if(t){var n=t.children;t.content&&(t.content.removeChild(this.getNativeCanvasElement()),t.content.insertBefore(this.getNativeCanvasElement(),n[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){var t=this.getNativeCanvasElement();return Me.prototype.remove.call(this),t&&t.parentNode&&ce._isInDocument(t)&&t.parentNode.removeChild(t),this}getStage(){return this.parent}setSize({width:t,height:n}){return this.canvas.setSize(t,n),this.hitCanvas.setSize(t,n),this._setSmoothEnabled(),this}_validateAdd(t){var n=t.getType();n!=="Group"&&n!=="Shape"&&ce.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(t){return t=t||{},t.width=t.width||this.getWidth(),t.height=t.height||this.getHeight(),t.x=t.x!==void 0?t.x:this.x(),t.y=t.y!==void 0?t.y:this.y(),Me.prototype._toKonvaCanvas.call(this,t)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){ce.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){ce.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,ce.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(t){if(!this.isListening()||!this.isVisible())return null;for(var n=1,r=!1;;){for(let i=0;i<b$;i++){const a=ON[i],s=this._getIntersection({x:t.x+a.x*n,y:t.y+a.y*n}),o=s.shape;if(o)return o;if(r=!!s.antialiased,!s.antialiased)break}if(r)n+=1;else return null}}_getIntersection(t){const n=this.hitCanvas.pixelRatio,r=this.hitCanvas.context.getImageData(Math.round(t.x*n),Math.round(t.y*n),1,1).data,i=r[3];if(i===255){const a=ce._rgbToHex(r[0],r[1],r[2]),s=bd[y$+a];return s?{shape:s}:{antialiased:!0}}else if(i>0)return{antialiased:!0};return{}}drawScene(t,n){var r=this.getLayer(),i=t||r&&r.getCanvas();return this._fire(v$,{node:this}),this.clearBeforeDraw()&&i.getContext().clear(),Hr.prototype.drawScene.call(this,i,n),this._fire(w$,{node:this}),this}drawHit(t,n){var r=this.getLayer(),i=t||r&&r.hitCanvas;return r&&r.clearBeforeDraw()&&r.getHitCanvas().getContext().clear(),Hr.prototype.drawHit.call(this,i,n),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(t){ce.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(t)}getHitGraphEnabled(t){return ce.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!(!this.parent||!this.parent.content)){var t=this.parent,n=!!this.hitCanvas._canvas.parentNode;n?t.content.removeChild(this.hitCanvas._canvas):t.content.appendChild(this.hitCanvas._canvas)}}destroy(){return ce.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}};nl.prototype.nodeType="Layer";fn(nl);Z.addGetterSetter(nl,"imageSmoothingEnabled",!0);Z.addGetterSetter(nl,"clearBeforeDraw",!0);Z.addGetterSetter(nl,"hitGraphEnabled",!0,Hi());class hC extends nl{constructor(t){super(t),this.listening(!1),ce.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}}hC.prototype.nodeType="FastLayer";fn(hC);let Du=class extends Hr{_validateAdd(t){var n=t.getType();n!=="Group"&&n!=="Shape"&&ce.throw("You may only add groups and shapes to groups.")}};Du.prototype.nodeType="Group";fn(Du);var K1=function(){return fu.performance&&fu.performance.now?function(){return fu.performance.now()}:function(){return new Date().getTime()}}();class yi{constructor(t,n){this.id=yi.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:K1(),frameRate:0},this.func=t,this.setLayers(n)}setLayers(t){var n=[];return t?t.length>0?n=t:n=[t]:n=[],this.layers=n,this}getLayers(){return this.layers}addLayer(t){var n=this.layers,r=n.length,i;for(i=0;i<r;i++)if(n[i]._id===t._id)return!1;return this.layers.push(t),!0}isRunning(){var t=yi,n=t.animations,r=n.length,i;for(i=0;i<r;i++)if(n[i].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=K1(),yi._addAnimation(this),this}stop(){return yi._removeAnimation(this),this}_updateFrameObject(t){this.frame.timeDiff=t-this.frame.lastTime,this.frame.lastTime=t,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(t){this.animations.push(t),this._handleAnimation()}static _removeAnimation(t){var n=t.id,r=this.animations,i=r.length,a;for(a=0;a<i;a++)if(r[a].id===n){this.animations.splice(a,1);break}}static _runFrames(){var t={},n=this.animations,r,i,a,s,o,l,u,c,h;for(s=0;s<n.length;s++)if(r=n[s],i=r.layers,a=r.func,r._updateFrameObject(K1()),l=i.length,a?h=a.call(r,r.frame)!==!1:h=!0,!!h)for(o=0;o<l;o++)u=i[o],u._id!==void 0&&(t[u._id]=u);for(c in t)t.hasOwnProperty(c)&&t[c].batchDraw()}static _animationLoop(){var t=yi;t.animations.length?(t._runFrames(),ce.requestAnimFrame(t._animationLoop)):t.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,ce.requestAnimFrame(this._animationLoop))}}yi.animations=[];yi.animIdCounter=0;yi.animRunning=!1;var x$={node:1,duration:1,easing:1,onFinish:1,yoyo:1},k$=1,SI=2,CI=3,S$=0,EI=["fill","stroke","shadowColor"];class C${constructor(t,n,r,i,a,s,o){this.prop=t,this.propFunc=n,this.begin=i,this._pos=i,this.duration=s,this._change=0,this.prevPos=0,this.yoyo=o,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=r,this._change=a-this.begin,this.pause()}fire(t){var n=this[t];n&&n()}setTime(t){t>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():t<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=t,this.update())}getTime(){return this._time}setPosition(t){this.prevPos=this._pos,this.propFunc(t),this._pos=t}getPosition(t){return t===void 0&&(t=this._time),this.func(t,this.begin,this._change,this.duration)}play(){this.state=SI,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=CI,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(t){this.pause(),this._time=t,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){var t=this.getTimer()-this._startTime;this.state===SI?this.setTime(t):this.state===CI&&this.setTime(this.duration-t)}pause(){this.state=k$,this.fire("onPause")}getTimer(){return new Date().getTime()}}class bn{constructor(t){var n=this,r=t.node,i=r._id,a,s=t.easing||xd.Linear,o=!!t.yoyo,l;typeof t.duration>"u"?a=.3:t.duration===0?a=.001:a=t.duration,this.node=r,this._id=S$++;var u=r.getLayer()||(r instanceof Ge.Stage?r.getLayers():null);u||ce.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new yi(function(){n.tween.onEnterFrame()},u),this.tween=new C$(l,function(c){n._tweenFunc(c)},s,0,1,a*1e3,o),this._addListeners(),bn.attrs[i]||(bn.attrs[i]={}),bn.attrs[i][this._id]||(bn.attrs[i][this._id]={}),bn.tweens[i]||(bn.tweens[i]={});for(l in t)x$[l]===void 0&&this._addAttr(l,t[l]);this.reset(),this.onFinish=t.onFinish,this.onReset=t.onReset,this.onUpdate=t.onUpdate}_addAttr(t,n){var r=this.node,i=r._id,a,s,o,l,u,c,h,p;if(o=bn.tweens[i][t],o&&delete bn.attrs[i][o][t],a=r.getAttr(t),ce._isArray(n))if(s=[],u=Math.max(n.length,a.length),t==="points"&&n.length!==a.length&&(n.length>a.length?(h=a,a=ce._prepareArrayForTween(a,n,r.closed())):(c=n,n=ce._prepareArrayForTween(n,a,r.closed()))),t.indexOf("fill")===0)for(l=0;l<u;l++)if(l%2===0)s.push(n[l]-a[l]);else{var m=ce.colorToRGBA(a[l]);p=ce.colorToRGBA(n[l]),a[l]=m,s.push({r:p.r-m.r,g:p.g-m.g,b:p.b-m.b,a:p.a-m.a})}else for(l=0;l<u;l++)s.push(n[l]-a[l]);else EI.indexOf(t)!==-1?(a=ce.colorToRGBA(a),p=ce.colorToRGBA(n),s={r:p.r-a.r,g:p.g-a.g,b:p.b-a.b,a:p.a-a.a}):s=n-a;bn.attrs[i][this._id][t]={start:a,diff:s,end:n,trueEnd:c,trueStart:h},bn.tweens[i][t]=this._id}_tweenFunc(t){var n=this.node,r=bn.attrs[n._id][this._id],i,a,s,o,l,u,c,h;for(i in r){if(a=r[i],s=a.start,o=a.diff,h=a.end,ce._isArray(s))if(l=[],c=Math.max(s.length,h.length),i.indexOf("fill")===0)for(u=0;u<c;u++)u%2===0?l.push((s[u]||0)+o[u]*t):l.push("rgba("+Math.round(s[u].r+o[u].r*t)+","+Math.round(s[u].g+o[u].g*t)+","+Math.round(s[u].b+o[u].b*t)+","+(s[u].a+o[u].a*t)+")");else for(u=0;u<c;u++)l.push((s[u]||0)+o[u]*t);else EI.indexOf(i)!==-1?l="rgba("+Math.round(s.r+o.r*t)+","+Math.round(s.g+o.g*t)+","+Math.round(s.b+o.b*t)+","+(s.a+o.a*t)+")":l=s+o*t;n.setAttr(i,l)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{var t=this.node,n=bn.attrs[t._id][this._id];n.points&&n.points.trueEnd&&t.setAttr("points",n.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{var t=this.node,n=bn.attrs[t._id][this._id];n.points&&n.points.trueStart&&t.points(n.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(t){return this.tween.seek(t*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){var t=this.node._id,n=this._id,r=bn.tweens[t],i;this.pause();for(i in r)delete bn.tweens[t][i];delete bn.attrs[t][n]}}bn.attrs={};bn.tweens={};Me.prototype.to=function(e){var t=e.onFinish;e.node=this,e.onFinish=function(){this.destroy(),t&&t()};var n=new bn(e);n.play()};const xd={BackEaseIn(e,t,n,r){var i=1.70158;return n*(e/=r)*e*((i+1)*e-i)+t},BackEaseOut(e,t,n,r){var i=1.70158;return n*((e=e/r-1)*e*((i+1)*e+i)+1)+t},BackEaseInOut(e,t,n,r){var i=1.70158;return(e/=r/2)<1?n/2*(e*e*(((i*=1.525)+1)*e-i))+t:n/2*((e-=2)*e*(((i*=1.525)+1)*e+i)+2)+t},ElasticEaseIn(e,t,n,r,i,a){var s=0;return e===0?t:(e/=r)===1?t+n:(a||(a=r*.3),!i||i<Math.abs(n)?(i=n,s=a/4):s=a/(2*Math.PI)*Math.asin(n/i),-(i*Math.pow(2,10*(e-=1))*Math.sin((e*r-s)*(2*Math.PI)/a))+t)},ElasticEaseOut(e,t,n,r,i,a){var s=0;return e===0?t:(e/=r)===1?t+n:(a||(a=r*.3),!i||i<Math.abs(n)?(i=n,s=a/4):s=a/(2*Math.PI)*Math.asin(n/i),i*Math.pow(2,-10*e)*Math.sin((e*r-s)*(2*Math.PI)/a)+n+t)},ElasticEaseInOut(e,t,n,r,i,a){var s=0;return e===0?t:(e/=r/2)===2?t+n:(a||(a=r*(.3*1.5)),!i||i<Math.abs(n)?(i=n,s=a/4):s=a/(2*Math.PI)*Math.asin(n/i),e<1?-.5*(i*Math.pow(2,10*(e-=1))*Math.sin((e*r-s)*(2*Math.PI)/a))+t:i*Math.pow(2,-10*(e-=1))*Math.sin((e*r-s)*(2*Math.PI)/a)*.5+n+t)},BounceEaseOut(e,t,n,r){return(e/=r)<1/2.75?n*(7.5625*e*e)+t:e<2/2.75?n*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?n*(7.5625*(e-=2.25/2.75)*e+.9375)+t:n*(7.5625*(e-=2.625/2.75)*e+.984375)+t},BounceEaseIn(e,t,n,r){return n-xd.BounceEaseOut(r-e,0,n,r)+t},BounceEaseInOut(e,t,n,r){return e<r/2?xd.BounceEaseIn(e*2,0,n,r)*.5+t:xd.BounceEaseOut(e*2-r,0,n,r)*.5+n*.5+t},EaseIn(e,t,n,r){return n*(e/=r)*e+t},EaseOut(e,t,n,r){return-n*(e/=r)*(e-2)+t},EaseInOut(e,t,n,r){return(e/=r/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t},StrongEaseIn(e,t,n,r){return n*(e/=r)*e*e*e*e+t},StrongEaseOut(e,t,n,r){return n*((e=e/r-1)*e*e*e*e+1)+t},StrongEaseInOut(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e*e*e+t:n/2*((e-=2)*e*e*e*e+2)+t},Linear(e,t,n,r){return n*e/r+t}},Qo=ce._assign(Ge,{Util:ce,Transform:$r,Node:Me,Container:Hr,Stage:hy,stages:hm,Layer:nl,FastLayer:hC,Group:Du,DD:Pt,Shape:Ie,shapes:bd,Animation:yi,Tween:bn,Easings:xd,Context:cy,Canvas:dy});class qa extends Ie{_sceneFunc(t){var n=Ge.getAngle(this.angle()),r=this.clockwise();t.beginPath(),t.arc(0,0,this.outerRadius(),0,n,r),t.arc(0,0,this.innerRadius(),n,0,!r),t.closePath(),t.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(t){this.outerRadius(t/2)}setHeight(t){this.outerRadius(t/2)}getSelfRect(){const t=this.innerRadius(),n=this.outerRadius(),r=this.clockwise(),i=Ge.getAngle(r?360-this.angle():this.angle()),a=Math.cos(Math.min(i,Math.PI)),s=1,o=Math.sin(Math.min(Math.max(Math.PI,i),3*Math.PI/2)),l=Math.sin(Math.min(i,Math.PI/2)),u=a*(a>0?t:n),c=s*n,h=o*(o>0?t:n),p=l*(l>0?n:t);return{x:u,y:r?-1*p:h,width:c-u,height:p-h}}}qa.prototype._centroid=!0;qa.prototype.className="Arc";qa.prototype._attrsAffectingSize=["innerRadius","outerRadius"];fn(qa);Z.addGetterSetter(qa,"innerRadius",0,Oe());Z.addGetterSetter(qa,"outerRadius",0,Oe());Z.addGetterSetter(qa,"angle",0,Oe());Z.addGetterSetter(qa,"clockwise",!1,Hi());function b2(e,t,n,r,i,a,s){var o=Math.sqrt(Math.pow(n-e,2)+Math.pow(r-t,2)),l=Math.sqrt(Math.pow(i-n,2)+Math.pow(a-r,2)),u=s*o/(o+l),c=s*l/(o+l),h=n-u*(i-e),p=r-u*(a-t),m=n+c*(i-e),g=r+c*(a-t);return[h,p,m,g]}function TI(e,t){var n=e.length,r=[],i,a;for(i=2;i<n-2;i+=2)a=b2(e[i-2],e[i-1],e[i],e[i+1],e[i+2],e[i+3],t),!isNaN(a[0])&&(r.push(a[0]),r.push(a[1]),r.push(e[i]),r.push(e[i+1]),r.push(a[2]),r.push(a[3]));return r}let Ka=class extends Ie{constructor(t){super(t),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(t){var n=this.points(),r=n.length,i=this.tension(),a=this.closed(),s=this.bezier(),o,l,u;if(r){if(t.beginPath(),t.moveTo(n[0],n[1]),i!==0&&r>4){for(o=this.getTensionPoints(),l=o.length,u=a?0:4,a||t.quadraticCurveTo(o[0],o[1],o[2],o[3]);u<l-2;)t.bezierCurveTo(o[u++],o[u++],o[u++],o[u++],o[u++],o[u++]);a||t.quadraticCurveTo(o[l-2],o[l-1],n[r-2],n[r-1])}else if(s)for(u=2;u<r;)t.bezierCurveTo(n[u++],n[u++],n[u++],n[u++],n[u++],n[u++]);else for(u=2;u<r;u+=2)t.lineTo(n[u],n[u+1]);a?(t.closePath(),t.fillStrokeShape(this)):t.strokeShape(this)}}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():TI(this.points(),this.tension())}_getTensionPointsClosed(){var t=this.points(),n=t.length,r=this.tension(),i=b2(t[n-2],t[n-1],t[0],t[1],t[2],t[3],r),a=b2(t[n-4],t[n-3],t[n-2],t[n-1],t[0],t[1],r),s=TI(t,r),o=[i[2],i[3]].concat(s).concat([a[0],a[1],t[n-2],t[n-1],a[2],a[3],i[0],i[1],t[0],t[1]]);return o}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){var t=this.points();if(t.length<4)return{x:t[0]||0,y:t[1]||0,width:0,height:0};this.tension()!==0?t=[t[0],t[1],...this._getTensionPoints(),t[t.length-2],t[t.length-1]]:t=this.points();for(var n=t[0],r=t[0],i=t[1],a=t[1],s,o,l=0;l<t.length/2;l++)s=t[l*2],o=t[l*2+1],n=Math.min(n,s),r=Math.max(r,s),i=Math.min(i,o),a=Math.max(a,o);return{x:n,y:i,width:r-n,height:a-i}}};Ka.prototype.className="Line";Ka.prototype._attrsAffectingSize=["points","bezier","tension"];fn(Ka);Z.addGetterSetter(Ka,"closed",!1);Z.addGetterSetter(Ka,"bezier",!1);Z.addGetterSetter(Ka,"tension",0,Oe());Z.addGetterSetter(Ka,"points",[],Mj());class Ut extends Ie{constructor(t){super(t),this.dataArray=[],this.pathLength=0,this.dataArray=Ut.parsePathData(this.data()),this.pathLength=0;for(var n=0;n<this.dataArray.length;++n)this.pathLength+=this.dataArray[n].pathLength;this.on("dataChange.konva",function(){this.dataArray=Ut.parsePathData(this.data()),this.pathLength=0;for(var r=0;r<this.dataArray.length;++r)this.pathLength+=this.dataArray[r].pathLength})}_sceneFunc(t){var n=this.dataArray;t.beginPath();for(var r=!1,i=0;i<n.length;i++){var a=n[i].command,s=n[i].points;switch(a){case"L":t.lineTo(s[0],s[1]);break;case"M":t.moveTo(s[0],s[1]);break;case"C":t.bezierCurveTo(s[0],s[1],s[2],s[3],s[4],s[5]);break;case"Q":t.quadraticCurveTo(s[0],s[1],s[2],s[3]);break;case"A":var o=s[0],l=s[1],u=s[2],c=s[3],h=s[4],p=s[5],m=s[6],g=s[7],y=u>c?u:c,b=u>c?1:u/c,w=u>c?c/u:1;t.translate(o,l),t.rotate(m),t.scale(b,w),t.arc(0,0,y,h,h+p,1-g),t.scale(1/b,1/w),t.rotate(-m),t.translate(-o,-l);break;case"z":r=!0,t.closePath();break}}!r&&!this.hasFill()?t.strokeShape(this):t.fillStrokeShape(this)}getSelfRect(){var t=[];this.dataArray.forEach(function(u){if(u.command==="A"){var c=u.points[4],h=u.points[5],p=u.points[4]+h,m=Math.PI/180;if(Math.abs(c-p)<m&&(m=Math.abs(c-p)),h<0)for(let g=c-m;g>p;g-=m){const y=Ut.getPointOnEllipticalArc(u.points[0],u.points[1],u.points[2],u.points[3],g,0);t.push(y.x,y.y)}else for(let g=c+m;g<p;g+=m){const y=Ut.getPointOnEllipticalArc(u.points[0],u.points[1],u.points[2],u.points[3],g,0);t.push(y.x,y.y)}}else if(u.command==="C")for(let g=0;g<=1;g+=.01){const y=Ut.getPointOnCubicBezier(g,u.start.x,u.start.y,u.points[0],u.points[1],u.points[2],u.points[3],u.points[4],u.points[5]);t.push(y.x,y.y)}else t=t.concat(u.points)});for(var n=t[0],r=t[0],i=t[1],a=t[1],s,o,l=0;l<t.length/2;l++)s=t[l*2],o=t[l*2+1],isNaN(s)||(n=Math.min(n,s),r=Math.max(r,s)),isNaN(o)||(i=Math.min(i,o),a=Math.max(a,o));return{x:n,y:i,width:r-n,height:a-i}}getLength(){return this.pathLength}getPointAtLength(t){var n,r=0,i=this.dataArray.length;if(!i)return null;for(;r<i&&t>this.dataArray[r].pathLength;)t-=this.dataArray[r].pathLength,++r;if(r===i)return n=this.dataArray[r-1].points.slice(-2),{x:n[0],y:n[1]};if(t<.01)return n=this.dataArray[r].points.slice(0,2),{x:n[0],y:n[1]};var a=this.dataArray[r],s=a.points;switch(a.command){case"L":return Ut.getPointOnLine(t,a.start.x,a.start.y,s[0],s[1]);case"C":return Ut.getPointOnCubicBezier(t/a.pathLength,a.start.x,a.start.y,s[0],s[1],s[2],s[3],s[4],s[5]);case"Q":return Ut.getPointOnQuadraticBezier(t/a.pathLength,a.start.x,a.start.y,s[0],s[1],s[2],s[3]);case"A":var o=s[0],l=s[1],u=s[2],c=s[3],h=s[4],p=s[5],m=s[6];return h+=p*t/a.pathLength,Ut.getPointOnEllipticalArc(o,l,u,c,h,m)}return null}static getLineLength(t,n,r,i){return Math.sqrt((r-t)*(r-t)+(i-n)*(i-n))}static getPointOnLine(t,n,r,i,a,s,o){s===void 0&&(s=n),o===void 0&&(o=r);var l=(a-r)/(i-n+1e-8),u=Math.sqrt(t*t/(1+l*l));i<n&&(u*=-1);var c=l*u,h;if(i===n)h={x:s,y:o+c};else if((o-r)/(s-n+1e-8)===l)h={x:s+u,y:o+c};else{var p,m,g=this.getLineLength(n,r,i,a),y=(s-n)*(i-n)+(o-r)*(a-r);y=y/(g*g),p=n+y*(i-n),m=r+y*(a-r);var b=this.getLineLength(s,o,p,m),w=Math.sqrt(t*t-b*b);u=Math.sqrt(w*w/(1+l*l)),i<n&&(u*=-1),c=l*u,h={x:p+u,y:m+c}}return h}static getPointOnCubicBezier(t,n,r,i,a,s,o,l,u){function c(b){return b*b*b}function h(b){return 3*b*b*(1-b)}function p(b){return 3*b*(1-b)*(1-b)}function m(b){return(1-b)*(1-b)*(1-b)}var g=l*c(t)+s*h(t)+i*p(t)+n*m(t),y=u*c(t)+o*h(t)+a*p(t)+r*m(t);return{x:g,y}}static getPointOnQuadraticBezier(t,n,r,i,a,s,o){function l(m){return m*m}function u(m){return 2*m*(1-m)}function c(m){return(1-m)*(1-m)}var h=s*l(t)+i*u(t)+n*c(t),p=o*l(t)+a*u(t)+r*c(t);return{x:h,y:p}}static getPointOnEllipticalArc(t,n,r,i,a,s){var o=Math.cos(s),l=Math.sin(s),u={x:r*Math.cos(a),y:i*Math.sin(a)};return{x:t+(u.x*o-u.y*l),y:n+(u.x*l+u.y*o)}}static parsePathData(t){if(!t)return[];var n=t,r=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];n=n.replace(new RegExp(" ","g"),",");for(var i=0;i<r.length;i++)n=n.replace(new RegExp(r[i],"g"),"|"+r[i]);var a=n.split("|"),s=[],o=[],l=0,u=0,c=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi,h;for(i=1;i<a.length;i++){var p=a[i],m=p.charAt(0);for(p=p.slice(1),o.length=0;h=c.exec(p);)o.push(h[0]);for(var g=[],y=0,b=o.length;y<b;y++){if(o[y]==="00"){g.push(0,0);continue}var w=parseFloat(o[y]);isNaN(w)?g.push(0):g.push(w)}for(;g.length>0&&!isNaN(g[0]);){var x=null,k=[],_=l,A=u,P,N,B,j,W,K,z,G,M,te;switch(m){case"l":l+=g.shift(),u+=g.shift(),x="L",k.push(l,u);break;case"L":l=g.shift(),u=g.shift(),k.push(l,u);break;case"m":var X=g.shift(),ue=g.shift();if(l+=X,u+=ue,x="M",s.length>2&&s[s.length-1].command==="z"){for(var de=s.length-2;de>=0;de--)if(s[de].command==="M"){l=s[de].points[0]+X,u=s[de].points[1]+ue;break}}k.push(l,u),m="l";break;case"M":l=g.shift(),u=g.shift(),x="M",k.push(l,u),m="L";break;case"h":l+=g.shift(),x="L",k.push(l,u);break;case"H":l=g.shift(),x="L",k.push(l,u);break;case"v":u+=g.shift(),x="L",k.push(l,u);break;case"V":u=g.shift(),x="L",k.push(l,u);break;case"C":k.push(g.shift(),g.shift(),g.shift(),g.shift()),l=g.shift(),u=g.shift(),k.push(l,u);break;case"c":k.push(l+g.shift(),u+g.shift(),l+g.shift(),u+g.shift()),l+=g.shift(),u+=g.shift(),x="C",k.push(l,u);break;case"S":N=l,B=u,P=s[s.length-1],P.command==="C"&&(N=l+(l-P.points[2]),B=u+(u-P.points[3])),k.push(N,B,g.shift(),g.shift()),l=g.shift(),u=g.shift(),x="C",k.push(l,u);break;case"s":N=l,B=u,P=s[s.length-1],P.command==="C"&&(N=l+(l-P.points[2]),B=u+(u-P.points[3])),k.push(N,B,l+g.shift(),u+g.shift()),l+=g.shift(),u+=g.shift(),x="C",k.push(l,u);break;case"Q":k.push(g.shift(),g.shift()),l=g.shift(),u=g.shift(),k.push(l,u);break;case"q":k.push(l+g.shift(),u+g.shift()),l+=g.shift(),u+=g.shift(),x="Q",k.push(l,u);break;case"T":N=l,B=u,P=s[s.length-1],P.command==="Q"&&(N=l+(l-P.points[0]),B=u+(u-P.points[1])),l=g.shift(),u=g.shift(),x="Q",k.push(N,B,l,u);break;case"t":N=l,B=u,P=s[s.length-1],P.command==="Q"&&(N=l+(l-P.points[0]),B=u+(u-P.points[1])),l+=g.shift(),u+=g.shift(),x="Q",k.push(N,B,l,u);break;case"A":j=g.shift(),W=g.shift(),K=g.shift(),z=g.shift(),G=g.shift(),M=l,te=u,l=g.shift(),u=g.shift(),x="A",k=this.convertEndpointToCenterParameterization(M,te,l,u,z,G,j,W,K);break;case"a":j=g.shift(),W=g.shift(),K=g.shift(),z=g.shift(),G=g.shift(),M=l,te=u,l+=g.shift(),u+=g.shift(),x="A",k=this.convertEndpointToCenterParameterization(M,te,l,u,z,G,j,W,K);break}s.push({command:x||m,points:k,start:{x:_,y:A},pathLength:this.calcLength(_,A,x||m,k)})}(m==="z"||m==="Z")&&s.push({command:"z",points:[],start:void 0,pathLength:0})}return s}static calcLength(t,n,r,i){var a,s,o,l,u=Ut;switch(r){case"L":return u.getLineLength(t,n,i[0],i[1]);case"C":for(a=0,s=u.getPointOnCubicBezier(0,t,n,i[0],i[1],i[2],i[3],i[4],i[5]),l=.01;l<=1;l+=.01)o=u.getPointOnCubicBezier(l,t,n,i[0],i[1],i[2],i[3],i[4],i[5]),a+=u.getLineLength(s.x,s.y,o.x,o.y),s=o;return a;case"Q":for(a=0,s=u.getPointOnQuadraticBezier(0,t,n,i[0],i[1],i[2],i[3]),l=.01;l<=1;l+=.01)o=u.getPointOnQuadraticBezier(l,t,n,i[0],i[1],i[2],i[3]),a+=u.getLineLength(s.x,s.y,o.x,o.y),s=o;return a;case"A":a=0;var c=i[4],h=i[5],p=i[4]+h,m=Math.PI/180;if(Math.abs(c-p)<m&&(m=Math.abs(c-p)),s=u.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],c,0),h<0)for(l=c-m;l>p;l-=m)o=u.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],l,0),a+=u.getLineLength(s.x,s.y,o.x,o.y),s=o;else for(l=c+m;l<p;l+=m)o=u.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],l,0),a+=u.getLineLength(s.x,s.y,o.x,o.y),s=o;return o=u.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],p,0),a+=u.getLineLength(s.x,s.y,o.x,o.y),a}return 0}static convertEndpointToCenterParameterization(t,n,r,i,a,s,o,l,u){var c=u*(Math.PI/180),h=Math.cos(c)*(t-r)/2+Math.sin(c)*(n-i)/2,p=-1*Math.sin(c)*(t-r)/2+Math.cos(c)*(n-i)/2,m=h*h/(o*o)+p*p/(l*l);m>1&&(o*=Math.sqrt(m),l*=Math.sqrt(m));var g=Math.sqrt((o*o*(l*l)-o*o*(p*p)-l*l*(h*h))/(o*o*(p*p)+l*l*(h*h)));a===s&&(g*=-1),isNaN(g)&&(g=0);var y=g*o*p/l,b=g*-l*h/o,w=(t+r)/2+Math.cos(c)*y-Math.sin(c)*b,x=(n+i)/2+Math.sin(c)*y+Math.cos(c)*b,k=function(W){return Math.sqrt(W[0]*W[0]+W[1]*W[1])},_=function(W,K){return(W[0]*K[0]+W[1]*K[1])/(k(W)*k(K))},A=function(W,K){return(W[0]*K[1]<W[1]*K[0]?-1:1)*Math.acos(_(W,K))},P=A([1,0],[(h-y)/o,(p-b)/l]),N=[(h-y)/o,(p-b)/l],B=[(-1*h-y)/o,(-1*p-b)/l],j=A(N,B);return _(N,B)<=-1&&(j=Math.PI),_(N,B)>=1&&(j=0),s===0&&j>0&&(j=j-2*Math.PI),s===1&&j<0&&(j=j+2*Math.PI),[w,x,o,l,P,j,c,s]}}Ut.prototype.className="Path";Ut.prototype._attrsAffectingSize=["data"];fn(Ut);Z.addGetterSetter(Ut,"data");class rl extends Ka{_sceneFunc(t){super._sceneFunc(t);var n=Math.PI*2,r=this.points(),i=r,a=this.tension()!==0&&r.length>4;a&&(i=this.getTensionPoints());var s=this.pointerLength(),o=r.length,l,u;if(a){const p=[i[i.length-4],i[i.length-3],i[i.length-2],i[i.length-1],r[o-2],r[o-1]],m=Ut.calcLength(i[i.length-4],i[i.length-3],"C",p),g=Ut.getPointOnQuadraticBezier(Math.min(1,1-s/m),p[0],p[1],p[2],p[3],p[4],p[5]);l=r[o-2]-g.x,u=r[o-1]-g.y}else l=r[o-2]-r[o-4],u=r[o-1]-r[o-3];var c=(Math.atan2(u,l)+n)%n,h=this.pointerWidth();this.pointerAtEnding()&&(t.save(),t.beginPath(),t.translate(r[o-2],r[o-1]),t.rotate(c),t.moveTo(0,0),t.lineTo(-s,h/2),t.lineTo(-s,-h/2),t.closePath(),t.restore(),this.__fillStroke(t)),this.pointerAtBeginning()&&(t.save(),t.beginPath(),t.translate(r[0],r[1]),a?(l=(i[0]+i[2])/2-r[0],u=(i[1]+i[3])/2-r[1]):(l=r[2]-r[0],u=r[3]-r[1]),t.rotate((Math.atan2(-u,-l)+n)%n),t.moveTo(0,0),t.lineTo(-s,h/2),t.lineTo(-s,-h/2),t.closePath(),t.restore(),this.__fillStroke(t))}__fillStroke(t){var n=this.dashEnabled();n&&(this.attrs.dashEnabled=!1,t.setLineDash([])),t.fillStrokeShape(this),n&&(this.attrs.dashEnabled=!0)}getSelfRect(){const t=super.getSelfRect(),n=this.pointerWidth()/2;return{x:t.x-n,y:t.y-n,width:t.width+n*2,height:t.height+n*2}}}rl.prototype.className="Arrow";fn(rl);Z.addGetterSetter(rl,"pointerLength",10,Oe());Z.addGetterSetter(rl,"pointerWidth",10,Oe());Z.addGetterSetter(rl,"pointerAtBeginning",!1);Z.addGetterSetter(rl,"pointerAtEnding",!0);class nc extends Ie{_sceneFunc(t){t.beginPath(),t.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),t.closePath(),t.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(t){this.radius()!==t/2&&this.radius(t/2)}setHeight(t){this.radius()!==t/2&&this.radius(t/2)}}nc.prototype._centroid=!0;nc.prototype.className="Circle";nc.prototype._attrsAffectingSize=["radius"];fn(nc);Z.addGetterSetter(nc,"radius",0,Oe());class Ys extends Ie{_sceneFunc(t){var n=this.radiusX(),r=this.radiusY();t.beginPath(),t.save(),n!==r&&t.scale(1,r/n),t.arc(0,0,n,0,Math.PI*2,!1),t.restore(),t.closePath(),t.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(t){this.radiusX(t/2)}setHeight(t){this.radiusY(t/2)}}Ys.prototype.className="Ellipse";Ys.prototype._centroid=!0;Ys.prototype._attrsAffectingSize=["radiusX","radiusY"];fn(Ys);Z.addComponentsGetterSetter(Ys,"radius",["x","y"]);Z.addGetterSetter(Ys,"radiusX",0,Oe());Z.addGetterSetter(Ys,"radiusY",0,Oe());let va=class LN extends Ie{constructor(t){super(t),this.on("imageChange.konva",()=>{this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const t=this.image();t&&t.complete||t&&t.readyState===4||t&&t.addEventListener&&t.addEventListener("load",()=>{this._requestDraw()})}_useBufferCanvas(){return super._useBufferCanvas(!0)}_sceneFunc(t){const n=this.getWidth(),r=this.getHeight(),i=this.cornerRadius(),a=this.attrs.image;let s;if(a){const o=this.attrs.cropWidth,l=this.attrs.cropHeight;o&&l?s=[a,this.cropX(),this.cropY(),o,l,0,0,n,r]:s=[a,0,0,n,r]}(this.hasFill()||this.hasStroke()||i)&&(t.beginPath(),i?ce.drawRoundedRectPath(t,n,r,i):t.rect(0,0,n,r),t.closePath(),t.fillStrokeShape(this)),a&&(i&&t.clip(),t.drawImage.apply(t,s))}_hitFunc(t){var n=this.width(),r=this.height(),i=this.cornerRadius();t.beginPath(),i?ce.drawRoundedRectPath(t,n,r,i):t.rect(0,0,n,r),t.closePath(),t.fillStrokeShape(this)}getWidth(){var t,n;return(t=this.attrs.width)!==null&&t!==void 0?t:(n=this.image())===null||n===void 0?void 0:n.width}getHeight(){var t,n;return(t=this.attrs.height)!==null&&t!==void 0?t:(n=this.image())===null||n===void 0?void 0:n.height}static fromURL(t,n,r=null){var i=ce.createImageElement();i.onload=function(){var a=new LN({image:i});n(a)},i.onerror=r,i.crossOrigin="Anonymous",i.src=t}};va.prototype.className="Image";fn(va);Z.addGetterSetter(va,"cornerRadius",0,lC(4));Z.addGetterSetter(va,"image");Z.addComponentsGetterSetter(va,"crop",["x","y","width","height"]);Z.addGetterSetter(va,"cropX",0,Oe());Z.addGetterSetter(va,"cropY",0,Oe());Z.addGetterSetter(va,"cropWidth",0,Oe());Z.addGetterSetter(va,"cropHeight",0,Oe());var FN=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],E$="Change.konva",T$="none",x2="up",k2="right",S2="down",C2="left",_$=FN.length;let fC=class extends Du{constructor(t){super(t),this.on("add.konva",function(n){this._addListeners(n.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(t){var n=this,r,i=function(){n._sync()};for(r=0;r<_$;r++)t.on(FN[r]+E$,i)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){var t=this.getText(),n=this.getTag(),r,i,a,s,o,l,u;if(t&&n){switch(r=t.width(),i=t.height(),a=n.pointerDirection(),s=n.pointerWidth(),u=n.pointerHeight(),o=0,l=0,a){case x2:o=r/2,l=-1*u;break;case k2:o=r+s,l=i/2;break;case S2:o=r/2,l=i+u;break;case C2:o=-1*s,l=i/2;break}n.setAttrs({x:-1*o,y:-1*l,width:r,height:i}),t.setAttrs({x:-1*o,y:-1*l})}}};fC.prototype.className="Label";fn(fC);let il=class extends Ie{_sceneFunc(t){var n=this.width(),r=this.height(),i=this.pointerDirection(),a=this.pointerWidth(),s=this.pointerHeight(),o=this.cornerRadius();let l=0,u=0,c=0,h=0;typeof o=="number"?l=u=c=h=Math.min(o,n/2,r/2):(l=Math.min(o[0]||0,n/2,r/2),u=Math.min(o[1]||0,n/2,r/2),h=Math.min(o[2]||0,n/2,r/2),c=Math.min(o[3]||0,n/2,r/2)),t.beginPath(),t.moveTo(l,0),i===x2&&(t.lineTo((n-a)/2,0),t.lineTo(n/2,-1*s),t.lineTo((n+a)/2,0)),t.lineTo(n-u,0),t.arc(n-u,u,u,Math.PI*3/2,0,!1),i===k2&&(t.lineTo(n,(r-s)/2),t.lineTo(n+a,r/2),t.lineTo(n,(r+s)/2)),t.lineTo(n,r-h),t.arc(n-h,r-h,h,0,Math.PI/2,!1),i===S2&&(t.lineTo((n+a)/2,r),t.lineTo(n/2,r+s),t.lineTo((n-a)/2,r)),t.lineTo(c,r),t.arc(c,r-c,c,Math.PI/2,Math.PI,!1),i===C2&&(t.lineTo(0,(r+s)/2),t.lineTo(-1*a,r/2),t.lineTo(0,(r-s)/2)),t.lineTo(0,l),t.arc(l,l,l,Math.PI,Math.PI*3/2,!1),t.closePath(),t.fillStrokeShape(this)}getSelfRect(){var t=0,n=0,r=this.pointerWidth(),i=this.pointerHeight(),a=this.pointerDirection(),s=this.width(),o=this.height();return a===x2?(n-=i,o+=i):a===S2?o+=i:a===C2?(t-=r*1.5,s+=r):a===k2&&(s+=r*1.5),{x:t,y:n,width:s,height:o}}};il.prototype.className="Tag";fn(il);Z.addGetterSetter(il,"pointerDirection",T$);Z.addGetterSetter(il,"pointerWidth",0,Oe());Z.addGetterSetter(il,"pointerHeight",0,Oe());Z.addGetterSetter(il,"cornerRadius",0,lC(4));let zh=class extends Ie{_sceneFunc(t){var n=this.cornerRadius(),r=this.width(),i=this.height();t.beginPath(),n?ce.drawRoundedRectPath(t,r,i,n):t.rect(0,0,r,i),t.closePath(),t.fillStrokeShape(this)}};zh.prototype.className="Rect";fn(zh);Z.addGetterSetter(zh,"cornerRadius",0,lC(4));class al extends Ie{_sceneFunc(t){const n=this._getPoints();t.beginPath(),t.moveTo(n[0].x,n[0].y);for(var r=1;r<n.length;r++)t.lineTo(n[r].x,n[r].y);t.closePath(),t.fillStrokeShape(this)}_getPoints(){const t=this.attrs.sides,n=this.attrs.radius||0,r=[];for(var i=0;i<t;i++)r.push({x:n*Math.sin(i*2*Math.PI/t),y:-1*n*Math.cos(i*2*Math.PI/t)});return r}getSelfRect(){const t=this._getPoints();var n=t[0].x,r=t[0].y,i=t[0].x,a=t[0].y;return t.forEach(s=>{n=Math.min(n,s.x),r=Math.max(r,s.x),i=Math.min(i,s.y),a=Math.max(a,s.y)}),{x:n,y:i,width:r-n,height:a-i}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(t){this.radius(t/2)}setHeight(t){this.radius(t/2)}}al.prototype.className="RegularPolygon";al.prototype._centroid=!0;al.prototype._attrsAffectingSize=["radius"];fn(al);Z.addGetterSetter(al,"radius",0,Oe());Z.addGetterSetter(al,"sides",0,Oe());var _I=Math.PI*2;class sl extends Ie{_sceneFunc(t){t.beginPath(),t.arc(0,0,this.innerRadius(),0,_I,!1),t.moveTo(this.outerRadius(),0),t.arc(0,0,this.outerRadius(),_I,0,!0),t.closePath(),t.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(t){this.outerRadius(t/2)}setHeight(t){this.outerRadius(t/2)}}sl.prototype.className="Ring";sl.prototype._centroid=!0;sl.prototype._attrsAffectingSize=["innerRadius","outerRadius"];fn(sl);Z.addGetterSetter(sl,"innerRadius",0,Oe());Z.addGetterSetter(sl,"outerRadius",0,Oe());class wa extends Ie{constructor(t){super(t),this._updated=!0,this.anim=new yi(()=>{var n=this._updated;return this._updated=!1,n}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(t){var n=this.animation(),r=this.frameIndex(),i=r*4,a=this.animations()[n],s=this.frameOffsets(),o=a[i+0],l=a[i+1],u=a[i+2],c=a[i+3],h=this.image();if((this.hasFill()||this.hasStroke())&&(t.beginPath(),t.rect(0,0,u,c),t.closePath(),t.fillStrokeShape(this)),h)if(s){var p=s[n],m=r*2;t.drawImage(h,o,l,u,c,p[m+0],p[m+1],u,c)}else t.drawImage(h,o,l,u,c,0,0,u,c)}_hitFunc(t){var n=this.animation(),r=this.frameIndex(),i=r*4,a=this.animations()[n],s=this.frameOffsets(),o=a[i+2],l=a[i+3];if(t.beginPath(),s){var u=s[n],c=r*2;t.rect(u[c+0],u[c+1],o,l)}else t.rect(0,0,o,l);t.closePath(),t.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){var t=this;this.interval=setInterval(function(){t._updateIndex()},1e3/this.frameRate())}start(){if(!this.isRunning()){var t=this.getLayer();this.anim.setLayers(t),this._setInterval(),this.anim.start()}}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){var t=this.frameIndex(),n=this.animation(),r=this.animations(),i=r[n],a=i.length/4;t<a-1?this.frameIndex(t+1):this.frameIndex(0)}}wa.prototype.className="Sprite";fn(wa);Z.addGetterSetter(wa,"animation");Z.addGetterSetter(wa,"animations");Z.addGetterSetter(wa,"frameOffsets");Z.addGetterSetter(wa,"image");Z.addGetterSetter(wa,"frameIndex",0,Oe());Z.addGetterSetter(wa,"frameRate",17,Oe());Z.backCompat(wa,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"});let Xs=class extends Ie{_sceneFunc(t){var n=this.innerRadius(),r=this.outerRadius(),i=this.numPoints();t.beginPath(),t.moveTo(0,0-r);for(var a=1;a<i*2;a++){var s=a%2===0?r:n,o=s*Math.sin(a*Math.PI/i),l=-1*s*Math.cos(a*Math.PI/i);t.lineTo(o,l)}t.closePath(),t.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(t){this.outerRadius(t/2)}setHeight(t){this.outerRadius(t/2)}};Xs.prototype.className="Star";Xs.prototype._centroid=!0;Xs.prototype._attrsAffectingSize=["innerRadius","outerRadius"];fn(Xs);Z.addGetterSetter(Xs,"numPoints",5,Oe());Z.addGetterSetter(Xs,"innerRadius",0,Oe());Z.addGetterSetter(Xs,"outerRadius",0,Oe());function BN(e){return Array.from(e)}var Pl="auto",I$="center",zc="justify",P$="Change.konva",A$="2d",II="-",zN="left",R$="text",D$="Text",N$="top",M$="bottom",PI="middle",UN="normal",O$="px ",Sp=" ",L$="right",F$="word",B$="char",AI="none",Y1="",jN=["fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],z$=jN.length;function U$(e){return e.split(",").map(t=>{t=t.trim();const n=t.indexOf(" ")>=0,r=t.indexOf('"')>=0||t.indexOf("'")>=0;return n&&!r&&(t=`"${t}"`),t}).join(", ")}var Cp;function X1(){return Cp||(Cp=ce.createCanvasElement().getContext(A$),Cp)}function j$(e){e.fillText(this._partialText,this._partialTextX,this._partialTextY)}function $$(e){e.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function V$(e){return e=e||{},!e.fillLinearGradientColorStops&&!e.fillRadialGradientColorStops&&!e.fillPatternImage&&(e.fill=e.fill||"black"),e}class hn extends Ie{constructor(t){super(V$(t)),this._partialTextX=0,this._partialTextY=0;for(var n=0;n<z$;n++)this.on(jN[n]+P$,this._setTextData);this._setTextData()}_sceneFunc(t){var n=this.textArr,r=n.length;if(this.text()){var i=this.padding(),a=this.fontSize(),s=this.lineHeight()*a,o=this.verticalAlign(),l=0,u=this.align(),c=this.getWidth(),h=this.letterSpacing(),p=this.fill(),m=this.textDecoration(),g=m.indexOf("underline")!==-1,y=m.indexOf("line-through")!==-1,b,w=0,w=s/2,x=0,k=0;for(t.setAttr("font",this._getContextFont()),t.setAttr("textBaseline",PI),t.setAttr("textAlign",zN),o===PI?l=(this.getHeight()-r*s-i*2)/2:o===M$&&(l=this.getHeight()-r*s-i*2),t.translate(i,l+i),b=0;b<r;b++){var x=0,k=0,_=n[b],A=_.text,P=_.width,N=_.lastInParagraph,B,j,W;if(t.save(),u===L$?x+=c-P-i*2:u===I$&&(x+=(c-P-i*2)/2),g){t.save(),t.beginPath(),t.moveTo(x,w+k+Math.round(a/2)),B=A.split(" ").length-1,j=B===0,W=u===zc&&!N?c-i*2:P,t.lineTo(x+Math.round(W),w+k+Math.round(a/2)),t.lineWidth=a/15;const X=this._getLinearGradient();t.strokeStyle=X||p,t.stroke(),t.restore()}if(y){t.save(),t.beginPath(),t.moveTo(x,w+k),B=A.split(" ").length-1,j=B===0,W=u===zc&&N&&!j?c-i*2:P,t.lineTo(x+Math.round(W),w+k),t.lineWidth=a/15;const X=this._getLinearGradient();t.strokeStyle=X||p,t.stroke(),t.restore()}if(h!==0||u===zc){B=A.split(" ").length-1;for(var K=BN(A),z=0;z<K.length;z++){var G=K[z];G===" "&&!N&&u===zc&&(x+=(c-i*2-P)/B),this._partialTextX=x,this._partialTextY=w+k,this._partialText=G,t.fillStrokeShape(this),x+=this.measureSize(G).width+h}}else this._partialTextX=x,this._partialTextY=w+k,this._partialText=A,t.fillStrokeShape(this);t.restore(),r>1&&(w+=s)}}}_hitFunc(t){var n=this.getWidth(),r=this.getHeight();t.beginPath(),t.rect(0,0,n,r),t.closePath(),t.fillStrokeShape(this)}setText(t){var n=ce._isString(t)?t:t==null?"":t+"";return this._setAttr(R$,n),this}getWidth(){var t=this.attrs.width===Pl||this.attrs.width===void 0;return t?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){var t=this.attrs.height===Pl||this.attrs.height===void 0;return t?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return ce.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(t){var n=X1(),r=this.fontSize(),i;return n.save(),n.font=this._getContextFont(),i=n.measureText(t),n.restore(),{width:i.width,height:r}}_getContextFont(){return this.fontStyle()+Sp+this.fontVariant()+Sp+(this.fontSize()+O$)+U$(this.fontFamily())}_addTextLine(t){this.align()===zc&&(t=t.trim());var r=this._getTextWidth(t);return this.textArr.push({text:t,width:r,lastInParagraph:!1})}_getTextWidth(t){var n=this.letterSpacing(),r=t.length;return X1().measureText(t).width+(r?n*(r-1):0)}_setTextData(){var t=this.text().split(`
`),n=+this.fontSize(),r=0,i=this.lineHeight()*n,a=this.attrs.width,s=this.attrs.height,o=a!==Pl&&a!==void 0,l=s!==Pl&&s!==void 0,u=this.padding(),c=a-u*2,h=s-u*2,p=0,m=this.wrap(),g=m!==AI,y=m!==B$&&g,b=this.ellipsis();this.textArr=[],X1().font=this._getContextFont();for(var w=b?this._getTextWidth(Y1):0,x=0,k=t.length;x<k;++x){var _=t[x],A=this._getTextWidth(_);if(o&&A>c)for(;_.length>0;){for(var P=0,N=_.length,B="",j=0;P<N;){var W=P+N>>>1,K=_.slice(0,W+1),z=this._getTextWidth(K)+w;z<=c?(P=W+1,B=K,j=z):N=W}if(B){if(y){var G,M=_[B.length],te=M===Sp||M===II;te&&j<=c?G=B.length:G=Math.max(B.lastIndexOf(Sp),B.lastIndexOf(II))+1,G>0&&(P=G,B=B.slice(0,P),j=this._getTextWidth(B))}B=B.trimRight(),this._addTextLine(B),r=Math.max(r,j),p+=i;var X=this._shouldHandleEllipsis(p);if(X){this._tryToAddEllipsisToLastLine();break}if(_=_.slice(P),_=_.trimLeft(),_.length>0&&(A=this._getTextWidth(_),A<=c)){this._addTextLine(_),p+=i,r=Math.max(r,A);break}}else break}else this._addTextLine(_),p+=i,r=Math.max(r,A),this._shouldHandleEllipsis(p)&&x<k-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),l&&p+i>h)break}this.textHeight=n,this.textWidth=r}_shouldHandleEllipsis(t){var n=+this.fontSize(),r=this.lineHeight()*n,i=this.attrs.height,a=i!==Pl&&i!==void 0,s=this.padding(),o=i-s*2,l=this.wrap(),u=l!==AI;return!u||a&&t+r>o}_tryToAddEllipsisToLastLine(){var t=this.attrs.width,n=t!==Pl&&t!==void 0,r=this.padding(),i=t-r*2,a=this.ellipsis(),s=this.textArr[this.textArr.length-1];if(!(!s||!a)){if(n){var o=this._getTextWidth(s.text+Y1)<i;o||(s.text=s.text.slice(0,s.text.length-3))}this.textArr.splice(this.textArr.length-1,1),this._addTextLine(s.text+Y1)}}getStrokeScaleEnabled(){return!0}}hn.prototype._fillFunc=j$;hn.prototype._strokeFunc=$$;hn.prototype.className=D$;hn.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"];fn(hn);Z.overWriteSetter(hn,"width",uC());Z.overWriteSetter(hn,"height",uC());Z.addGetterSetter(hn,"fontFamily","Arial");Z.addGetterSetter(hn,"fontSize",12,Oe());Z.addGetterSetter(hn,"fontStyle",UN);Z.addGetterSetter(hn,"fontVariant",UN);Z.addGetterSetter(hn,"padding",0,Oe());Z.addGetterSetter(hn,"align",zN);Z.addGetterSetter(hn,"verticalAlign",N$);Z.addGetterSetter(hn,"lineHeight",1,Oe());Z.addGetterSetter(hn,"wrap",F$);Z.addGetterSetter(hn,"ellipsis",!1,Hi());Z.addGetterSetter(hn,"letterSpacing",0,Oe());Z.addGetterSetter(hn,"text","",tc());Z.addGetterSetter(hn,"textDecoration","");var W$="",$N="normal";function VN(e){e.fillText(this.partialText,0,0)}function WN(e){e.strokeText(this.partialText,0,0)}class Mn extends Ie{constructor(t){super(t),this.dummyCanvas=ce.createCanvasElement(),this.dataArray=[],this.dataArray=Ut.parsePathData(this.attrs.data),this.on("dataChange.konva",function(){this.dataArray=Ut.parsePathData(this.attrs.data),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_sceneFunc(t){t.setAttr("font",this._getContextFont()),t.setAttr("textBaseline",this.textBaseline()),t.setAttr("textAlign","left"),t.save();var n=this.textDecoration(),r=this.fill(),i=this.fontSize(),a=this.glyphInfo;n==="underline"&&t.beginPath();for(var s=0;s<a.length;s++){t.save();var o=a[s].p0;t.translate(o.x,o.y),t.rotate(a[s].rotation),this.partialText=a[s].text,t.fillStrokeShape(this),n==="underline"&&(s===0&&t.moveTo(0,i/2+1),t.lineTo(i,i/2+1)),t.restore()}n==="underline"&&(t.strokeStyle=r,t.lineWidth=i/20,t.stroke()),t.restore()}_hitFunc(t){t.beginPath();var n=this.glyphInfo;if(n.length>=1){var r=n[0].p0;t.moveTo(r.x,r.y)}for(var i=0;i<n.length;i++){var a=n[i].p1;t.lineTo(a.x,a.y)}t.setAttr("lineWidth",this.fontSize()),t.setAttr("strokeStyle",this.colorKey),t.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return ce.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(t){return hn.prototype.setText.call(this,t)}_getContextFont(){return hn.prototype._getContextFont.call(this)}_getTextSize(t){var n=this.dummyCanvas,r=n.getContext("2d");r.save(),r.font=this._getContextFont();var i=r.measureText(t);return r.restore(),{width:i.width,height:parseInt(this.attrs.fontSize,10)}}_setTextData(){var t=this,n=this._getTextSize(this.attrs.text),r=this.letterSpacing(),i=this.align(),a=this.kerningFunc();this.textWidth=n.width,this.textHeight=n.height;var s=Math.max(this.textWidth+((this.attrs.text||"").length-1)*r,0);this.glyphInfo=[];for(var o=0,l=0;l<t.dataArray.length;l++)t.dataArray[l].pathLength>0&&(o+=t.dataArray[l].pathLength);var u=0;i==="center"&&(u=Math.max(0,o/2-s/2)),i==="right"&&(u=Math.max(0,o-s));for(var c=BN(this.text()),h=this.text().split(" ").length-1,p,m,g,y=-1,b=0,w=function(){b=0;for(var z=t.dataArray,G=y+1;G<z.length;G++){if(z[G].pathLength>0)return y=G,z[G];z[G].command==="M"&&(p={x:z[G].points[0],y:z[G].points[1]})}return{}},x=function(z){var G=t._getTextSize(z).width+r;z===" "&&i==="justify"&&(G+=(o-s)/h);var M=0,te=0;for(m=void 0;Math.abs(G-M)/G>.01&&te<20;){te++;for(var X=M;g===void 0;)g=w(),g&&X+g.pathLength<G&&(X+=g.pathLength,g=void 0);if(Object.keys(g).length===0||p===void 0)return;var ue=!1;switch(g.command){case"L":Ut.getLineLength(p.x,p.y,g.points[0],g.points[1])>G?m=Ut.getPointOnLine(G,p.x,p.y,g.points[0],g.points[1],p.x,p.y):g=void 0;break;case"A":var de=g.points[4],ae=g.points[5],pe=g.points[4]+ae;b===0?b=de+1e-8:G>M?b+=Math.PI/180*ae/Math.abs(ae):b-=Math.PI/360*ae/Math.abs(ae),(ae<0&&b<pe||ae>=0&&b>pe)&&(b=pe,ue=!0),m=Ut.getPointOnEllipticalArc(g.points[0],g.points[1],g.points[2],g.points[3],b,g.points[6]);break;case"C":b===0?G>g.pathLength?b=1e-8:b=G/g.pathLength:G>M?b+=(G-M)/g.pathLength/2:b=Math.max(b-(M-G)/g.pathLength/2,0),b>1&&(b=1,ue=!0),m=Ut.getPointOnCubicBezier(b,g.start.x,g.start.y,g.points[0],g.points[1],g.points[2],g.points[3],g.points[4],g.points[5]);break;case"Q":b===0?b=G/g.pathLength:G>M?b+=(G-M)/g.pathLength:b-=(M-G)/g.pathLength,b>1&&(b=1,ue=!0),m=Ut.getPointOnQuadraticBezier(b,g.start.x,g.start.y,g.points[0],g.points[1],g.points[2],g.points[3]);break}m!==void 0&&(M=Ut.getLineLength(p.x,p.y,m.x,m.y)),ue&&(ue=!1,g=void 0)}},k="C",_=t._getTextSize(k).width+r,A=u/_-1,P=0;P<A&&(x(k),!(p===void 0||m===void 0));P++)p=m;for(var N=0;N<c.length&&(x(c[N]),!(p===void 0||m===void 0));N++){var B=Ut.getLineLength(p.x,p.y,m.x,m.y),j=0;if(a)try{j=a(c[N-1],c[N])*this.fontSize()}catch{j=0}p.x+=j,m.x+=j,this.textWidth+=j;var W=Ut.getPointOnLine(j+B/2,p.x,p.y,m.x,m.y),K=Math.atan2(m.y-p.y,m.x-p.x);this.glyphInfo.push({transposeX:W.x,transposeY:W.y,text:c[N],rotation:K,p0:p,p1:m}),p=m}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};var t=[];this.glyphInfo.forEach(function(c){t.push(c.p0.x),t.push(c.p0.y),t.push(c.p1.x),t.push(c.p1.y)});for(var n=t[0]||0,r=t[0]||0,i=t[1]||0,a=t[1]||0,s,o,l=0;l<t.length/2;l++)s=t[l*2],o=t[l*2+1],n=Math.min(n,s),r=Math.max(r,s),i=Math.min(i,o),a=Math.max(a,o);var u=this.fontSize();return{x:n-u/2,y:i-u/2,width:r-n+u,height:a-i+u}}destroy(){return ce.releaseCanvas(this.dummyCanvas),super.destroy()}}Mn.prototype._fillFunc=VN;Mn.prototype._strokeFunc=WN;Mn.prototype._fillFuncHit=VN;Mn.prototype._strokeFuncHit=WN;Mn.prototype.className="TextPath";Mn.prototype._attrsAffectingSize=["text","fontSize","data"];fn(Mn);Z.addGetterSetter(Mn,"data");Z.addGetterSetter(Mn,"fontFamily","Arial");Z.addGetterSetter(Mn,"fontSize",12,Oe());Z.addGetterSetter(Mn,"fontStyle",$N);Z.addGetterSetter(Mn,"align","left");Z.addGetterSetter(Mn,"letterSpacing",0,Oe());Z.addGetterSetter(Mn,"textBaseline","middle");Z.addGetterSetter(Mn,"fontVariant",$N);Z.addGetterSetter(Mn,"text",W$);Z.addGetterSetter(Mn,"textDecoration",null);Z.addGetterSetter(Mn,"kerningFunc",null);var GN="tr-konva",G$=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange"].map(e=>e+`.${GN}`).join(" "),RI="nodesRect",H$=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],q$={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135};const K$="ontouchstart"in Ge._global;function Y$(e,t){if(e==="rotater")return"crosshair";t+=ce.degToRad(q$[e]||0);var n=(ce.radToDeg(t)%360+360)%360;return ce._inRange(n,315+22.5,360)||ce._inRange(n,0,22.5)?"ns-resize":ce._inRange(n,45-22.5,45+22.5)?"nesw-resize":ce._inRange(n,90-22.5,90+22.5)?"ew-resize":ce._inRange(n,135-22.5,135+22.5)?"nwse-resize":ce._inRange(n,180-22.5,180+22.5)?"ns-resize":ce._inRange(n,225-22.5,225+22.5)?"nesw-resize":ce._inRange(n,270-22.5,270+22.5)?"ew-resize":ce._inRange(n,315-22.5,315+22.5)?"nwse-resize":(ce.error("Transformer has unknown angle for cursor detection: "+n),"pointer")}var Tg=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"],DI=1e8;function X$(e){return{x:e.x+e.width/2*Math.cos(e.rotation)+e.height/2*Math.sin(-e.rotation),y:e.y+e.height/2*Math.cos(e.rotation)+e.width/2*Math.sin(e.rotation)}}function HN(e,t,n){const r=n.x+(e.x-n.x)*Math.cos(t)-(e.y-n.y)*Math.sin(t),i=n.y+(e.x-n.x)*Math.sin(t)+(e.y-n.y)*Math.cos(t);return Object.assign(Object.assign({},e),{rotation:e.rotation+t,x:r,y:i})}function Q$(e,t){const n=X$(e);return HN(e,t,n)}function Z$(e,t,n){let r=t;for(let i=0;i<e.length;i++){const a=Ge.getAngle(e[i]),s=Math.abs(a-t)%(Math.PI*2);Math.min(s,Math.PI*2-s)<n&&(r=a)}return r}let Nt=class extends Du{constructor(t){super(t),this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(G$,this.update),this.getNode()&&this.update()}attachTo(t){return this.setNode(t),this}setNode(t){return ce.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([t])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return GN+this._id}setNodes(t=[]){this._nodes&&this._nodes.length&&this.detach();const n=t.filter(i=>i.isAncestorOf(this)?(ce.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);this._nodes=t=n,t.length===1&&this.useSingleNodeRotation()?this.rotation(t[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(i=>{const a=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()},s=i._attrsAffectingSize.map(o=>o+"Change."+this._getEventNamespace()).join(" ");i.on(s,a),i.on(H$.map(o=>o+`.${this._getEventNamespace()}`).join(" "),a),i.on(`absoluteTransformChange.${this._getEventNamespace()}`,a),this._proxyDrag(i)}),this._resetTransformCache();var r=!!this.findOne(".top-left");return r&&this.update(),this}_proxyDrag(t){let n;t.on(`dragstart.${this._getEventNamespace()}`,r=>{n=t.getAbsolutePosition(),!this.isDragging()&&t!==this.findOne(".back")&&this.startDrag(r,!1)}),t.on(`dragmove.${this._getEventNamespace()}`,r=>{if(!n)return;const i=t.getAbsolutePosition(),a=i.x-n.x,s=i.y-n.y;this.nodes().forEach(o=>{if(o===t||o.isDragging())return;const l=o.getAbsolutePosition();o.setAbsolutePosition({x:l.x+a,y:l.y+s}),o.startDrag(r)}),n=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(t=>{t.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(RI),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(RI,this.__getNodeRect)}__getNodeShape(t,n=this.rotation(),r){var i=t.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),a=t.getAbsoluteScale(r),s=t.getAbsolutePosition(r),o=i.x*a.x-t.offsetX()*a.x,l=i.y*a.y-t.offsetY()*a.y;const u=(Ge.getAngle(t.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),c={x:s.x+o*Math.cos(u)+l*Math.sin(-u),y:s.y+l*Math.cos(u)+o*Math.sin(u),width:i.width*a.x,height:i.height*a.y,rotation:u};return HN(c,-Ge.getAngle(n),{x:0,y:0})}__getNodeRect(){var t=this.getNode();if(!t)return{x:-DI,y:-DI,width:0,height:0,rotation:0};const n=[];this.nodes().map(u=>{const c=u.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()});var h=[{x:c.x,y:c.y},{x:c.x+c.width,y:c.y},{x:c.x+c.width,y:c.y+c.height},{x:c.x,y:c.y+c.height}],p=u.getAbsoluteTransform();h.forEach(function(m){var g=p.point(m);n.push(g)})});const r=new $r;r.rotate(-Ge.getAngle(this.rotation()));var i,a,s,o;n.forEach(function(u){var c=r.point(u);i===void 0&&(i=s=c.x,a=o=c.y),i=Math.min(i,c.x),a=Math.min(a,c.y),s=Math.max(s,c.x),o=Math.max(o,c.y)}),r.invert();const l=r.point({x:i,y:a});return{x:l.x,y:l.y,width:s-i,height:o-a,rotation:Ge.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),Tg.forEach(function(t){this._createAnchor(t)}.bind(this)),this._createAnchor("rotater")}_createAnchor(t){var n=new zh({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:t+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:K$?10:"auto"}),r=this;n.on("mousedown touchstart",function(i){r._handleMouseDown(i)}),n.on("dragstart",i=>{n.stopDrag(),i.cancelBubble=!0}),n.on("dragend",i=>{i.cancelBubble=!0}),n.on("mouseenter",()=>{var i=Ge.getAngle(this.rotation()),a=Y$(t,i);n.getStage().content&&(n.getStage().content.style.cursor=a),this._cursorChange=!0}),n.on("mouseout",()=>{n.getStage().content&&(n.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(n)}_createBack(){var t=new Ie({name:"back",width:0,height:0,draggable:!0,sceneFunc(n){var r=this.getParent(),i=r.padding();n.beginPath(),n.rect(-i,-i,this.width()+i*2,this.height()+i*2),n.moveTo(this.width()/2,-i),r.rotateEnabled()&&n.lineTo(this.width()/2,-r.rotateAnchorOffset()*ce._sign(this.height())-i),n.fillStrokeShape(this)},hitFunc:(n,r)=>{if(this.shouldOverdrawWholeArea()){var i=this.padding();n.beginPath(),n.rect(-i,-i,r.width()+i*2,r.height()+i*2),n.fillStrokeShape(r)}}});this.add(t),this._proxyDrag(t),t.on("dragstart",n=>{n.cancelBubble=!0}),t.on("dragmove",n=>{n.cancelBubble=!0}),t.on("dragend",n=>{n.cancelBubble=!0}),this.on("dragmove",n=>{this.update()})}_handleMouseDown(t){this._movingAnchorName=t.target.name().split(" ")[0];var n=this._getNodeRect(),r=n.width,i=n.height,a=Math.sqrt(Math.pow(r,2)+Math.pow(i,2));this.sin=Math.abs(i/a),this.cos=Math.abs(r/a),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;var s=t.target.getAbsolutePosition(),o=t.target.getStage().getPointerPosition();this._anchorDragOffset={x:o.x-s.x,y:o.y-s.y},this._fire("transformstart",{evt:t.evt,target:this.getNode()}),this._nodes.forEach(l=>{l._fire("transformstart",{evt:t.evt,target:l})})}_handleMouseMove(t){var n,r,i,a=this.findOne("."+this._movingAnchorName),s=a.getStage();s.setPointersPositions(t);const o=s.getPointerPosition();let l={x:o.x-this._anchorDragOffset.x,y:o.y-this._anchorDragOffset.y};const u=a.getAbsolutePosition();this.anchorDragBoundFunc()&&(l=this.anchorDragBoundFunc()(u,l,t)),a.setAbsolutePosition(l);const c=a.getAbsolutePosition();if(!(u.x===c.x&&u.y===c.y)){if(this._movingAnchorName==="rotater"){var h=this._getNodeRect();n=a.x()-h.width/2,r=-a.y()+h.height/2;let z=Math.atan2(-r,n)+Math.PI/2;h.height<0&&(z-=Math.PI);var p=Ge.getAngle(this.rotation());const G=p+z,M=Ge.getAngle(this.rotationSnapTolerance()),X=Z$(this.rotationSnaps(),G,M)-h.rotation,ue=Q$(h,X);this._fitNodesInto(ue,t);return}var m=this.keepRatio()||t.shiftKey,x=this.centeredScaling()||t.altKey;if(this._movingAnchorName==="top-left"){if(m){var g=x?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};i=Math.sqrt(Math.pow(g.x-a.x(),2)+Math.pow(g.y-a.y(),2));var y=this.findOne(".top-left").x()>g.x?-1:1,b=this.findOne(".top-left").y()>g.y?-1:1;n=i*this.cos*y,r=i*this.sin*b,this.findOne(".top-left").x(g.x-n),this.findOne(".top-left").y(g.y-r)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(a.y());else if(this._movingAnchorName==="top-right"){if(m){var g=x?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};i=Math.sqrt(Math.pow(a.x()-g.x,2)+Math.pow(g.y-a.y(),2));var y=this.findOne(".top-right").x()<g.x?-1:1,b=this.findOne(".top-right").y()>g.y?-1:1;n=i*this.cos*y,r=i*this.sin*b,this.findOne(".top-right").x(g.x+n),this.findOne(".top-right").y(g.y-r)}var w=a.position();this.findOne(".top-left").y(w.y),this.findOne(".bottom-right").x(w.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(a.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(a.x());else if(this._movingAnchorName==="bottom-left"){if(m){var g=x?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};i=Math.sqrt(Math.pow(g.x-a.x(),2)+Math.pow(a.y()-g.y,2));var y=g.x<a.x()?-1:1,b=a.y()<g.y?-1:1;n=i*this.cos*y,r=i*this.sin*b,a.x(g.x-n),a.y(g.y+r)}w=a.position(),this.findOne(".top-left").x(w.x),this.findOne(".bottom-right").y(w.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(a.y());else if(this._movingAnchorName==="bottom-right"){if(m){var g=x?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};i=Math.sqrt(Math.pow(a.x()-g.x,2)+Math.pow(a.y()-g.y,2));var y=this.findOne(".bottom-right").x()<g.x?-1:1,b=this.findOne(".bottom-right").y()<g.y?-1:1;n=i*this.cos*y,r=i*this.sin*b,this.findOne(".bottom-right").x(g.x+n),this.findOne(".bottom-right").y(g.y+r)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));var x=this.centeredScaling()||t.altKey;if(x){var k=this.findOne(".top-left"),_=this.findOne(".bottom-right"),A=k.x(),P=k.y(),N=this.getWidth()-_.x(),B=this.getHeight()-_.y();_.move({x:-A,y:-P}),k.move({x:N,y:B})}var j=this.findOne(".top-left").getAbsolutePosition();n=j.x,r=j.y;var W=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),K=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:n,y:r,width:W,height:K,rotation:Ge.getAngle(this.rotation())},t)}}_handleMouseUp(t){this._removeEvents(t)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(t){if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));var n=this.getNode();this._fire("transformend",{evt:t,target:n}),n&&this._nodes.forEach(r=>{r._fire("transformend",{evt:t,target:r})}),this._movingAnchorName=null}}_fitNodesInto(t,n){var r=this._getNodeRect();const i=1;if(ce._inRange(t.width,-this.padding()*2-i,i)){this.update();return}if(ce._inRange(t.height,-this.padding()*2-i,i)){this.update();return}const a=this.flipEnabled();var s=new $r;if(s.rotate(Ge.getAngle(this.rotation())),this._movingAnchorName&&t.width<0&&this._movingAnchorName.indexOf("left")>=0){const h=s.point({x:-this.padding()*2,y:0});if(t.x+=h.x,t.y+=h.y,t.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=h.x,this._anchorDragOffset.y-=h.y,!a){this.update();return}}else if(this._movingAnchorName&&t.width<0&&this._movingAnchorName.indexOf("right")>=0){const h=s.point({x:this.padding()*2,y:0});if(this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=h.x,this._anchorDragOffset.y-=h.y,t.width+=this.padding()*2,!a){this.update();return}}if(this._movingAnchorName&&t.height<0&&this._movingAnchorName.indexOf("top")>=0){const h=s.point({x:0,y:-this.padding()*2});if(t.x+=h.x,t.y+=h.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=h.x,this._anchorDragOffset.y-=h.y,t.height+=this.padding()*2,!a){this.update();return}}else if(this._movingAnchorName&&t.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const h=s.point({x:0,y:this.padding()*2});if(this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=h.x,this._anchorDragOffset.y-=h.y,t.height+=this.padding()*2,!a){this.update();return}}if(this.boundBoxFunc()){const h=this.boundBoxFunc()(r,t);h?t=h:ce.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const o=1e7,l=new $r;l.translate(r.x,r.y),l.rotate(r.rotation),l.scale(r.width/o,r.height/o);const u=new $r;u.translate(t.x,t.y),u.rotate(t.rotation),u.scale(t.width/o,t.height/o);const c=u.multiply(l.invert());this._nodes.forEach(h=>{var p;const m=h.getParent().getAbsoluteTransform(),g=h.getTransform().copy();g.translate(h.offsetX(),h.offsetY());const y=new $r;y.multiply(m.copy().invert()).multiply(c).multiply(m).multiply(g);const b=y.decompose();h.setAttrs(b),this._fire("transform",{evt:n,target:h}),h._fire("transform",{evt:n,target:h}),(p=h.getLayer())===null||p===void 0||p.batchDraw()}),this.rotation(ce._getRotation(t.rotation)),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(t,n){this.findOne(t).setAttrs(n)}update(){var t,n=this._getNodeRect();this.rotation(ce._getRotation(n.rotation));var r=n.width,i=n.height,a=this.enabledAnchors(),s=this.resizeEnabled(),o=this.padding(),l=this.anchorSize();this.find("._anchor").forEach(u=>{u.setAttrs({width:l,height:l,offsetX:l/2,offsetY:l/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:l/2+o,offsetY:l/2+o,visible:s&&a.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:r/2,y:0,offsetY:l/2+o,visible:s&&a.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:r,y:0,offsetX:l/2-o,offsetY:l/2+o,visible:s&&a.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:i/2,offsetX:l/2+o,visible:s&&a.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:r,y:i/2,offsetX:l/2-o,visible:s&&a.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:i,offsetX:l/2+o,offsetY:l/2-o,visible:s&&a.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:r/2,y:i,offsetY:l/2-o,visible:s&&a.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:r,y:i,offsetX:l/2-o,offsetY:l/2-o,visible:s&&a.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:r/2,y:-this.rotateAnchorOffset()*ce._sign(i)-o,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:r,height:i,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0}),(t=this.getLayer())===null||t===void 0||t.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();var t=this.findOne("."+this._movingAnchorName);t&&t.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),Du.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return Me.prototype.toObject.call(this)}clone(t){var n=Me.prototype.clone.call(this,t);return n}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}};function J$(e){return e instanceof Array||ce.warn("enabledAnchors value should be an array"),e instanceof Array&&e.forEach(function(t){Tg.indexOf(t)===-1&&ce.warn("Unknown anchor name: "+t+". Available names are: "+Tg.join(", "))}),e||[]}Nt.prototype.className="Transformer";fn(Nt);Z.addGetterSetter(Nt,"enabledAnchors",Tg,J$);Z.addGetterSetter(Nt,"flipEnabled",!0,Hi());Z.addGetterSetter(Nt,"resizeEnabled",!0);Z.addGetterSetter(Nt,"anchorSize",10,Oe());Z.addGetterSetter(Nt,"rotateEnabled",!0);Z.addGetterSetter(Nt,"rotationSnaps",[]);Z.addGetterSetter(Nt,"rotateAnchorOffset",50,Oe());Z.addGetterSetter(Nt,"rotationSnapTolerance",5,Oe());Z.addGetterSetter(Nt,"borderEnabled",!0);Z.addGetterSetter(Nt,"anchorStroke","rgb(0, 161, 255)");Z.addGetterSetter(Nt,"anchorStrokeWidth",1,Oe());Z.addGetterSetter(Nt,"anchorFill","white");Z.addGetterSetter(Nt,"anchorCornerRadius",0,Oe());Z.addGetterSetter(Nt,"borderStroke","rgb(0, 161, 255)");Z.addGetterSetter(Nt,"borderStrokeWidth",1,Oe());Z.addGetterSetter(Nt,"borderDash");Z.addGetterSetter(Nt,"keepRatio",!0);Z.addGetterSetter(Nt,"centeredScaling",!1);Z.addGetterSetter(Nt,"ignoreStroke",!1);Z.addGetterSetter(Nt,"padding",0,Oe());Z.addGetterSetter(Nt,"node");Z.addGetterSetter(Nt,"nodes");Z.addGetterSetter(Nt,"boundBoxFunc");Z.addGetterSetter(Nt,"anchorDragBoundFunc");Z.addGetterSetter(Nt,"shouldOverdrawWholeArea",!1);Z.addGetterSetter(Nt,"useSingleNodeRotation",!0);Z.backCompat(Nt,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"});class Ya extends Ie{_sceneFunc(t){t.beginPath(),t.arc(0,0,this.radius(),0,Ge.getAngle(this.angle()),this.clockwise()),t.lineTo(0,0),t.closePath(),t.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(t){this.radius(t/2)}setHeight(t){this.radius(t/2)}}Ya.prototype.className="Wedge";Ya.prototype._centroid=!0;Ya.prototype._attrsAffectingSize=["radius"];fn(Ya);Z.addGetterSetter(Ya,"radius",0,Oe());Z.addGetterSetter(Ya,"angle",0,Oe());Z.addGetterSetter(Ya,"clockwise",!1);Z.backCompat(Ya,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"});function NI(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}var eV=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],tV=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function nV(e,t){var n=e.data,r=e.width,i=e.height,a,s,o,l,u,c,h,p,m,g,y,b,w,x,k,_,A,P,N,B,j,W,K,z,G=t+t+1,M=r-1,te=i-1,X=t+1,ue=X*(X+1)/2,de=new NI,ae=null,pe=de,F=null,O=null,Ee=eV[t],Ce=tV[t];for(o=1;o<G;o++)pe=pe.next=new NI,o===X&&(ae=pe);for(pe.next=de,h=c=0,s=0;s<i;s++){for(_=A=P=N=p=m=g=y=0,b=X*(B=n[c]),w=X*(j=n[c+1]),x=X*(W=n[c+2]),k=X*(K=n[c+3]),p+=ue*B,m+=ue*j,g+=ue*W,y+=ue*K,pe=de,o=0;o<X;o++)pe.r=B,pe.g=j,pe.b=W,pe.a=K,pe=pe.next;for(o=1;o<X;o++)l=c+((M<o?M:o)<<2),p+=(pe.r=B=n[l])*(z=X-o),m+=(pe.g=j=n[l+1])*z,g+=(pe.b=W=n[l+2])*z,y+=(pe.a=K=n[l+3])*z,_+=B,A+=j,P+=W,N+=K,pe=pe.next;for(F=de,O=ae,a=0;a<r;a++)n[c+3]=K=y*Ee>>Ce,K!==0?(K=255/K,n[c]=(p*Ee>>Ce)*K,n[c+1]=(m*Ee>>Ce)*K,n[c+2]=(g*Ee>>Ce)*K):n[c]=n[c+1]=n[c+2]=0,p-=b,m-=w,g-=x,y-=k,b-=F.r,w-=F.g,x-=F.b,k-=F.a,l=h+((l=a+t+1)<M?l:M)<<2,_+=F.r=n[l],A+=F.g=n[l+1],P+=F.b=n[l+2],N+=F.a=n[l+3],p+=_,m+=A,g+=P,y+=N,F=F.next,b+=B=O.r,w+=j=O.g,x+=W=O.b,k+=K=O.a,_-=B,A-=j,P-=W,N-=K,O=O.next,c+=4;h+=r}for(a=0;a<r;a++){for(A=P=N=_=m=g=y=p=0,c=a<<2,b=X*(B=n[c]),w=X*(j=n[c+1]),x=X*(W=n[c+2]),k=X*(K=n[c+3]),p+=ue*B,m+=ue*j,g+=ue*W,y+=ue*K,pe=de,o=0;o<X;o++)pe.r=B,pe.g=j,pe.b=W,pe.a=K,pe=pe.next;for(u=r,o=1;o<=t;o++)c=u+a<<2,p+=(pe.r=B=n[c])*(z=X-o),m+=(pe.g=j=n[c+1])*z,g+=(pe.b=W=n[c+2])*z,y+=(pe.a=K=n[c+3])*z,_+=B,A+=j,P+=W,N+=K,pe=pe.next,o<te&&(u+=r);for(c=a,F=de,O=ae,s=0;s<i;s++)l=c<<2,n[l+3]=K=y*Ee>>Ce,K>0?(K=255/K,n[l]=(p*Ee>>Ce)*K,n[l+1]=(m*Ee>>Ce)*K,n[l+2]=(g*Ee>>Ce)*K):n[l]=n[l+1]=n[l+2]=0,p-=b,m-=w,g-=x,y-=k,b-=F.r,w-=F.g,x-=F.b,k-=F.a,l=a+((l=s+X)<te?l:te)*r<<2,p+=_+=F.r=n[l],m+=A+=F.g=n[l+1],g+=P+=F.b=n[l+2],y+=N+=F.a=n[l+3],F=F.next,b+=B=O.r,w+=j=O.g,x+=W=O.b,k+=K=O.a,_-=B,A-=j,P-=W,N-=K,O=O.next,c+=r}}const rV=function(t){var n=Math.round(this.blurRadius());n>0&&nV(t,n)};Z.addGetterSetter(Me,"blurRadius",0,Oe(),Z.afterSetFilter);const iV=function(e){var t=this.brightness()*255,n=e.data,r=n.length,i;for(i=0;i<r;i+=4)n[i]+=t,n[i+1]+=t,n[i+2]+=t};Z.addGetterSetter(Me,"brightness",0,Oe(),Z.afterSetFilter);const aV=function(e){var t=Math.pow((this.contrast()+100)/100,2),n=e.data,r=n.length,i=150,a=150,s=150,o;for(o=0;o<r;o+=4)i=n[o],a=n[o+1],s=n[o+2],i/=255,i-=.5,i*=t,i+=.5,i*=255,a/=255,a-=.5,a*=t,a+=.5,a*=255,s/=255,s-=.5,s*=t,s+=.5,s*=255,i=i<0?0:i>255?255:i,a=a<0?0:a>255?255:a,s=s<0?0:s>255?255:s,n[o]=i,n[o+1]=a,n[o+2]=s};Z.addGetterSetter(Me,"contrast",0,Oe(),Z.afterSetFilter);const sV=function(e){var t=this.embossStrength()*10,n=this.embossWhiteLevel()*255,r=this.embossDirection(),i=this.embossBlend(),a=0,s=0,o=e.data,l=e.width,u=e.height,c=l*4,h=u;switch(r){case"top-left":a=-1,s=-1;break;case"top":a=-1,s=0;break;case"top-right":a=-1,s=1;break;case"right":a=0,s=1;break;case"bottom-right":a=1,s=1;break;case"bottom":a=1,s=0;break;case"bottom-left":a=1,s=-1;break;case"left":a=0,s=-1;break;default:ce.error("Unknown emboss direction: "+r)}do{var p=(h-1)*c,m=a;h+m<1&&(m=0),h+m>u&&(m=0);var g=(h-1+m)*l*4,y=l;do{var b=p+(y-1)*4,w=s;y+w<1&&(w=0),y+w>l&&(w=0);var x=g+(y-1+w)*4,k=o[b]-o[x],_=o[b+1]-o[x+1],A=o[b+2]-o[x+2],P=k,N=P>0?P:-P,B=_>0?_:-_,j=A>0?A:-A;if(B>N&&(P=_),j>N&&(P=A),P*=t,i){var W=o[b]+P,K=o[b+1]+P,z=o[b+2]+P;o[b]=W>255?255:W<0?0:W,o[b+1]=K>255?255:K<0?0:K,o[b+2]=z>255?255:z<0?0:z}else{var G=n-P;G<0?G=0:G>255&&(G=255),o[b]=o[b+1]=o[b+2]=G}}while(--y)}while(--h)};Z.addGetterSetter(Me,"embossStrength",.5,Oe(),Z.afterSetFilter);Z.addGetterSetter(Me,"embossWhiteLevel",.5,Oe(),Z.afterSetFilter);Z.addGetterSetter(Me,"embossDirection","top-left",null,Z.afterSetFilter);Z.addGetterSetter(Me,"embossBlend",!1,null,Z.afterSetFilter);function Q1(e,t,n,r,i){var a=n-t,s=i-r,o;return a===0?r+s/2:s===0?r:(o=(e-t)/a,o=s*o+r,o)}const oV=function(e){var t=e.data,n=t.length,r=t[0],i=r,a,s=t[1],o=s,l,u=t[2],c=u,h,p,m=this.enhance();if(m!==0){for(p=0;p<n;p+=4)a=t[p+0],a<r?r=a:a>i&&(i=a),l=t[p+1],l<s?s=l:l>o&&(o=l),h=t[p+2],h<u?u=h:h>c&&(c=h);i===r&&(i=255,r=0),o===s&&(o=255,s=0),c===u&&(c=255,u=0);var g,y,b,w,x,k,_,A,P;for(m>0?(y=i+m*(255-i),b=r-m*(r-0),x=o+m*(255-o),k=s-m*(s-0),A=c+m*(255-c),P=u-m*(u-0)):(g=(i+r)*.5,y=i+m*(i-g),b=r+m*(r-g),w=(o+s)*.5,x=o+m*(o-w),k=s+m*(s-w),_=(c+u)*.5,A=c+m*(c-_),P=u+m*(u-_)),p=0;p<n;p+=4)t[p+0]=Q1(t[p+0],r,i,b,y),t[p+1]=Q1(t[p+1],s,o,k,x),t[p+2]=Q1(t[p+2],u,c,P,A)}};Z.addGetterSetter(Me,"enhance",0,Oe(),Z.afterSetFilter);const lV=function(e){var t=e.data,n=t.length,r,i;for(r=0;r<n;r+=4)i=.34*t[r]+.5*t[r+1]+.16*t[r+2],t[r]=i,t[r+1]=i,t[r+2]=i};Z.addGetterSetter(Me,"hue",0,Oe(),Z.afterSetFilter);Z.addGetterSetter(Me,"saturation",0,Oe(),Z.afterSetFilter);Z.addGetterSetter(Me,"luminance",0,Oe(),Z.afterSetFilter);const uV=function(e){var t=e.data,n=t.length,r=1,i=Math.pow(2,this.saturation()),a=Math.abs(this.hue()+360)%360,s=this.luminance()*127,o,l=r*i*Math.cos(a*Math.PI/180),u=r*i*Math.sin(a*Math.PI/180),c=.299*r+.701*l+.167*u,h=.587*r-.587*l+.33*u,p=.114*r-.114*l-.497*u,m=.299*r-.299*l-.328*u,g=.587*r+.413*l+.035*u,y=.114*r-.114*l+.293*u,b=.299*r-.3*l+1.25*u,w=.587*r-.586*l-1.05*u,x=.114*r+.886*l-.2*u,k,_,A,P;for(o=0;o<n;o+=4)k=t[o+0],_=t[o+1],A=t[o+2],P=t[o+3],t[o+0]=c*k+h*_+p*A+s,t[o+1]=m*k+g*_+y*A+s,t[o+2]=b*k+w*_+x*A+s,t[o+3]=P},cV=function(e){var t=e.data,n=t.length,r=Math.pow(2,this.value()),i=Math.pow(2,this.saturation()),a=Math.abs(this.hue()+360)%360,s,o=r*i*Math.cos(a*Math.PI/180),l=r*i*Math.sin(a*Math.PI/180),u=.299*r+.701*o+.167*l,c=.587*r-.587*o+.33*l,h=.114*r-.114*o-.497*l,p=.299*r-.299*o-.328*l,m=.587*r+.413*o+.035*l,g=.114*r-.114*o+.293*l,y=.299*r-.3*o+1.25*l,b=.587*r-.586*o-1.05*l,w=.114*r+.886*o-.2*l,x,k,_,A;for(s=0;s<n;s+=4)x=t[s+0],k=t[s+1],_=t[s+2],A=t[s+3],t[s+0]=u*x+c*k+h*_,t[s+1]=p*x+m*k+g*_,t[s+2]=y*x+b*k+w*_,t[s+3]=A};Z.addGetterSetter(Me,"hue",0,Oe(),Z.afterSetFilter);Z.addGetterSetter(Me,"saturation",0,Oe(),Z.afterSetFilter);Z.addGetterSetter(Me,"value",0,Oe(),Z.afterSetFilter);const dV=function(e){var t=e.data,n=t.length,r;for(r=0;r<n;r+=4)t[r]=255-t[r],t[r+1]=255-t[r+1],t[r+2]=255-t[r+2]};var hV=function(e,t,n){var r=e.data,i=t.data,a=e.width,s=e.height,o=n.polarCenterX||a/2,l=n.polarCenterY||s/2,u,c,h,p=0,m=0,g=0,y=0,b,w=Math.sqrt(o*o+l*l);c=a-o,h=s-l,b=Math.sqrt(c*c+h*h),w=b>w?b:w;var x=s,k=a,_,A,P=360/k*Math.PI/180,N,B;for(A=0;A<k;A+=1)for(N=Math.sin(A*P),B=Math.cos(A*P),_=0;_<x;_+=1)c=Math.floor(o+w*_/x*B),h=Math.floor(l+w*_/x*N),u=(h*a+c)*4,p=r[u+0],m=r[u+1],g=r[u+2],y=r[u+3],u=(A+_*a)*4,i[u+0]=p,i[u+1]=m,i[u+2]=g,i[u+3]=y},fV=function(e,t,n){var r=e.data,i=t.data,a=e.width,s=e.height,o=n.polarCenterX||a/2,l=n.polarCenterY||s/2,u,c,h,p,m,g=0,y=0,b=0,w=0,x,k=Math.sqrt(o*o+l*l);c=a-o,h=s-l,x=Math.sqrt(c*c+h*h),k=x>k?x:k;var _=s,A=a,P,N,B=n.polarRotation||0,j,W;for(c=0;c<a;c+=1)for(h=0;h<s;h+=1)p=c-o,m=h-l,P=Math.sqrt(p*p+m*m)*_/k,N=(Math.atan2(m,p)*180/Math.PI+360+B)%360,N=N*A/360,j=Math.floor(N),W=Math.floor(P),u=(W*a+j)*4,g=r[u+0],y=r[u+1],b=r[u+2],w=r[u+3],u=(h*a+c)*4,i[u+0]=g,i[u+1]=y,i[u+2]=b,i[u+3]=w};const pV=function(e){var t=e.width,n=e.height,r,i,a,s,o,l,u,c,h,p,m=Math.round(this.kaleidoscopePower()),g=Math.round(this.kaleidoscopeAngle()),y=Math.floor(t*(g%360)/360);if(!(m<1)){var b=ce.createCanvasElement();b.width=t,b.height=n;var w=b.getContext("2d").getImageData(0,0,t,n);ce.releaseCanvas(b),hV(e,w,{polarCenterX:t/2,polarCenterY:n/2});for(var x=t/Math.pow(2,m);x<=8;)x=x*2,m-=1;x=Math.ceil(x);var k=x,_=0,A=k,P=1;for(y+x>t&&(_=k,A=0,P=-1),i=0;i<n;i+=1)for(r=_;r!==A;r+=P)a=Math.round(r+y)%t,h=(t*i+a)*4,o=w.data[h+0],l=w.data[h+1],u=w.data[h+2],c=w.data[h+3],p=(t*i+r)*4,w.data[p+0]=o,w.data[p+1]=l,w.data[p+2]=u,w.data[p+3]=c;for(i=0;i<n;i+=1)for(k=Math.floor(x),s=0;s<m;s+=1){for(r=0;r<k+1;r+=1)h=(t*i+r)*4,o=w.data[h+0],l=w.data[h+1],u=w.data[h+2],c=w.data[h+3],p=(t*i+k*2-r-1)*4,w.data[p+0]=o,w.data[p+1]=l,w.data[p+2]=u,w.data[p+3]=c;k*=2}fV(w,e,{polarRotation:0})}};Z.addGetterSetter(Me,"kaleidoscopePower",2,Oe(),Z.afterSetFilter);Z.addGetterSetter(Me,"kaleidoscopeAngle",0,Oe(),Z.afterSetFilter);function Ep(e,t,n){var r=(n*e.width+t)*4,i=[];return i.push(e.data[r++],e.data[r++],e.data[r++],e.data[r++]),i}function Uc(e,t){return Math.sqrt(Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)+Math.pow(e[2]-t[2],2))}function mV(e){for(var t=[0,0,0],n=0;n<e.length;n++)t[0]+=e[n][0],t[1]+=e[n][1],t[2]+=e[n][2];return t[0]/=e.length,t[1]/=e.length,t[2]/=e.length,t}function gV(e,t){var n=Ep(e,0,0),r=Ep(e,e.width-1,0),i=Ep(e,0,e.height-1),a=Ep(e,e.width-1,e.height-1),s=t||10;if(Uc(n,r)<s&&Uc(r,a)<s&&Uc(a,i)<s&&Uc(i,n)<s){for(var o=mV([r,n,a,i]),l=[],u=0;u<e.width*e.height;u++){var c=Uc(o,[e.data[u*4],e.data[u*4+1],e.data[u*4+2]]);l[u]=c<s?0:255}return l}}function yV(e,t){for(var n=0;n<e.width*e.height;n++)e.data[4*n+3]=t[n]}function vV(e,t,n){for(var r=[1,1,1,1,0,1,1,1,1],i=Math.round(Math.sqrt(r.length)),a=Math.floor(i/2),s=[],o=0;o<n;o++)for(var l=0;l<t;l++){for(var u=o*t+l,c=0,h=0;h<i;h++)for(var p=0;p<i;p++){var m=o+h-a,g=l+p-a;if(m>=0&&m<n&&g>=0&&g<t){var y=m*t+g,b=r[h*i+p];c+=e[y]*b}}s[u]=c===255*8?255:0}return s}function wV(e,t,n){for(var r=[1,1,1,1,1,1,1,1,1],i=Math.round(Math.sqrt(r.length)),a=Math.floor(i/2),s=[],o=0;o<n;o++)for(var l=0;l<t;l++){for(var u=o*t+l,c=0,h=0;h<i;h++)for(var p=0;p<i;p++){var m=o+h-a,g=l+p-a;if(m>=0&&m<n&&g>=0&&g<t){var y=m*t+g,b=r[h*i+p];c+=e[y]*b}}s[u]=c>=255*4?255:0}return s}function bV(e,t,n){for(var r=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],i=Math.round(Math.sqrt(r.length)),a=Math.floor(i/2),s=[],o=0;o<n;o++)for(var l=0;l<t;l++){for(var u=o*t+l,c=0,h=0;h<i;h++)for(var p=0;p<i;p++){var m=o+h-a,g=l+p-a;if(m>=0&&m<n&&g>=0&&g<t){var y=m*t+g,b=r[h*i+p];c+=e[y]*b}}s[u]=c}return s}const xV=function(e){var t=this.threshold(),n=gV(e,t);return n&&(n=vV(n,e.width,e.height),n=wV(n,e.width,e.height),n=bV(n,e.width,e.height),yV(e,n)),e};Z.addGetterSetter(Me,"threshold",0,Oe(),Z.afterSetFilter);const kV=function(e){var t=this.noise()*255,n=e.data,r=n.length,i=t/2,a;for(a=0;a<r;a+=4)n[a+0]+=i-2*i*Math.random(),n[a+1]+=i-2*i*Math.random(),n[a+2]+=i-2*i*Math.random()};Z.addGetterSetter(Me,"noise",.2,Oe(),Z.afterSetFilter);const SV=function(e){var t=Math.ceil(this.pixelSize()),n=e.width,r=e.height,i,a,s,o,l,u,c,h=Math.ceil(n/t),p=Math.ceil(r/t),m,g,y,b,w,x,k,_=e.data;if(t<=0){ce.error("pixelSize value can not be <= 0");return}for(w=0;w<h;w+=1)for(x=0;x<p;x+=1){for(o=0,l=0,u=0,c=0,m=w*t,g=m+t,y=x*t,b=y+t,k=0,i=m;i<g;i+=1)if(!(i>=n))for(a=y;a<b;a+=1)a>=r||(s=(n*a+i)*4,o+=_[s+0],l+=_[s+1],u+=_[s+2],c+=_[s+3],k+=1);for(o=o/k,l=l/k,u=u/k,c=c/k,i=m;i<g;i+=1)if(!(i>=n))for(a=y;a<b;a+=1)a>=r||(s=(n*a+i)*4,_[s+0]=o,_[s+1]=l,_[s+2]=u,_[s+3]=c)}};Z.addGetterSetter(Me,"pixelSize",8,Oe(),Z.afterSetFilter);const CV=function(e){var t=Math.round(this.levels()*254)+1,n=e.data,r=n.length,i=255/t,a;for(a=0;a<r;a+=1)n[a]=Math.floor(n[a]/i)*i};Z.addGetterSetter(Me,"levels",.5,Oe(),Z.afterSetFilter);const EV=function(e){var t=e.data,n=t.length,r=this.red(),i=this.green(),a=this.blue(),s,o;for(s=0;s<n;s+=4)o=(.34*t[s]+.5*t[s+1]+.16*t[s+2])/255,t[s]=o*r,t[s+1]=o*i,t[s+2]=o*a,t[s+3]=t[s+3]};Z.addGetterSetter(Me,"red",0,function(e){return this._filterUpToDate=!1,e>255?255:e<0?0:Math.round(e)});Z.addGetterSetter(Me,"green",0,function(e){return this._filterUpToDate=!1,e>255?255:e<0?0:Math.round(e)});Z.addGetterSetter(Me,"blue",0,mN,Z.afterSetFilter);const TV=function(e){var t=e.data,n=t.length,r=this.red(),i=this.green(),a=this.blue(),s=this.alpha(),o,l;for(o=0;o<n;o+=4)l=1-s,t[o]=r*s+t[o]*l,t[o+1]=i*s+t[o+1]*l,t[o+2]=a*s+t[o+2]*l};Z.addGetterSetter(Me,"red",0,function(e){return this._filterUpToDate=!1,e>255?255:e<0?0:Math.round(e)});Z.addGetterSetter(Me,"green",0,function(e){return this._filterUpToDate=!1,e>255?255:e<0?0:Math.round(e)});Z.addGetterSetter(Me,"blue",0,mN,Z.afterSetFilter);Z.addGetterSetter(Me,"alpha",1,function(e){return this._filterUpToDate=!1,e>1?1:e<0?0:e});const _V=function(e){var t=e.data,n=t.length,r,i,a,s;for(r=0;r<n;r+=4)i=t[r+0],a=t[r+1],s=t[r+2],t[r+0]=Math.min(255,i*.393+a*.769+s*.189),t[r+1]=Math.min(255,i*.349+a*.686+s*.168),t[r+2]=Math.min(255,i*.272+a*.534+s*.131)},IV=function(e){var t=e.data,n=e.width,r=e.height,i=n*4,a=r;do{var s=(a-1)*i,o=n;do{var l=s+(o-1)*4,u=t[l],c=t[l+1],h=t[l+2];u>127&&(u=255-u),c>127&&(c=255-c),h>127&&(h=255-h),t[l]=u,t[l+1]=c,t[l+2]=h}while(--o)}while(--a)},PV=function(e){var t=this.threshold()*255,n=e.data,r=n.length,i;for(i=0;i<r;i+=1)n[i]=n[i]<t?0:255};Z.addGetterSetter(Me,"threshold",.5,Oe(),Z.afterSetFilter);Qo.Util._assign(Qo,{Arc:qa,Arrow:rl,Circle:nc,Ellipse:Ys,Image:va,Label:fC,Tag:il,Line:Ka,Path:Ut,Rect:zh,RegularPolygon:al,Ring:sl,Sprite:wa,Star:Xs,Text:hn,TextPath:Mn,Transformer:Nt,Wedge:Ya,Filters:{Blur:rV,Brighten:iV,Contrast:aV,Emboss:sV,Enhance:oV,Grayscale:lV,HSL:uV,HSV:cV,Invert:dV,Kaleidoscope:pV,Mask:xV,Noise:kV,Pixelate:SV,Posterize:CV,RGB:EV,RGBA:TV,Sepia:_V,Solarize:IV,Threshold:PV}});var qN={exports:{}};/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AV=function(t){var n={},r=Y,i=ud,a=Object.assign;function s(d){for(var f="https://reactjs.org/docs/error-decoder.html?invariant="+d,v=1;v<arguments.length;v++)f+="&args[]="+encodeURIComponent(arguments[v]);return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),u=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),g=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),w=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),_=Symbol.for("react.offscreen"),A=Symbol.iterator;function P(d){return d===null||typeof d!="object"?null:(d=A&&d[A]||d["@@iterator"],typeof d=="function"?d:null)}function N(d){if(d==null)return null;if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case c:return"Fragment";case u:return"Portal";case p:return"Profiler";case h:return"StrictMode";case b:return"Suspense";case w:return"SuspenseList"}if(typeof d=="object")switch(d.$$typeof){case g:return(d.displayName||"Context")+".Consumer";case m:return(d._context.displayName||"Context")+".Provider";case y:var f=d.render;return d=d.displayName,d||(d=f.displayName||f.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case x:return f=d.displayName||null,f!==null?f:N(d.type)||"Memo";case k:f=d._payload,d=d._init;try{return N(d(f))}catch{}}return null}function B(d){var f=d.type;switch(d.tag){case 24:return"Cache";case 9:return(f.displayName||"Context")+".Consumer";case 10:return(f._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return d=f.render,d=d.displayName||d.name||"",f.displayName||(d!==""?"ForwardRef("+d+")":"ForwardRef");case 7:return"Fragment";case 5:return f;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return N(f);case 8:return f===h?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f}return null}function j(d){var f=d,v=d;if(d.alternate)for(;f.return;)f=f.return;else{d=f;do f=d,f.flags&4098&&(v=f.return),d=f.return;while(d)}return f.tag===3?v:null}function W(d){if(j(d)!==d)throw Error(s(188))}function K(d){var f=d.alternate;if(!f){if(f=j(d),f===null)throw Error(s(188));return f!==d?null:d}for(var v=d,S=f;;){var T=v.return;if(T===null)break;var R=T.alternate;if(R===null){if(S=T.return,S!==null){v=S;continue}break}if(T.child===R.child){for(R=T.child;R;){if(R===v)return W(T),d;if(R===S)return W(T),f;R=R.sibling}throw Error(s(188))}if(v.return!==S.return)v=T,S=R;else{for(var V=!1,ie=T.child;ie;){if(ie===v){V=!0,v=T,S=R;break}if(ie===S){V=!0,S=T,v=R;break}ie=ie.sibling}if(!V){for(ie=R.child;ie;){if(ie===v){V=!0,v=R,S=T;break}if(ie===S){V=!0,S=R,v=T;break}ie=ie.sibling}if(!V)throw Error(s(189))}}if(v.alternate!==S)throw Error(s(190))}if(v.tag!==3)throw Error(s(188));return v.stateNode.current===v?d:f}function z(d){return d=K(d),d!==null?G(d):null}function G(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){var f=G(d);if(f!==null)return f;d=d.sibling}return null}function M(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){if(d.tag!==4){var f=M(d);if(f!==null)return f}d=d.sibling}return null}var te=Array.isArray,X=t.getPublicInstance,ue=t.getRootHostContext,de=t.getChildHostContext,ae=t.prepareForCommit,pe=t.resetAfterCommit,F=t.createInstance,O=t.appendInitialChild,Ee=t.finalizeInitialChildren,Ce=t.prepareUpdate,Te=t.shouldSetTextContent,Xe=t.createTextInstance,ft=t.scheduleTimeout,Ze=t.cancelTimeout,at=t.noTimeout,kt=t.isPrimaryRenderer,ct=t.supportsMutation,yn=t.supportsPersistence,St=t.supportsHydration,L=t.getInstanceFromNode,be=t.preparePortalMount,ve=t.getCurrentEventPriority,Q=t.detachDeletedInstance,q=t.supportsMicrotasks,se=t.scheduleMicrotask,xe=t.supportsTestSelectors,Se=t.findFiberRoot,he=t.getBoundingRect,Pe=t.getTextContent,Be=t.isHiddenSubtree,_e=t.matchAccessibilityRole,Ke=t.setFocusIfFocusable,D=t.setupIntersectionObserver,E=t.appendChild,I=t.appendChildToContainer,$=t.commitTextUpdate,J=t.commitMount,fe=t.commitUpdate,me=t.insertBefore,Qe=t.insertInContainerBefore,xt=t.removeChild,ut=t.removeChildFromContainer,nt=t.resetTextContent,wt=t.hideInstance,Lr=t.hideTextInstance,qy=t.unhideInstance,nf=t.unhideTextInstance,Js=t.clearContainer,dl=t.cloneInstance,LE=t.createContainerChildSet,FE=t.appendChildToContainerChildSet,sF=t.finalizeContainerChildren,Ky=t.replaceContainerChildren,BE=t.cloneHiddenInstance,zE=t.cloneHiddenTextInstance,oF=t.canHydrateInstance,lF=t.canHydrateTextInstance,uF=t.canHydrateSuspenseInstance,UE=t.isSuspenseInstancePending,Yy=t.isSuspenseInstanceFallback,cF=t.getSuspenseInstanceFallbackErrorDetails,dF=t.registerSuspenseInstanceRetry,rf=t.getNextHydratableSibling,hF=t.getFirstHydratableChild,fF=t.getFirstHydratableChildWithinContainer,pF=t.getFirstHydratableChildWithinSuspenseInstance,mF=t.hydrateInstance,gF=t.hydrateTextInstance,yF=t.hydrateSuspenseInstance,vF=t.getNextHydratableInstanceAfterSuspenseInstance,wF=t.commitHydratedContainer,bF=t.commitHydratedSuspenseInstance,xF=t.clearSuspenseBoundary,kF=t.clearSuspenseBoundaryFromContainer,SF=t.shouldDeleteUnhydratedTailInstances,CF=t.didNotMatchHydratedContainerTextInstance,EF=t.didNotMatchHydratedTextInstance,Xy;function oc(d){if(Xy===void 0)try{throw Error()}catch(v){var f=v.stack.trim().match(/\n( *(at )?)/);Xy=f&&f[1]||""}return`
`+Xy+d}var Qy=!1;function Zy(d,f){if(!d||Qy)return"";Qy=!0;var v=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(f)if(f=function(){throw Error()},Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(Ne){var S=Ne}Reflect.construct(d,[],f)}else{try{f.call()}catch(Ne){S=Ne}d.call(f.prototype)}else{try{throw Error()}catch(Ne){S=Ne}d()}}catch(Ne){if(Ne&&S&&typeof Ne.stack=="string"){for(var T=Ne.stack.split(`
`),R=S.stack.split(`
`),V=T.length-1,ie=R.length-1;1<=V&&0<=ie&&T[V]!==R[ie];)ie--;for(;1<=V&&0<=ie;V--,ie--)if(T[V]!==R[ie]){if(V!==1||ie!==1)do if(V--,ie--,0>ie||T[V]!==R[ie]){var ye=`
`+T[V].replace(" at new "," at ");return d.displayName&&ye.includes("<anonymous>")&&(ye=ye.replace("<anonymous>",d.displayName)),ye}while(1<=V&&0<=ie);break}}}finally{Qy=!1,Error.prepareStackTrace=v}return(d=d?d.displayName||d.name:"")?oc(d):""}var TF=Object.prototype.hasOwnProperty,Jy=[],hl=-1;function Qa(d){return{current:d}}function Yt(d){0>hl||(d.current=Jy[hl],Jy[hl]=null,hl--)}function Wt(d,f){hl++,Jy[hl]=d.current,d.current=f}var Za={},Qn=Qa(Za),br=Qa(!1),eo=Za;function fl(d,f){var v=d.type.contextTypes;if(!v)return Za;var S=d.stateNode;if(S&&S.__reactInternalMemoizedUnmaskedChildContext===f)return S.__reactInternalMemoizedMaskedChildContext;var T={},R;for(R in v)T[R]=f[R];return S&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=f,d.__reactInternalMemoizedMaskedChildContext=T),T}function xr(d){return d=d.childContextTypes,d!=null}function af(){Yt(br),Yt(Qn)}function jE(d,f,v){if(Qn.current!==Za)throw Error(s(168));Wt(Qn,f),Wt(br,v)}function $E(d,f,v){var S=d.stateNode;if(f=f.childContextTypes,typeof S.getChildContext!="function")return v;S=S.getChildContext();for(var T in S)if(!(T in f))throw Error(s(108,B(d)||"Unknown",T));return a({},v,S)}function sf(d){return d=(d=d.stateNode)&&d.__reactInternalMemoizedMergedChildContext||Za,eo=Qn.current,Wt(Qn,d),Wt(br,br.current),!0}function VE(d,f,v){var S=d.stateNode;if(!S)throw Error(s(169));v?(d=$E(d,f,eo),S.__reactInternalMemoizedMergedChildContext=d,Yt(br),Yt(Qn),Wt(Qn,d)):Yt(br),Wt(br,v)}var Ei=Math.clz32?Math.clz32:PF,_F=Math.log,IF=Math.LN2;function PF(d){return d>>>=0,d===0?32:31-(_F(d)/IF|0)|0}var of=64,lf=4194304;function lc(d){switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return d&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return d}}function uf(d,f){var v=d.pendingLanes;if(v===0)return 0;var S=0,T=d.suspendedLanes,R=d.pingedLanes,V=v&268435455;if(V!==0){var ie=V&~T;ie!==0?S=lc(ie):(R&=V,R!==0&&(S=lc(R)))}else V=v&~T,V!==0?S=lc(V):R!==0&&(S=lc(R));if(S===0)return 0;if(f!==0&&f!==S&&!(f&T)&&(T=S&-S,R=f&-f,T>=R||T===16&&(R&4194240)!==0))return f;if(S&4&&(S|=v&16),f=d.entangledLanes,f!==0)for(d=d.entanglements,f&=S;0<f;)v=31-Ei(f),T=1<<v,S|=d[v],f&=~T;return S}function AF(d,f){switch(d){case 1:case 2:case 4:return f+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function RF(d,f){for(var v=d.suspendedLanes,S=d.pingedLanes,T=d.expirationTimes,R=d.pendingLanes;0<R;){var V=31-Ei(R),ie=1<<V,ye=T[V];ye===-1?(!(ie&v)||ie&S)&&(T[V]=AF(ie,f)):ye<=f&&(d.expiredLanes|=ie),R&=~ie}}function ev(d){return d=d.pendingLanes&-1073741825,d!==0?d:d&1073741824?1073741824:0}function WE(){var d=of;return of<<=1,!(of&4194240)&&(of=64),d}function tv(d){for(var f=[],v=0;31>v;v++)f.push(d);return f}function uc(d,f,v){d.pendingLanes|=f,f!==536870912&&(d.suspendedLanes=0,d.pingedLanes=0),d=d.eventTimes,f=31-Ei(f),d[f]=v}function DF(d,f){var v=d.pendingLanes&~f;d.pendingLanes=f,d.suspendedLanes=0,d.pingedLanes=0,d.expiredLanes&=f,d.mutableReadLanes&=f,d.entangledLanes&=f,f=d.entanglements;var S=d.eventTimes;for(d=d.expirationTimes;0<v;){var T=31-Ei(v),R=1<<T;f[T]=0,S[T]=-1,d[T]=-1,v&=~R}}function nv(d,f){var v=d.entangledLanes|=f;for(d=d.entanglements;v;){var S=31-Ei(v),T=1<<S;T&f|d[S]&f&&(d[S]|=f),v&=~T}}var Tt=0;function GE(d){return d&=-d,1<d?4<d?d&268435455?16:536870912:4:1}var rv=i.unstable_scheduleCallback,HE=i.unstable_cancelCallback,NF=i.unstable_shouldYield,MF=i.unstable_requestPaint,On=i.unstable_now,iv=i.unstable_ImmediatePriority,OF=i.unstable_UserBlockingPriority,av=i.unstable_NormalPriority,LF=i.unstable_IdlePriority,cf=null,qi=null;function FF(d){if(qi&&typeof qi.onCommitFiberRoot=="function")try{qi.onCommitFiberRoot(cf,d,void 0,(d.current.flags&128)===128)}catch{}}function BF(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var Ti=typeof Object.is=="function"?Object.is:BF,xa=null,df=!1,sv=!1;function qE(d){xa===null?xa=[d]:xa.push(d)}function zF(d){df=!0,qE(d)}function Ki(){if(!sv&&xa!==null){sv=!0;var d=0,f=Tt;try{var v=xa;for(Tt=1;d<v.length;d++){var S=v[d];do S=S(!0);while(S!==null)}xa=null,df=!1}catch(T){throw xa!==null&&(xa=xa.slice(d+1)),rv(iv,Ki),T}finally{Tt=f,sv=!1}}return null}var pl=[],ml=0,hf=null,ff=0,ti=[],ni=0,to=null,ka=1,Sa="";function no(d,f){pl[ml++]=ff,pl[ml++]=hf,hf=d,ff=f}function KE(d,f,v){ti[ni++]=ka,ti[ni++]=Sa,ti[ni++]=to,to=d;var S=ka;d=Sa;var T=32-Ei(S)-1;S&=~(1<<T),v+=1;var R=32-Ei(f)+T;if(30<R){var V=T-T%5;R=(S&(1<<V)-1).toString(32),S>>=V,T-=V,ka=1<<32-Ei(f)+T|v<<T|S,Sa=R+d}else ka=1<<R|v<<T|S,Sa=d}function ov(d){d.return!==null&&(no(d,1),KE(d,1,0))}function lv(d){for(;d===hf;)hf=pl[--ml],pl[ml]=null,ff=pl[--ml],pl[ml]=null;for(;d===to;)to=ti[--ni],ti[ni]=null,Sa=ti[--ni],ti[ni]=null,ka=ti[--ni],ti[ni]=null}var Fr=null,ri=null,tn=!1,cc=!1,_i=null;function YE(d,f){var v=li(5,null,null,0);v.elementType="DELETED",v.stateNode=f,v.return=d,f=d.deletions,f===null?(d.deletions=[v],d.flags|=16):f.push(v)}function XE(d,f){switch(d.tag){case 5:return f=oF(f,d.type,d.pendingProps),f!==null?(d.stateNode=f,Fr=d,ri=hF(f),!0):!1;case 6:return f=lF(f,d.pendingProps),f!==null?(d.stateNode=f,Fr=d,ri=null,!0):!1;case 13:if(f=uF(f),f!==null){var v=to!==null?{id:ka,overflow:Sa}:null;return d.memoizedState={dehydrated:f,treeContext:v,retryLane:1073741824},v=li(18,null,null,0),v.stateNode=f,v.return=d,d.child=v,Fr=d,ri=null,!0}return!1;default:return!1}}function uv(d){return(d.mode&1)!==0&&(d.flags&128)===0}function cv(d){if(tn){var f=ri;if(f){var v=f;if(!XE(d,f)){if(uv(d))throw Error(s(418));f=rf(v);var S=Fr;f&&XE(d,f)?YE(S,v):(d.flags=d.flags&-4097|2,tn=!1,Fr=d)}}else{if(uv(d))throw Error(s(418));d.flags=d.flags&-4097|2,tn=!1,Fr=d}}}function QE(d){for(d=d.return;d!==null&&d.tag!==5&&d.tag!==3&&d.tag!==13;)d=d.return;Fr=d}function pf(d){if(!St||d!==Fr)return!1;if(!tn)return QE(d),tn=!0,!1;if(d.tag!==3&&(d.tag!==5||SF(d.type)&&!Te(d.type,d.memoizedProps))){var f=ri;if(f){if(uv(d))throw ZE(),Error(s(418));for(;f;)YE(d,f),f=rf(f)}}if(QE(d),d.tag===13){if(!St)throw Error(s(316));if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));ri=vF(d)}else ri=Fr?rf(d.stateNode):null;return!0}function ZE(){for(var d=ri;d;)d=rf(d)}function gl(){St&&(ri=Fr=null,cc=tn=!1)}function dv(d){_i===null?_i=[d]:_i.push(d)}var UF=o.ReactCurrentBatchConfig;function mf(d,f){if(Ti(d,f))return!0;if(typeof d!="object"||d===null||typeof f!="object"||f===null)return!1;var v=Object.keys(d),S=Object.keys(f);if(v.length!==S.length)return!1;for(S=0;S<v.length;S++){var T=v[S];if(!TF.call(f,T)||!Ti(d[T],f[T]))return!1}return!0}function jF(d){switch(d.tag){case 5:return oc(d.type);case 16:return oc("Lazy");case 13:return oc("Suspense");case 19:return oc("SuspenseList");case 0:case 2:case 15:return d=Zy(d.type,!1),d;case 11:return d=Zy(d.type.render,!1),d;case 1:return d=Zy(d.type,!0),d;default:return""}}function Ii(d,f){if(d&&d.defaultProps){f=a({},f),d=d.defaultProps;for(var v in d)f[v]===void 0&&(f[v]=d[v]);return f}return f}var gf=Qa(null),yf=null,yl=null,hv=null;function fv(){hv=yl=yf=null}function JE(d,f,v){kt?(Wt(gf,f._currentValue),f._currentValue=v):(Wt(gf,f._currentValue2),f._currentValue2=v)}function pv(d){var f=gf.current;Yt(gf),kt?d._currentValue=f:d._currentValue2=f}function mv(d,f,v){for(;d!==null;){var S=d.alternate;if((d.childLanes&f)!==f?(d.childLanes|=f,S!==null&&(S.childLanes|=f)):S!==null&&(S.childLanes&f)!==f&&(S.childLanes|=f),d===v)break;d=d.return}}function vl(d,f){yf=d,hv=yl=null,d=d.dependencies,d!==null&&d.firstContext!==null&&(d.lanes&f&&(kr=!0),d.firstContext=null)}function ii(d){var f=kt?d._currentValue:d._currentValue2;if(hv!==d)if(d={context:d,memoizedValue:f,next:null},yl===null){if(yf===null)throw Error(s(308));yl=d,yf.dependencies={lanes:0,firstContext:d}}else yl=yl.next=d;return f}var ro=null;function gv(d){ro===null?ro=[d]:ro.push(d)}function eT(d,f,v,S){var T=f.interleaved;return T===null?(v.next=v,gv(f)):(v.next=T.next,T.next=v),f.interleaved=v,Yi(d,S)}function Yi(d,f){d.lanes|=f;var v=d.alternate;for(v!==null&&(v.lanes|=f),v=d,d=d.return;d!==null;)d.childLanes|=f,v=d.alternate,v!==null&&(v.childLanes|=f),v=d,d=d.return;return v.tag===3?v.stateNode:null}var Ja=!1;function yv(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function tT(d,f){d=d.updateQueue,f.updateQueue===d&&(f.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,effects:d.effects})}function Ca(d,f){return{eventTime:d,lane:f,tag:0,payload:null,callback:null,next:null}}function es(d,f,v){var S=d.updateQueue;if(S===null)return null;if(S=S.shared,pt&2){var T=S.pending;return T===null?f.next=f:(f.next=T.next,T.next=f),S.pending=f,Yi(d,v)}return T=S.interleaved,T===null?(f.next=f,gv(S)):(f.next=T.next,T.next=f),S.interleaved=f,Yi(d,v)}function vf(d,f,v){if(f=f.updateQueue,f!==null&&(f=f.shared,(v&4194240)!==0)){var S=f.lanes;S&=d.pendingLanes,v|=S,f.lanes=v,nv(d,v)}}function nT(d,f){var v=d.updateQueue,S=d.alternate;if(S!==null&&(S=S.updateQueue,v===S)){var T=null,R=null;if(v=v.firstBaseUpdate,v!==null){do{var V={eventTime:v.eventTime,lane:v.lane,tag:v.tag,payload:v.payload,callback:v.callback,next:null};R===null?T=R=V:R=R.next=V,v=v.next}while(v!==null);R===null?T=R=f:R=R.next=f}else T=R=f;v={baseState:S.baseState,firstBaseUpdate:T,lastBaseUpdate:R,shared:S.shared,effects:S.effects},d.updateQueue=v;return}d=v.lastBaseUpdate,d===null?v.firstBaseUpdate=f:d.next=f,v.lastBaseUpdate=f}function wf(d,f,v,S){var T=d.updateQueue;Ja=!1;var R=T.firstBaseUpdate,V=T.lastBaseUpdate,ie=T.shared.pending;if(ie!==null){T.shared.pending=null;var ye=ie,Ne=ye.next;ye.next=null,V===null?R=Ne:V.next=Ne,V=ye;var He=d.alternate;He!==null&&(He=He.updateQueue,ie=He.lastBaseUpdate,ie!==V&&(ie===null?He.firstBaseUpdate=Ne:ie.next=Ne,He.lastBaseUpdate=ye))}if(R!==null){var ot=T.baseState;V=0,He=Ne=ye=null,ie=R;do{var Ue=ie.lane,Xt=ie.eventTime;if((S&Ue)===Ue){He!==null&&(He=He.next={eventTime:Xt,lane:0,tag:ie.tag,payload:ie.payload,callback:ie.callback,next:null});e:{var $t=d,Er=ie;switch(Ue=f,Xt=v,Er.tag){case 1:if($t=Er.payload,typeof $t=="function"){ot=$t.call(Xt,ot,Ue);break e}ot=$t;break e;case 3:$t.flags=$t.flags&-65537|128;case 0:if($t=Er.payload,Ue=typeof $t=="function"?$t.call(Xt,ot,Ue):$t,Ue==null)break e;ot=a({},ot,Ue);break e;case 2:Ja=!0}}ie.callback!==null&&ie.lane!==0&&(d.flags|=64,Ue=T.effects,Ue===null?T.effects=[ie]:Ue.push(ie))}else Xt={eventTime:Xt,lane:Ue,tag:ie.tag,payload:ie.payload,callback:ie.callback,next:null},He===null?(Ne=He=Xt,ye=ot):He=He.next=Xt,V|=Ue;if(ie=ie.next,ie===null){if(ie=T.shared.pending,ie===null)break;Ue=ie,ie=Ue.next,Ue.next=null,T.lastBaseUpdate=Ue,T.shared.pending=null}}while(1);if(He===null&&(ye=ot),T.baseState=ye,T.firstBaseUpdate=Ne,T.lastBaseUpdate=He,f=T.shared.interleaved,f!==null){T=f;do V|=T.lane,T=T.next;while(T!==f)}else R===null&&(T.shared.lanes=0);ao|=V,d.lanes=V,d.memoizedState=ot}}function rT(d,f,v){if(d=f.effects,f.effects=null,d!==null)for(f=0;f<d.length;f++){var S=d[f],T=S.callback;if(T!==null){if(S.callback=null,S=v,typeof T!="function")throw Error(s(191,T));T.call(S)}}}var iT=new r.Component().refs;function vv(d,f,v,S){f=d.memoizedState,v=v(S,f),v=v==null?f:a({},f,v),d.memoizedState=v,d.lanes===0&&(d.updateQueue.baseState=v)}var bf={isMounted:function(d){return(d=d._reactInternals)?j(d)===d:!1},enqueueSetState:function(d,f,v){d=d._reactInternals;var S=tr(),T=rs(d),R=Ca(S,T);R.payload=f,v!=null&&(R.callback=v),f=es(d,R,T),f!==null&&(oi(f,d,T,S),vf(f,d,T))},enqueueReplaceState:function(d,f,v){d=d._reactInternals;var S=tr(),T=rs(d),R=Ca(S,T);R.tag=1,R.payload=f,v!=null&&(R.callback=v),f=es(d,R,T),f!==null&&(oi(f,d,T,S),vf(f,d,T))},enqueueForceUpdate:function(d,f){d=d._reactInternals;var v=tr(),S=rs(d),T=Ca(v,S);T.tag=2,f!=null&&(T.callback=f),f=es(d,T,S),f!==null&&(oi(f,d,S,v),vf(f,d,S))}};function aT(d,f,v,S,T,R,V){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(S,R,V):f.prototype&&f.prototype.isPureReactComponent?!mf(v,S)||!mf(T,R):!0}function sT(d,f,v){var S=!1,T=Za,R=f.contextType;return typeof R=="object"&&R!==null?R=ii(R):(T=xr(f)?eo:Qn.current,S=f.contextTypes,R=(S=S!=null)?fl(d,T):Za),f=new f(v,R),d.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=bf,d.stateNode=f,f._reactInternals=d,S&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=T,d.__reactInternalMemoizedMaskedChildContext=R),f}function oT(d,f,v,S){d=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(v,S),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(v,S),f.state!==d&&bf.enqueueReplaceState(f,f.state,null)}function wv(d,f,v,S){var T=d.stateNode;T.props=v,T.state=d.memoizedState,T.refs=iT,yv(d);var R=f.contextType;typeof R=="object"&&R!==null?T.context=ii(R):(R=xr(f)?eo:Qn.current,T.context=fl(d,R)),T.state=d.memoizedState,R=f.getDerivedStateFromProps,typeof R=="function"&&(vv(d,f,R,v),T.state=d.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(f=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),f!==T.state&&bf.enqueueReplaceState(T,T.state,null),wf(d,v,T,S),T.state=d.memoizedState),typeof T.componentDidMount=="function"&&(d.flags|=4194308)}function dc(d,f,v){if(d=v.ref,d!==null&&typeof d!="function"&&typeof d!="object"){if(v._owner){if(v=v._owner,v){if(v.tag!==1)throw Error(s(309));var S=v.stateNode}if(!S)throw Error(s(147,d));var T=S,R=""+d;return f!==null&&f.ref!==null&&typeof f.ref=="function"&&f.ref._stringRef===R?f.ref:(f=function(V){var ie=T.refs;ie===iT&&(ie=T.refs={}),V===null?delete ie[R]:ie[R]=V},f._stringRef=R,f)}if(typeof d!="string")throw Error(s(284));if(!v._owner)throw Error(s(290,d))}return d}function xf(d,f){throw d=Object.prototype.toString.call(f),Error(s(31,d==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":d))}function lT(d){var f=d._init;return f(d._payload)}function uT(d){function f(ge,le){if(d){var we=ge.deletions;we===null?(ge.deletions=[le],ge.flags|=16):we.push(le)}}function v(ge,le){if(!d)return null;for(;le!==null;)f(ge,le),le=le.sibling;return null}function S(ge,le){for(ge=new Map;le!==null;)le.key!==null?ge.set(le.key,le):ge.set(le.index,le),le=le.sibling;return ge}function T(ge,le){return ge=as(ge,le),ge.index=0,ge.sibling=null,ge}function R(ge,le,we){return ge.index=we,d?(we=ge.alternate,we!==null?(we=we.index,we<le?(ge.flags|=2,le):we):(ge.flags|=2,le)):(ge.flags|=1048576,le)}function V(ge){return d&&ge.alternate===null&&(ge.flags|=2),ge}function ie(ge,le,we,je){return le===null||le.tag!==6?(le=s1(we,ge.mode,je),le.return=ge,le):(le=T(le,we),le.return=ge,le)}function ye(ge,le,we,je){var Je=we.type;return Je===c?He(ge,le,we.props.children,je,we.key):le!==null&&(le.elementType===Je||typeof Je=="object"&&Je!==null&&Je.$$typeof===k&&lT(Je)===le.type)?(je=T(le,we.props),je.ref=dc(ge,le,we),je.return=ge,je):(je=qf(we.type,we.key,we.props,null,ge.mode,je),je.ref=dc(ge,le,we),je.return=ge,je)}function Ne(ge,le,we,je){return le===null||le.tag!==4||le.stateNode.containerInfo!==we.containerInfo||le.stateNode.implementation!==we.implementation?(le=o1(we,ge.mode,je),le.return=ge,le):(le=T(le,we.children||[]),le.return=ge,le)}function He(ge,le,we,je,Je){return le===null||le.tag!==7?(le=uo(we,ge.mode,je,Je),le.return=ge,le):(le=T(le,we),le.return=ge,le)}function ot(ge,le,we){if(typeof le=="string"&&le!==""||typeof le=="number")return le=s1(""+le,ge.mode,we),le.return=ge,le;if(typeof le=="object"&&le!==null){switch(le.$$typeof){case l:return we=qf(le.type,le.key,le.props,null,ge.mode,we),we.ref=dc(ge,null,le),we.return=ge,we;case u:return le=o1(le,ge.mode,we),le.return=ge,le;case k:var je=le._init;return ot(ge,je(le._payload),we)}if(te(le)||P(le))return le=uo(le,ge.mode,we,null),le.return=ge,le;xf(ge,le)}return null}function Ue(ge,le,we,je){var Je=le!==null?le.key:null;if(typeof we=="string"&&we!==""||typeof we=="number")return Je!==null?null:ie(ge,le,""+we,je);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case l:return we.key===Je?ye(ge,le,we,je):null;case u:return we.key===Je?Ne(ge,le,we,je):null;case k:return Je=we._init,Ue(ge,le,Je(we._payload),je)}if(te(we)||P(we))return Je!==null?null:He(ge,le,we,je,null);xf(ge,we)}return null}function Xt(ge,le,we,je,Je){if(typeof je=="string"&&je!==""||typeof je=="number")return ge=ge.get(we)||null,ie(le,ge,""+je,Je);if(typeof je=="object"&&je!==null){switch(je.$$typeof){case l:return ge=ge.get(je.key===null?we:je.key)||null,ye(le,ge,je,Je);case u:return ge=ge.get(je.key===null?we:je.key)||null,Ne(le,ge,je,Je);case k:var dt=je._init;return Xt(ge,le,we,dt(je._payload),Je)}if(te(je)||P(je))return ge=ge.get(we)||null,He(le,ge,je,Je,null);xf(le,je)}return null}function $t(ge,le,we,je){for(var Je=null,dt=null,lt=le,_t=le=0,Bn=null;lt!==null&&_t<we.length;_t++){lt.index>_t?(Bn=lt,lt=null):Bn=lt.sibling;var It=Ue(ge,lt,we[_t],je);if(It===null){lt===null&&(lt=Bn);break}d&&lt&&It.alternate===null&&f(ge,lt),le=R(It,le,_t),dt===null?Je=It:dt.sibling=It,dt=It,lt=Bn}if(_t===we.length)return v(ge,lt),tn&&no(ge,_t),Je;if(lt===null){for(;_t<we.length;_t++)lt=ot(ge,we[_t],je),lt!==null&&(le=R(lt,le,_t),dt===null?Je=lt:dt.sibling=lt,dt=lt);return tn&&no(ge,_t),Je}for(lt=S(ge,lt);_t<we.length;_t++)Bn=Xt(lt,ge,_t,we[_t],je),Bn!==null&&(d&&Bn.alternate!==null&&lt.delete(Bn.key===null?_t:Bn.key),le=R(Bn,le,_t),dt===null?Je=Bn:dt.sibling=Bn,dt=Bn);return d&&lt.forEach(function(ss){return f(ge,ss)}),tn&&no(ge,_t),Je}function Er(ge,le,we,je){var Je=P(we);if(typeof Je!="function")throw Error(s(150));if(we=Je.call(we),we==null)throw Error(s(151));for(var dt=Je=null,lt=le,_t=le=0,Bn=null,It=we.next();lt!==null&&!It.done;_t++,It=we.next()){lt.index>_t?(Bn=lt,lt=null):Bn=lt.sibling;var ss=Ue(ge,lt,It.value,je);if(ss===null){lt===null&&(lt=Bn);break}d&&lt&&ss.alternate===null&&f(ge,lt),le=R(ss,le,_t),dt===null?Je=ss:dt.sibling=ss,dt=ss,lt=Bn}if(It.done)return v(ge,lt),tn&&no(ge,_t),Je;if(lt===null){for(;!It.done;_t++,It=we.next())It=ot(ge,It.value,je),It!==null&&(le=R(It,le,_t),dt===null?Je=It:dt.sibling=It,dt=It);return tn&&no(ge,_t),Je}for(lt=S(ge,lt);!It.done;_t++,It=we.next())It=Xt(lt,ge,_t,It.value,je),It!==null&&(d&&It.alternate!==null&&lt.delete(It.key===null?_t:It.key),le=R(It,le,_t),dt===null?Je=It:dt.sibling=It,dt=It);return d&&lt.forEach(function(y8){return f(ge,y8)}),tn&&no(ge,_t),Je}function _a(ge,le,we,je){if(typeof we=="object"&&we!==null&&we.type===c&&we.key===null&&(we=we.props.children),typeof we=="object"&&we!==null){switch(we.$$typeof){case l:e:{for(var Je=we.key,dt=le;dt!==null;){if(dt.key===Je){if(Je=we.type,Je===c){if(dt.tag===7){v(ge,dt.sibling),le=T(dt,we.props.children),le.return=ge,ge=le;break e}}else if(dt.elementType===Je||typeof Je=="object"&&Je!==null&&Je.$$typeof===k&&lT(Je)===dt.type){v(ge,dt.sibling),le=T(dt,we.props),le.ref=dc(ge,dt,we),le.return=ge,ge=le;break e}v(ge,dt);break}else f(ge,dt);dt=dt.sibling}we.type===c?(le=uo(we.props.children,ge.mode,je,we.key),le.return=ge,ge=le):(je=qf(we.type,we.key,we.props,null,ge.mode,je),je.ref=dc(ge,le,we),je.return=ge,ge=je)}return V(ge);case u:e:{for(dt=we.key;le!==null;){if(le.key===dt)if(le.tag===4&&le.stateNode.containerInfo===we.containerInfo&&le.stateNode.implementation===we.implementation){v(ge,le.sibling),le=T(le,we.children||[]),le.return=ge,ge=le;break e}else{v(ge,le);break}else f(ge,le);le=le.sibling}le=o1(we,ge.mode,je),le.return=ge,ge=le}return V(ge);case k:return dt=we._init,_a(ge,le,dt(we._payload),je)}if(te(we))return $t(ge,le,we,je);if(P(we))return Er(ge,le,we,je);xf(ge,we)}return typeof we=="string"&&we!==""||typeof we=="number"?(we=""+we,le!==null&&le.tag===6?(v(ge,le.sibling),le=T(le,we),le.return=ge,ge=le):(v(ge,le),le=s1(we,ge.mode,je),le.return=ge,ge=le),V(ge)):v(ge,le)}return _a}var wl=uT(!0),cT=uT(!1),hc={},ai=Qa(hc),fc=Qa(hc),bl=Qa(hc);function Xi(d){if(d===hc)throw Error(s(174));return d}function bv(d,f){Wt(bl,f),Wt(fc,d),Wt(ai,hc),d=ue(f),Yt(ai),Wt(ai,d)}function xl(){Yt(ai),Yt(fc),Yt(bl)}function dT(d){var f=Xi(bl.current),v=Xi(ai.current);f=de(v,d.type,f),v!==f&&(Wt(fc,d),Wt(ai,f))}function xv(d){fc.current===d&&(Yt(ai),Yt(fc))}var on=Qa(0);function kf(d){for(var f=d;f!==null;){if(f.tag===13){var v=f.memoizedState;if(v!==null&&(v=v.dehydrated,v===null||UE(v)||Yy(v)))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if(f.flags&128)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===d)break;for(;f.sibling===null;){if(f.return===null||f.return===d)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var kv=[];function Sv(){for(var d=0;d<kv.length;d++){var f=kv[d];kt?f._workInProgressVersionPrimary=null:f._workInProgressVersionSecondary=null}kv.length=0}var Sf=o.ReactCurrentDispatcher,Cv=o.ReactCurrentBatchConfig,io=0,ln=null,In=null,Ln=null,Cf=!1,pc=!1,mc=0,$F=0;function Zn(){throw Error(s(321))}function Ev(d,f){if(f===null)return!1;for(var v=0;v<f.length&&v<d.length;v++)if(!Ti(d[v],f[v]))return!1;return!0}function Tv(d,f,v,S,T,R){if(io=R,ln=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,Sf.current=d===null||d.memoizedState===null?HF:qF,d=v(S,T),pc){R=0;do{if(pc=!1,mc=0,25<=R)throw Error(s(301));R+=1,Ln=In=null,f.updateQueue=null,Sf.current=KF,d=v(S,T)}while(pc)}if(Sf.current=_f,f=In!==null&&In.next!==null,io=0,Ln=In=ln=null,Cf=!1,f)throw Error(s(300));return d}function _v(){var d=mc!==0;return mc=0,d}function Qi(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ln===null?ln.memoizedState=Ln=d:Ln=Ln.next=d,Ln}function si(){if(In===null){var d=ln.alternate;d=d!==null?d.memoizedState:null}else d=In.next;var f=Ln===null?ln.memoizedState:Ln.next;if(f!==null)Ln=f,In=d;else{if(d===null)throw Error(s(310));In=d,d={memoizedState:In.memoizedState,baseState:In.baseState,baseQueue:In.baseQueue,queue:In.queue,next:null},Ln===null?ln.memoizedState=Ln=d:Ln=Ln.next=d}return Ln}function gc(d,f){return typeof f=="function"?f(d):f}function Iv(d){var f=si(),v=f.queue;if(v===null)throw Error(s(311));v.lastRenderedReducer=d;var S=In,T=S.baseQueue,R=v.pending;if(R!==null){if(T!==null){var V=T.next;T.next=R.next,R.next=V}S.baseQueue=T=R,v.pending=null}if(T!==null){R=T.next,S=S.baseState;var ie=V=null,ye=null,Ne=R;do{var He=Ne.lane;if((io&He)===He)ye!==null&&(ye=ye.next={lane:0,action:Ne.action,hasEagerState:Ne.hasEagerState,eagerState:Ne.eagerState,next:null}),S=Ne.hasEagerState?Ne.eagerState:d(S,Ne.action);else{var ot={lane:He,action:Ne.action,hasEagerState:Ne.hasEagerState,eagerState:Ne.eagerState,next:null};ye===null?(ie=ye=ot,V=S):ye=ye.next=ot,ln.lanes|=He,ao|=He}Ne=Ne.next}while(Ne!==null&&Ne!==R);ye===null?V=S:ye.next=ie,Ti(S,f.memoizedState)||(kr=!0),f.memoizedState=S,f.baseState=V,f.baseQueue=ye,v.lastRenderedState=S}if(d=v.interleaved,d!==null){T=d;do R=T.lane,ln.lanes|=R,ao|=R,T=T.next;while(T!==d)}else T===null&&(v.lanes=0);return[f.memoizedState,v.dispatch]}function Pv(d){var f=si(),v=f.queue;if(v===null)throw Error(s(311));v.lastRenderedReducer=d;var S=v.dispatch,T=v.pending,R=f.memoizedState;if(T!==null){v.pending=null;var V=T=T.next;do R=d(R,V.action),V=V.next;while(V!==T);Ti(R,f.memoizedState)||(kr=!0),f.memoizedState=R,f.baseQueue===null&&(f.baseState=R),v.lastRenderedState=R}return[R,S]}function hT(){}function fT(d,f){var v=ln,S=si(),T=f(),R=!Ti(S.memoizedState,T);if(R&&(S.memoizedState=T,kr=!0),S=S.queue,Av(gT.bind(null,v,S,d),[d]),S.getSnapshot!==f||R||Ln!==null&&Ln.memoizedState.tag&1){if(v.flags|=2048,yc(9,mT.bind(null,v,S,T,f),void 0,null),Fn===null)throw Error(s(349));io&30||pT(v,f,T)}return T}function pT(d,f,v){d.flags|=16384,d={getSnapshot:f,value:v},f=ln.updateQueue,f===null?(f={lastEffect:null,stores:null},ln.updateQueue=f,f.stores=[d]):(v=f.stores,v===null?f.stores=[d]:v.push(d))}function mT(d,f,v,S){f.value=v,f.getSnapshot=S,yT(f)&&vT(d)}function gT(d,f,v){return v(function(){yT(f)&&vT(d)})}function yT(d){var f=d.getSnapshot;d=d.value;try{var v=f();return!Ti(d,v)}catch{return!0}}function vT(d){var f=Yi(d,1);f!==null&&oi(f,d,1,-1)}function wT(d){var f=Qi();return typeof d=="function"&&(d=d()),f.memoizedState=f.baseState=d,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gc,lastRenderedState:d},f.queue=d,d=d.dispatch=GF.bind(null,ln,d),[f.memoizedState,d]}function yc(d,f,v,S){return d={tag:d,create:f,destroy:v,deps:S,next:null},f=ln.updateQueue,f===null?(f={lastEffect:null,stores:null},ln.updateQueue=f,f.lastEffect=d.next=d):(v=f.lastEffect,v===null?f.lastEffect=d.next=d:(S=v.next,v.next=d,d.next=S,f.lastEffect=d)),d}function bT(){return si().memoizedState}function Ef(d,f,v,S){var T=Qi();ln.flags|=d,T.memoizedState=yc(1|f,v,void 0,S===void 0?null:S)}function Tf(d,f,v,S){var T=si();S=S===void 0?null:S;var R=void 0;if(In!==null){var V=In.memoizedState;if(R=V.destroy,S!==null&&Ev(S,V.deps)){T.memoizedState=yc(f,v,R,S);return}}ln.flags|=d,T.memoizedState=yc(1|f,v,R,S)}function xT(d,f){return Ef(8390656,8,d,f)}function Av(d,f){return Tf(2048,8,d,f)}function kT(d,f){return Tf(4,2,d,f)}function ST(d,f){return Tf(4,4,d,f)}function CT(d,f){if(typeof f=="function")return d=d(),f(d),function(){f(null)};if(f!=null)return d=d(),f.current=d,function(){f.current=null}}function ET(d,f,v){return v=v!=null?v.concat([d]):null,Tf(4,4,CT.bind(null,f,d),v)}function Rv(){}function TT(d,f){var v=si();f=f===void 0?null:f;var S=v.memoizedState;return S!==null&&f!==null&&Ev(f,S[1])?S[0]:(v.memoizedState=[d,f],d)}function _T(d,f){var v=si();f=f===void 0?null:f;var S=v.memoizedState;return S!==null&&f!==null&&Ev(f,S[1])?S[0]:(d=d(),v.memoizedState=[d,f],d)}function IT(d,f,v){return io&21?(Ti(v,f)||(v=WE(),ln.lanes|=v,ao|=v,d.baseState=!0),f):(d.baseState&&(d.baseState=!1,kr=!0),d.memoizedState=v)}function VF(d,f){var v=Tt;Tt=v!==0&&4>v?v:4,d(!0);var S=Cv.transition;Cv.transition={};try{d(!1),f()}finally{Tt=v,Cv.transition=S}}function PT(){return si().memoizedState}function WF(d,f,v){var S=rs(d);if(v={lane:S,action:v,hasEagerState:!1,eagerState:null,next:null},AT(d))RT(f,v);else if(v=eT(d,f,v,S),v!==null){var T=tr();oi(v,d,S,T),DT(v,f,S)}}function GF(d,f,v){var S=rs(d),T={lane:S,action:v,hasEagerState:!1,eagerState:null,next:null};if(AT(d))RT(f,T);else{var R=d.alternate;if(d.lanes===0&&(R===null||R.lanes===0)&&(R=f.lastRenderedReducer,R!==null))try{var V=f.lastRenderedState,ie=R(V,v);if(T.hasEagerState=!0,T.eagerState=ie,Ti(ie,V)){var ye=f.interleaved;ye===null?(T.next=T,gv(f)):(T.next=ye.next,ye.next=T),f.interleaved=T;return}}catch{}finally{}v=eT(d,f,T,S),v!==null&&(T=tr(),oi(v,d,S,T),DT(v,f,S))}}function AT(d){var f=d.alternate;return d===ln||f!==null&&f===ln}function RT(d,f){pc=Cf=!0;var v=d.pending;v===null?f.next=f:(f.next=v.next,v.next=f),d.pending=f}function DT(d,f,v){if(v&4194240){var S=f.lanes;S&=d.pendingLanes,v|=S,f.lanes=v,nv(d,v)}}var _f={readContext:ii,useCallback:Zn,useContext:Zn,useEffect:Zn,useImperativeHandle:Zn,useInsertionEffect:Zn,useLayoutEffect:Zn,useMemo:Zn,useReducer:Zn,useRef:Zn,useState:Zn,useDebugValue:Zn,useDeferredValue:Zn,useTransition:Zn,useMutableSource:Zn,useSyncExternalStore:Zn,useId:Zn,unstable_isNewReconciler:!1},HF={readContext:ii,useCallback:function(d,f){return Qi().memoizedState=[d,f===void 0?null:f],d},useContext:ii,useEffect:xT,useImperativeHandle:function(d,f,v){return v=v!=null?v.concat([d]):null,Ef(4194308,4,CT.bind(null,f,d),v)},useLayoutEffect:function(d,f){return Ef(4194308,4,d,f)},useInsertionEffect:function(d,f){return Ef(4,2,d,f)},useMemo:function(d,f){var v=Qi();return f=f===void 0?null:f,d=d(),v.memoizedState=[d,f],d},useReducer:function(d,f,v){var S=Qi();return f=v!==void 0?v(f):f,S.memoizedState=S.baseState=f,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:f},S.queue=d,d=d.dispatch=WF.bind(null,ln,d),[S.memoizedState,d]},useRef:function(d){var f=Qi();return d={current:d},f.memoizedState=d},useState:wT,useDebugValue:Rv,useDeferredValue:function(d){return Qi().memoizedState=d},useTransition:function(){var d=wT(!1),f=d[0];return d=VF.bind(null,d[1]),Qi().memoizedState=d,[f,d]},useMutableSource:function(){},useSyncExternalStore:function(d,f,v){var S=ln,T=Qi();if(tn){if(v===void 0)throw Error(s(407));v=v()}else{if(v=f(),Fn===null)throw Error(s(349));io&30||pT(S,f,v)}T.memoizedState=v;var R={value:v,getSnapshot:f};return T.queue=R,xT(gT.bind(null,S,R,d),[d]),S.flags|=2048,yc(9,mT.bind(null,S,R,v,f),void 0,null),v},useId:function(){var d=Qi(),f=Fn.identifierPrefix;if(tn){var v=Sa,S=ka;v=(S&~(1<<32-Ei(S)-1)).toString(32)+v,f=":"+f+"R"+v,v=mc++,0<v&&(f+="H"+v.toString(32)),f+=":"}else v=$F++,f=":"+f+"r"+v.toString(32)+":";return d.memoizedState=f},unstable_isNewReconciler:!1},qF={readContext:ii,useCallback:TT,useContext:ii,useEffect:Av,useImperativeHandle:ET,useInsertionEffect:kT,useLayoutEffect:ST,useMemo:_T,useReducer:Iv,useRef:bT,useState:function(){return Iv(gc)},useDebugValue:Rv,useDeferredValue:function(d){var f=si();return IT(f,In.memoizedState,d)},useTransition:function(){var d=Iv(gc)[0],f=si().memoizedState;return[d,f]},useMutableSource:hT,useSyncExternalStore:fT,useId:PT,unstable_isNewReconciler:!1},KF={readContext:ii,useCallback:TT,useContext:ii,useEffect:Av,useImperativeHandle:ET,useInsertionEffect:kT,useLayoutEffect:ST,useMemo:_T,useReducer:Pv,useRef:bT,useState:function(){return Pv(gc)},useDebugValue:Rv,useDeferredValue:function(d){var f=si();return In===null?f.memoizedState=d:IT(f,In.memoizedState,d)},useTransition:function(){var d=Pv(gc)[0],f=si().memoizedState;return[d,f]},useMutableSource:hT,useSyncExternalStore:fT,useId:PT,unstable_isNewReconciler:!1};function kl(d,f){try{var v="",S=f;do v+=jF(S),S=S.return;while(S);var T=v}catch(R){T=`
Error generating stack: `+R.message+`
`+R.stack}return{value:d,source:f,stack:T,digest:null}}function Dv(d,f,v){return{value:d,source:null,stack:v??null,digest:f??null}}function Nv(d,f){try{console.error(f.value)}catch(v){setTimeout(function(){throw v})}}var YF=typeof WeakMap=="function"?WeakMap:Map;function NT(d,f,v){v=Ca(-1,v),v.tag=3,v.payload={element:null};var S=f.value;return v.callback=function(){jf||(jf=!0,Jv=S),Nv(d,f)},v}function MT(d,f,v){v=Ca(-1,v),v.tag=3;var S=d.type.getDerivedStateFromError;if(typeof S=="function"){var T=f.value;v.payload=function(){return S(T)},v.callback=function(){Nv(d,f)}}var R=d.stateNode;return R!==null&&typeof R.componentDidCatch=="function"&&(v.callback=function(){Nv(d,f),typeof S!="function"&&(ts===null?ts=new Set([this]):ts.add(this));var V=f.stack;this.componentDidCatch(f.value,{componentStack:V!==null?V:""})}),v}function OT(d,f,v){var S=d.pingCache;if(S===null){S=d.pingCache=new YF;var T=new Set;S.set(f,T)}else T=S.get(f),T===void 0&&(T=new Set,S.set(f,T));T.has(v)||(T.add(v),d=u8.bind(null,d,f,v),f.then(d,d))}function LT(d){do{var f;if((f=d.tag===13)&&(f=d.memoizedState,f=f!==null?f.dehydrated!==null:!0),f)return d;d=d.return}while(d!==null);return null}function FT(d,f,v,S,T){return d.mode&1?(d.flags|=65536,d.lanes=T,d):(d===f?d.flags|=65536:(d.flags|=128,v.flags|=131072,v.flags&=-52805,v.tag===1&&(v.alternate===null?v.tag=17:(f=Ca(-1,1),f.tag=2,es(v,f,1))),v.lanes|=1),d)}var XF=o.ReactCurrentOwner,kr=!1;function hr(d,f,v,S){f.child=d===null?cT(f,null,v,S):wl(f,d.child,v,S)}function BT(d,f,v,S,T){v=v.render;var R=f.ref;return vl(f,T),S=Tv(d,f,v,S,R,T),v=_v(),d!==null&&!kr?(f.updateQueue=d.updateQueue,f.flags&=-2053,d.lanes&=~T,Ea(d,f,T)):(tn&&v&&ov(f),f.flags|=1,hr(d,f,S,T),f.child)}function zT(d,f,v,S,T){if(d===null){var R=v.type;return typeof R=="function"&&!a1(R)&&R.defaultProps===void 0&&v.compare===null&&v.defaultProps===void 0?(f.tag=15,f.type=R,UT(d,f,R,S,T)):(d=qf(v.type,null,S,f,f.mode,T),d.ref=f.ref,d.return=f,f.child=d)}if(R=d.child,!(d.lanes&T)){var V=R.memoizedProps;if(v=v.compare,v=v!==null?v:mf,v(V,S)&&d.ref===f.ref)return Ea(d,f,T)}return f.flags|=1,d=as(R,S),d.ref=f.ref,d.return=f,f.child=d}function UT(d,f,v,S,T){if(d!==null){var R=d.memoizedProps;if(mf(R,S)&&d.ref===f.ref)if(kr=!1,f.pendingProps=S=R,(d.lanes&T)!==0)d.flags&131072&&(kr=!0);else return f.lanes=d.lanes,Ea(d,f,T)}return Mv(d,f,v,S,T)}function jT(d,f,v){var S=f.pendingProps,T=S.children,R=d!==null?d.memoizedState:null;if(S.mode==="hidden")if(!(f.mode&1))f.memoizedState={baseLanes:0,cachePool:null,transitions:null},Wt(Cl,Br),Br|=v;else{if(!(v&1073741824))return d=R!==null?R.baseLanes|v:v,f.lanes=f.childLanes=1073741824,f.memoizedState={baseLanes:d,cachePool:null,transitions:null},f.updateQueue=null,Wt(Cl,Br),Br|=d,null;f.memoizedState={baseLanes:0,cachePool:null,transitions:null},S=R!==null?R.baseLanes:v,Wt(Cl,Br),Br|=S}else R!==null?(S=R.baseLanes|v,f.memoizedState=null):S=v,Wt(Cl,Br),Br|=S;return hr(d,f,T,v),f.child}function $T(d,f){var v=f.ref;(d===null&&v!==null||d!==null&&d.ref!==v)&&(f.flags|=512,f.flags|=2097152)}function Mv(d,f,v,S,T){var R=xr(v)?eo:Qn.current;return R=fl(f,R),vl(f,T),v=Tv(d,f,v,S,R,T),S=_v(),d!==null&&!kr?(f.updateQueue=d.updateQueue,f.flags&=-2053,d.lanes&=~T,Ea(d,f,T)):(tn&&S&&ov(f),f.flags|=1,hr(d,f,v,T),f.child)}function VT(d,f,v,S,T){if(xr(v)){var R=!0;sf(f)}else R=!1;if(vl(f,T),f.stateNode===null)Pf(d,f),sT(f,v,S),wv(f,v,S,T),S=!0;else if(d===null){var V=f.stateNode,ie=f.memoizedProps;V.props=ie;var ye=V.context,Ne=v.contextType;typeof Ne=="object"&&Ne!==null?Ne=ii(Ne):(Ne=xr(v)?eo:Qn.current,Ne=fl(f,Ne));var He=v.getDerivedStateFromProps,ot=typeof He=="function"||typeof V.getSnapshotBeforeUpdate=="function";ot||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(ie!==S||ye!==Ne)&&oT(f,V,S,Ne),Ja=!1;var Ue=f.memoizedState;V.state=Ue,wf(f,S,V,T),ye=f.memoizedState,ie!==S||Ue!==ye||br.current||Ja?(typeof He=="function"&&(vv(f,v,He,S),ye=f.memoizedState),(ie=Ja||aT(f,v,ie,S,Ue,ye,Ne))?(ot||typeof V.UNSAFE_componentWillMount!="function"&&typeof V.componentWillMount!="function"||(typeof V.componentWillMount=="function"&&V.componentWillMount(),typeof V.UNSAFE_componentWillMount=="function"&&V.UNSAFE_componentWillMount()),typeof V.componentDidMount=="function"&&(f.flags|=4194308)):(typeof V.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=S,f.memoizedState=ye),V.props=S,V.state=ye,V.context=Ne,S=ie):(typeof V.componentDidMount=="function"&&(f.flags|=4194308),S=!1)}else{V=f.stateNode,tT(d,f),ie=f.memoizedProps,Ne=f.type===f.elementType?ie:Ii(f.type,ie),V.props=Ne,ot=f.pendingProps,Ue=V.context,ye=v.contextType,typeof ye=="object"&&ye!==null?ye=ii(ye):(ye=xr(v)?eo:Qn.current,ye=fl(f,ye));var Xt=v.getDerivedStateFromProps;(He=typeof Xt=="function"||typeof V.getSnapshotBeforeUpdate=="function")||typeof V.UNSAFE_componentWillReceiveProps!="function"&&typeof V.componentWillReceiveProps!="function"||(ie!==ot||Ue!==ye)&&oT(f,V,S,ye),Ja=!1,Ue=f.memoizedState,V.state=Ue,wf(f,S,V,T);var $t=f.memoizedState;ie!==ot||Ue!==$t||br.current||Ja?(typeof Xt=="function"&&(vv(f,v,Xt,S),$t=f.memoizedState),(Ne=Ja||aT(f,v,Ne,S,Ue,$t,ye)||!1)?(He||typeof V.UNSAFE_componentWillUpdate!="function"&&typeof V.componentWillUpdate!="function"||(typeof V.componentWillUpdate=="function"&&V.componentWillUpdate(S,$t,ye),typeof V.UNSAFE_componentWillUpdate=="function"&&V.UNSAFE_componentWillUpdate(S,$t,ye)),typeof V.componentDidUpdate=="function"&&(f.flags|=4),typeof V.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof V.componentDidUpdate!="function"||ie===d.memoizedProps&&Ue===d.memoizedState||(f.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||ie===d.memoizedProps&&Ue===d.memoizedState||(f.flags|=1024),f.memoizedProps=S,f.memoizedState=$t),V.props=S,V.state=$t,V.context=ye,S=Ne):(typeof V.componentDidUpdate!="function"||ie===d.memoizedProps&&Ue===d.memoizedState||(f.flags|=4),typeof V.getSnapshotBeforeUpdate!="function"||ie===d.memoizedProps&&Ue===d.memoizedState||(f.flags|=1024),S=!1)}return Ov(d,f,v,S,R,T)}function Ov(d,f,v,S,T,R){$T(d,f);var V=(f.flags&128)!==0;if(!S&&!V)return T&&VE(f,v,!1),Ea(d,f,R);S=f.stateNode,XF.current=f;var ie=V&&typeof v.getDerivedStateFromError!="function"?null:S.render();return f.flags|=1,d!==null&&V?(f.child=wl(f,d.child,null,R),f.child=wl(f,null,ie,R)):hr(d,f,ie,R),f.memoizedState=S.state,T&&VE(f,v,!0),f.child}function WT(d){var f=d.stateNode;f.pendingContext?jE(d,f.pendingContext,f.pendingContext!==f.context):f.context&&jE(d,f.context,!1),bv(d,f.containerInfo)}function GT(d,f,v,S,T){return gl(),dv(T),f.flags|=256,hr(d,f,v,S),f.child}var Lv={dehydrated:null,treeContext:null,retryLane:0};function Fv(d){return{baseLanes:d,cachePool:null,transitions:null}}function HT(d,f,v){var S=f.pendingProps,T=on.current,R=!1,V=(f.flags&128)!==0,ie;if((ie=V)||(ie=d!==null&&d.memoizedState===null?!1:(T&2)!==0),ie?(R=!0,f.flags&=-129):(d===null||d.memoizedState!==null)&&(T|=1),Wt(on,T&1),d===null)return cv(f),d=f.memoizedState,d!==null&&(d=d.dehydrated,d!==null)?(f.mode&1?Yy(d)?f.lanes=8:f.lanes=1073741824:f.lanes=1,null):(V=S.children,d=S.fallback,R?(S=f.mode,R=f.child,V={mode:"hidden",children:V},!(S&1)&&R!==null?(R.childLanes=0,R.pendingProps=V):R=Kf(V,S,0,null),d=uo(d,S,v,null),R.return=f,d.return=f,R.sibling=d,f.child=R,f.child.memoizedState=Fv(v),f.memoizedState=Lv,d):Bv(f,V));if(T=d.memoizedState,T!==null&&(ie=T.dehydrated,ie!==null))return QF(d,f,V,S,ie,T,v);if(R){R=S.fallback,V=f.mode,T=d.child,ie=T.sibling;var ye={mode:"hidden",children:S.children};return!(V&1)&&f.child!==T?(S=f.child,S.childLanes=0,S.pendingProps=ye,f.deletions=null):(S=as(T,ye),S.subtreeFlags=T.subtreeFlags&14680064),ie!==null?R=as(ie,R):(R=uo(R,V,v,null),R.flags|=2),R.return=f,S.return=f,S.sibling=R,f.child=S,S=R,R=f.child,V=d.child.memoizedState,V=V===null?Fv(v):{baseLanes:V.baseLanes|v,cachePool:null,transitions:V.transitions},R.memoizedState=V,R.childLanes=d.childLanes&~v,f.memoizedState=Lv,S}return R=d.child,d=R.sibling,S=as(R,{mode:"visible",children:S.children}),!(f.mode&1)&&(S.lanes=v),S.return=f,S.sibling=null,d!==null&&(v=f.deletions,v===null?(f.deletions=[d],f.flags|=16):v.push(d)),f.child=S,f.memoizedState=null,S}function Bv(d,f){return f=Kf({mode:"visible",children:f},d.mode,0,null),f.return=d,d.child=f}function If(d,f,v,S){return S!==null&&dv(S),wl(f,d.child,null,v),d=Bv(f,f.pendingProps.children),d.flags|=2,f.memoizedState=null,d}function QF(d,f,v,S,T,R,V){if(v)return f.flags&256?(f.flags&=-257,S=Dv(Error(s(422))),If(d,f,V,S)):f.memoizedState!==null?(f.child=d.child,f.flags|=128,null):(R=S.fallback,T=f.mode,S=Kf({mode:"visible",children:S.children},T,0,null),R=uo(R,T,V,null),R.flags|=2,S.return=f,R.return=f,S.sibling=R,f.child=S,f.mode&1&&wl(f,d.child,null,V),f.child.memoizedState=Fv(V),f.memoizedState=Lv,R);if(!(f.mode&1))return If(d,f,V,null);if(Yy(T))return S=cF(T).digest,R=Error(s(419)),S=Dv(R,S,void 0),If(d,f,V,S);if(v=(V&d.childLanes)!==0,kr||v){if(S=Fn,S!==null){switch(V&-V){case 4:T=2;break;case 16:T=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:T=32;break;case 536870912:T=268435456;break;default:T=0}T=T&(S.suspendedLanes|V)?0:T,T!==0&&T!==R.retryLane&&(R.retryLane=T,Yi(d,T),oi(S,d,T,-1))}return i1(),S=Dv(Error(s(421))),If(d,f,V,S)}return UE(T)?(f.flags|=128,f.child=d.child,f=c8.bind(null,d),dF(T,f),null):(d=R.treeContext,St&&(ri=pF(T),Fr=f,tn=!0,_i=null,cc=!1,d!==null&&(ti[ni++]=ka,ti[ni++]=Sa,ti[ni++]=to,ka=d.id,Sa=d.overflow,to=f)),f=Bv(f,S.children),f.flags|=4096,f)}function qT(d,f,v){d.lanes|=f;var S=d.alternate;S!==null&&(S.lanes|=f),mv(d.return,f,v)}function zv(d,f,v,S,T){var R=d.memoizedState;R===null?d.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:S,tail:v,tailMode:T}:(R.isBackwards=f,R.rendering=null,R.renderingStartTime=0,R.last=S,R.tail=v,R.tailMode=T)}function KT(d,f,v){var S=f.pendingProps,T=S.revealOrder,R=S.tail;if(hr(d,f,S.children,v),S=on.current,S&2)S=S&1|2,f.flags|=128;else{if(d!==null&&d.flags&128)e:for(d=f.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&qT(d,v,f);else if(d.tag===19)qT(d,v,f);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===f)break e;for(;d.sibling===null;){if(d.return===null||d.return===f)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}S&=1}if(Wt(on,S),!(f.mode&1))f.memoizedState=null;else switch(T){case"forwards":for(v=f.child,T=null;v!==null;)d=v.alternate,d!==null&&kf(d)===null&&(T=v),v=v.sibling;v=T,v===null?(T=f.child,f.child=null):(T=v.sibling,v.sibling=null),zv(f,!1,T,v,R);break;case"backwards":for(v=null,T=f.child,f.child=null;T!==null;){if(d=T.alternate,d!==null&&kf(d)===null){f.child=T;break}d=T.sibling,T.sibling=v,v=T,T=d}zv(f,!0,v,null,R);break;case"together":zv(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function Pf(d,f){!(f.mode&1)&&d!==null&&(d.alternate=null,f.alternate=null,f.flags|=2)}function Ea(d,f,v){if(d!==null&&(f.dependencies=d.dependencies),ao|=f.lanes,!(v&f.childLanes))return null;if(d!==null&&f.child!==d.child)throw Error(s(153));if(f.child!==null){for(d=f.child,v=as(d,d.pendingProps),f.child=v,v.return=f;d.sibling!==null;)d=d.sibling,v=v.sibling=as(d,d.pendingProps),v.return=f;v.sibling=null}return f.child}function ZF(d,f,v){switch(f.tag){case 3:WT(f),gl();break;case 5:dT(f);break;case 1:xr(f.type)&&sf(f);break;case 4:bv(f,f.stateNode.containerInfo);break;case 10:JE(f,f.type._context,f.memoizedProps.value);break;case 13:var S=f.memoizedState;if(S!==null)return S.dehydrated!==null?(Wt(on,on.current&1),f.flags|=128,null):v&f.child.childLanes?HT(d,f,v):(Wt(on,on.current&1),d=Ea(d,f,v),d!==null?d.sibling:null);Wt(on,on.current&1);break;case 19:if(S=(v&f.childLanes)!==0,d.flags&128){if(S)return KT(d,f,v);f.flags|=128}var T=f.memoizedState;if(T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),Wt(on,on.current),S)break;return null;case 22:case 23:return f.lanes=0,jT(d,f,v)}return Ea(d,f,v)}function Zi(d){d.flags|=4}function YT(d,f){if(d!==null&&d.child===f.child)return!0;if(f.flags&16)return!1;for(d=f.child;d!==null;){if(d.flags&12854||d.subtreeFlags&12854)return!1;d=d.sibling}return!0}var vc,wc,Af,Rf;if(ct)vc=function(d,f){for(var v=f.child;v!==null;){if(v.tag===5||v.tag===6)O(d,v.stateNode);else if(v.tag!==4&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===f)break;for(;v.sibling===null;){if(v.return===null||v.return===f)return;v=v.return}v.sibling.return=v.return,v=v.sibling}},wc=function(){},Af=function(d,f,v,S,T){if(d=d.memoizedProps,d!==S){var R=f.stateNode,V=Xi(ai.current);v=Ce(R,v,d,S,T,V),(f.updateQueue=v)&&Zi(f)}},Rf=function(d,f,v,S){v!==S&&Zi(f)};else if(yn){vc=function(d,f,v,S){for(var T=f.child;T!==null;){if(T.tag===5){var R=T.stateNode;v&&S&&(R=BE(R,T.type,T.memoizedProps,T)),O(d,R)}else if(T.tag===6)R=T.stateNode,v&&S&&(R=zE(R,T.memoizedProps,T)),O(d,R);else if(T.tag!==4){if(T.tag===22&&T.memoizedState!==null)R=T.child,R!==null&&(R.return=T),vc(d,T,!0,!0);else if(T.child!==null){T.child.return=T,T=T.child;continue}}if(T===f)break;for(;T.sibling===null;){if(T.return===null||T.return===f)return;T=T.return}T.sibling.return=T.return,T=T.sibling}};var XT=function(d,f,v,S){for(var T=f.child;T!==null;){if(T.tag===5){var R=T.stateNode;v&&S&&(R=BE(R,T.type,T.memoizedProps,T)),FE(d,R)}else if(T.tag===6)R=T.stateNode,v&&S&&(R=zE(R,T.memoizedProps,T)),FE(d,R);else if(T.tag!==4){if(T.tag===22&&T.memoizedState!==null)R=T.child,R!==null&&(R.return=T),XT(d,T,!0,!0);else if(T.child!==null){T.child.return=T,T=T.child;continue}}if(T===f)break;for(;T.sibling===null;){if(T.return===null||T.return===f)return;T=T.return}T.sibling.return=T.return,T=T.sibling}};wc=function(d,f){var v=f.stateNode;if(!YT(d,f)){d=v.containerInfo;var S=LE(d);XT(S,f,!1,!1),v.pendingChildren=S,Zi(f),sF(d,S)}},Af=function(d,f,v,S,T){var R=d.stateNode,V=d.memoizedProps;if((d=YT(d,f))&&V===S)f.stateNode=R;else{var ie=f.stateNode,ye=Xi(ai.current),Ne=null;V!==S&&(Ne=Ce(ie,v,V,S,T,ye)),d&&Ne===null?f.stateNode=R:(R=dl(R,Ne,v,V,S,f,d,ie),Ee(R,v,S,T,ye)&&Zi(f),f.stateNode=R,d?Zi(f):vc(R,f,!1,!1))}},Rf=function(d,f,v,S){v!==S?(d=Xi(bl.current),v=Xi(ai.current),f.stateNode=Xe(S,d,v,f),Zi(f)):f.stateNode=d.stateNode}}else wc=function(){},Af=function(){},Rf=function(){};function bc(d,f){if(!tn)switch(d.tailMode){case"hidden":f=d.tail;for(var v=null;f!==null;)f.alternate!==null&&(v=f),f=f.sibling;v===null?d.tail=null:v.sibling=null;break;case"collapsed":v=d.tail;for(var S=null;v!==null;)v.alternate!==null&&(S=v),v=v.sibling;S===null?f||d.tail===null?d.tail=null:d.tail.sibling=null:S.sibling=null}}function Jn(d){var f=d.alternate!==null&&d.alternate.child===d.child,v=0,S=0;if(f)for(var T=d.child;T!==null;)v|=T.lanes|T.childLanes,S|=T.subtreeFlags&14680064,S|=T.flags&14680064,T.return=d,T=T.sibling;else for(T=d.child;T!==null;)v|=T.lanes|T.childLanes,S|=T.subtreeFlags,S|=T.flags,T.return=d,T=T.sibling;return d.subtreeFlags|=S,d.childLanes=v,f}function JF(d,f,v){var S=f.pendingProps;switch(lv(f),f.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jn(f),null;case 1:return xr(f.type)&&af(),Jn(f),null;case 3:return v=f.stateNode,xl(),Yt(br),Yt(Qn),Sv(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),(d===null||d.child===null)&&(pf(f)?Zi(f):d===null||d.memoizedState.isDehydrated&&!(f.flags&256)||(f.flags|=1024,_i!==null&&(n1(_i),_i=null))),wc(d,f),Jn(f),null;case 5:xv(f),v=Xi(bl.current);var T=f.type;if(d!==null&&f.stateNode!=null)Af(d,f,T,S,v),d.ref!==f.ref&&(f.flags|=512,f.flags|=2097152);else{if(!S){if(f.stateNode===null)throw Error(s(166));return Jn(f),null}if(d=Xi(ai.current),pf(f)){if(!St)throw Error(s(175));d=mF(f.stateNode,f.type,f.memoizedProps,v,d,f,!cc),f.updateQueue=d,d!==null&&Zi(f)}else{var R=F(T,S,v,d,f);vc(R,f,!1,!1),f.stateNode=R,Ee(R,T,S,v,d)&&Zi(f)}f.ref!==null&&(f.flags|=512,f.flags|=2097152)}return Jn(f),null;case 6:if(d&&f.stateNode!=null)Rf(d,f,d.memoizedProps,S);else{if(typeof S!="string"&&f.stateNode===null)throw Error(s(166));if(d=Xi(bl.current),v=Xi(ai.current),pf(f)){if(!St)throw Error(s(176));if(d=f.stateNode,v=f.memoizedProps,(S=gF(d,v,f,!cc))&&(T=Fr,T!==null))switch(T.tag){case 3:CF(T.stateNode.containerInfo,d,v,(T.mode&1)!==0);break;case 5:EF(T.type,T.memoizedProps,T.stateNode,d,v,(T.mode&1)!==0)}S&&Zi(f)}else f.stateNode=Xe(S,d,v,f)}return Jn(f),null;case 13:if(Yt(on),S=f.memoizedState,d===null||d.memoizedState!==null&&d.memoizedState.dehydrated!==null){if(tn&&ri!==null&&f.mode&1&&!(f.flags&128))ZE(),gl(),f.flags|=98560,T=!1;else if(T=pf(f),S!==null&&S.dehydrated!==null){if(d===null){if(!T)throw Error(s(318));if(!St)throw Error(s(344));if(T=f.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(s(317));yF(T,f)}else gl(),!(f.flags&128)&&(f.memoizedState=null),f.flags|=4;Jn(f),T=!1}else _i!==null&&(n1(_i),_i=null),T=!0;if(!T)return f.flags&65536?f:null}return f.flags&128?(f.lanes=v,f):(v=S!==null,v!==(d!==null&&d.memoizedState!==null)&&v&&(f.child.flags|=8192,f.mode&1&&(d===null||on.current&1?Pn===0&&(Pn=3):i1())),f.updateQueue!==null&&(f.flags|=4),Jn(f),null);case 4:return xl(),wc(d,f),d===null&&be(f.stateNode.containerInfo),Jn(f),null;case 10:return pv(f.type._context),Jn(f),null;case 17:return xr(f.type)&&af(),Jn(f),null;case 19:if(Yt(on),T=f.memoizedState,T===null)return Jn(f),null;if(S=(f.flags&128)!==0,R=T.rendering,R===null)if(S)bc(T,!1);else{if(Pn!==0||d!==null&&d.flags&128)for(d=f.child;d!==null;){if(R=kf(d),R!==null){for(f.flags|=128,bc(T,!1),d=R.updateQueue,d!==null&&(f.updateQueue=d,f.flags|=4),f.subtreeFlags=0,d=v,v=f.child;v!==null;)S=v,T=d,S.flags&=14680066,R=S.alternate,R===null?(S.childLanes=0,S.lanes=T,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=R.childLanes,S.lanes=R.lanes,S.child=R.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=R.memoizedProps,S.memoizedState=R.memoizedState,S.updateQueue=R.updateQueue,S.type=R.type,T=R.dependencies,S.dependencies=T===null?null:{lanes:T.lanes,firstContext:T.firstContext}),v=v.sibling;return Wt(on,on.current&1|2),f.child}d=d.sibling}T.tail!==null&&On()>Zv&&(f.flags|=128,S=!0,bc(T,!1),f.lanes=4194304)}else{if(!S)if(d=kf(R),d!==null){if(f.flags|=128,S=!0,d=d.updateQueue,d!==null&&(f.updateQueue=d,f.flags|=4),bc(T,!0),T.tail===null&&T.tailMode==="hidden"&&!R.alternate&&!tn)return Jn(f),null}else 2*On()-T.renderingStartTime>Zv&&v!==1073741824&&(f.flags|=128,S=!0,bc(T,!1),f.lanes=4194304);T.isBackwards?(R.sibling=f.child,f.child=R):(d=T.last,d!==null?d.sibling=R:f.child=R,T.last=R)}return T.tail!==null?(f=T.tail,T.rendering=f,T.tail=f.sibling,T.renderingStartTime=On(),f.sibling=null,d=on.current,Wt(on,S?d&1|2:d&1),f):(Jn(f),null);case 22:case 23:return r1(),v=f.memoizedState!==null,d!==null&&d.memoizedState!==null!==v&&(f.flags|=8192),v&&f.mode&1?Br&1073741824&&(Jn(f),ct&&f.subtreeFlags&6&&(f.flags|=8192)):Jn(f),null;case 24:return null;case 25:return null}throw Error(s(156,f.tag))}function e8(d,f){switch(lv(f),f.tag){case 1:return xr(f.type)&&af(),d=f.flags,d&65536?(f.flags=d&-65537|128,f):null;case 3:return xl(),Yt(br),Yt(Qn),Sv(),d=f.flags,d&65536&&!(d&128)?(f.flags=d&-65537|128,f):null;case 5:return xv(f),null;case 13:if(Yt(on),d=f.memoizedState,d!==null&&d.dehydrated!==null){if(f.alternate===null)throw Error(s(340));gl()}return d=f.flags,d&65536?(f.flags=d&-65537|128,f):null;case 19:return Yt(on),null;case 4:return xl(),null;case 10:return pv(f.type._context),null;case 22:case 23:return r1(),null;case 24:return null;default:return null}}var Df=!1,er=!1,t8=typeof WeakSet=="function"?WeakSet:Set,Ve=null;function Sl(d,f){var v=d.ref;if(v!==null)if(typeof v=="function")try{v(null)}catch(S){nn(d,f,S)}else v.current=null}function Uv(d,f,v){try{v()}catch(S){nn(d,f,S)}}var QT=!1;function n8(d,f){for(ae(d.containerInfo),Ve=f;Ve!==null;)if(d=Ve,f=d.child,(d.subtreeFlags&1028)!==0&&f!==null)f.return=d,Ve=f;else for(;Ve!==null;){d=Ve;try{var v=d.alternate;if(d.flags&1024)switch(d.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var S=v.memoizedProps,T=v.memoizedState,R=d.stateNode,V=R.getSnapshotBeforeUpdate(d.elementType===d.type?S:Ii(d.type,S),T);R.__reactInternalSnapshotBeforeUpdate=V}break;case 3:ct&&Js(d.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(ie){nn(d,d.return,ie)}if(f=d.sibling,f!==null){f.return=d.return,Ve=f;break}Ve=d.return}return v=QT,QT=!1,v}function xc(d,f,v){var S=f.updateQueue;if(S=S!==null?S.lastEffect:null,S!==null){var T=S=S.next;do{if((T.tag&d)===d){var R=T.destroy;T.destroy=void 0,R!==void 0&&Uv(f,v,R)}T=T.next}while(T!==S)}}function Nf(d,f){if(f=f.updateQueue,f=f!==null?f.lastEffect:null,f!==null){var v=f=f.next;do{if((v.tag&d)===d){var S=v.create;v.destroy=S()}v=v.next}while(v!==f)}}function jv(d){var f=d.ref;if(f!==null){var v=d.stateNode;switch(d.tag){case 5:d=X(v);break;default:d=v}typeof f=="function"?f(d):f.current=d}}function ZT(d){var f=d.alternate;f!==null&&(d.alternate=null,ZT(f)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(f=d.stateNode,f!==null&&Q(f)),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}function JT(d){return d.tag===5||d.tag===3||d.tag===4}function e_(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||JT(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function $v(d,f,v){var S=d.tag;if(S===5||S===6)d=d.stateNode,f?Qe(v,d,f):I(v,d);else if(S!==4&&(d=d.child,d!==null))for($v(d,f,v),d=d.sibling;d!==null;)$v(d,f,v),d=d.sibling}function Vv(d,f,v){var S=d.tag;if(S===5||S===6)d=d.stateNode,f?me(v,d,f):E(v,d);else if(S!==4&&(d=d.child,d!==null))for(Vv(d,f,v),d=d.sibling;d!==null;)Vv(d,f,v),d=d.sibling}var Vn=null,Pi=!1;function Ji(d,f,v){for(v=v.child;v!==null;)Wv(d,f,v),v=v.sibling}function Wv(d,f,v){if(qi&&typeof qi.onCommitFiberUnmount=="function")try{qi.onCommitFiberUnmount(cf,v)}catch{}switch(v.tag){case 5:er||Sl(v,f);case 6:if(ct){var S=Vn,T=Pi;Vn=null,Ji(d,f,v),Vn=S,Pi=T,Vn!==null&&(Pi?ut(Vn,v.stateNode):xt(Vn,v.stateNode))}else Ji(d,f,v);break;case 18:ct&&Vn!==null&&(Pi?kF(Vn,v.stateNode):xF(Vn,v.stateNode));break;case 4:ct?(S=Vn,T=Pi,Vn=v.stateNode.containerInfo,Pi=!0,Ji(d,f,v),Vn=S,Pi=T):(yn&&(S=v.stateNode.containerInfo,T=LE(S),Ky(S,T)),Ji(d,f,v));break;case 0:case 11:case 14:case 15:if(!er&&(S=v.updateQueue,S!==null&&(S=S.lastEffect,S!==null))){T=S=S.next;do{var R=T,V=R.destroy;R=R.tag,V!==void 0&&(R&2||R&4)&&Uv(v,f,V),T=T.next}while(T!==S)}Ji(d,f,v);break;case 1:if(!er&&(Sl(v,f),S=v.stateNode,typeof S.componentWillUnmount=="function"))try{S.props=v.memoizedProps,S.state=v.memoizedState,S.componentWillUnmount()}catch(ie){nn(v,f,ie)}Ji(d,f,v);break;case 21:Ji(d,f,v);break;case 22:v.mode&1?(er=(S=er)||v.memoizedState!==null,Ji(d,f,v),er=S):Ji(d,f,v);break;default:Ji(d,f,v)}}function t_(d){var f=d.updateQueue;if(f!==null){d.updateQueue=null;var v=d.stateNode;v===null&&(v=d.stateNode=new t8),f.forEach(function(S){var T=d8.bind(null,d,S);v.has(S)||(v.add(S),S.then(T,T))})}}function Ai(d,f){var v=f.deletions;if(v!==null)for(var S=0;S<v.length;S++){var T=v[S];try{var R=d,V=f;if(ct){var ie=V;e:for(;ie!==null;){switch(ie.tag){case 5:Vn=ie.stateNode,Pi=!1;break e;case 3:Vn=ie.stateNode.containerInfo,Pi=!0;break e;case 4:Vn=ie.stateNode.containerInfo,Pi=!0;break e}ie=ie.return}if(Vn===null)throw Error(s(160));Wv(R,V,T),Vn=null,Pi=!1}else Wv(R,V,T);var ye=T.alternate;ye!==null&&(ye.return=null),T.return=null}catch(Ne){nn(T,f,Ne)}}if(f.subtreeFlags&12854)for(f=f.child;f!==null;)n_(f,d),f=f.sibling}function n_(d,f){var v=d.alternate,S=d.flags;switch(d.tag){case 0:case 11:case 14:case 15:if(Ai(f,d),ea(d),S&4){try{xc(3,d,d.return),Nf(3,d)}catch(Ue){nn(d,d.return,Ue)}try{xc(5,d,d.return)}catch(Ue){nn(d,d.return,Ue)}}break;case 1:Ai(f,d),ea(d),S&512&&v!==null&&Sl(v,v.return);break;case 5:if(Ai(f,d),ea(d),S&512&&v!==null&&Sl(v,v.return),ct){if(d.flags&32){var T=d.stateNode;try{nt(T)}catch(Ue){nn(d,d.return,Ue)}}if(S&4&&(T=d.stateNode,T!=null)){var R=d.memoizedProps;if(v=v!==null?v.memoizedProps:R,S=d.type,f=d.updateQueue,d.updateQueue=null,f!==null)try{fe(T,f,S,v,R,d)}catch(Ue){nn(d,d.return,Ue)}}}break;case 6:if(Ai(f,d),ea(d),S&4&&ct){if(d.stateNode===null)throw Error(s(162));T=d.stateNode,R=d.memoizedProps,v=v!==null?v.memoizedProps:R;try{$(T,v,R)}catch(Ue){nn(d,d.return,Ue)}}break;case 3:if(Ai(f,d),ea(d),S&4){if(ct&&St&&v!==null&&v.memoizedState.isDehydrated)try{wF(f.containerInfo)}catch(Ue){nn(d,d.return,Ue)}if(yn){T=f.containerInfo,R=f.pendingChildren;try{Ky(T,R)}catch(Ue){nn(d,d.return,Ue)}}}break;case 4:if(Ai(f,d),ea(d),S&4&&yn){R=d.stateNode,T=R.containerInfo,R=R.pendingChildren;try{Ky(T,R)}catch(Ue){nn(d,d.return,Ue)}}break;case 13:Ai(f,d),ea(d),T=d.child,T.flags&8192&&(R=T.memoizedState!==null,T.stateNode.isHidden=R,!R||T.alternate!==null&&T.alternate.memoizedState!==null||(Qv=On())),S&4&&t_(d);break;case 22:var V=v!==null&&v.memoizedState!==null;if(d.mode&1?(er=(v=er)||V,Ai(f,d),er=v):Ai(f,d),ea(d),S&8192){if(v=d.memoizedState!==null,(d.stateNode.isHidden=v)&&!V&&d.mode&1)for(Ve=d,S=d.child;S!==null;){for(f=Ve=S;Ve!==null;){V=Ve;var ie=V.child;switch(V.tag){case 0:case 11:case 14:case 15:xc(4,V,V.return);break;case 1:Sl(V,V.return);var ye=V.stateNode;if(typeof ye.componentWillUnmount=="function"){var Ne=V,He=V.return;try{var ot=Ne;ye.props=ot.memoizedProps,ye.state=ot.memoizedState,ye.componentWillUnmount()}catch(Ue){nn(Ne,He,Ue)}}break;case 5:Sl(V,V.return);break;case 22:if(V.memoizedState!==null){a_(f);continue}}ie!==null?(ie.return=V,Ve=ie):a_(f)}S=S.sibling}if(ct){e:if(S=null,ct)for(f=d;;){if(f.tag===5){if(S===null){S=f;try{T=f.stateNode,v?wt(T):qy(f.stateNode,f.memoizedProps)}catch(Ue){nn(d,d.return,Ue)}}}else if(f.tag===6){if(S===null)try{R=f.stateNode,v?Lr(R):nf(R,f.memoizedProps)}catch(Ue){nn(d,d.return,Ue)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===d)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===d)break e;for(;f.sibling===null;){if(f.return===null||f.return===d)break e;S===f&&(S=null),f=f.return}S===f&&(S=null),f.sibling.return=f.return,f=f.sibling}}}break;case 19:Ai(f,d),ea(d),S&4&&t_(d);break;case 21:break;default:Ai(f,d),ea(d)}}function ea(d){var f=d.flags;if(f&2){try{if(ct){e:{for(var v=d.return;v!==null;){if(JT(v)){var S=v;break e}v=v.return}throw Error(s(160))}switch(S.tag){case 5:var T=S.stateNode;S.flags&32&&(nt(T),S.flags&=-33);var R=e_(d);Vv(d,R,T);break;case 3:case 4:var V=S.stateNode.containerInfo,ie=e_(d);$v(d,ie,V);break;default:throw Error(s(161))}}}catch(ye){nn(d,d.return,ye)}d.flags&=-3}f&4096&&(d.flags&=-4097)}function r8(d,f,v){Ve=d,r_(d)}function r_(d,f,v){for(var S=(d.mode&1)!==0;Ve!==null;){var T=Ve,R=T.child;if(T.tag===22&&S){var V=T.memoizedState!==null||Df;if(!V){var ie=T.alternate,ye=ie!==null&&ie.memoizedState!==null||er;ie=Df;var Ne=er;if(Df=V,(er=ye)&&!Ne)for(Ve=T;Ve!==null;)V=Ve,ye=V.child,V.tag===22&&V.memoizedState!==null?s_(T):ye!==null?(ye.return=V,Ve=ye):s_(T);for(;R!==null;)Ve=R,r_(R),R=R.sibling;Ve=T,Df=ie,er=Ne}i_(d)}else T.subtreeFlags&8772&&R!==null?(R.return=T,Ve=R):i_(d)}}function i_(d){for(;Ve!==null;){var f=Ve;if(f.flags&8772){var v=f.alternate;try{if(f.flags&8772)switch(f.tag){case 0:case 11:case 15:er||Nf(5,f);break;case 1:var S=f.stateNode;if(f.flags&4&&!er)if(v===null)S.componentDidMount();else{var T=f.elementType===f.type?v.memoizedProps:Ii(f.type,v.memoizedProps);S.componentDidUpdate(T,v.memoizedState,S.__reactInternalSnapshotBeforeUpdate)}var R=f.updateQueue;R!==null&&rT(f,R,S);break;case 3:var V=f.updateQueue;if(V!==null){if(v=null,f.child!==null)switch(f.child.tag){case 5:v=X(f.child.stateNode);break;case 1:v=f.child.stateNode}rT(f,V,v)}break;case 5:var ie=f.stateNode;v===null&&f.flags&4&&J(ie,f.type,f.memoizedProps,f);break;case 6:break;case 4:break;case 12:break;case 13:if(St&&f.memoizedState===null){var ye=f.alternate;if(ye!==null){var Ne=ye.memoizedState;if(Ne!==null){var He=Ne.dehydrated;He!==null&&bF(He)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}er||f.flags&512&&jv(f)}catch(ot){nn(f,f.return,ot)}}if(f===d){Ve=null;break}if(v=f.sibling,v!==null){v.return=f.return,Ve=v;break}Ve=f.return}}function a_(d){for(;Ve!==null;){var f=Ve;if(f===d){Ve=null;break}var v=f.sibling;if(v!==null){v.return=f.return,Ve=v;break}Ve=f.return}}function s_(d){for(;Ve!==null;){var f=Ve;try{switch(f.tag){case 0:case 11:case 15:var v=f.return;try{Nf(4,f)}catch(ye){nn(f,v,ye)}break;case 1:var S=f.stateNode;if(typeof S.componentDidMount=="function"){var T=f.return;try{S.componentDidMount()}catch(ye){nn(f,T,ye)}}var R=f.return;try{jv(f)}catch(ye){nn(f,R,ye)}break;case 5:var V=f.return;try{jv(f)}catch(ye){nn(f,V,ye)}}}catch(ye){nn(f,f.return,ye)}if(f===d){Ve=null;break}var ie=f.sibling;if(ie!==null){ie.return=f.return,Ve=ie;break}Ve=f.return}}var Mf=0,Of=1,Lf=2,Ff=3,Bf=4;if(typeof Symbol=="function"&&Symbol.for){var kc=Symbol.for;Mf=kc("selector.component"),Of=kc("selector.has_pseudo_class"),Lf=kc("selector.role"),Ff=kc("selector.test_id"),Bf=kc("selector.text")}function Gv(d){var f=L(d);if(f!=null){if(typeof f.memoizedProps["data-testname"]!="string")throw Error(s(364));return f}if(d=Se(d),d===null)throw Error(s(362));return d.stateNode.current}function Hv(d,f){switch(f.$$typeof){case Mf:if(d.type===f.value)return!0;break;case Of:e:{f=f.value,d=[d,0];for(var v=0;v<d.length;){var S=d[v++],T=d[v++],R=f[T];if(S.tag!==5||!Be(S)){for(;R!=null&&Hv(S,R);)T++,R=f[T];if(T===f.length){f=!0;break e}else for(S=S.child;S!==null;)d.push(S,T),S=S.sibling}}f=!1}return f;case Lf:if(d.tag===5&&_e(d.stateNode,f.value))return!0;break;case Bf:if((d.tag===5||d.tag===6)&&(d=Pe(d),d!==null&&0<=d.indexOf(f.value)))return!0;break;case Ff:if(d.tag===5&&(d=d.memoizedProps["data-testname"],typeof d=="string"&&d.toLowerCase()===f.value.toLowerCase()))return!0;break;default:throw Error(s(365))}return!1}function qv(d){switch(d.$$typeof){case Mf:return"<"+(N(d.value)||"Unknown")+">";case Of:return":has("+(qv(d)||"")+")";case Lf:return'[role="'+d.value+'"]';case Bf:return'"'+d.value+'"';case Ff:return'[data-testname="'+d.value+'"]';default:throw Error(s(365))}}function o_(d,f){var v=[];d=[d,0];for(var S=0;S<d.length;){var T=d[S++],R=d[S++],V=f[R];if(T.tag!==5||!Be(T)){for(;V!=null&&Hv(T,V);)R++,V=f[R];if(R===f.length)v.push(T);else for(T=T.child;T!==null;)d.push(T,R),T=T.sibling}}return v}function Kv(d,f){if(!xe)throw Error(s(363));d=Gv(d),d=o_(d,f),f=[],d=Array.from(d);for(var v=0;v<d.length;){var S=d[v++];if(S.tag===5)Be(S)||f.push(S.stateNode);else for(S=S.child;S!==null;)d.push(S),S=S.sibling}return f}var i8=Math.ceil,zf=o.ReactCurrentDispatcher,Yv=o.ReactCurrentOwner,vn=o.ReactCurrentBatchConfig,pt=0,Fn=null,kn=null,Wn=0,Br=0,Cl=Qa(0),Pn=0,Sc=null,ao=0,Uf=0,Xv=0,Cc=null,Sr=null,Qv=0,Zv=1/0,Ta=null;function El(){Zv=On()+500}var jf=!1,Jv=null,ts=null,$f=!1,ns=null,Vf=0,Ec=0,e1=null,Wf=-1,Gf=0;function tr(){return pt&6?On():Wf!==-1?Wf:Wf=On()}function rs(d){return d.mode&1?pt&2&&Wn!==0?Wn&-Wn:UF.transition!==null?(Gf===0&&(Gf=WE()),Gf):(d=Tt,d!==0?d:ve()):1}function oi(d,f,v,S){if(50<Ec)throw Ec=0,e1=null,Error(s(185));uc(d,v,S),(!(pt&2)||d!==Fn)&&(d===Fn&&(!(pt&2)&&(Uf|=v),Pn===4&&is(d,Wn)),Cr(d,S),v===1&&pt===0&&!(f.mode&1)&&(El(),df&&Ki()))}function Cr(d,f){var v=d.callbackNode;RF(d,f);var S=uf(d,d===Fn?Wn:0);if(S===0)v!==null&&HE(v),d.callbackNode=null,d.callbackPriority=0;else if(f=S&-S,d.callbackPriority!==f){if(v!=null&&HE(v),f===1)d.tag===0?zF(u_.bind(null,d)):qE(u_.bind(null,d)),q?se(function(){!(pt&6)&&Ki()}):rv(iv,Ki),v=null;else{switch(GE(S)){case 1:v=iv;break;case 4:v=OF;break;case 16:v=av;break;case 536870912:v=LF;break;default:v=av}v=v_(v,l_.bind(null,d))}d.callbackPriority=f,d.callbackNode=v}}function l_(d,f){if(Wf=-1,Gf=0,pt&6)throw Error(s(327));var v=d.callbackNode;if(lo()&&d.callbackNode!==v)return null;var S=uf(d,d===Fn?Wn:0);if(S===0)return null;if(S&30||S&d.expiredLanes||f)f=Hf(d,S);else{f=S;var T=pt;pt|=2;var R=h_();(Fn!==d||Wn!==f)&&(Ta=null,El(),so(d,f));do try{o8();break}catch(ie){d_(d,ie)}while(1);fv(),zf.current=R,pt=T,kn!==null?f=0:(Fn=null,Wn=0,f=Pn)}if(f!==0){if(f===2&&(T=ev(d),T!==0&&(S=T,f=t1(d,T))),f===1)throw v=Sc,so(d,0),is(d,S),Cr(d,On()),v;if(f===6)is(d,S);else{if(T=d.current.alternate,!(S&30)&&!a8(T)&&(f=Hf(d,S),f===2&&(R=ev(d),R!==0&&(S=R,f=t1(d,R))),f===1))throw v=Sc,so(d,0),is(d,S),Cr(d,On()),v;switch(d.finishedWork=T,d.finishedLanes=S,f){case 0:case 1:throw Error(s(345));case 2:oo(d,Sr,Ta);break;case 3:if(is(d,S),(S&130023424)===S&&(f=Qv+500-On(),10<f)){if(uf(d,0)!==0)break;if(T=d.suspendedLanes,(T&S)!==S){tr(),d.pingedLanes|=d.suspendedLanes&T;break}d.timeoutHandle=ft(oo.bind(null,d,Sr,Ta),f);break}oo(d,Sr,Ta);break;case 4:if(is(d,S),(S&4194240)===S)break;for(f=d.eventTimes,T=-1;0<S;){var V=31-Ei(S);R=1<<V,V=f[V],V>T&&(T=V),S&=~R}if(S=T,S=On()-S,S=(120>S?120:480>S?480:1080>S?1080:1920>S?1920:3e3>S?3e3:4320>S?4320:1960*i8(S/1960))-S,10<S){d.timeoutHandle=ft(oo.bind(null,d,Sr,Ta),S);break}oo(d,Sr,Ta);break;case 5:oo(d,Sr,Ta);break;default:throw Error(s(329))}}}return Cr(d,On()),d.callbackNode===v?l_.bind(null,d):null}function t1(d,f){var v=Cc;return d.current.memoizedState.isDehydrated&&(so(d,f).flags|=256),d=Hf(d,f),d!==2&&(f=Sr,Sr=v,f!==null&&n1(f)),d}function n1(d){Sr===null?Sr=d:Sr.push.apply(Sr,d)}function a8(d){for(var f=d;;){if(f.flags&16384){var v=f.updateQueue;if(v!==null&&(v=v.stores,v!==null))for(var S=0;S<v.length;S++){var T=v[S],R=T.getSnapshot;T=T.value;try{if(!Ti(R(),T))return!1}catch{return!1}}}if(v=f.child,f.subtreeFlags&16384&&v!==null)v.return=f,f=v;else{if(f===d)break;for(;f.sibling===null;){if(f.return===null||f.return===d)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function is(d,f){for(f&=~Xv,f&=~Uf,d.suspendedLanes|=f,d.pingedLanes&=~f,d=d.expirationTimes;0<f;){var v=31-Ei(f),S=1<<v;d[v]=-1,f&=~S}}function u_(d){if(pt&6)throw Error(s(327));lo();var f=uf(d,0);if(!(f&1))return Cr(d,On()),null;var v=Hf(d,f);if(d.tag!==0&&v===2){var S=ev(d);S!==0&&(f=S,v=t1(d,S))}if(v===1)throw v=Sc,so(d,0),is(d,f),Cr(d,On()),v;if(v===6)throw Error(s(345));return d.finishedWork=d.current.alternate,d.finishedLanes=f,oo(d,Sr,Ta),Cr(d,On()),null}function c_(d){ns!==null&&ns.tag===0&&!(pt&6)&&lo();var f=pt;pt|=1;var v=vn.transition,S=Tt;try{if(vn.transition=null,Tt=1,d)return d()}finally{Tt=S,vn.transition=v,pt=f,!(pt&6)&&Ki()}}function r1(){Br=Cl.current,Yt(Cl)}function so(d,f){d.finishedWork=null,d.finishedLanes=0;var v=d.timeoutHandle;if(v!==at&&(d.timeoutHandle=at,Ze(v)),kn!==null)for(v=kn.return;v!==null;){var S=v;switch(lv(S),S.tag){case 1:S=S.type.childContextTypes,S!=null&&af();break;case 3:xl(),Yt(br),Yt(Qn),Sv();break;case 5:xv(S);break;case 4:xl();break;case 13:Yt(on);break;case 19:Yt(on);break;case 10:pv(S.type._context);break;case 22:case 23:r1()}v=v.return}if(Fn=d,kn=d=as(d.current,null),Wn=Br=f,Pn=0,Sc=null,Xv=Uf=ao=0,Sr=Cc=null,ro!==null){for(f=0;f<ro.length;f++)if(v=ro[f],S=v.interleaved,S!==null){v.interleaved=null;var T=S.next,R=v.pending;if(R!==null){var V=R.next;R.next=T,S.next=V}v.pending=S}ro=null}return d}function d_(d,f){do{var v=kn;try{if(fv(),Sf.current=_f,Cf){for(var S=ln.memoizedState;S!==null;){var T=S.queue;T!==null&&(T.pending=null),S=S.next}Cf=!1}if(io=0,Ln=In=ln=null,pc=!1,mc=0,Yv.current=null,v===null||v.return===null){Pn=1,Sc=f,kn=null;break}e:{var R=d,V=v.return,ie=v,ye=f;if(f=Wn,ie.flags|=32768,ye!==null&&typeof ye=="object"&&typeof ye.then=="function"){var Ne=ye,He=ie,ot=He.tag;if(!(He.mode&1)&&(ot===0||ot===11||ot===15)){var Ue=He.alternate;Ue?(He.updateQueue=Ue.updateQueue,He.memoizedState=Ue.memoizedState,He.lanes=Ue.lanes):(He.updateQueue=null,He.memoizedState=null)}var Xt=LT(V);if(Xt!==null){Xt.flags&=-257,FT(Xt,V,ie,R,f),Xt.mode&1&&OT(R,Ne,f),f=Xt,ye=Ne;var $t=f.updateQueue;if($t===null){var Er=new Set;Er.add(ye),f.updateQueue=Er}else $t.add(ye);break e}else{if(!(f&1)){OT(R,Ne,f),i1();break e}ye=Error(s(426))}}else if(tn&&ie.mode&1){var _a=LT(V);if(_a!==null){!(_a.flags&65536)&&(_a.flags|=256),FT(_a,V,ie,R,f),dv(kl(ye,ie));break e}}R=ye=kl(ye,ie),Pn!==4&&(Pn=2),Cc===null?Cc=[R]:Cc.push(R),R=V;do{switch(R.tag){case 3:R.flags|=65536,f&=-f,R.lanes|=f;var ge=NT(R,ye,f);nT(R,ge);break e;case 1:ie=ye;var le=R.type,we=R.stateNode;if(!(R.flags&128)&&(typeof le.getDerivedStateFromError=="function"||we!==null&&typeof we.componentDidCatch=="function"&&(ts===null||!ts.has(we)))){R.flags|=65536,f&=-f,R.lanes|=f;var je=MT(R,ie,f);nT(R,je);break e}}R=R.return}while(R!==null)}p_(v)}catch(Je){f=Je,kn===v&&v!==null&&(kn=v=v.return);continue}break}while(1)}function h_(){var d=zf.current;return zf.current=_f,d===null?_f:d}function i1(){(Pn===0||Pn===3||Pn===2)&&(Pn=4),Fn===null||!(ao&268435455)&&!(Uf&268435455)||is(Fn,Wn)}function Hf(d,f){var v=pt;pt|=2;var S=h_();(Fn!==d||Wn!==f)&&(Ta=null,so(d,f));do try{s8();break}catch(T){d_(d,T)}while(1);if(fv(),pt=v,zf.current=S,kn!==null)throw Error(s(261));return Fn=null,Wn=0,Pn}function s8(){for(;kn!==null;)f_(kn)}function o8(){for(;kn!==null&&!NF();)f_(kn)}function f_(d){var f=y_(d.alternate,d,Br);d.memoizedProps=d.pendingProps,f===null?p_(d):kn=f,Yv.current=null}function p_(d){var f=d;do{var v=f.alternate;if(d=f.return,f.flags&32768){if(v=e8(v,f),v!==null){v.flags&=32767,kn=v;return}if(d!==null)d.flags|=32768,d.subtreeFlags=0,d.deletions=null;else{Pn=6,kn=null;return}}else if(v=JF(v,f,Br),v!==null){kn=v;return}if(f=f.sibling,f!==null){kn=f;return}kn=f=d}while(f!==null);Pn===0&&(Pn=5)}function oo(d,f,v){var S=Tt,T=vn.transition;try{vn.transition=null,Tt=1,l8(d,f,v,S)}finally{vn.transition=T,Tt=S}return null}function l8(d,f,v,S){do lo();while(ns!==null);if(pt&6)throw Error(s(327));v=d.finishedWork;var T=d.finishedLanes;if(v===null)return null;if(d.finishedWork=null,d.finishedLanes=0,v===d.current)throw Error(s(177));d.callbackNode=null,d.callbackPriority=0;var R=v.lanes|v.childLanes;if(DF(d,R),d===Fn&&(kn=Fn=null,Wn=0),!(v.subtreeFlags&2064)&&!(v.flags&2064)||$f||($f=!0,v_(av,function(){return lo(),null})),R=(v.flags&15990)!==0,v.subtreeFlags&15990||R){R=vn.transition,vn.transition=null;var V=Tt;Tt=1;var ie=pt;pt|=4,Yv.current=null,n8(d,v),n_(v,d),pe(d.containerInfo),d.current=v,r8(v),MF(),pt=ie,Tt=V,vn.transition=R}else d.current=v;if($f&&($f=!1,ns=d,Vf=T),R=d.pendingLanes,R===0&&(ts=null),FF(v.stateNode),Cr(d,On()),f!==null)for(S=d.onRecoverableError,v=0;v<f.length;v++)T=f[v],S(T.value,{componentStack:T.stack,digest:T.digest});if(jf)throw jf=!1,d=Jv,Jv=null,d;return Vf&1&&d.tag!==0&&lo(),R=d.pendingLanes,R&1?d===e1?Ec++:(Ec=0,e1=d):Ec=0,Ki(),null}function lo(){if(ns!==null){var d=GE(Vf),f=vn.transition,v=Tt;try{if(vn.transition=null,Tt=16>d?16:d,ns===null)var S=!1;else{if(d=ns,ns=null,Vf=0,pt&6)throw Error(s(331));var T=pt;for(pt|=4,Ve=d.current;Ve!==null;){var R=Ve,V=R.child;if(Ve.flags&16){var ie=R.deletions;if(ie!==null){for(var ye=0;ye<ie.length;ye++){var Ne=ie[ye];for(Ve=Ne;Ve!==null;){var He=Ve;switch(He.tag){case 0:case 11:case 15:xc(8,He,R)}var ot=He.child;if(ot!==null)ot.return=He,Ve=ot;else for(;Ve!==null;){He=Ve;var Ue=He.sibling,Xt=He.return;if(ZT(He),He===Ne){Ve=null;break}if(Ue!==null){Ue.return=Xt,Ve=Ue;break}Ve=Xt}}}var $t=R.alternate;if($t!==null){var Er=$t.child;if(Er!==null){$t.child=null;do{var _a=Er.sibling;Er.sibling=null,Er=_a}while(Er!==null)}}Ve=R}}if(R.subtreeFlags&2064&&V!==null)V.return=R,Ve=V;else e:for(;Ve!==null;){if(R=Ve,R.flags&2048)switch(R.tag){case 0:case 11:case 15:xc(9,R,R.return)}var ge=R.sibling;if(ge!==null){ge.return=R.return,Ve=ge;break e}Ve=R.return}}var le=d.current;for(Ve=le;Ve!==null;){V=Ve;var we=V.child;if(V.subtreeFlags&2064&&we!==null)we.return=V,Ve=we;else e:for(V=le;Ve!==null;){if(ie=Ve,ie.flags&2048)try{switch(ie.tag){case 0:case 11:case 15:Nf(9,ie)}}catch(Je){nn(ie,ie.return,Je)}if(ie===V){Ve=null;break e}var je=ie.sibling;if(je!==null){je.return=ie.return,Ve=je;break e}Ve=ie.return}}if(pt=T,Ki(),qi&&typeof qi.onPostCommitFiberRoot=="function")try{qi.onPostCommitFiberRoot(cf,d)}catch{}S=!0}return S}finally{Tt=v,vn.transition=f}}return!1}function m_(d,f,v){f=kl(v,f),f=NT(d,f,1),d=es(d,f,1),f=tr(),d!==null&&(uc(d,1,f),Cr(d,f))}function nn(d,f,v){if(d.tag===3)m_(d,d,v);else for(;f!==null;){if(f.tag===3){m_(f,d,v);break}else if(f.tag===1){var S=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof S.componentDidCatch=="function"&&(ts===null||!ts.has(S))){d=kl(v,d),d=MT(f,d,1),f=es(f,d,1),d=tr(),f!==null&&(uc(f,1,d),Cr(f,d));break}}f=f.return}}function u8(d,f,v){var S=d.pingCache;S!==null&&S.delete(f),f=tr(),d.pingedLanes|=d.suspendedLanes&v,Fn===d&&(Wn&v)===v&&(Pn===4||Pn===3&&(Wn&130023424)===Wn&&500>On()-Qv?so(d,0):Xv|=v),Cr(d,f)}function g_(d,f){f===0&&(d.mode&1?(f=lf,lf<<=1,!(lf&130023424)&&(lf=4194304)):f=1);var v=tr();d=Yi(d,f),d!==null&&(uc(d,f,v),Cr(d,v))}function c8(d){var f=d.memoizedState,v=0;f!==null&&(v=f.retryLane),g_(d,v)}function d8(d,f){var v=0;switch(d.tag){case 13:var S=d.stateNode,T=d.memoizedState;T!==null&&(v=T.retryLane);break;case 19:S=d.stateNode;break;default:throw Error(s(314))}S!==null&&S.delete(f),g_(d,v)}var y_;y_=function(d,f,v){if(d!==null)if(d.memoizedProps!==f.pendingProps||br.current)kr=!0;else{if(!(d.lanes&v)&&!(f.flags&128))return kr=!1,ZF(d,f,v);kr=!!(d.flags&131072)}else kr=!1,tn&&f.flags&1048576&&KE(f,ff,f.index);switch(f.lanes=0,f.tag){case 2:var S=f.type;Pf(d,f),d=f.pendingProps;var T=fl(f,Qn.current);vl(f,v),T=Tv(null,f,S,d,T,v);var R=_v();return f.flags|=1,typeof T=="object"&&T!==null&&typeof T.render=="function"&&T.$$typeof===void 0?(f.tag=1,f.memoizedState=null,f.updateQueue=null,xr(S)?(R=!0,sf(f)):R=!1,f.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,yv(f),T.updater=bf,f.stateNode=T,T._reactInternals=f,wv(f,S,d,v),f=Ov(null,f,S,!0,R,v)):(f.tag=0,tn&&R&&ov(f),hr(null,f,T,v),f=f.child),f;case 16:S=f.elementType;e:{switch(Pf(d,f),d=f.pendingProps,T=S._init,S=T(S._payload),f.type=S,T=f.tag=f8(S),d=Ii(S,d),T){case 0:f=Mv(null,f,S,d,v);break e;case 1:f=VT(null,f,S,d,v);break e;case 11:f=BT(null,f,S,d,v);break e;case 14:f=zT(null,f,S,Ii(S.type,d),v);break e}throw Error(s(306,S,""))}return f;case 0:return S=f.type,T=f.pendingProps,T=f.elementType===S?T:Ii(S,T),Mv(d,f,S,T,v);case 1:return S=f.type,T=f.pendingProps,T=f.elementType===S?T:Ii(S,T),VT(d,f,S,T,v);case 3:e:{if(WT(f),d===null)throw Error(s(387));S=f.pendingProps,R=f.memoizedState,T=R.element,tT(d,f),wf(f,S,null,v);var V=f.memoizedState;if(S=V.element,St&&R.isDehydrated)if(R={element:S,isDehydrated:!1,cache:V.cache,pendingSuspenseBoundaries:V.pendingSuspenseBoundaries,transitions:V.transitions},f.updateQueue.baseState=R,f.memoizedState=R,f.flags&256){T=kl(Error(s(423)),f),f=GT(d,f,S,v,T);break e}else if(S!==T){T=kl(Error(s(424)),f),f=GT(d,f,S,v,T);break e}else for(St&&(ri=fF(f.stateNode.containerInfo),Fr=f,tn=!0,_i=null,cc=!1),v=cT(f,null,S,v),f.child=v;v;)v.flags=v.flags&-3|4096,v=v.sibling;else{if(gl(),S===T){f=Ea(d,f,v);break e}hr(d,f,S,v)}f=f.child}return f;case 5:return dT(f),d===null&&cv(f),S=f.type,T=f.pendingProps,R=d!==null?d.memoizedProps:null,V=T.children,Te(S,T)?V=null:R!==null&&Te(S,R)&&(f.flags|=32),$T(d,f),hr(d,f,V,v),f.child;case 6:return d===null&&cv(f),null;case 13:return HT(d,f,v);case 4:return bv(f,f.stateNode.containerInfo),S=f.pendingProps,d===null?f.child=wl(f,null,S,v):hr(d,f,S,v),f.child;case 11:return S=f.type,T=f.pendingProps,T=f.elementType===S?T:Ii(S,T),BT(d,f,S,T,v);case 7:return hr(d,f,f.pendingProps,v),f.child;case 8:return hr(d,f,f.pendingProps.children,v),f.child;case 12:return hr(d,f,f.pendingProps.children,v),f.child;case 10:e:{if(S=f.type._context,T=f.pendingProps,R=f.memoizedProps,V=T.value,JE(f,S,V),R!==null)if(Ti(R.value,V)){if(R.children===T.children&&!br.current){f=Ea(d,f,v);break e}}else for(R=f.child,R!==null&&(R.return=f);R!==null;){var ie=R.dependencies;if(ie!==null){V=R.child;for(var ye=ie.firstContext;ye!==null;){if(ye.context===S){if(R.tag===1){ye=Ca(-1,v&-v),ye.tag=2;var Ne=R.updateQueue;if(Ne!==null){Ne=Ne.shared;var He=Ne.pending;He===null?ye.next=ye:(ye.next=He.next,He.next=ye),Ne.pending=ye}}R.lanes|=v,ye=R.alternate,ye!==null&&(ye.lanes|=v),mv(R.return,v,f),ie.lanes|=v;break}ye=ye.next}}else if(R.tag===10)V=R.type===f.type?null:R.child;else if(R.tag===18){if(V=R.return,V===null)throw Error(s(341));V.lanes|=v,ie=V.alternate,ie!==null&&(ie.lanes|=v),mv(V,v,f),V=R.sibling}else V=R.child;if(V!==null)V.return=R;else for(V=R;V!==null;){if(V===f){V=null;break}if(R=V.sibling,R!==null){R.return=V.return,V=R;break}V=V.return}R=V}hr(d,f,T.children,v),f=f.child}return f;case 9:return T=f.type,S=f.pendingProps.children,vl(f,v),T=ii(T),S=S(T),f.flags|=1,hr(d,f,S,v),f.child;case 14:return S=f.type,T=Ii(S,f.pendingProps),T=Ii(S.type,T),zT(d,f,S,T,v);case 15:return UT(d,f,f.type,f.pendingProps,v);case 17:return S=f.type,T=f.pendingProps,T=f.elementType===S?T:Ii(S,T),Pf(d,f),f.tag=1,xr(S)?(d=!0,sf(f)):d=!1,vl(f,v),sT(f,S,T),wv(f,S,T,v),Ov(null,f,S,!0,d,v);case 19:return KT(d,f,v);case 22:return jT(d,f,v)}throw Error(s(156,f.tag))};function v_(d,f){return rv(d,f)}function h8(d,f,v,S){this.tag=d,this.key=v,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=S,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function li(d,f,v,S){return new h8(d,f,v,S)}function a1(d){return d=d.prototype,!(!d||!d.isReactComponent)}function f8(d){if(typeof d=="function")return a1(d)?1:0;if(d!=null){if(d=d.$$typeof,d===y)return 11;if(d===x)return 14}return 2}function as(d,f){var v=d.alternate;return v===null?(v=li(d.tag,f,d.key,d.mode),v.elementType=d.elementType,v.type=d.type,v.stateNode=d.stateNode,v.alternate=d,d.alternate=v):(v.pendingProps=f,v.type=d.type,v.flags=0,v.subtreeFlags=0,v.deletions=null),v.flags=d.flags&14680064,v.childLanes=d.childLanes,v.lanes=d.lanes,v.child=d.child,v.memoizedProps=d.memoizedProps,v.memoizedState=d.memoizedState,v.updateQueue=d.updateQueue,f=d.dependencies,v.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},v.sibling=d.sibling,v.index=d.index,v.ref=d.ref,v}function qf(d,f,v,S,T,R){var V=2;if(S=d,typeof d=="function")a1(d)&&(V=1);else if(typeof d=="string")V=5;else e:switch(d){case c:return uo(v.children,T,R,f);case h:V=8,T|=8;break;case p:return d=li(12,v,f,T|2),d.elementType=p,d.lanes=R,d;case b:return d=li(13,v,f,T),d.elementType=b,d.lanes=R,d;case w:return d=li(19,v,f,T),d.elementType=w,d.lanes=R,d;case _:return Kf(v,T,R,f);default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case m:V=10;break e;case g:V=9;break e;case y:V=11;break e;case x:V=14;break e;case k:V=16,S=null;break e}throw Error(s(130,d==null?d:typeof d,""))}return f=li(V,v,f,T),f.elementType=d,f.type=S,f.lanes=R,f}function uo(d,f,v,S){return d=li(7,d,S,f),d.lanes=v,d}function Kf(d,f,v,S){return d=li(22,d,S,f),d.elementType=_,d.lanes=v,d.stateNode={isHidden:!1},d}function s1(d,f,v){return d=li(6,d,null,f),d.lanes=v,d}function o1(d,f,v){return f=li(4,d.children!==null?d.children:[],d.key,f),f.lanes=v,f.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},f}function p8(d,f,v,S,T){this.tag=f,this.containerInfo=d,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=at,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tv(0),this.expirationTimes=tv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tv(0),this.identifierPrefix=S,this.onRecoverableError=T,St&&(this.mutableSourceEagerHydrationData=null)}function w_(d,f,v,S,T,R,V,ie,ye){return d=new p8(d,f,v,ie,ye),f===1?(f=1,R===!0&&(f|=8)):f=0,R=li(3,null,null,f),d.current=R,R.stateNode=d,R.memoizedState={element:S,isDehydrated:v,cache:null,transitions:null,pendingSuspenseBoundaries:null},yv(R),d}function b_(d){if(!d)return Za;d=d._reactInternals;e:{if(j(d)!==d||d.tag!==1)throw Error(s(170));var f=d;do{switch(f.tag){case 3:f=f.stateNode.context;break e;case 1:if(xr(f.type)){f=f.stateNode.__reactInternalMemoizedMergedChildContext;break e}}f=f.return}while(f!==null);throw Error(s(171))}if(d.tag===1){var v=d.type;if(xr(v))return $E(d,v,f)}return f}function x_(d){var f=d._reactInternals;if(f===void 0)throw typeof d.render=="function"?Error(s(188)):(d=Object.keys(d).join(","),Error(s(268,d)));return d=z(f),d===null?null:d.stateNode}function k_(d,f){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var v=d.retryLane;d.retryLane=v!==0&&v<f?v:f}}function Yf(d,f){k_(d,f),(d=d.alternate)&&k_(d,f)}function m8(d){return d=z(d),d===null?null:d.stateNode}function g8(){return null}return n.attemptContinuousHydration=function(d){if(d.tag===13){var f=Yi(d,134217728);if(f!==null){var v=tr();oi(f,d,134217728,v)}Yf(d,134217728)}},n.attemptDiscreteHydration=function(d){if(d.tag===13){var f=Yi(d,1);if(f!==null){var v=tr();oi(f,d,1,v)}Yf(d,1)}},n.attemptHydrationAtCurrentPriority=function(d){if(d.tag===13){var f=rs(d),v=Yi(d,f);if(v!==null){var S=tr();oi(v,d,f,S)}Yf(d,f)}},n.attemptSynchronousHydration=function(d){switch(d.tag){case 3:var f=d.stateNode;if(f.current.memoizedState.isDehydrated){var v=lc(f.pendingLanes);v!==0&&(nv(f,v|1),Cr(f,On()),!(pt&6)&&(El(),Ki()))}break;case 13:c_(function(){var S=Yi(d,1);if(S!==null){var T=tr();oi(S,d,1,T)}}),Yf(d,1)}},n.batchedUpdates=function(d,f){var v=pt;pt|=1;try{return d(f)}finally{pt=v,pt===0&&(El(),df&&Ki())}},n.createComponentSelector=function(d){return{$$typeof:Mf,value:d}},n.createContainer=function(d,f,v,S,T,R,V){return w_(d,f,!1,null,v,S,T,R,V)},n.createHasPseudoClassSelector=function(d){return{$$typeof:Of,value:d}},n.createHydrationContainer=function(d,f,v,S,T,R,V,ie,ye){return d=w_(v,S,!0,d,T,R,V,ie,ye),d.context=b_(null),v=d.current,S=tr(),T=rs(v),R=Ca(S,T),R.callback=f??null,es(v,R,T),d.current.lanes=T,uc(d,T,S),Cr(d,S),d},n.createPortal=function(d,f,v){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:S==null?null:""+S,children:d,containerInfo:f,implementation:v}},n.createRoleSelector=function(d){return{$$typeof:Lf,value:d}},n.createTestNameSelector=function(d){return{$$typeof:Ff,value:d}},n.createTextSelector=function(d){return{$$typeof:Bf,value:d}},n.deferredUpdates=function(d){var f=Tt,v=vn.transition;try{return vn.transition=null,Tt=16,d()}finally{Tt=f,vn.transition=v}},n.discreteUpdates=function(d,f,v,S,T){var R=Tt,V=vn.transition;try{return vn.transition=null,Tt=1,d(f,v,S,T)}finally{Tt=R,vn.transition=V,pt===0&&El()}},n.findAllNodes=Kv,n.findBoundingRects=function(d,f){if(!xe)throw Error(s(363));f=Kv(d,f),d=[];for(var v=0;v<f.length;v++)d.push(he(f[v]));for(f=d.length-1;0<f;f--){v=d[f];for(var S=v.x,T=S+v.width,R=v.y,V=R+v.height,ie=f-1;0<=ie;ie--)if(f!==ie){var ye=d[ie],Ne=ye.x,He=Ne+ye.width,ot=ye.y,Ue=ot+ye.height;if(S>=Ne&&R>=ot&&T<=He&&V<=Ue){d.splice(f,1);break}else if(S!==Ne||v.width!==ye.width||Ue<R||ot>V){if(!(R!==ot||v.height!==ye.height||He<S||Ne>T)){Ne>S&&(ye.width+=Ne-S,ye.x=S),He<T&&(ye.width=T-Ne),d.splice(f,1);break}}else{ot>R&&(ye.height+=ot-R,ye.y=R),Ue<V&&(ye.height=V-ot),d.splice(f,1);break}}}return d},n.findHostInstance=x_,n.findHostInstanceWithNoPortals=function(d){return d=K(d),d=d!==null?M(d):null,d===null?null:d.stateNode},n.findHostInstanceWithWarning=function(d){return x_(d)},n.flushControlled=function(d){var f=pt;pt|=1;var v=vn.transition,S=Tt;try{vn.transition=null,Tt=1,d()}finally{Tt=S,vn.transition=v,pt=f,pt===0&&(El(),Ki())}},n.flushPassiveEffects=lo,n.flushSync=c_,n.focusWithin=function(d,f){if(!xe)throw Error(s(363));for(d=Gv(d),f=o_(d,f),f=Array.from(f),d=0;d<f.length;){var v=f[d++];if(!Be(v)){if(v.tag===5&&Ke(v.stateNode))return!0;for(v=v.child;v!==null;)f.push(v),v=v.sibling}}return!1},n.getCurrentUpdatePriority=function(){return Tt},n.getFindAllNodesFailureDescription=function(d,f){if(!xe)throw Error(s(363));var v=0,S=[];d=[Gv(d),0];for(var T=0;T<d.length;){var R=d[T++],V=d[T++],ie=f[V];if((R.tag!==5||!Be(R))&&(Hv(R,ie)&&(S.push(qv(ie)),V++,V>v&&(v=V)),V<f.length))for(R=R.child;R!==null;)d.push(R,V),R=R.sibling}if(v<f.length){for(d=[];v<f.length;v++)d.push(qv(f[v]));return`findAllNodes was able to match part of the selector:
  `+(S.join(" > ")+`

No matching component was found for:
  `)+d.join(" > ")}return null},n.getPublicRootInstance=function(d){if(d=d.current,!d.child)return null;switch(d.child.tag){case 5:return X(d.child.stateNode);default:return d.child.stateNode}},n.injectIntoDevTools=function(d){if(d={bundleType:d.bundleType,version:d.version,rendererPackageName:d.rendererPackageName,rendererConfig:d.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:o.ReactCurrentDispatcher,findHostInstanceByFiber:m8,findFiberByHostInstance:d.findFiberByHostInstance||g8,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")d=!1;else{var f=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(f.isDisabled||!f.supportsFiber)d=!0;else{try{cf=f.inject(d),qi=f}catch{}d=!!f.checkDCE}}return d},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(d,f,v,S){if(!xe)throw Error(s(363));d=Kv(d,f);var T=D(d,v,S).disconnect;return{disconnect:function(){T()}}},n.registerMutableSourceForHydration=function(d,f){var v=f._getVersion;v=v(f._source),d.mutableSourceEagerHydrationData==null?d.mutableSourceEagerHydrationData=[f,v]:d.mutableSourceEagerHydrationData.push(f,v)},n.runWithPriority=function(d,f){var v=Tt;try{return Tt=d,f()}finally{Tt=v}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(d,f,v,S){var T=f.current,R=tr(),V=rs(T);return v=b_(v),f.context===null?f.context=v:f.pendingContext=v,f=Ca(R,V),f.payload={element:d},S=S===void 0?null:S,S!==null&&(f.callback=S),d=es(T,f,V),d!==null&&(oi(d,T,V,R),vf(d,T,V)),V},n};qN.exports=AV;var RV=qN.exports;const DV=Gi(RV);var KN={exports:{}},ol={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */ol.ConcurrentRoot=1;ol.ContinuousEventPriority=4;ol.DefaultEventPriority=16;ol.DiscreteEventPriority=1;ol.IdleEventPriority=536870912;ol.LegacyRoot=0;KN.exports=ol;var YN=KN.exports;const MI={children:!0,ref:!0,key:!0,style:!0,forwardedRef:!0,unstable_applyCache:!0,unstable_applyDrawHitFromCache:!0};let OI=!1,LI=!1;const pC=".react-konva-event",NV=`ReactKonva: You have a Konva node with draggable = true and position defined but no onDragMove or onDragEnd events are handled.
Position of a node will be changed during drag&drop, so you should update state of the react app as well.
Consider to add onDragMove or onDragEnd events.
For more info see: https://github.com/konvajs/react-konva/issues/256
`,MV=`ReactKonva: You are using "zIndex" attribute for a Konva node.
react-konva may get confused with ordering. Just define correct order of elements in your render function of a component.
For more info see: https://github.com/konvajs/react-konva/issues/194
`,OV={};function fy(e,t,n=OV){if(!OI&&"zIndex"in t&&(console.warn(MV),OI=!0),!LI&&t.draggable){var r=t.x!==void 0||t.y!==void 0,i=t.onDragEnd||t.onDragMove;r&&!i&&(console.warn(NV),LI=!0)}for(var a in n)if(!MI[a]){var s=a.slice(0,2)==="on",o=n[a]!==t[a];if(s&&o){var l=a.substr(2).toLowerCase();l.substr(0,7)==="content"&&(l="content"+l.substr(7,1).toUpperCase()+l.substr(8)),e.off(l,n[a])}var u=!t.hasOwnProperty(a);u&&e.setAttr(a,void 0)}var c=t._useStrictMode,h={},p=!1;const m={};for(var a in t)if(!MI[a]){var s=a.slice(0,2)==="on",g=n[a]!==t[a];if(s&&g){var l=a.substr(2).toLowerCase();l.substr(0,7)==="content"&&(l="content"+l.substr(7,1).toUpperCase()+l.substr(8)),t[a]&&(m[l]=t[a])}!s&&(t[a]!==n[a]||c&&t[a]!==e.getAttr(a))&&(p=!0,h[a]=t[a])}p&&(e.setAttrs(h),Qs(e));for(var l in m)e.on(l+pC,m[l])}function Qs(e){if(!Ge.autoDrawEnabled){var t=e.getLayer()||e.getStage();t&&t.batchDraw()}}const XN={},LV={};Qo.Node.prototype._applyProps=fy;function FV(e,t){if(typeof t=="string"){console.error(`Do not use plain text as child of Konva.Node. You are using text: ${t}`);return}e.add(t),Qs(e)}function BV(e,t,n){let r=Qo[e];r||(console.error(`Konva has no node with the type ${e}. Group will be used instead. If you use minimal version of react-konva, just import required nodes into Konva: "import "konva/lib/shapes/${e}"  If you want to render DOM elements as part of canvas tree take a look into this demo: https://konvajs.github.io/docs/react/DOM_Portal.html`),r=Qo.Group);const i={},a={};for(var s in t){var o=s.slice(0,2)==="on";o?a[s]=t[s]:i[s]=t[s]}const l=new r(i);return fy(l,a),l}function zV(e,t,n){console.error(`Text components are not supported for now in ReactKonva. Your text is: "${e}"`)}function UV(e,t,n){return!1}function jV(e){return e}function $V(){return null}function VV(){return null}function WV(e,t,n,r){return LV}function GV(){}function HV(e){}function qV(e,t){return!1}function KV(){return XN}function YV(){return XN}const XV=setTimeout,QV=clearTimeout,ZV=-1;function JV(e,t){return!1}const eW=!1,tW=!0,nW=!0;function rW(e,t){t.parent===e?t.moveToTop():e.add(t),Qs(e)}function iW(e,t){t.parent===e?t.moveToTop():e.add(t),Qs(e)}function QN(e,t,n){t._remove(),e.add(t),t.setZIndex(n.getZIndex()),Qs(e)}function aW(e,t,n){QN(e,t,n)}function sW(e,t){t.destroy(),t.off(pC),Qs(e)}function oW(e,t){t.destroy(),t.off(pC),Qs(e)}function lW(e,t,n){console.error(`Text components are not yet supported in ReactKonva. You text is: "${n}"`)}function uW(e,t,n){}function cW(e,t,n,r,i){fy(e,i,r)}function dW(e){e.hide(),Qs(e)}function hW(e){}function fW(e,t){(t.visible==null||t.visible)&&e.show()}function pW(e,t){}function mW(e){}function gW(){}const yW=()=>YN.DefaultEventPriority,vW=Object.freeze(Object.defineProperty({__proto__:null,appendChild:rW,appendChildToContainer:iW,appendInitialChild:FV,cancelTimeout:QV,clearContainer:mW,commitMount:uW,commitTextUpdate:lW,commitUpdate:cW,createInstance:BV,createTextInstance:zV,detachDeletedInstance:gW,finalizeInitialChildren:UV,getChildHostContext:YV,getCurrentEventPriority:yW,getPublicInstance:jV,getRootHostContext:KV,hideInstance:dW,hideTextInstance:hW,idlePriority:ud.unstable_IdlePriority,insertBefore:QN,insertInContainerBefore:aW,isPrimaryRenderer:eW,noTimeout:ZV,now:ud.unstable_now,prepareForCommit:$V,preparePortalMount:VV,prepareUpdate:WV,removeChild:sW,removeChildFromContainer:oW,resetAfterCommit:GV,resetTextContent:HV,run:ud.unstable_runWithPriority,scheduleTimeout:XV,shouldDeprioritizeSubtree:qV,shouldSetTextContent:JV,supportsMutation:nW,unhideInstance:fW,unhideTextInstance:pW,warnsIfNotActing:tW},Symbol.toStringTag,{value:"Module"}));var wW=Object.defineProperty,bW=Object.defineProperties,xW=Object.getOwnPropertyDescriptors,FI=Object.getOwnPropertySymbols,kW=Object.prototype.hasOwnProperty,SW=Object.prototype.propertyIsEnumerable,BI=(e,t,n)=>t in e?wW(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,zI=(e,t)=>{for(var n in t||(t={}))kW.call(t,n)&&BI(e,n,t[n]);if(FI)for(var n of FI(t))SW.call(t,n)&&BI(e,n,t[n]);return e},CW=(e,t)=>bW(e,xW(t));function ZN(e,t,n){if(!e)return;if(n(e)===!0)return e;let r=t?e.return:e.child;for(;r;){const i=ZN(r,t,n);if(i)return i;r=t?null:r.sibling}}function JN(e){try{return Object.defineProperties(e,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return e}}const mC=JN(Y.createContext(null));class eM extends Y.Component{render(){return Y.createElement(mC.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner:UI,ReactCurrentDispatcher:jI}=Y.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function EW(){const e=Y.useContext(mC);if(e===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const t=Y.useId();return Y.useMemo(()=>{for(const r of[UI?.current,e,e?.alternate]){if(!r)continue;const i=ZN(r,!1,a=>{let s=a.memoizedState;for(;s;){if(s.memoizedState===t)return!0;s=s.next}});if(i)return i}},[e,t])}function TW(){var e,t;const n=EW(),[r]=Y.useState(()=>new Map);r.clear();let i=n;for(;i;){const a=(e=i.type)==null?void 0:e._context;a&&a!==mC&&!r.has(a)&&r.set(a,(t=jI?.current)==null?void 0:t.readContext(JN(a))),i=i.return}return r}function _W(){const e=TW();return Y.useMemo(()=>Array.from(e.keys()).reduce((t,n)=>r=>Y.createElement(t,null,Y.createElement(n.Provider,CW(zI({},r),{value:e.get(n)}))),t=>Y.createElement(eM,zI({},t))),[e])}function IW(e){const t=$e.useRef();return $e.useLayoutEffect(()=>{t.current=e}),t.current}const PW=e=>{const t=$e.useRef(),n=$e.useRef(),r=$e.useRef(),i=IW(e),a=_W(),s=o=>{const{forwardedRef:l}=e;l&&(typeof l=="function"?l(o):l.current=o)};return $e.useLayoutEffect(()=>(n.current=new Qo.Stage({width:e.width,height:e.height,container:t.current}),s(n.current),r.current=od.createContainer(n.current,YN.LegacyRoot,!1,null),od.updateContainer($e.createElement(a,{},e.children),r.current),()=>{Qo.isBrowser&&(s(null),od.updateContainer(null,r.current,null),n.current.destroy())}),[]),$e.useLayoutEffect(()=>{s(n.current),fy(n.current,e,i),od.updateContainer($e.createElement(a,{},e.children),r.current,null)}),$e.createElement("div",{ref:t,accessKey:e.accessKey,className:e.className,role:e.role,style:e.style,tabIndex:e.tabIndex,title:e.title})},_g="Layer",AW="Group",Ig="Rect",$I="Line",RW="Image",DW="Shape",NW="Transformer",od=DV(vW);od.injectIntoDevTools({findHostInstanceByFiber:()=>null,bundleType:0,version:$e.version,rendererPackageName:"react-konva"});const MW=$e.forwardRef((e,t)=>$e.createElement(eM,{},$e.createElement(PW,{...e,forwardedRef:t})));function tM(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e&&e.addEventListener&&e.addEventListener.apply(e,t)}function nM(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e&&e.removeEventListener&&e.removeEventListener.apply(e,t)}var Z1=typeof window<"u",OW=["mousedown","touchstart"],LW=function(e,t,n){n===void 0&&(n=OW);var r=Y.useRef(t);Y.useEffect(function(){r.current=t},[t]),Y.useEffect(function(){for(var i=function(l){var u=e.current;u&&!u.contains(l.target)&&r.current(l)},a=0,s=n;a<s.length;a++){var o=s[a];tM(document,o,i)}return function(){for(var l=0,u=n;l<u.length;l++){var c=u[l];nM(document,c,i)}}},[n,e])};const py=LW;function FW(e,t){t===void 0&&(t=0);var n=Y.useRef(!1),r=Y.useRef(),i=Y.useRef(e),a=Y.useCallback(function(){return n.current},[]),s=Y.useCallback(function(){n.current=!1,r.current&&clearTimeout(r.current),r.current=setTimeout(function(){n.current=!0,i.current()},t)},[t]),o=Y.useCallback(function(){n.current=null,r.current&&clearTimeout(r.current)},[]);return Y.useEffect(function(){i.current=e},[e]),Y.useEffect(function(){return s(),o},[t]),[a,o,s]}function dh(e,t,n){t===void 0&&(t=0),n===void 0&&(n=[]);var r=FW(e,t),i=r[0],a=r[1],s=r[2];return Y.useEffect(s,n),[i,a]}var BW=function(e){Y.useEffect(e,[])};const zW=BW;var UW=function(e){var t=Y.useRef(e);t.current=e,zW(function(){return function(){return t.current()}})};const jW=UW;var $W=function(e){var t=Y.useRef(0),n=Y.useState(e),r=n[0],i=n[1],a=Y.useCallback(function(s){cancelAnimationFrame(t.current),t.current=requestAnimationFrame(function(){i(s)})},[]);return jW(function(){cancelAnimationFrame(t.current)}),[r,a]};const VW=$W;var WW=function(e,t){e===void 0&&(e=1/0),t===void 0&&(t=1/0);var n=VW({width:Z1?window.innerWidth:e,height:Z1?window.innerHeight:t}),r=n[0],i=n[1];return Y.useEffect(function(){if(Z1){var a=function(){i({width:window.innerWidth,height:window.innerHeight})};return tM(window,"resize",a),function(){nM(window,"resize",a)}}},[]),r};const rM=WW;function GW({variant:e,size:t=H.Common.Size.preset(),color:n=H.Common.Color.preset(),className:r,children:i}){const a=useMemo(()=>classes(n==="brand"&&"bg-brand-800",n==="zinc"&&(e==="outline"?"border border-zinc-700 bg-none":"bg-zinc-700")),[e,n]);return C("span",{className:classes("rounded",a,t==="sm"&&"py-0.25 rounded px-1.5 text-xs",t==="md"&&"px-2 py-0.5 text-sm",t==="lg"&&"px-2 py-0.5 text-sm",r),children:i})}function Cs(e){const t=useRef(null);useEffect(()=>{e.autoFocus&&t.current?.focus()},[e.autoFocus]);const n=Cs.useStates(e),r=Cs.useSizing(e),i=Cs.useColors(e),a=Cs.useIcons(e),s=Cs.useBadges(e),o=ne("button",{ref:t,style:e.style,onClick:e.disabled||e.loading?void 0:e.onClick,onDoubleClick:e.onDoubleClick,className:classes("group relative flex h-fit select-none flex-row items-center justify-center gap-1 whitespace-nowrap rounded align-middle font-light shadow-md duration-150",r,i,n,e.active&&"hover group-hover",e.className),children:[a.left,e.children,s.right,a.right]});return e.label?C(H.Tooltip,{content:e.label,placement:e.labelPlacement,children:o}):o}(e=>{e.useStates=({loading:t,disabled:n})=>useMemo(()=>t||n?"cursor-not-allowed opacity-50":"cursor-pointer opacity-100",[t,n]),e.useSizing=({size:t=H.Common.Size.preset(),fullWidth:n,children:r})=>useMemo(()=>classes("w-fit",n&&"w-full",t==="sm"&&classes("px-2.5 py-1 text-sm",!r&&"px-1"),t==="md"&&classes("px-3 py-1 text-base",!r&&"px-1"),(t==="lg"||t==="xl")&&classes("px-4 py-2 text-base",!r&&"px-2")),[n,t,r]),e.useColors=({color:t=H.Common.Color.preset(),outline:n,transparent:r,translucent:i})=>useMemo(()=>classes({brand:"bg-brand-500 shadow-brand-500-md dark:shadow-none dark:bg-brand-600 dark:hover:bg-brand-500 border-brand-500 dark:border-brand-600",indigo:"text-white bg-brand-500 shadow-brand-500-md dark:shadow-none dark:bg-brand-600",red:"bg-red-600 hover:bg-red-700 active:bg-red-800",green:"bg-green-600 hover:bg-green-700 active:bg-green-800",yellow:"bg-yellow-600 hover:bg-yellow-700 active:bg-yellow-800",zinc:"shadow-black/5 bg-zinc-200 dark:shadow-none dark:text-white/80 dark:hover:text-white dark:bg-zinc-800 dark:hover:bg-zinc-700 border-zinc-800 dark:border-zinc-700",darkerZinc:"bg-zinc-900 border border-zinc-700 hover:border-zinc-300 duration-100 transition text-white",outline:"shadow-none dark:text-white text-black border border-transparent hover:border-zinc-700 focus:border-brand-500 active:bg-brand-500 active:text-white active:border-brand-500"}[n?"outline":t],n&&"dark:hover:bg-zinc-700",r&&"bg-transparent hover:bg-transparent dark:bg-transparent dark:hover:bg-transparent shadow-none",i&&"dark:bg-opacity-60 dark:hover:bg-opacity-80"),[t,n,r,i]),e.useIcons=({icon:t,iconLeft:n=t,iconRight:r,size:i=H.Common.Size.preset(),loading:a,children:s})=>useMemo(()=>{const o=(l,u)=>{const c=classes("opacity-75 duration-100 group-hover:opacity-100 shrink",i==="sm"&&"h-5 w-5",i==="md"&&"h-6 w-6 p-px origin-center",i==="lg"&&"h-6 w-6",u==="left"&&"mr-1 -ml-1",u==="right"&&"ml-1 -mr-1",s?"p-0.5":"mx-0");return a?C(H.Loading.Spinner,{className:c}):l?typeof l=="function"?l({className:c,strokeWidth:2.2}):typeof l!="object"||React.isValidElement(l)?l:null:null};return{left:(a||n)&&o(n,"left"),right:r&&o(r,"right")}},[n,r,i,a,s]),e.useBadges=({badgeRight:t,size:n,fullWidth:r})=>useMemo(()=>{const a=((s,o)=>{const l=classes(o==="right"&&!r&&"ml-1 -mr-1");return s?typeof s=="function"?s({size:n,className:l}):typeof s!="object"||React.isValidElement(s)?s:null:null})(t,"right");return{right:a&&!r?a:C("div",{className:"absolute right-2 top-0 bottom-0 flex items-center justify-center",children:a})}},[t,n,r])})(Cs||(Cs={}));function HW(e){const t=C(rt,{children:e.label&&C("div",{className:classes("text-muted-white select-none text-base",e.size==="sm"&&"text-sm",e.size==="lg"&&"text-lg",e.labelClassName),children:e.label})});return ne("div",{onClick:()=>e.onChange(!e.value),className:classes("flex w-fit cursor-pointer items-center gap-2",e.left&&"flex-row",e.right&&"flex-row-reverse",e.disabled&&"cursor-not-allowed",!e.left&&!e.right&&"flex-row",e.className),children:[e.labelLeft&&t,C("div",{tabIndex:0,onKeyUp:n=>{n.key===" "&&n.target===n.currentTarget&&e.onChange(!e.value)},className:classes("flex shrink-0 items-center justify-center rounded border-none border-black/5 dark:border",(!e.variant||e.variant==="indigo")&&e.value&&"bg-brand-500 dark:bg-brand-600",e.variant==="red"&&e.value&&"bg-red-600",e.variant==="green"&&e.value&&"bg-green-600",e.variant==="yellow"&&e.value&&"bg-yellow-600",e.variant==="gray"&&e.value&&"bg-zinc-600",!e.value&&"bg-black/10 dark:bg-zinc-700",e.size==="sm"?"h-4 w-4":e.size==="lg"?"h-6 w-6":"h-5 w-5"),children:e.value&&C(H.Icon.Check,{color:"white",size:e.size==="sm"?12:e.size==="md"?16:20})}),!e.labelLeft&&t]})}function qW({size:e=H.Common.Size.preset(),className:t}){return C("div",{style:{backgroundImage:"url('./Checkers.png')",...e==="sm"&&{backgroundSize:"6px 6px"}},className:classes("absolute left-0 top-0 h-full w-full bg-black bg-local bg-center bg-repeat",t),children:C("div",{className:"h-full w-full bg-zinc-800/90"})})}var E2;(e=>{(t=>{t.preset=()=>"md"})(e.Size||(e.Size={})),(t=>{t.preset=()=>"zinc"})(e.Color||(e.Color={}))})(E2||(E2={}));function T2({variant:e="horizontal",children:t,className:n,lineClassName:r}){const i=C("div",{className:classes("bg-muted-white-extra grow",e==="horizontal"&&"h-[1px]",e==="vertical"&&"w-[1px]",r)});return ne("div",{className:classes("flex select-none items-center justify-center",e==="horizontal"&&"w-full flex-row",e==="vertical"&&"min-h-full flex-col",!!t&&"-mb-2",n),children:[i,t&&C("div",{className:"text-muted-white mx-2 flex items-center justify-center",children:t}),t&&i]})}(e=>{function t(){return C("span",{className:"text-muted-white",children:"/"})}e.Inline=t})(T2||(T2={}));function KW({value:e,onChange:t,title:n,placeholder:r="Select Option...",size:i=H.Common.Size.preset(),transparent:a,fullWidth:s,className:o,...l}){const u=useMemo(()=>classes(i==="sm"&&"px-2.5 py-1 text-sm",i==="md"&&"px-2 py-1.5 text-base",i==="lg"&&"px-4 py-1 text-lg"),[i]),[c,h]=useState(!1),p=useRef(null),m=useRef(null);return useLayoutEffect(()=>{m.current&&p.current&&!s&&(m.current.style.width=`${p.current.getBoundingClientRect().width+16}px`)},[s]),py(m,()=>h(!1)),ne("div",{ref:m,className:classes("group relative cursor-pointer rounded duration-150",s&&"w-[calc(100% + 0.5rem)] -mx-2",o),children:[C("div",{className:classes("pointer-events-none absolute inset-0 rounded border duration-150",a?"border-transparent bg-transparent":c?"border-transparent bg-zinc-700/50":"border-zinc-800 group-hover:border-zinc-700")}),ne("select",{ref:p,className:classes("inline-block w-full cursor-pointer appearance-none rounded bg-zinc-900 focus:outline-none",a&&"bg-transparent",u,l.innerClassName),value:e,onChange:g=>{const y=l.options?.find(b=>b.value===g.target.value);y&&t?.(y),h(!1)},onMouseDown:()=>h(!c),disabled:l.disabled,placeholder:r,children:[n&&C("option",{value:"",disabled:!0,children:n}),l.options?.map(g=>C("option",{value:g.value,disabled:g.disabled,children:g.label},g.value))]}),C("div",{className:"pointer-events-none absolute top-0 right-1 inline-block h-full",children:C("div",{className:"flex h-full w-full items-center justify-center",children:c?C(H.Icon.ChevronUp,{className:"h-6 w-6"}):C(H.Icon.ChevronDown,{className:"h-6 w-6"})})})]})}var YW={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const XW=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),qe=(e,t)=>{const n=Y.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:a=2,children:s,...o},l)=>Y.createElement("svg",{ref:l,...YW,width:i,height:i,stroke:r,strokeWidth:a,className:`lucide lucide-${XW(e)}`,...o},[...t.map(([u,c])=>Y.createElement(u,c)),...(Array.isArray(s)?s:[s])||[]]));return n.displayName=`${e}`,n},QW=qe("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",y1:"8",x2:"12",y2:"12",key:"1grbh0"}],["line",{x1:"12",y1:"16",x2:"12.01",y2:"16",key:"1w440g"}]]),ZW=qe("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["line",{x1:"12",y1:"9",x2:"12",y2:"13",key:"mb7vjk"}],["line",{x1:"12",y1:"17",x2:"12.01",y2:"17",key:"kdstpg"}]]),JW=qe("ArrowLeftCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 8 8 12 12 16",key:"bz1698"}],["line",{x1:"16",y1:"12",x2:"8",y2:"12",key:"i2qu8k"}]]),eG=qe("Brush",[["path",{d:"m9.06 11.9 8.07-8.06a2.85 2.85 0 1 1 4.03 4.03l-8.06 8.08",key:"1styjt"}],["path",{d:"M7.07 14.94c-1.66 0-3 1.35-3 3.02 0 1.33-2.5 1.52-2 2.02 1.08 1.1 2.49 2.02 4 2.02 2.2 0 4-1.8 4-4.04a3.01 3.01 0 0 0-3-3.02z",key:"z0l1mu"}]]),tG=qe("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),nG=qe("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),rG=qe("ChevronDown",[["polyline",{points:"6 9 12 15 18 9",key:"1do0m2"}]]),iG=qe("ChevronLeft",[["polyline",{points:"15 18 9 12 15 6",key:"kvxz59"}]]),aG=qe("ChevronRight",[["polyline",{points:"9 18 15 12 9 6",key:"1rtp27"}]]),sG=qe("ChevronUp",[["polyline",{points:"18 15 12 9 6 15",key:"1uugdp"}]]),oG=qe("ChevronsDownUp",[["path",{d:"m7 20 5-5 5 5",key:"13a0gw"}],["path",{d:"m7 4 5 5 5-5",key:"1kwcof"}]]),lG=qe("ChevronsLeftRight",[["path",{d:"m9 7-5 5 5 5",key:"j5w590"}],["path",{d:"m15 7 5 5-5 5",key:"1bl6da"}]]),uG=qe("Clapperboard",[["path",{d:"M4 11v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8H4Z",key:"1hxvyx"}],["path",{d:"m4 11-.88-2.87a2 2 0 0 1 1.33-2.5l11.48-3.5a2 2 0 0 1 2.5 1.32l.87 2.87L4 11.01Z",key:"1vz1k2"}],["path",{d:"m6.6 4.99 3.38 4.2",key:"192ida"}],["path",{d:"m11.86 3.38 3.38 4.2",key:"hhucvz"}]]),cG=qe("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]),dG=qe("Copy",[["rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2",key:"1ma1o8"}],["path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1",key:"pklvoz"}]]),hG=qe("Dices",[["rect",{x:"2",y:"10",width:"12",height:"12",rx:"2",ry:"2",key:"73wp2n"}],["path",{d:"m17.92 14 3.5-3.5a2.24 2.24 0 0 0 0-3l-5-4.92a2.24 2.24 0 0 0-3 0L10 6",key:"1o487t"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"M10 14h.01",key:"ssrbsk"}],["path",{d:"M15 6h.01",key:"cblpky"}],["path",{d:"M18 9h.01",key:"2061c0"}]]),VI=qe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",y1:"15",x2:"12",y2:"3",key:"nqo27w"}]]),fG=qe("Edit",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z",key:"1cs3r3"}]]),pG=qe("Eraser",[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21",key:"182aya"}],["path",{d:"M22 21H7",key:"t4ddhn"}],["path",{d:"m5 11 9 9",key:"1mo9qw"}]]),mG=qe("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",y1:"14",x2:"21",y2:"3",key:"19d9un"}]]),gG=qe("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",y1:"2",x2:"22",y2:"22",key:"1w4vcy"}]]),yG=qe("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),vG=qe("Focus",[["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]),wG=qe("Folders",[["path",{d:"M8 17h12a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3.93a2 2 0 0 1-1.66-.9l-.82-1.2a2 2 0 0 0-1.66-.9H8a2 2 0 0 0-2 2v9c0 1.1.9 2 2 2Z",key:"1aska4"}],["path",{d:"M2 8v11c0 1.1.9 2 2 2h14",key:"n13cji"}]]),bG=qe("Hand",[["path",{d:"M18 11V6a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v0",key:"aigmz7"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v2",key:"1n6bmn"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v8",key:"a9iiix"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]]),xG=qe("History",[["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3.05 13A9 9 0 1 0 6 5.3L3 8",key:"1xoms2"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),kG=qe("ImagePlus",[["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7",key:"31hg93"}],["line",{x1:"16",y1:"5",x2:"22",y2:"5",key:"c5ve4s"}],["line",{x1:"19",y1:"2",x2:"19",y2:"8",key:"12oc9j"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),SG=qe("Image",[["rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2",key:"maln0c"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),CG=qe("Import",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m8 11 4 4 4-4",key:"1dohi6"}],["path",{d:"M8 5H4a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-4",key:"1ywtjm"}]]),EG=qe("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",y1:"16",x2:"12",y2:"12",key:"dkqlv3"}],["line",{x1:"12",y1:"8",x2:"12.01",y2:"8",key:"1kl4hv"}]]),TG=qe("Keyboard",[["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",ry:"2",key:"xgg3gf"}],["path",{d:"M6 8h.001",key:"1ej0i3"}],["path",{d:"M10 8h.001",key:"1x2st2"}],["path",{d:"M14 8h.001",key:"1vkmyp"}],["path",{d:"M18 8h.001",key:"kfsenl"}],["path",{d:"M8 12h.001",key:"1sjpby"}],["path",{d:"M12 12h.001",key:"al75ts"}],["path",{d:"M16 12h.001",key:"931bgk"}],["path",{d:"M7 16h10",key:"wp8him"}]]),_G=qe("Layers",[["polygon",{points:"12 2 2 7 12 12 22 7 12 2",key:"1b0ttc"}],["polyline",{points:"2 17 12 22 22 17",key:"imjtdl"}],["polyline",{points:"2 12 12 17 22 12",key:"5dexcv"}]]),IG=qe("LocateFixed",[["line",{x1:"2",x2:"5",y1:"12",y2:"12",key:"bvdh0s"}],["line",{x1:"19",x2:"22",y1:"12",y2:"12",key:"1tbv5k"}],["line",{x1:"12",x2:"12",y1:"2",y2:"5",key:"11lu5j"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}],["circle",{cx:"12",cy:"12",r:"7",key:"fim9np"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),PG=qe("Locate",[["line",{x1:"2",x2:"5",y1:"12",y2:"12",key:"bvdh0s"}],["line",{x1:"19",x2:"22",y1:"12",y2:"12",key:"1tbv5k"}],["line",{x1:"12",x2:"12",y1:"2",y2:"5",key:"11lu5j"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}],["circle",{cx:"12",cy:"12",r:"7",key:"fim9np"}]]),AG=qe("Lock",[["rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2",key:"biyj2e"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),RG=qe("Minus",[["line",{x1:"5",y1:"12",x2:"19",y2:"12",key:"1smlys"}]]),DG=qe("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]),NG=qe("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]),MG=qe("MousePointer2",[["path",{d:"m4 4 7.07 17 2.51-7.39L21 11.07z",key:"1vqm48"}]]),OG=qe("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),LG=qe("Pencil",[["line",{x1:"18",y1:"2",x2:"22",y2:"6",key:"1k5sg2"}],["path",{d:"M7.5 20.5 19 9l-4-4L3.5 16.5 2 22z",key:"12iwkt"}]]),FG=qe("Plus",[["line",{x1:"12",y1:"5",x2:"12",y2:"19",key:"myz83a"}],["line",{x1:"5",y1:"12",x2:"19",y2:"12",key:"1smlys"}]]),BG=qe("Redo",[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]]),zG=qe("RefreshCw",[["path",{d:"M21 2v6h-6",key:"1lwg0q"}],["path",{d:"M3 12a9 9 0 0 1 15-6.7L21 8",key:"vaktt2"}],["path",{d:"M3 22v-6h6",key:"6llvyv"}],["path",{d:"M21 12a9 9 0 0 1-15 6.7L3 16",key:"i52hsp"}]]),UG=qe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65",key:"1p50m8"}]]),jG=qe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),$G=qe("SidebarClose",[["rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2",key:"maln0c"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m16 15-3-3 3-3",key:"14y99z"}]]),VG=qe("SidebarOpen",[["rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2",key:"maln0c"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m14 9 3 3-3 3",key:"8010ee"}]]),WG=qe("Sidebar",[["rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2",key:"maln0c"}],["line",{x1:"9",y1:"3",x2:"9",y2:"21",key:"nvcl17"}]]),GG=qe("Slash",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"4.93",y1:"4.93",x2:"19.07",y2:"19.07",key:"bqqkff"}]]),HG=qe("Sliders",[["line",{x1:"4",y1:"21",x2:"4",y2:"14",key:"2cpl65"}],["line",{x1:"4",y1:"10",x2:"4",y2:"3",key:"1b26kg"}],["line",{x1:"12",y1:"21",x2:"12",y2:"12",key:"fxobwr"}],["line",{x1:"12",y1:"8",x2:"12",y2:"3",key:"bkspcw"}],["line",{x1:"20",y1:"21",x2:"20",y2:"16",key:"b7lt1r"}],["line",{x1:"20",y1:"12",x2:"20",y2:"3",key:"inamez"}],["line",{x1:"2",y1:"14",x2:"6",y2:"14",key:"tezuxb"}],["line",{x1:"10",y1:"8",x2:"14",y2:"8",key:"1w8tme"}],["line",{x1:"18",y1:"16",x2:"22",y2:"16",key:"1gnq8h"}]]),qG=qe("Sprout",[["path",{d:"M7 20h10",key:"e6iznv"}],["path",{d:"M10 20c5.5-2.5.8-6.4 3-10",key:"161w41"}],["path",{d:"M9.5 9.4c1.1.8 1.8 2.2 2.3 3.7-2 .4-3.5.4-4.8-.3-1.2-.6-2.3-1.9-3-4.2 2.8-.5 4.4 0 5.5.8z",key:"9gtqwd"}],["path",{d:"M14.1 6a7 7 0 0 0-1.1 4c1.9-.1 3.3-.6 4.3-1.4 1-1 1.6-2.3 1.7-4.6-2.7.1-4 1-4.9 2z",key:"bkxnd2"}]]),KG=qe("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),YG=qe("TimerReset",[["path",{d:"M10 2h4",key:"n1abiw"}],["path",{d:"M12 14v-4",key:"1evpnu"}],["path",{d:"M4 13a8 8 0 0 1 8-7 8 8 0 1 1-5.3 14L4 17.6",key:"1ts96g"}],["path",{d:"M9 17H4v5",key:"8t5av"}]]),XG=qe("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]),QG=qe("Undo",[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]]),ZG=qe("Unlock",[["rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2",key:"biyj2e"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]),JG=qe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",y1:"3",x2:"12",y2:"15",key:"wktxj0"}]]),eH=qe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),tH=qe("Wand2",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z",key:"1bcowg"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]),nH=qe("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]),rH=qe("X",[["line",{x1:"18",y1:"6",x2:"6",y2:"18",key:"1o5bob"}],["line",{x1:"6",y1:"6",x2:"18",y2:"18",key:"z4dcbv"}]]),iH=qe("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65",key:"1p50m8"}],["line",{x1:"11",y1:"8",x2:"11",y2:"14",key:"jw7mvq"}],["line",{x1:"8",y1:"11",x2:"14",y2:"11",key:"1nivud"}]]),aH=qe("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65",key:"1p50m8"}],["line",{x1:"8",y1:"11",x2:"14",y2:"11",key:"1nivud"}]]);function sH(e){return dr(e)(({width:t,height:n,color:r,...i})=>C("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:t,height:n,fill:r,...i,children:C("path",{d:"M 8 3 C 5.239 3 3 5.239 3 8 L 3 16 C 3 18.761 5.239 21 8 21 L 16 21 C 18.761 21 21 18.761 21 16 L 21 8 C 21 5.239 18.761 3 16 3 L 8 3 z M 18 5 C 18.552 5 19 5.448 19 6 C 19 6.552 18.552 7 18 7 C 17.448 7 17 6.552 17 6 C 17 5.448 17.448 5 18 5 z M 12 7 C 14.761 7 17 9.239 17 12 C 17 14.761 14.761 17 12 17 C 9.239 17 7 14.761 7 12 C 7 9.239 9.239 7 12 7 z M 12 9 A 3 3 0 0 0 9 12 A 3 3 0 0 0 12 15 A 3 3 0 0 0 15 12 A 3 3 0 0 0 12 9 z"})}))}function oH(e){return dr(e)(({width:t,height:n,color:r,...i})=>C("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:t,height:n,fill:r,...i,children:C("path",{d:"M22,3.999c-0.78,0.463-2.345,1.094-3.265,1.276c-0.027,0.007-0.049,0.016-0.075,0.023c-0.813-0.802-1.927-1.299-3.16-1.299 c-2.485,0-4.5,2.015-4.5,4.5c0,0.131-0.011,0.372,0,0.5c-3.353,0-5.905-1.756-7.735-4c-0.199,0.5-0.286,1.29-0.286,2.032 c0,1.401,1.095,2.777,2.8,3.63c-0.314,0.081-0.66,0.139-1.02,0.139c-0.581,0-1.196-0.153-1.759-0.617c0,0.017,0,0.033,0,0.051 c0,1.958,2.078,3.291,3.926,3.662c-0.375,0.221-1.131,0.243-1.5,0.243c-0.26,0-1.18-0.119-1.426-0.165 c0.514,1.605,2.368,2.507,4.135,2.539c-1.382,1.084-2.341,1.486-5.171,1.486H2C3.788,19.145,6.065,20,8.347,20 C15.777,20,20,14.337,20,8.999c0-0.086-0.002-0.266-0.005-0.447C19.995,8.534,20,8.517,20,8.499c0-0.027-0.008-0.053-0.008-0.08 c-0.003-0.136-0.006-0.263-0.009-0.329c0.79-0.57,1.475-1.281,2.017-2.091c-0.725,0.322-1.503,0.538-2.32,0.636 C20.514,6.135,21.699,4.943,22,3.999z"})}))}function lH(e){return dr(e)(({width:t,height:n,color:r,...i})=>C("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:t,height:n,fill:r,...i,children:C("path",{d:"M19.952,5.672c-1.904-1.531-4.916-1.79-5.044-1.801c-0.201-0.017-0.392,0.097-0.474,0.281 c-0.006,0.012-0.072,0.163-0.145,0.398c1.259,0.212,2.806,0.64,4.206,1.509c0.224,0.139,0.293,0.434,0.154,0.659 c-0.09,0.146-0.247,0.226-0.407,0.226c-0.086,0-0.173-0.023-0.252-0.072C15.584,5.38,12.578,5.305,12,5.305S8.415,5.38,6.011,6.872 c-0.225,0.14-0.519,0.07-0.659-0.154c-0.14-0.225-0.07-0.519,0.154-0.659c1.4-0.868,2.946-1.297,4.206-1.509 c-0.074-0.236-0.14-0.386-0.145-0.398C9.484,3.968,9.294,3.852,9.092,3.872c-0.127,0.01-3.139,0.269-5.069,1.822 C3.015,6.625,1,12.073,1,16.783c0,0.083,0.022,0.165,0.063,0.237c1.391,2.443,5.185,3.083,6.05,3.111c0.005,0,0.01,0,0.015,0 c0.153,0,0.297-0.073,0.387-0.197l0.875-1.202c-2.359-0.61-3.564-1.645-3.634-1.706c-0.198-0.175-0.217-0.477-0.042-0.675 c0.175-0.198,0.476-0.217,0.674-0.043c0.029,0.026,2.248,1.909,6.612,1.909c4.372,0,6.591-1.891,6.613-1.91 c0.198-0.172,0.5-0.154,0.674,0.045c0.174,0.198,0.155,0.499-0.042,0.673c-0.07,0.062-1.275,1.096-3.634,1.706l0.875,1.202 c0.09,0.124,0.234,0.197,0.387,0.197c0.005,0,0.01,0,0.015,0c0.865-0.027,4.659-0.667,6.05-3.111 C22.978,16.947,23,16.866,23,16.783C23,12.073,20.985,6.625,19.952,5.672z M8.891,14.87c-0.924,0-1.674-0.857-1.674-1.913 s0.749-1.913,1.674-1.913s1.674,0.857,1.674,1.913S9.816,14.87,8.891,14.87z M15.109,14.87c-0.924,0-1.674-0.857-1.674-1.913 s0.749-1.913,1.674-1.913c0.924,0,1.674,0.857,1.674,1.913S16.033,14.87,15.109,14.87z"})}))}function uH(e){return dr(e)(({width:t,height:n,color:r,...i})=>C("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 225.000000 225.000000",width:t,height:n,...i,children:C("g",{transform:"translate(0.000000,225.000000) scale(0.100000,-0.100000)",fill:"none",stroke:"none",children:C("path",{fill:r,d:"M0 1125 l0 -1125 1125 0 1125 0 0 1125 0 1125 -1125 0 -1125 0 0 -1125z m994 316 c61 -30 85 -78 86 -168 l0 -63 -105 0 -105 0 0 25 c0 15 -10 31 -26 42 -23 14 -53 17 -198 18 -196 0 -217 -6 -235 -72 -14 -51 -13 -209 2 -253 18 -53 57 -62 260 -58 163 3 169 4 188 27 10 13 19 36 19 52 l0 30 108 -3 107 -3 -2 -78 c-2 -97 -21 -133 -85 -165 -61 -31 -248 -43 -496 -32 -162 7 -188 11 -230 32 -28 14 -54 36 -66 56 -32 56 -42 308 -20 490 4 28 16 55 35 77 56 63 125 74 464 72 242 -2 252 -3 299 -26z m940 14 c121 -21 159 -60 172 -172 l7 -63 -102 0 c-55 0 -104 -1 -108 -2 -5 -2 -9 9 -11 25 -5 45 -30 51 -237 51 -214 1 -247 -6 -264 -56 -14 -41 -14 -236 0 -277 6 -17 19 -36 29 -41 11 -6 112 -10 231 -10 238 0 249 3 249 67 l0 33 -145 0 -145 0 0 70 0 70 250 0 250 0 -1 -92 c-2 -198 -18 -244 -101 -286 -41 -20 -69 -24 -215 -32 -92 -4 -239 -4 -326 0 -235 12 -276 38 -298 196 -13 93 -6 343 12 394 41 119 100 137 464 138 141 1 236 -3 289 -13z"})})}))}function cH(e){return dr(e)(({width:t,height:n,color:r,...i})=>C("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:t,height:n,...i,children:C("path",{fill:r,d:"M2.141 34l3.771 6.519.001.001C6.656 41.991 8.18 43 9.94 43l.003 0 0 0h25.03l-5.194-9H2.141zM45.859 34.341c0-.872-.257-1.683-.697-2.364L30.977 7.319C30.245 5.94 28.794 5 27.124 5h-7.496l21.91 37.962 3.454-5.982C45.673 35.835 45.859 35.328 45.859 34.341zM25.838 28L16.045 11.038 6.252 28z"})}))}function dH({width:e,height:t,color:n,...r}){return ne("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:e,height:t,fill:n,...r,children:[C("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}),C("path",{d:"m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"})]})}function hH(e){return dr(e)(({width:t,height:n,color:r,...i})=>C("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:t,height:n,fill:r,...i,children:C("path",{d:"M13.5 1a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zM11 2.5a2.5 2.5 0 1 1 .603 1.628l-6.718 3.12a2.499 2.499 0 0 1 0 1.504l6.718 3.12a2.5 2.5 0 1 1-.488.876l-6.718-3.12a2.5 2.5 0 1 1 0-3.256l6.718-3.12A2.5 2.5 0 0 1 11 2.5zm-8.5 4a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zm11 5.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3z"})}))}function fH(e){return dr(e)(({width:t,height:n,color:r,...i})=>ne("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:t,height:n,fill:r,...i,children:[C("path",{d:"M0 3.5A1.5 1.5 0 0 1 1.5 2h13A1.5 1.5 0 0 1 16 3.5v9a1.5 1.5 0 0 1-1.5 1.5h-13A1.5 1.5 0 0 1 0 12.5v-9zM1.5 3a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5h13a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 0-.5-.5h-13z"}),C("path",{d:"M2 4.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1H3v2.5a.5.5 0 0 1-1 0v-3zm12 7a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1 0-1H13V8.5a.5.5 0 0 1 1 0v3z"})]}))}function pH(e){return dr(e)(({width:t,height:n,color:r,...i})=>ne("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:t,height:n,fill:r,...i,children:[C("path",{d:"M6 12.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5ZM3 8.062C3 6.76 4.235 5.765 5.53 5.886a26.58 26.58 0 0 0 4.94 0C11.765 5.765 13 6.76 13 8.062v1.157a.933.933 0 0 1-.765.935c-.845.147-2.34.346-4.235.346-1.895 0-3.39-.2-4.235-.346A.933.933 0 0 1 3 9.219V8.062Zm4.542-.827a.25.25 0 0 0-.217.068l-.92.9a24.767 24.767 0 0 1-1.871-.183.25.25 0 0 0-.068.495c.55.076 1.232.149 2.02.193a.25.25 0 0 0 .189-.071l.754-.736.847 1.71a.25.25 0 0 0 .404.062l.932-.97a25.286 25.286 0 0 0 1.922-.188.25.25 0 0 0-.068-.495c-.538.074-1.207.145-1.98.189a.25.25 0 0 0-.166.076l-.754.785-.842-1.7a.25.25 0 0 0-.182-.135Z"}),C("path",{d:"M8.5 1.866a1 1 0 1 0-1 0V3h-2A4.5 4.5 0 0 0 1 7.5V8a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1v1a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2v-1a1 1 0 0 0 1-1V9a1 1 0 0 0-1-1v-.5A4.5 4.5 0 0 0 10.5 3h-2V1.866ZM14 7.5V13a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7.5A3.5 3.5 0 0 1 5.5 4h5A3.5 3.5 0 0 1 14 7.5Z"})]}))}function mH(e){return dr(e)(({width:t,height:n,color:r,...i})=>C("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:t,height:n,fill:r,...i,children:C("path",{fillRule:"evenodd",d:"M10.5 1a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-1 0V4H1.5a.5.5 0 0 1 0-1H10V1.5a.5.5 0 0 1 .5-.5ZM12 3.5a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 0 1h-2a.5.5 0 0 1-.5-.5Zm-6.5 2A.5.5 0 0 1 6 6v1.5h8.5a.5.5 0 0 1 0 1H6V10a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5ZM1 8a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 0 1h-2A.5.5 0 0 1 1 8Zm9.5 2a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-1 0V13H1.5a.5.5 0 0 1 0-1H10v-1.5a.5.5 0 0 1 .5-.5Zm1.5 2.5a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 0 1h-2a.5.5 0 0 1-.5-.5Z"})}))}function gH(e){return dr(e)(({width:t,height:n,color:r,...i})=>ne("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"6 6 20 20",width:t,height:n,fill:r,...i,children:[C("rect",{x:"9",y:"9",width:"3",height:"3",fill:r}),C("rect",{opacity:"0.6",x:"20",y:"9",width:"3",height:"3",fill:r}),C("rect",{opacity:"0.8",x:"14.5",y:"9",width:"3",height:"3",fill:r}),C("rect",{opacity:"0.8",x:"9",y:"14.5",width:"3",height:"3",fill:r}),C("rect",{opacity:"0.4",x:"20",y:"14.5",width:"3",height:"3",fill:r}),C("rect",{opacity:"0.6",x:"14.5",y:"14.5",width:"3",height:"3",fill:r}),C("rect",{opacity:"0.6",x:"9",y:"20",width:"3",height:"3",fill:r}),C("rect",{opacity:"0.2",x:"20",y:"20",width:"3",height:"3",fill:r}),C("rect",{opacity:"0.4",x:"14.5",y:"20",width:"3",height:"3",fill:r})]}))}function yH(e){return dr(e)(({width:t,height:n,color:r,...i})=>ne("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"6 6 20 20",fill:"none",width:t,height:n,...i,children:[C("g",{clipPath:"url(#clip0_214_14526)",children:C("path",{d:"M9 23.9999V18.9999H14V13.9999L19 13.9997V8.99988H24",stroke:r,strokeLinejoin:"round"})}),C("defs",{children:C("clipPath",{id:"clip0_214_14526",children:C("rect",{width:"16",height:"16",fill:"white",transform:"translate(8 8)"})})})]}))}function vH(e){return dr(e)(({width:t,height:n,color:r="#3F3F46",...i})=>ne("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",width:t,height:n,...i,children:[C("path",{d:"M3.33333 19L20.6667 19C21.403 19 22 18.3036 22 17.4444L22 6.55556C22 5.69645 21.403 5 20.6667 5L3.33333 5C2.59695 5 2 5.69645 2 6.55556L2 17.4444C2 18.3036 2.59695 19 3.33333 19Z",stroke:r,strokeLinecap:"round",strokeLinejoin:"round"}),C("rect",{x:"19",y:"16",width:"14",height:"8",transform:"rotate(180 19 16)",stroke:r,strokeLinejoin:"round"}),C("rect",{x:"16",y:"16",width:"8",height:"8",transform:"rotate(180 16 16)",fill:r}),C("rect",{x:"17",y:"17",width:"10",height:"10",transform:"rotate(180 17 17)",fill:"#18181B"}),C("rect",{x:"20",y:"14",width:"16",height:"4",transform:"rotate(180 20 14)",fill:"#18181B"})]}))}function wH(e){return dr(e)(({width:t,height:n,color:r,...i})=>C("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 14 10",width:t,height:n,...i,children:C("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 0.5C0 0.223858 0.223858 0 0.5 0H3.5C3.77614 0 4 0.223858 4 0.5V3.5C4 3.77614 3.77614 4 3.5 4H0.5C0.223858 4 0 3.77614 0 3.5V0.5ZM1 1V3H3V1H1ZM5 0.5C5 0.223858 5.22386 0 5.5 0H8.5C8.77614 0 9 0.223858 9 0.5V3.5C9 3.77614 8.77614 4 8.5 4H5.5C5.22386 4 5 3.77614 5 3.5V0.5ZM6 1V3H8V1H6ZM10.5 0C10.2239 0 10 0.223858 10 0.5V3.5C10 3.77614 10.2239 4 10.5 4H13.5C13.7761 4 14 3.77614 14 3.5V0.5C14 0.223858 13.7761 0 13.5 0H10.5ZM11 3V1H13V3H11ZM0 6.5C0 6.22386 0.223858 6 0.5 6H3.5C3.77614 6 4 6.22386 4 6.5V9.5C4 9.77614 3.77614 10 3.5 10H0.5C0.223858 10 0 9.77614 0 9.5V6.5ZM1 7V9H3V7H1ZM5.5 6C5.22386 6 5 6.22386 5 6.5V9.5C5 9.77614 5.22386 10 5.5 10H8.5C8.77614 10 9 9.77614 9 9.5V6.5C9 6.22386 8.77614 6 8.5 6H5.5ZM6 9V7H8V9H6Z",fill:r})}))}function bH(e){return dr(e)(({width:t,height:n,...r})=>ne("svg",{width:t,height:n,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r,children:[C("path",{d:"M3.67183 13.5269L3.67184 11.1072C3.67184 10.0026 4.56727 9.10722 5.67184 9.10722L9.86719 9.10722C10.9718 9.10722 11.8672 8.21179 11.8672 7.10722L11.8672 2.25825",stroke:"#F9FAFB",strokeLinecap:"round",strokeLinejoin:"round"}),C("path",{d:"M14.3262 3.94141L11.9116 1.52683L9.49701 3.94141",stroke:"#F9FAFB",strokeLinecap:"round",strokeLinejoin:"round"}),C("path",{d:"M3.67188 13.5269L3.67188 4.30708",stroke:"#F9FAFB",strokeLinecap:"round"})]}))}function xH(e){return dr(e)(({width:t,height:n,color:r,...i})=>ne("svg",{width:t,height:n,viewBox:"0 0 21 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...i,children:[C("path",{d:"M16.493 15.2672L17.0352 15.7854C17.2547 15.5558 17.3057 15.2127 17.1625 14.9292C17.0193 14.6456 16.713 14.483 16.3978 14.5233L16.493 15.2672ZM8.45711 10.5889L7.74713 10.8306L8.45711 10.5889ZM10.839 2.77376L11.3209 3.34843C11.5636 3.1449 11.6523 2.81085 11.5425 2.51375C11.4327 2.21665 11.1481 2.02056 10.8314 2.0238L10.839 2.77376ZM16.3978 14.5233C13.1713 14.9362 10.1445 13.2178 9.16709 10.3472L7.74713 10.8306C8.98441 14.4646 12.7513 16.5022 16.5882 16.0112L16.3978 14.5233ZM9.16709 10.3472C8.31741 7.85159 9.22305 5.10774 11.3209 3.34843L10.3571 2.19909C7.84641 4.30457 6.6731 7.67608 7.74713 10.8306L9.16709 10.3472ZM8.92273 3.78798C9.56847 3.61558 10.2143 3.53017 10.8467 3.52372L10.8314 2.0238C10.0741 2.03153 9.30342 2.13381 8.53581 2.33875L8.92273 3.78798ZM3.65923 12.1797C2.70919 8.62126 5.00941 4.83278 8.92273 3.78798L8.53581 2.33875C3.91162 3.57333 1.02312 8.12111 2.21 12.5666L3.65923 12.1797ZM12.405 16.8311C8.49171 17.8759 4.60927 15.7381 3.65923 12.1797L2.21 12.5666C3.39687 17.0121 8.16777 19.5149 12.792 18.2804L12.405 16.8311ZM15.9509 14.7491C15.0314 15.7111 13.8217 16.4529 12.405 16.8311L12.792 18.2804C14.4774 17.8304 15.9276 16.9444 17.0352 15.7854L15.9509 14.7491Z",fill:r}),C("path",{d:"M15.0371 7.24414V9.65901",stroke:r,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),C("path",{d:"M16.2449 8.45166H13.8301",stroke:r,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),C("path",{d:"M18.6055 3V4.20744",stroke:r,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),C("path",{d:"M19.2074 3.60352H18",stroke:r,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}))}function kH(e){return dr(e)(({width:t,height:n,color:r,...i})=>ne("svg",{width:t,height:n,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",strokeWidth:"0.9",...i,children:[C("path",{d:"M14 2L6 10",stroke:r,strokeLinecap:"round",strokeLinejoin:"round"}),C("path",{d:"M8 2H2V14H14V8",stroke:r,strokeLinecap:"round",strokeLinejoin:"round"}),C("path",{d:"M10.667 2H14.0003V5.33333",stroke:r,strokeLinecap:"round",strokeLinejoin:"round"}),C("path",{d:"M9.33333 9.99996H6V6.66663",stroke:r,strokeLinecap:"round",strokeLinejoin:"round"})]}))}const dr=e=>t=>t({...e,color:e.color??"currentColor"});var _2;(e=>{function t(r){return i=>C(r,{...i,strokeWidth:1.5})}e.AlertCircle=t(QW),e.AlertTriangle=t(ZW),e.Brush=t(eG),e.Camera=t(tG),e.Check=t(nG),e.ChevronDown=t(rG),e.ChevronUp=t(sG),e.ChevronsDownUp=t(oG),e.ChevronLeft=t(iG),e.Users=t(eH),e.Clapperboard=t(uG),e.ChevronRight=t(aG),e.Copy=t(dG),e.Dices=t(hG),e.Download=t(VI),e.Image=t(SG),e.Eye=t(yG),e.Folders=t(wG),e.Download=t(VI),e.EyeOff=t(gG),e.Edit=t(fG),e.ExternalLink=t(mG),e.Slash=t(GG),e.Hand=t(bG),e.History=t(xG),e.Import=t(CG),e.Info=t(EG),e.Layers=t(_G),e.Palette=t(OG),e.Locate=t(PG),e.LocateFixed=t(IG),e.Minus=t(RG),e.MoreVertical=t(NG),e.MoreHorizontal=t(DG),e.Plus=t(FG),e.Select=t(MG),e.Settings=t(jG),e.Sliders=t(HG),e.Trash=t(XG),e.Wand=t(tH),e.Undo=t(QG),e.Redo=t(BG),e.Upload=t(JG),e.Wrench=t(nH),e.X=t(rH),e.ArtStation=t(cH),e.Instagram=t(sH),e.Twitter=t(oH),e.Discord=t(lH),e.Generate=t(wH),e.CGSociety=t(uH),e.RefreshClockwise=t(zG),e.InfoIcon=t(dH),e.ShareIcon=t(hH),e.Search=t(UG),e.AspectRatio=t(fH),e.ModelIcon=t(pH),e.SlidersIcon=t(mH),e.Sprout=t(qG),e.Star=t(KG),e.TimerReset=t(YG),e.ZoomIn=t(iH),e.ZoomOut=t(aH),e.Focus=t(vG),e.Sidebar=t(WG),e.SidebarOpen=t(VG),e.SidebarClose=t($G),e.Steps=t(yH),e.Scale=t(gH),e.Coins=t(cG),e.Eraser=t(pG),e.Lock=t(AG),e.Unlock=t(ZG),e.Rectangle=t(vH),e.ArrowLeftCircle=t(JW),e.ImagePlus=t(kG),e.Variation=t(bH),e.Pencil=t(LG),e.Dream=t(xH),e.Upscale=t(kH),e.Keyboard=t(TG),e.ChevronsLeftRight=t(lG);function n(r){return C(e.Check,{...r,css:css`
          & {
            opacity: 0;
          }
        `})}e.Invisible=n})(_2||(_2={}));function gC(e){return e.autoSize?C(SH,{...e}):C(CH,{...e})}function SH({size:e=H.Common.Size.preset(),autoFocus:t=!1,value:n,onChange:r,...i}){const a=useRef(null),[,s]=useState(0);return useEffect(()=>{if(a.current){const o=window.getComputedStyle(a.current);a.current.style.height="auto";const l=a.current.scrollHeight+parseInt(o.paddingTop)+parseInt(o.paddingBottom);if(l===0){s(u=>u+1);return}a.current.style.height=l+"px"}},[n]),useEffect(()=>{!a.current||!t||(a.current.blur(),a.current.focus())},[t]),C("textarea",{ref:a,className:classes("dark:placeholder:text-muted-white w-full resize-none overflow-y-clip rounded text-black shadow-sm focus:border-transparent focus:outline-none dark:border-transparent dark:text-white",e==="sm"?"h-8 px-2 py-1 text-sm":e==="lg"?"h-12 px-3 py-1 text-lg":"h-10 px-2 py-1 text-base",i.disabled&&`cursor-not-allowed ${!i.transparent&&"bg-black/10"}`,i.transparent?"bg-transparent":"dark:bg-white/5",i.className),onFocus:i.onFocus,onBlur:i.onBlur,placeholder:i.placeholder,disabled:i.disabled,value:n,onChange:useCallback(o=>r(o.target.value),[r]),onKeyDown:i.onKeyDown})}function CH({loading:e,icon:t,iconLeft:n=t,iconRight:r,autoFocus:i=!1,transparent:a=!1,size:s=H.Common.Size.preset(),fullWidth:o=!0,className:l,value:u,onChange:c,...h}){const p=useRef(null);useEffect(()=>{!p.current||!i||(p.current.blur(),p.current.focus())},[i]);const m=useMemo(()=>({sm:classes("px-2.5 py-2 text-sm",a?"px-0":""),md:classes("px-3 py-2 text-base",a?"px-0":""),lg:classes("px-4 py-2 text-lg",a?"px-0":"")})[s==="xl"?"lg":s],[a,s]),g=useMemo(()=>{const y=(b,w)=>{const x=classes("opacity-60 h-5 w-5 text-black dark:text-white",w==="left"&&"mr-1 -ml-1",w==="right"&&"ml-1 -mr-1");return e&&w==="left"?C(H.Loading.Spinner,{className:x}):b?typeof b=="function"?b({className:x}):typeof b!="object"||React.isValidElement(b)?b:null:null};return{left:n&&y(n,"left"),right:r&&y(r,"right")}},[e,n,r]);return ne("div",{className:classes("relative",o&&"w-full",l),children:[g.left&&C("div",{className:"pointer-events-none absolute bottom-0 left-0 top-0 flex items-center justify-center pl-3",children:g.left}),C("input",{ref:p,className:classes("dark:placeholder:text-muted-white h-full w-full rounded bg-zinc-100/75 text-black shadow-sm focus:border-transparent focus:outline-none dark:border-none dark:bg-white/5 dark:text-white",m,h.disabled&&"cursor-not-allowed bg-black/10",a&&"bg-transparent dark:bg-transparent",!!n&&"pl-9",!!r&&"pr-9"),placeholder:h.placeholder,disabled:h.disabled,onFocus:h.onFocus,onBlur:h.onBlur,value:u,onChange:useCallback(y=>c(y.target.value),[c]),onKeyDown:h.onKeyDown,type:h.type||"text"}),g.right&&C("div",{className:"pointer-events-none absolute bottom-0 right-0 top-0 flex items-center justify-center pr-3",children:g.right})]})}function EH({children:e,className:t}){return C("h2",{className:classes("opacity-muted ml-2.5 -mb-1 select-none text-sm font-light",t),children:e})}function TH({showing:e=!0,variant:t="spiral",className:n}){const r=useRef(null);useEffect(()=>{r.current&&(r.current.style.animationName="none",r.current.style.animationName=WI.name)},[r,e]);const i=useMemo(()=>Math.random()*10,[]);return C("div",{className:classes("duration-1500 absolute top-0 left-0 right-0 bottom-0 overflow-hidden opacity-20 blur-2xl",!e&&"opacity-0",n),children:t==="linear"?C("div",{}):C("div",{ref:r,className:"h-full w-full",css:css`
            animation-name: ${WI};
            animation-duration: 7s;
            animation-iteration-count: infinite;
            animation-timing-function: ease-in-out;
            animation-direction: alternate;
          `,children:C("div",{className:"h-full w-full",css:css`
              background-image: url("./RainbowSpiral.jpg");
              background-size: cover;
              background-repeat: repeat;
              background-position: center;

              animation-name: ${_H};
              animation-duration: 3s;
              animation-iteration-count: infinite;
              animation-timing-function: linear;
            `,style:{animationDelay:`-${i}s`}})})})}const _H=sy`
  0% {
    transform: scale(${Math.sqrt(2)}) rotate(0deg);
  }

  100% {
    transform: scale(${Math.sqrt(2)}) rotate(360deg);
  }
`,WI=sy`
  0% {
    transform: scale(7);
  }

  100% {
    transform: scale(3);
  }
`;function IH({className:e}){return C("svg",{width:"38",height:"38",viewBox:"0 0 38 38",xmlns:"http://www.w3.org/2000/svg",stroke:"#fff",className:e,children:C("g",{fill:"none",fillRule:"evenodd",children:ne("g",{transform:"translate(1 1)",strokeWidth:"2",children:[C("circle",{strokeOpacity:".5",cx:"18",cy:"18",r:"18"}),C("path",{d:"M36 18c0-9.94-8.06-18-18-18",children:C("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"1s",repeatCount:"indefinite"})})]})})})}var I2;(e=>{e.Spinner=IH,e.Rainbow=TH})(I2||(I2={}));function PH(){return ne("div",{className:"flex items-center gap-1.5",children:[C(yC,{}),ne("div",{className:"flex flex-col",children:[C("span",{className:"text-lg font-medium",children:"StableStudio"}),ne("span",{className:"-mt-1 text-xs font-light",children:[C("span",{className:"text-white/75",children:"by "}),"stability.ai"]})]})]})}function yC(e){return C("img",{src:"./logo.png",alt:"Logo",...e})}yC.Next=PH;const vC=Y.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),my=Y.createContext({});function AH(){return Y.useContext(my).visualElement}const Uh=Y.createContext(null),gy=typeof document<"u",Pg=gy?Y.useLayoutEffect:Y.useEffect,iM=Y.createContext({strict:!1});function RH(e,t,n,r){const i=AH(),a=Y.useContext(iM),s=Y.useContext(Uh),o=Y.useContext(vC).reducedMotion,l=Y.useRef();r=r||a.renderer,!l.current&&r&&(l.current=r(e,{visualState:t,parent:i,props:n,presenceId:s?s.id:void 0,blockInitialAnimation:s?s.initial===!1:!1,reducedMotionConfig:o}));const u=l.current;return Pg(()=>{u&&u.render()}),(window.HandoffAppearAnimations?Pg:Y.useEffect)(()=>{u&&u.animationState&&u.animationState.animateChanges()}),u}function Jl(e){return typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function DH(e,t,n){return Y.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Jl(n)&&(n.current=r))},[t])}function hh(e){return typeof e=="string"||Array.isArray(e)}function yy(e){return typeof e=="object"&&typeof e.start=="function"}const NH=["initial","animate","exit","whileHover","whileDrag","whileTap","whileFocus","whileInView"];function vy(e){return yy(e.animate)||NH.some(t=>hh(e[t]))}function aM(e){return!!(vy(e)||e.variants)}function MH(e,t){if(vy(e)){const{initial:n,animate:r}=e;return{initial:n===!1||hh(n)?n:void 0,animate:hh(r)?r:void 0}}return e.inherit!==!1?t:{}}function OH(e){const{initial:t,animate:n}=MH(e,Y.useContext(my));return Y.useMemo(()=>({initial:t,animate:n}),[GI(t),GI(n)])}function GI(e){return Array.isArray(e)?e.join(" "):e}const Ia=e=>({isEnabled:t=>e.some(n=>!!t[n])}),fh={measureLayout:Ia(["layout","layoutId","drag"]),animation:Ia(["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"]),exit:Ia(["exit"]),drag:Ia(["drag","dragControls"]),focus:Ia(["whileFocus"]),hover:Ia(["whileHover","onHoverStart","onHoverEnd"]),tap:Ia(["whileTap","onTap","onTapStart","onTapCancel"]),pan:Ia(["onPan","onPanStart","onPanSessionStart","onPanEnd"]),inView:Ia(["whileInView","onViewportEnter","onViewportLeave"])};function LH(e){for(const t in e)t==="projectionNodeConstructor"?fh.projectionNodeConstructor=e[t]:fh[t].Component=e[t]}function wy(e){const t=Y.useRef(null);return t.current===null&&(t.current=e()),t.current}const kd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let FH=1;function BH(){return wy(()=>{if(kd.hasEverUpdated)return FH++})}const wC=Y.createContext({});class zH extends $e.Component{getSnapshotBeforeUpdate(){const{visualElement:t,props:n}=this.props;return t&&t.setProps(n),null}componentDidUpdate(){}render(){return this.props.children}}const sM=Y.createContext({}),UH=Symbol.for("motionComponentSymbol");function jH({preloadedFeatures:e,createVisualElement:t,projectionNodeConstructor:n,useRender:r,useVisualState:i,Component:a}){e&&LH(e);function s(l,u){const c={...Y.useContext(vC),...l,layoutId:$H(l)},{isStatic:h}=c;let p=null;const m=OH(l),g=h?void 0:BH(),y=i(l,h);if(!h&&gy){m.visualElement=RH(a,y,c,t);const b=Y.useContext(iM).strict,w=Y.useContext(sM);m.visualElement&&(p=m.visualElement.loadFeatures(c,b,e,g,n||fh.projectionNodeConstructor,w))}return Y.createElement(zH,{visualElement:m.visualElement,props:c},p,Y.createElement(my.Provider,{value:m},r(a,l,g,DH(y,m.visualElement,u),y,h,m.visualElement)))}const o=Y.forwardRef(s);return o[UH]=a,o}function $H({layoutId:e}){const t=Y.useContext(wC).id;return t&&e!==void 0?t+"-"+e:e}function VH(e){function t(r,i={}){return jH(e(r,i))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,i)=>(n.has(i)||n.set(i,t(i)),n.get(i))})}const WH=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function bC(e){return typeof e!="string"||e.includes("-")?!1:!!(WH.indexOf(e)>-1||/[A-Z]/.test(e))}const Ag={};function GH(e){Object.assign(Ag,e)}const Rg=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],rc=new Set(Rg);function oM(e,{layout:t,layoutId:n}){return rc.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Ag[e]||e==="opacity")}const Or=e=>!!e?.getVelocity,HH={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},qH=(e,t)=>Rg.indexOf(e)-Rg.indexOf(t);function KH({transform:e,transformKeys:t},{enableHardwareAcceleration:n=!0,allowTransformNone:r=!0},i,a){let s="";t.sort(qH);for(const o of t)s+=`${HH[o]||o}(${e[o]}) `;return n&&!e.z&&(s+="translateZ(0)"),s=s.trim(),a?s=a(e,i?"":s):r&&i&&(s="none"),s}function lM(e){return e.startsWith("--")}const YH=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Nu=(e,t,n)=>Math.min(Math.max(n,e),t),ll={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Sd={...ll,transform:e=>Nu(0,1,e)},Tp={...ll,default:1},Cd=e=>Math.round(e*1e5)/1e5,ph=/(-)?([\d]*\.?[\d])+/g,P2=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,XH=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function jh(e){return typeof e=="string"}const $h=e=>({test:t=>jh(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),ps=$h("deg"),ma=$h("%"),it=$h("px"),QH=$h("vh"),ZH=$h("vw"),HI={...ma,parse:e=>ma.parse(e)/100,transform:e=>ma.transform(e*100)},qI={...ll,transform:Math.round},uM={borderWidth:it,borderTopWidth:it,borderRightWidth:it,borderBottomWidth:it,borderLeftWidth:it,borderRadius:it,radius:it,borderTopLeftRadius:it,borderTopRightRadius:it,borderBottomRightRadius:it,borderBottomLeftRadius:it,width:it,maxWidth:it,height:it,maxHeight:it,size:it,top:it,right:it,bottom:it,left:it,padding:it,paddingTop:it,paddingRight:it,paddingBottom:it,paddingLeft:it,margin:it,marginTop:it,marginRight:it,marginBottom:it,marginLeft:it,rotate:ps,rotateX:ps,rotateY:ps,rotateZ:ps,scale:Tp,scaleX:Tp,scaleY:Tp,scaleZ:Tp,skew:ps,skewX:ps,skewY:ps,distance:it,translateX:it,translateY:it,translateZ:it,x:it,y:it,z:it,perspective:it,transformPerspective:it,opacity:Sd,originX:HI,originY:HI,originZ:it,zIndex:qI,fillOpacity:Sd,strokeOpacity:Sd,numOctaves:qI};function xC(e,t,n,r){const{style:i,vars:a,transform:s,transformKeys:o,transformOrigin:l}=e;o.length=0;let u=!1,c=!1,h=!0;for(const p in t){const m=t[p];if(lM(p)){a[p]=m;continue}const g=uM[p],y=YH(m,g);if(rc.has(p)){if(u=!0,s[p]=y,o.push(p),!h)continue;m!==(g.default||0)&&(h=!1)}else p.startsWith("origin")?(c=!0,l[p]=y):i[p]=y}if(t.transform||(u||r?i.transform=KH(e,n,h,r):i.transform&&(i.transform="none")),c){const{originX:p="50%",originY:m="50%",originZ:g=0}=l;i.transformOrigin=`${p} ${m} ${g}`}}const kC=()=>({style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}});function cM(e,t,n){for(const r in t)!Or(t[r])&&!oM(r,n)&&(e[r]=t[r])}function JH({transformTemplate:e},t,n){return Y.useMemo(()=>{const r=kC();return xC(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function eq(e,t,n){const r=e.style||{},i={};return cM(i,r,e),Object.assign(i,JH(e,t,n)),e.transformValues?e.transformValues(i):i}function tq(e,t,n){const r={},i=eq(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),r.style=i,r}const nq=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","viewport"]);function Dg(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||nq.has(e)}let dM=e=>!Dg(e);function rq(e){e&&(dM=t=>t.startsWith("on")?!Dg(t):e(t))}try{rq(require("@emotion/is-prop-valid").default)}catch{}function iq(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(dM(i)||n===!0&&Dg(i)||!t&&!Dg(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function KI(e,t,n){return typeof e=="string"?e:it.transform(t+n*e)}function aq(e,t,n){const r=KI(t,e.x,e.width),i=KI(n,e.y,e.height);return`${r} ${i}`}const sq={offset:"stroke-dashoffset",array:"stroke-dasharray"},oq={offset:"strokeDashoffset",array:"strokeDasharray"};function lq(e,t,n=1,r=0,i=!0){e.pathLength=1;const a=i?sq:oq;e[a.offset]=it.transform(-r);const s=it.transform(t),o=it.transform(n);e[a.array]=`${s} ${o}`}function SC(e,{attrX:t,attrY:n,originX:r,originY:i,pathLength:a,pathSpacing:s=1,pathOffset:o=0,...l},u,c,h){if(xC(e,l,u,h),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:p,style:m,dimensions:g}=e;p.transform&&(g&&(m.transform=p.transform),delete p.transform),g&&(r!==void 0||i!==void 0||m.transform)&&(m.transformOrigin=aq(g,r!==void 0?r:.5,i!==void 0?i:.5)),t!==void 0&&(p.x=t),n!==void 0&&(p.y=n),a!==void 0&&lq(p,a,s,o,!1)}const hM=()=>({...kC(),attrs:{}}),CC=e=>typeof e=="string"&&e.toLowerCase()==="svg";function uq(e,t,n,r){const i=Y.useMemo(()=>{const a=hM();return SC(a,t,{enableHardwareAcceleration:!1},CC(r),e.transformTemplate),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};cM(a,e.style,e),i.style={...a,...i.style}}return i}function cq(e=!1){return(n,r,i,a,{latestValues:s},o)=>{const u=(bC(n)?uq:tq)(r,s,o,n),h={...iq(r,typeof n=="string",e),...u,ref:a},{children:p}=r,m=Y.useMemo(()=>Or(p)?p.get():p,[p]);return i&&(h["data-projection-id"]=i),Y.createElement(n,{...h,children:m})}}const EC=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function fM(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const a in n)e.style.setProperty(a,n[a])}const pM=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function mM(e,t,n,r){fM(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(pM.has(i)?i:EC(i),t.attrs[i])}function TC(e,t){const{style:n}=e,r={};for(const i in n)(Or(n[i])||t.style&&Or(t.style[i])||oM(i,e))&&(r[i]=n[i]);return r}function gM(e,t){const n=TC(e,t);for(const r in e)if(Or(e[r])||Or(t[r])){const i=r==="x"||r==="y"?"attr"+r.toUpperCase():r;n[i]=e[r]}return n}function _C(e,t,n,r={},i={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,i)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,i)),t}const Ng=e=>Array.isArray(e),dq=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),hq=e=>Ng(e)?e[e.length-1]||0:e;function fm(e){const t=Or(e)?e.get():e;return dq(t)?t.toValue():t}function fq({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,i,a){const s={latestValues:pq(r,i,a,e),renderState:t()};return n&&(s.mount=o=>n(r,o,s)),s}const yM=e=>(t,n)=>{const r=Y.useContext(my),i=Y.useContext(Uh),a=()=>fq(e,t,r,i);return n?a():wy(a)};function pq(e,t,n,r){const i={},a=r(e,{});for(const p in a)i[p]=fm(a[p]);let{initial:s,animate:o}=e;const l=vy(e),u=aM(e);t&&u&&!l&&e.inherit!==!1&&(s===void 0&&(s=t.initial),o===void 0&&(o=t.animate));let c=n?n.initial===!1:!1;c=c||s===!1;const h=c?o:s;return h&&typeof h!="boolean"&&!yy(h)&&(Array.isArray(h)?h:[h]).forEach(m=>{const g=_C(e,m);if(!g)return;const{transitionEnd:y,transition:b,...w}=g;for(const x in w){let k=w[x];if(Array.isArray(k)){const _=c?k.length-1:0;k=k[_]}k!==null&&(i[x]=k)}for(const x in y)i[x]=y[x]}),i}const mq={useVisualState:yM({scrapeMotionValuesFromProps:gM,createRenderState:hM,onMount:(e,t,{renderState:n,latestValues:r})=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}SC(n,r,{enableHardwareAcceleration:!1},CC(t.tagName),e.transformTemplate),mM(t,n)}})},gq={useVisualState:yM({scrapeMotionValuesFromProps:TC,createRenderState:kC})};function yq(e,{forwardMotionProps:t=!1},n,r,i){return{...bC(e)?mq:gq,preloadedFeatures:n,useRender:cq(t),createVisualElement:r,projectionNodeConstructor:i,Component:e}}var Ht;(function(e){e.Animate="animate",e.Hover="whileHover",e.Tap="whileTap",e.Drag="whileDrag",e.Focus="whileFocus",e.InView="whileInView",e.Exit="exit"})(Ht||(Ht={}));function by(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function A2(e,t,n,r){Y.useEffect(()=>{const i=e.current;if(n&&i)return by(i,t,n,r)},[e,t,n,r])}function vq({whileFocus:e,visualElement:t}){const{animationState:n}=t,r=Y.useCallback(()=>{n&&n.setActive(Ht.Focus,!0)},[n]),i=Y.useCallback(()=>{n&&n.setActive(Ht.Focus,!1)},[n]);A2(t,"focus",e?r:void 0),A2(t,"blur",e?i:void 0)}const vM=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function IC(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const wM=e=>t=>vM(t)&&e(t,IC(t));function mu(e,t,n,r){return by(e,t,wM(n),r)}function Mg(e,t,n,r){return A2(e,t,n&&wM(n),r)}function bM(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const YI=bM("dragHorizontal"),XI=bM("dragVertical");function xM(e){let t=!1;if(e==="y")t=XI();else if(e==="x")t=YI();else{const n=YI(),r=XI();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function kM(){const e=xM(!0);return e?(e(),!1):!0}function QI(e,t,n,r){return(i,a)=>{i.type==="touch"||kM()||(n&&e.animationState&&e.animationState.setActive(Ht.Hover,t),r&&r(i,a))}}function wq({onHoverStart:e,onHoverEnd:t,whileHover:n,visualElement:r}){Mg(r,"pointerenter",Y.useMemo(()=>e||n?QI(r,!0,!!n,e):void 0,[e,!!n,r]),{passive:!e}),Mg(r,"pointerleave",Y.useMemo(()=>t||n?QI(r,!1,!!n,t):void 0,[e,!!n,r]),{passive:!t})}const SM=(e,t)=>t?e===t?!0:SM(e,t.parentElement):!1;function PC(e){return Y.useEffect(()=>()=>e(),[])}const bq=(e,t)=>n=>t(e(n)),xy=(...e)=>e.reduce(bq);function xq({onTap:e,onTapStart:t,onTapCancel:n,whileTap:r,visualElement:i,...a}){const s=e||t||n||r,o=Y.useRef(!1),l=Y.useRef(null),u={passive:!(t||e||n||a.onPointerDown)};function c(){l.current&&l.current(),l.current=null}function h(){return c(),o.current=!1,i.getProps().whileTap&&i.animationState&&i.animationState.setActive(Ht.Tap,!1),!kM()}function p(y,b){var w,x,k,_;h()&&(SM(i.current,y.target)?(_=(k=i.getProps()).onTap)===null||_===void 0||_.call(k,y,b):(x=(w=i.getProps()).onTapCancel)===null||x===void 0||x.call(w,y,b))}function m(y,b){var w,x;h()&&((x=(w=i.getProps()).onTapCancel)===null||x===void 0||x.call(w,y,b))}const g=Y.useCallback((y,b)=>{var w;if(c(),o.current)return;o.current=!0,l.current=xy(mu(window,"pointerup",p,u),mu(window,"pointercancel",m,u));const x=i.getProps();x.whileTap&&i.animationState&&i.animationState.setActive(Ht.Tap,!0),(w=x.onTapStart)===null||w===void 0||w.call(x,y,b)},[!!t,i]);Mg(i,"pointerdown",s?g:void 0,u),PC(c)}const R2=new WeakMap,J1=new WeakMap,kq=e=>{const t=R2.get(e.target);t&&t(e)},Sq=e=>{e.forEach(kq)};function Cq({root:e,...t}){const n=e||document;J1.has(n)||J1.set(n,{});const r=J1.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(Sq,{root:e,...t})),r[i]}function Eq(e,t,n){const r=Cq(t);return R2.set(e,n),r.observe(e),()=>{R2.delete(e),r.unobserve(e)}}function Tq({visualElement:e,whileInView:t,onViewportEnter:n,onViewportLeave:r,viewport:i={}}){const a=Y.useRef({hasEnteredView:!1,isInView:!1});let s=!!(t||n||r);i.once&&a.current.hasEnteredView&&(s=!1),(typeof IntersectionObserver>"u"?Pq:Iq)(s,a.current,e,i)}const _q={some:0,all:1};function Iq(e,t,n,{root:r,margin:i,amount:a="some",once:s}){Y.useEffect(()=>{if(!e||!n.current)return;const o={root:r?.current,rootMargin:i,threshold:typeof a=="number"?a:_q[a]},l=u=>{const{isIntersecting:c}=u;if(t.isInView===c||(t.isInView=c,s&&!c&&t.hasEnteredView))return;c&&(t.hasEnteredView=!0),n.animationState&&n.animationState.setActive(Ht.InView,c);const h=n.getProps(),p=c?h.onViewportEnter:h.onViewportLeave;p&&p(u)};return Eq(n.current,o,l)},[e,r,i,a])}function Pq(e,t,n,{fallback:r=!0}){Y.useEffect(()=>{!e||!r||requestAnimationFrame(()=>{t.hasEnteredView=!0;const{onViewportEnter:i}=n.getProps();i&&i(null),n.animationState&&n.animationState.setActive(Ht.InView,!0)})},[e])}const Ps=e=>t=>(e(t),null),Aq={inView:Ps(Tq),tap:Ps(xq),focus:Ps(vq),hover:Ps(wq)};function CM(){const e=Y.useContext(Uh);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,i=Y.useId();return Y.useEffect(()=>r(i),[]),!t&&n?[!1,()=>n&&n(i)]:[!0]}function EM(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const Rq=e=>/^\-?\d*\.?\d+$/.test(e),Dq=e=>/^0[^.\s]+$/.test(e),za={delta:0,timestamp:0},TM=1/60*1e3,Nq=typeof performance<"u"?()=>performance.now():()=>Date.now(),_M=typeof window<"u"?e=>window.requestAnimationFrame(e):e=>setTimeout(()=>e(Nq()),TM);function Mq(e){let t=[],n=[],r=0,i=!1,a=!1;const s=new WeakSet,o={schedule:(l,u=!1,c=!1)=>{const h=c&&i,p=h?t:n;return u&&s.add(l),p.indexOf(l)===-1&&(p.push(l),h&&i&&(r=t.length)),l},cancel:l=>{const u=n.indexOf(l);u!==-1&&n.splice(u,1),s.delete(l)},process:l=>{if(i){a=!0;return}if(i=!0,[t,n]=[n,t],n.length=0,r=t.length,r)for(let u=0;u<r;u++){const c=t[u];c(l),s.has(c)&&(o.schedule(c),e())}i=!1,a&&(a=!1,o.process(l))}};return o}const Oq=40;let D2=!0,mh=!1,N2=!1;const Vh=["read","update","preRender","render","postRender"],ky=Vh.reduce((e,t)=>(e[t]=Mq(()=>mh=!0),e),{}),ur=Vh.reduce((e,t)=>{const n=ky[t];return e[t]=(r,i=!1,a=!1)=>(mh||Fq(),n.schedule(r,i,a)),e},{}),$s=Vh.reduce((e,t)=>(e[t]=ky[t].cancel,e),{}),ew=Vh.reduce((e,t)=>(e[t]=()=>ky[t].process(za),e),{}),Lq=e=>ky[e].process(za),IM=e=>{mh=!1,za.delta=D2?TM:Math.max(Math.min(e-za.timestamp,Oq),1),za.timestamp=e,N2=!0,Vh.forEach(Lq),N2=!1,mh&&(D2=!1,_M(IM))},Fq=()=>{mh=!0,D2=!0,N2||_M(IM)};function AC(e,t){e.indexOf(t)===-1&&e.push(t)}function RC(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class DC{constructor(){this.subscriptions=[]}add(t){return AC(this.subscriptions,t),()=>RC(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let a=0;a<i;a++){const s=this.subscriptions[a];s&&s(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function NC(e,t){return t?e*(1e3/t):0}const Bq=e=>!isNaN(parseFloat(e));class zq{constructor(t,n={}){this.version="8.5.5",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:a,timestamp:s}=za;this.lastUpdated!==s&&(this.timeDelta=a,this.lastUpdated=s,ur.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>ur.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=Bq(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new DC);const r=this.events[t].add(n);return t==="change"?()=>{r(),ur.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?NC(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n)||null,this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){this.animation=null}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Mu(e,t){return new zq(e,t)}const MC=(e,t)=>n=>!!(jh(n)&&XH.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),PM=(e,t,n)=>r=>{if(!jh(r))return r;const[i,a,s,o]=r.match(ph);return{[e]:parseFloat(i),[t]:parseFloat(a),[n]:parseFloat(s),alpha:o!==void 0?parseFloat(o):1}},Uq=e=>Nu(0,255,e),tw={...ll,transform:e=>Math.round(Uq(e))},Ao={test:MC("rgb","red"),parse:PM("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+tw.transform(e)+", "+tw.transform(t)+", "+tw.transform(n)+", "+Cd(Sd.transform(r))+")"};function jq(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const M2={test:MC("#"),parse:jq,transform:Ao.transform},eu={test:MC("hsl","hue"),parse:PM("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+ma.transform(Cd(t))+", "+ma.transform(Cd(n))+", "+Cd(Sd.transform(r))+")"},fr={test:e=>Ao.test(e)||M2.test(e)||eu.test(e),parse:e=>Ao.test(e)?Ao.parse(e):eu.test(e)?eu.parse(e):M2.parse(e),transform:e=>jh(e)?e:e.hasOwnProperty("red")?Ao.transform(e):eu.transform(e)},AM="${c}",RM="${n}";function $q(e){var t,n;return isNaN(e)&&jh(e)&&(((t=e.match(ph))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(P2))===null||n===void 0?void 0:n.length)||0)>0}function Og(e){typeof e=="number"&&(e=`${e}`);const t=[];let n=0,r=0;const i=e.match(P2);i&&(n=i.length,e=e.replace(P2,AM),t.push(...i.map(fr.parse)));const a=e.match(ph);return a&&(r=a.length,e=e.replace(ph,RM),t.push(...a.map(ll.parse))),{values:t,numColors:n,numNumbers:r,tokenised:e}}function DM(e){return Og(e).values}function NM(e){const{values:t,numColors:n,tokenised:r}=Og(e),i=t.length;return a=>{let s=r;for(let o=0;o<i;o++)s=s.replace(o<n?AM:RM,o<n?fr.transform(a[o]):Cd(a[o]));return s}}const Vq=e=>typeof e=="number"?0:e;function Wq(e){const t=DM(e);return NM(e)(t.map(Vq))}const Vs={test:$q,parse:DM,createTransformer:NM,getAnimatableNone:Wq},Gq=new Set(["brightness","contrast","saturate","opacity"]);function Hq(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(ph)||[];if(!r)return e;const i=n.replace(r,"");let a=Gq.has(t)?1:0;return r!==n&&(a*=100),t+"("+a+i+")"}const qq=/([a-z-]*)\(.*?\)/g,O2={...Vs,getAnimatableNone:e=>{const t=e.match(qq);return t?t.map(Hq).join(" "):e}},Kq={...uM,color:fr,backgroundColor:fr,outlineColor:fr,fill:fr,stroke:fr,borderColor:fr,borderTopColor:fr,borderRightColor:fr,borderBottomColor:fr,borderLeftColor:fr,filter:O2,WebkitFilter:O2},OC=e=>Kq[e];function LC(e,t){var n;let r=OC(e);return r!==O2&&(r=Vs),(n=r.getAnimatableNone)===null||n===void 0?void 0:n.call(r,t)}const MM=e=>t=>t.test(e),Yq={test:e=>e==="auto",parse:e=>e},OM=[ll,it,ma,ps,ZH,QH,Yq],jc=e=>OM.find(MM(e)),Xq=[...OM,fr,Vs],Qq=e=>Xq.find(MM(e));function Zq(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function Jq(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function Sy(e,t,n){const r=e.getProps();return _C(r,t,n!==void 0?n:r.custom,Zq(e),Jq(e))}function eK(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Mu(n))}function tK(e,t){const n=Sy(e,t);let{transitionEnd:r={},transition:i={},...a}=n?e.makeTargetAnimatable(n,!1):{};a={...a,...r};for(const s in a){const o=hq(a[s]);eK(e,s,o)}}function nK(e,t,n){var r,i;const a=Object.keys(t).filter(o=>!e.hasValue(o)),s=a.length;if(s)for(let o=0;o<s;o++){const l=a[o],u=t[l];let c=null;Array.isArray(u)&&(c=u[0]),c===null&&(c=(i=(r=n[l])!==null&&r!==void 0?r:e.readValue(l))!==null&&i!==void 0?i:t[l]),c!=null&&(typeof c=="string"&&(Rq(c)||Dq(c))?c=parseFloat(c):!Qq(c)&&Vs.test(u)&&(c=LC(l,u)),e.addValue(l,Mu(c,{owner:e})),n[l]===void 0&&(n[l]=c),c!==null&&e.setBaseTarget(l,c))}}function rK(e,t){return t?(t[e]||t.default||t).from:void 0}function iK(e,t,n){var r;const i={};for(const a in e){const s=rK(a,t);i[a]=s!==void 0?s:(r=n.getValue(a))===null||r===void 0?void 0:r.get()}return i}function Lg(e){return!!(Or(e)&&e.add)}const aK="framerAppearId",sK="data-"+EC(aK);var oK=function(){},Fg=function(){};const pm=e=>e*1e3,lK={current:!1},FC=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,BC=e=>t=>1-e(1-t),zC=e=>e*e,uK=BC(zC),UC=FC(zC),gn=(e,t,n)=>-n*e+n*t+e;function nw(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function cK({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,a=0,s=0;if(!t)i=a=s=n;else{const o=n<.5?n*(1+t):n+t-n*t,l=2*n-o;i=nw(l,o,e+1/3),a=nw(l,o,e),s=nw(l,o,e-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(s*255),alpha:r}}const rw=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},dK=[M2,Ao,eu],hK=e=>dK.find(t=>t.test(e));function ZI(e){const t=hK(e);let n=t.parse(e);return t===eu&&(n=cK(n)),n}const LM=(e,t)=>{const n=ZI(e),r=ZI(t),i={...n};return a=>(i.red=rw(n.red,r.red,a),i.green=rw(n.green,r.green,a),i.blue=rw(n.blue,r.blue,a),i.alpha=gn(n.alpha,r.alpha,a),Ao.transform(i))};function FM(e,t){return typeof e=="number"?n=>gn(e,t,n):fr.test(e)?LM(e,t):zM(e,t)}const BM=(e,t)=>{const n=[...e],r=n.length,i=e.map((a,s)=>FM(a,t[s]));return a=>{for(let s=0;s<r;s++)n[s]=i[s](a);return n}},fK=(e,t)=>{const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=FM(e[i],t[i]));return i=>{for(const a in r)n[a]=r[a](i);return n}},zM=(e,t)=>{const n=Vs.createTransformer(t),r=Og(e),i=Og(t);return r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?xy(BM(r.values,i.values),n):s=>`${s>0?t:e}`},Bg=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},JI=(e,t)=>n=>gn(e,t,n);function pK(e){return typeof e=="number"?JI:typeof e=="string"?fr.test(e)?LM:zM:Array.isArray(e)?BM:typeof e=="object"?fK:JI}function mK(e,t,n){const r=[],i=n||pK(e[0]),a=e.length-1;for(let s=0;s<a;s++){let o=i(e[s],e[s+1]);if(t){const l=Array.isArray(t)?t[s]:t;o=xy(l,o)}r.push(o)}return r}function UM(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const a=e.length;Fg(a===t.length),Fg(!r||!Array.isArray(r)||r.length===a-1),e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const s=mK(t,r,i),o=s.length,l=u=>{let c=0;if(o>1)for(;c<e.length-2&&!(u<e[c+1]);c++);const h=Bg(e[c],e[c+1],u);return s[c](h)};return n?u=>l(Nu(e[0],e[a-1],u)):l}const jC=e=>e,jM=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,gK=1e-7,yK=12;function vK(e,t,n,r,i){let a,s,o=0;do s=t+(n-t)/2,a=jM(s,r,i)-e,a>0?n=s:t=s;while(Math.abs(a)>gK&&++o<yK);return s}function $M(e,t,n,r){if(e===t&&n===r)return jC;const i=a=>vK(a,0,1,e,n);return a=>a===0||a===1?a:jM(i(a),t,r)}const VM=e=>1-Math.sin(Math.acos(e)),$C=BC(VM),wK=FC($C),WM=$M(.33,1.53,.69,.99),VC=BC(WM),bK=FC(VC),xK=e=>(e*=2)<1?.5*VC(e):.5*(2-Math.pow(2,-10*(e-1))),kK={linear:jC,easeIn:zC,easeInOut:UC,easeOut:uK,circIn:VM,circInOut:wK,circOut:$C,backIn:VC,backInOut:bK,backOut:WM,anticipate:xK},e5=e=>{if(Array.isArray(e)){Fg(e.length===4);const[t,n,r,i]=e;return $M(t,n,r,i)}else if(typeof e=="string")return kK[e];return e},SK=e=>Array.isArray(e)&&typeof e[0]!="number";function CK(e,t){return e.map(()=>t||UC).splice(0,e.length-1)}function EK(e){const t=e.length;return e.map((n,r)=>r!==0?r/(t-1):0)}function TK(e,t){return e.map(n=>n*t)}function L2({keyframes:e,ease:t=UC,times:n,duration:r=300}){e=[...e];const i=SK(t)?t.map(e5):e5(t),a={done:!1,value:e[0]},s=TK(n&&n.length===e.length?n:EK(e),r);function o(){return UM(s,e,{ease:Array.isArray(i)?i:CK(e,i)})}let l=o();return{next:u=>(a.value=l(u),a.done=u>=r,a),flipTarget:()=>{e.reverse(),l=o()}}}const iw=.001,_K=.01,t5=10,IK=.05,PK=1;function AK({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let i,a;oK(e<=t5*1e3);let s=1-t;s=Nu(IK,PK,s),e=Nu(_K,t5,e/1e3),s<1?(i=u=>{const c=u*s,h=c*e,p=c-n,m=F2(u,s),g=Math.exp(-h);return iw-p/m*g},a=u=>{const h=u*s*e,p=h*n+n,m=Math.pow(s,2)*Math.pow(u,2)*e,g=Math.exp(-h),y=F2(Math.pow(u,2),s);return(-i(u)+iw>0?-1:1)*((p-m)*g)/y}):(i=u=>{const c=Math.exp(-u*e),h=(u-n)*e+1;return-iw+c*h},a=u=>{const c=Math.exp(-u*e),h=(n-u)*(e*e);return c*h});const o=5/e,l=DK(i,a,o);if(e=e*1e3,isNaN(l))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:s*2*Math.sqrt(r*u),duration:e}}}const RK=12;function DK(e,t,n){let r=n;for(let i=1;i<RK;i++)r=r-e(r)/t(r);return r}function F2(e,t){return e*Math.sqrt(1-t*t)}const NK=["duration","bounce"],MK=["stiffness","damping","mass"];function n5(e,t){return t.some(n=>e[n]!==void 0)}function OK(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!n5(e,MK)&&n5(e,NK)){const n=AK(e);t={...t,...n,velocity:0,mass:1},t.isResolvedFromDuration=!0}return t}const LK=5;function GM({keyframes:e,restDelta:t,restSpeed:n,...r}){let i=e[0],a=e[e.length-1];const s={done:!1,value:i},{stiffness:o,damping:l,mass:u,velocity:c,duration:h,isResolvedFromDuration:p}=OK(r);let m=FK,g=c?-(c/1e3):0;const y=l/(2*Math.sqrt(o*u));function b(){const w=a-i,x=Math.sqrt(o/u)/1e3,k=Math.abs(w)<5;if(n||(n=k?.01:2),t||(t=k?.005:.5),y<1){const _=F2(x,y);m=A=>{const P=Math.exp(-y*x*A);return a-P*((g+y*x*w)/_*Math.sin(_*A)+w*Math.cos(_*A))}}else if(y===1)m=_=>a-Math.exp(-x*_)*(w+(g+x*w)*_);else{const _=x*Math.sqrt(y*y-1);m=A=>{const P=Math.exp(-y*x*A),N=Math.min(_*A,300);return a-P*((g+y*x*w)*Math.sinh(N)+_*w*Math.cosh(N))/_}}}return b(),{next:w=>{const x=m(w);if(p)s.done=w>=h;else{let k=g;if(w!==0)if(y<1){const P=Math.max(0,w-LK);k=NC(x-m(P),w-P)}else k=0;const _=Math.abs(k)<=n,A=Math.abs(a-x)<=t;s.done=_&&A}return s.value=s.done?a:x,s},flipTarget:()=>{g=-g,[i,a]=[a,i],b()}}}GM.needsInterpolation=(e,t)=>typeof e=="string"||typeof t=="string";const FK=e=>0;function BK({keyframes:e=[0],velocity:t=0,power:n=.8,timeConstant:r=350,restDelta:i=.5,modifyTarget:a}){const s=e[0],o={done:!1,value:s};let l=n*t;const u=s+l,c=a===void 0?u:a(u);return c!==u&&(l=c-s),{next:h=>{const p=-l*Math.exp(-h/r);return o.done=!(p>i||p<-i),o.value=o.done?c:c+p,o},flipTarget:()=>{}}}const zK={decay:BK,keyframes:L2,tween:L2,spring:GM};function HM(e,t,n=0){return e-t-n}function UK(e,t=0,n=0,r=!0){return r?HM(t+-e,t,n):t-(e-t)+n}function jK(e,t,n,r){return r?e>=t+n:e<=-n}const $K=e=>{const t=({delta:n})=>e(n);return{start:()=>ur.update(t,!0),stop:()=>$s.update(t)}};function zg({duration:e,driver:t=$K,elapsed:n=0,repeat:r=0,repeatType:i="loop",repeatDelay:a=0,keyframes:s,autoplay:o=!0,onPlay:l,onStop:u,onComplete:c,onRepeat:h,onUpdate:p,type:m="keyframes",...g}){var y,b;const w=n;let x,k=0,_=e,A=!1,P=!0,N;const B=zK[s.length>2?"keyframes":m]||L2,j=s[0],W=s[s.length-1];let K={done:!1,value:j};!((b=(y=B).needsInterpolation)===null||b===void 0)&&b.call(y,j,W)&&(N=UM([0,100],[j,W],{clamp:!1}),s=[0,100]);const z=B({...g,duration:e,keyframes:s});function G(){k++,i==="reverse"?(P=k%2===0,n=UK(n,_,a,P)):(n=HM(n,_,a),i==="mirror"&&z.flipTarget()),A=!1,h&&h()}function M(){x&&x.stop(),c&&c()}function te(ue){P||(ue=-ue),n+=ue,A||(K=z.next(Math.max(0,n)),N&&(K.value=N(K.value)),A=P?K.done:n<=0),p&&p(K.value),A&&(k===0&&(_=_!==void 0?_:n),k<r?jK(n,_,a,P)&&G():M())}function X(){l&&l(),x=t(te),x.start()}return o&&X(),{stop:()=>{u&&u(),x&&x.stop()},set currentTime(ue){n=w,te(ue)},sample:ue=>{n=w;const de=e&&typeof e=="number"?Math.max(e*.5,50):50;let ae=0;for(te(0);ae<=ue;){const pe=ue-ae;te(Math.min(pe,de)),ae+=de}return K}}}function VK(e){return!e||Array.isArray(e)||typeof e=="string"&&qM[e]}const ld=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,qM={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ld([0,.65,.55,1]),circOut:ld([.55,0,1,.45]),backIn:ld([.31,.01,.66,-.59]),backOut:ld([.33,1.53,.69,.99])};function WK(e){if(e)return Array.isArray(e)?ld(e):qM[e]}function GK(e,t,n,{delay:r=0,duration:i,repeat:a=0,repeatType:s="loop",ease:o,times:l}={}){return e.animate({[t]:n,offset:l},{delay:r,duration:i,easing:WK(o),fill:"both",iterations:a+1,direction:s==="reverse"?"alternate":"normal"})}const r5={waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate")},aw={},KM={};for(const e in r5)KM[e]=()=>(aw[e]===void 0&&(aw[e]=r5[e]()),aw[e]);function HK(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const qK=new Set(["opacity"]),_p=10;function KK(e,t,{onUpdate:n,onComplete:r,...i}){if(!(KM.waapi()&&qK.has(t)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0))return!1;let{keyframes:s,duration:o=300,elapsed:l=0,ease:u}=i;if(i.type==="spring"||!VK(i.ease)){if(i.repeat===1/0)return;const h=zg({...i,elapsed:0});let p={done:!1,value:s[0]};const m=[];let g=0;for(;!p.done&&g<2e4;)p=h.sample(g),m.push(p.value),g+=_p;s=m,o=g-_p,u="linear"}const c=GK(e.owner.current,t,s,{...i,delay:-l,duration:o,ease:u});return c.onfinish=()=>{e.set(HK(s,i)),ur.update(()=>c.cancel()),r&&r()},{get currentTime(){return c.currentTime||0},set currentTime(h){c.currentTime=h},stop:()=>{const{currentTime:h}=c;if(h){const p=zg({...i,autoplay:!1});e.setWithVelocity(p.sample(h-_p).value,p.sample(h).value,_p)}ur.update(()=>c.cancel())}}}function YM(e,t){const n=performance.now(),r=({timestamp:i})=>{const a=i-n;a>=t&&($s.read(r),e(a-t))};return ur.read(r,!0),()=>$s.read(r)}function YK({keyframes:e,elapsed:t,onUpdate:n,onComplete:r}){const i=()=>{n&&n(e[e.length-1]),r&&r()};return t?{stop:YM(i,-t)}:i()}function XK({keyframes:e,velocity:t=0,min:n,max:r,power:i=.8,timeConstant:a=750,bounceStiffness:s=500,bounceDamping:o=10,restDelta:l=1,modifyTarget:u,driver:c,onUpdate:h,onComplete:p,onStop:m}){const g=e[0];let y;function b(_){return n!==void 0&&_<n||r!==void 0&&_>r}function w(_){return n===void 0?r:r===void 0||Math.abs(n-_)<Math.abs(r-_)?n:r}function x(_){y?.stop(),y=zg({keyframes:[0,1],velocity:0,..._,driver:c,onUpdate:A=>{var P;h?.(A),(P=_.onUpdate)===null||P===void 0||P.call(_,A)},onComplete:p,onStop:m})}function k(_){x({type:"spring",stiffness:s,damping:o,restDelta:l,..._})}if(b(g))k({velocity:t,keyframes:[g,w(g)]});else{let _=i*t+g;typeof u<"u"&&(_=u(_));const A=w(_),P=A===n?-1:1;let N,B;const j=W=>{N=B,B=W,t=NC(W-N,za.delta),(P===1&&W>A||P===-1&&W<A)&&k({keyframes:[W,A],velocity:t})};x({type:"decay",keyframes:[g,0],velocity:t,timeConstant:a,power:i,restDelta:l,modifyTarget:u,onUpdate:b(_)?j:void 0})}return{stop:()=>y?.stop()}}const ho=()=>({type:"spring",stiffness:500,damping:25,restSpeed:10}),Ip=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),sw=()=>({type:"keyframes",ease:"linear",duration:.3}),QK={type:"keyframes",duration:.8},i5={x:ho,y:ho,z:ho,rotate:ho,rotateX:ho,rotateY:ho,rotateZ:ho,scaleX:Ip,scaleY:Ip,scale:Ip,opacity:sw,backgroundColor:sw,color:sw,default:Ip},ZK=(e,{keyframes:t})=>t.length>2?QK:(i5[e]||i5.default)(t[1]),B2=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&Vs.test(t)&&!t.startsWith("url("));function JK({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:s,repeatDelay:o,from:l,elapsed:u,...c}){return!!Object.keys(c).length}function a5(e){return e===0||typeof e=="string"&&parseFloat(e)===0&&e.indexOf(" ")===-1}function s5(e){return typeof e=="number"?0:LC("",e)}function XM(e,t){return e[t]||e.default||e}function eY(e,t,n,r){const i=B2(t,n);let a=r.from!==void 0?r.from:e.get();return a==="none"&&i&&typeof n=="string"?a=LC(t,n):a5(a)&&typeof n=="string"?a=s5(n):!Array.isArray(n)&&a5(n)&&typeof a=="string"&&(n=s5(a)),Array.isArray(n)?(n[0]===null&&(n[0]=a),n):[a,n]}const WC=(e,t,n,r={})=>i=>{const a=XM(r,e)||{},s=a.delay||r.delay||0;let{elapsed:o=0}=r;o=o-pm(s);const l=eY(t,e,n,a),u=l[0],c=l[l.length-1],h=B2(e,u),p=B2(e,c);let m={keyframes:l,velocity:t.getVelocity(),...a,elapsed:o,onUpdate:b=>{t.set(b),a.onUpdate&&a.onUpdate(b)},onComplete:()=>{i(),a.onComplete&&a.onComplete()}};if(!h||!p||lK.current||a.type===!1)return YK(m);if(a.type==="inertia")return XK(m);JK(a)||(m={...m,...ZK(e,m)}),m.duration&&(m.duration=pm(m.duration)),m.repeatDelay&&(m.repeatDelay=pm(m.repeatDelay));const g=t.owner,y=g&&g.current;if(g&&y instanceof HTMLElement&&!g?.getProps().onUpdate){const b=KK(t,e,m);if(b)return b}return zg(m)};function tY(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(a=>z2(e,a,n));r=Promise.all(i)}else if(typeof t=="string")r=z2(e,t,n);else{const i=typeof t=="function"?Sy(e,t,n.custom):t;r=QM(e,i,n)}return r.then(()=>e.notify("AnimationComplete",t))}function z2(e,t,n={}){var r;const i=Sy(e,t,n.custom);let{transition:a=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(a=n.transitionOverride);const s=i?()=>QM(e,i,n):()=>Promise.resolve(),o=!((r=e.variantChildren)===null||r===void 0)&&r.size?(u=0)=>{const{delayChildren:c=0,staggerChildren:h,staggerDirection:p}=a;return nY(e,t,c+u,h,p,n)}:()=>Promise.resolve(),{when:l}=a;if(l){const[u,c]=l==="beforeChildren"?[s,o]:[o,s];return u().then(c)}else return Promise.all([s(),o(n.delay)])}function QM(e,t,{delay:n=0,transitionOverride:r,type:i}={}){var a;let{transition:s=e.getDefaultTransition(),transitionEnd:o,...l}=e.makeTargetAnimatable(t);const u=e.getValue("willChange");r&&(s=r);const c=[],h=i&&((a=e.animationState)===null||a===void 0?void 0:a.getState()[i]);for(const p in l){const m=e.getValue(p),g=l[p];if(!m||g===void 0||h&&iY(h,p))continue;const y={delay:n,elapsed:0,...s};if(window.HandoffAppearAnimations&&!m.hasAnimated){const w=e.getProps()[sK];w&&(y.elapsed=window.HandoffAppearAnimations(w,p,m,ur))}let b=m.start(WC(p,m,g,e.shouldReduceMotion&&rc.has(p)?{type:!1}:y));Lg(u)&&(u.add(p),b=b.then(()=>u.remove(p))),c.push(b)}return Promise.all(c).then(()=>{o&&tK(e,o)})}function nY(e,t,n=0,r=0,i=1,a){const s=[],o=(e.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>o-u*r;return Array.from(e.variantChildren).sort(rY).forEach((u,c)=>{u.notify("AnimationStart",t),s.push(z2(u,t,{...a,delay:n+l(c)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(s)}function rY(e,t){return e.sortNodePosition(t)}function iY({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}const GC=[Ht.Animate,Ht.InView,Ht.Focus,Ht.Hover,Ht.Tap,Ht.Drag,Ht.Exit],aY=[...GC].reverse(),sY=GC.length;function oY(e){return t=>Promise.all(t.map(({animation:n,options:r})=>tY(e,n,r)))}function lY(e){let t=oY(e);const n=cY();let r=!0;const i=(l,u)=>{const c=Sy(e,u);if(c){const{transition:h,transitionEnd:p,...m}=c;l={...l,...m,...p}}return l};function a(l){t=l(e)}function s(l,u){const c=e.getProps(),h=e.getVariantContext(!0)||{},p=[],m=new Set;let g={},y=1/0;for(let w=0;w<sY;w++){const x=aY[w],k=n[x],_=c[x]!==void 0?c[x]:h[x],A=hh(_),P=x===u?k.isActive:null;P===!1&&(y=w);let N=_===h[x]&&_!==c[x]&&A;if(N&&r&&e.manuallyAnimateOnMount&&(N=!1),k.protectedKeys={...g},!k.isActive&&P===null||!_&&!k.prevProp||yy(_)||typeof _=="boolean")continue;const B=uY(k.prevProp,_);let j=B||x===u&&k.isActive&&!N&&A||w>y&&A;const W=Array.isArray(_)?_:[_];let K=W.reduce(i,{});P===!1&&(K={});const{prevResolvedValues:z={}}=k,G={...z,...K},M=te=>{j=!0,m.delete(te),k.needsAnimating[te]=!0};for(const te in G){const X=K[te],ue=z[te];g.hasOwnProperty(te)||(X!==ue?Ng(X)&&Ng(ue)?!EM(X,ue)||B?M(te):k.protectedKeys[te]=!0:X!==void 0?M(te):m.add(te):X!==void 0&&m.has(te)?M(te):k.protectedKeys[te]=!0)}k.prevProp=_,k.prevResolvedValues=K,k.isActive&&(g={...g,...K}),r&&e.blockInitialAnimation&&(j=!1),j&&!N&&p.push(...W.map(te=>({animation:te,options:{type:x,...l}})))}if(m.size){const w={};m.forEach(x=>{const k=e.getBaseTarget(x);k!==void 0&&(w[x]=k)}),p.push({animation:w})}let b=!!p.length;return r&&c.initial===!1&&!e.manuallyAnimateOnMount&&(b=!1),r=!1,b?t(p):Promise.resolve()}function o(l,u,c){var h;if(n[l].isActive===u)return Promise.resolve();(h=e.variantChildren)===null||h===void 0||h.forEach(m=>{var g;return(g=m.animationState)===null||g===void 0?void 0:g.setActive(l,u)}),n[l].isActive=u;const p=s(c,l);for(const m in n)n[m].protectedKeys={};return p}return{animateChanges:s,setActive:o,setAnimateFunction:a,getState:()=>n}}function uY(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!EM(t,e):!1}function fo(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function cY(){return{[Ht.Animate]:fo(!0),[Ht.InView]:fo(),[Ht.Hover]:fo(),[Ht.Tap]:fo(),[Ht.Drag]:fo(),[Ht.Focus]:fo(),[Ht.Exit]:fo()}}const dY={animation:Ps(({visualElement:e,animate:t})=>{e.animationState||(e.animationState=lY(e)),yy(t)&&Y.useEffect(()=>t.subscribe(e),[t])}),exit:Ps(e=>{const{custom:t,visualElement:n}=e,[r,i]=CM(),a=Y.useContext(Uh);Y.useEffect(()=>{n.isPresent=r;const s=n.animationState&&n.animationState.setActive(Ht.Exit,!r,{custom:a&&a.custom||t});s&&!r&&s.then(i)},[r])})},o5=(e,t)=>Math.abs(e-t);function hY(e,t){const n=o5(e.x,t.x),r=o5(e.y,t.y);return Math.sqrt(n**2+r**2)}class ZM{constructor(t,n,{transformPagePoint:r}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const u=lw(this.lastMoveEventInfo,this.history),c=this.startEvent!==null,h=hY(u.offset,{x:0,y:0})>=3;if(!c&&!h)return;const{point:p}=u,{timestamp:m}=za;this.history.push({...p,timestamp:m});const{onStart:g,onMove:y}=this.handlers;c||(g&&g(this.lastMoveEvent,u),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,u)},this.handlePointerMove=(u,c)=>{this.lastMoveEvent=u,this.lastMoveEventInfo=ow(c,this.transformPagePoint),ur.update(this.updatePoint,!0)},this.handlePointerUp=(u,c)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:h,onSessionEnd:p}=this.handlers,m=lw(u.type==="pointercancel"?this.lastMoveEventInfo:ow(c,this.transformPagePoint),this.history);this.startEvent&&h&&h(u,m),p&&p(u,m)},!vM(t))return;this.handlers=n,this.transformPagePoint=r;const i=IC(t),a=ow(i,this.transformPagePoint),{point:s}=a,{timestamp:o}=za;this.history=[{...s,timestamp:o}];const{onSessionStart:l}=n;l&&l(t,lw(a,this.history)),this.removeListeners=xy(mu(window,"pointermove",this.handlePointerMove),mu(window,"pointerup",this.handlePointerUp),mu(window,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),$s.update(this.updatePoint)}}function ow(e,t){return t?{point:t(e.point)}:e}function l5(e,t){return{x:e.x-t.x,y:e.y-t.y}}function lw({point:e},t){return{point:e,delta:l5(e,JM(t)),offset:l5(e,fY(t)),velocity:pY(t,.1)}}function fY(e){return e[0]}function JM(e){return e[e.length-1]}function pY(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=JM(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>pm(t)));)n--;if(!r)return{x:0,y:0};const a=(i.timestamp-r.timestamp)/1e3;if(a===0)return{x:0,y:0};const s={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function Qr(e){return e.max-e.min}function U2(e,t=0,n=.01){return Math.abs(e-t)<=n}function u5(e,t,n,r=.5){e.origin=r,e.originPoint=gn(t.min,t.max,e.origin),e.scale=Qr(n)/Qr(t),(U2(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=gn(n.min,n.max,e.origin)-e.originPoint,(U2(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Ed(e,t,n,r){u5(e.x,t.x,n.x,r?.originX),u5(e.y,t.y,n.y,r?.originY)}function c5(e,t,n){e.min=n.min+t.min,e.max=e.min+Qr(t)}function mY(e,t,n){c5(e.x,t.x,n.x),c5(e.y,t.y,n.y)}function d5(e,t,n){e.min=t.min-n.min,e.max=e.min+Qr(t)}function Td(e,t,n){d5(e.x,t.x,n.x),d5(e.y,t.y,n.y)}function gY(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?gn(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?gn(n,e,r.max):Math.min(e,n)),e}function h5(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function yY(e,{top:t,left:n,bottom:r,right:i}){return{x:h5(e.x,n,i),y:h5(e.y,t,r)}}function f5(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function vY(e,t){return{x:f5(e.x,t.x),y:f5(e.y,t.y)}}function wY(e,t){let n=.5;const r=Qr(e),i=Qr(t);return i>r?n=Bg(t.min,t.max-r,e.min):r>i&&(n=Bg(e.min,e.max-i,t.min)),Nu(0,1,n)}function bY(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const j2=.35;function xY(e=j2){return e===!1?e=0:e===!0&&(e=j2),{x:p5(e,"left","right"),y:p5(e,"top","bottom")}}function p5(e,t,n){return{min:m5(e,t),max:m5(e,n)}}function m5(e,t){return typeof e=="number"?e:e[t]||0}const g5=()=>({translate:0,scale:1,origin:0,originPoint:0}),_d=()=>({x:g5(),y:g5()}),y5=()=>({min:0,max:0}),An=()=>({x:y5(),y:y5()});function ia(e){return[e("x"),e("y")]}function eO({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function kY({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function SY(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function uw(e){return e===void 0||e===1}function $2({scale:e,scaleX:t,scaleY:n}){return!uw(e)||!uw(t)||!uw(n)}function bo(e){return $2(e)||tO(e)||e.z||e.rotate||e.rotateX||e.rotateY}function tO(e){return v5(e.x)||v5(e.y)}function v5(e){return e&&e!=="0%"}function Ug(e,t,n){const r=e-n,i=t*r;return n+i}function w5(e,t,n,r,i){return i!==void 0&&(e=Ug(e,i,r)),Ug(e,n,r)+t}function V2(e,t=0,n=1,r,i){e.min=w5(e.min,t,n,r,i),e.max=w5(e.max,t,n,r,i)}function nO(e,{x:t,y:n}){V2(e.x,t.translate,t.scale,t.originPoint),V2(e.y,n.translate,n.scale,n.originPoint)}function CY(e,t,n,r=!1){var i,a;const s=n.length;if(!s)return;t.x=t.y=1;let o,l;for(let u=0;u<s;u++)o=n[u],l=o.projectionDelta,((a=(i=o.instance)===null||i===void 0?void 0:i.style)===null||a===void 0?void 0:a.display)!=="contents"&&(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&tu(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),l&&(t.x*=l.x.scale,t.y*=l.y.scale,nO(e,l)),r&&bo(o.latestValues)&&tu(e,o.latestValues));t.x=b5(t.x),t.y=b5(t.y)}function b5(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function vs(e,t){e.min=e.min+t,e.max=e.max+t}function x5(e,t,[n,r,i]){const a=t[i]!==void 0?t[i]:.5,s=gn(e.min,e.max,a);V2(e,t[n],t[r],s,t.scale)}const EY=["x","scaleX","originX"],TY=["y","scaleY","originY"];function tu(e,t){x5(e.x,t,EY),x5(e.y,t,TY)}function rO(e,t){return eO(SY(e.getBoundingClientRect(),t))}function _Y(e,t,n){const r=rO(e,n),{scroll:i}=t;return i&&(vs(r.x,i.offset.x),vs(r.y,i.offset.y)),r}const IY=new WeakMap;class PY{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=An(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){if(this.visualElement.isPresent===!1)return;const r=o=>{this.stopAnimation(),n&&this.snapToCursor(IC(o,"page").point)},i=(o,l)=>{var u;const{drag:c,dragPropagation:h,onDragStart:p}=this.getProps();c&&!h&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=xM(c),!this.openGlobalLock)||(this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ia(m=>{var g,y;let b=this.getAxisMotionValue(m).get()||0;if(ma.test(b)){const w=(y=(g=this.visualElement.projection)===null||g===void 0?void 0:g.layout)===null||y===void 0?void 0:y.layoutBox[m];w&&(b=Qr(w)*(parseFloat(b)/100))}this.originPoint[m]=b}),p?.(o,l),(u=this.visualElement.animationState)===null||u===void 0||u.setActive(Ht.Drag,!0))},a=(o,l)=>{const{dragPropagation:u,dragDirectionLock:c,onDirectionLock:h,onDrag:p}=this.getProps();if(!u&&!this.openGlobalLock)return;const{offset:m}=l;if(c&&this.currentDirection===null){this.currentDirection=AY(m),this.currentDirection!==null&&h?.(this.currentDirection);return}this.updateAxis("x",l.point,m),this.updateAxis("y",l.point,m),this.visualElement.render(),p?.(o,l)},s=(o,l)=>this.stop(o,l);this.panSession=new ZM(t,{onSessionStart:r,onStart:i,onMove:a,onSessionEnd:s},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a?.(t,n)}cancel(){var t,n;this.isDragging=!1,this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!1),(t=this.panSession)===null||t===void 0||t.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),(n=this.visualElement.animationState)===null||n===void 0||n.setActive(Ht.Drag,!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!Pp(t,i,this.currentDirection))return;const a=this.getAxisMotionValue(t);let s=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(s=gY(s,this.constraints[t],this.elastic[t])),a.set(s)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),{layout:r}=this.visualElement.projection||{},i=this.constraints;t&&Jl(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=yY(r.layoutBox,t):this.constraints=!1,this.elastic=xY(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&ia(a=>{this.getAxisMotionValue(a)&&(this.constraints[a]=bY(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Jl(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=_Y(r,i.root,this.visualElement.getTransformPagePoint());let s=vY(i.layout.layoutBox,a);if(n){const o=n(kY(s));this.hasMutatedConstraints=!!o,o&&(s=eO(o))}return s}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:s,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},u=ia(c=>{if(!Pp(c,n,this.currentDirection))return;let h=l?.[c]||{};s&&(h={min:0,max:0});const p=i?200:1e6,m=i?40:1e7,g={type:"inertia",velocity:r?t[c]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...a,...h};return this.startAxisValueAnimation(c,g)});return Promise.all(u).then(o)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(WC(t,r,0,n))}stopAnimation(){ia(t=>this.getAxisMotionValue(t).stop())}getAxisMotionValue(t){var n;const r="_drag"+t.toUpperCase(),i=this.visualElement.getProps()[r];return i||this.visualElement.getValue(t,((n=this.visualElement.getProps().initial)===null||n===void 0?void 0:n[t])||0)}snapToCursor(t){ia(n=>{const{drag:r}=this.getProps();if(!Pp(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:s,max:o}=i.layout.layoutBox[n];a.set(t[n]-gn(s,o,.5))}})}scalePositionWithinConstraints(){var t;if(!this.visualElement.current)return;const{drag:n,dragConstraints:r}=this.getProps(),{projection:i}=this.visualElement;if(!Jl(r)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};ia(o=>{const l=this.getAxisMotionValue(o);if(l){const u=l.get();a[o]=wY({min:u,max:u},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",(t=i.root)===null||t===void 0||t.updateScroll(),i.updateLayout(),this.resolveConstraints(),ia(o=>{if(!Pp(o,n,null))return;const l=this.getAxisMotionValue(o),{min:u,max:c}=this.constraints[o];l.set(gn(u,c,a[o]))})}addListeners(){var t;if(!this.visualElement.current)return;IY.set(this.visualElement,this);const n=this.visualElement.current,r=mu(n,"pointerdown",u=>{const{drag:c,dragListener:h=!0}=this.getProps();c&&h&&this.start(u)}),i=()=>{const{dragConstraints:u}=this.getProps();Jl(u)&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,s=a.addEventListener("measure",i);a&&!a.layout&&((t=a.root)===null||t===void 0||t.updateScroll(),a.updateLayout()),i();const o=by(window,"resize",()=>this.scalePositionWithinConstraints()),l=a.addEventListener("didUpdate",({delta:u,hasLayoutChanged:c})=>{this.isDragging&&c&&(ia(h=>{const p=this.getAxisMotionValue(h);p&&(this.originPoint[h]+=u[h].translate,p.set(p.get()+u[h].translate))}),this.visualElement.render())});return()=>{o(),r(),s(),l?.()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:s=j2,dragMomentum:o=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:s,dragMomentum:o}}}function Pp(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function AY(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}function RY(e){const{dragControls:t,visualElement:n}=e,r=wy(()=>new PY(n));Y.useEffect(()=>t&&t.subscribe(r),[r,t]),Y.useEffect(()=>r.addListeners(),[r])}function DY({onPan:e,onPanStart:t,onPanEnd:n,onPanSessionStart:r,visualElement:i}){const a=e||t||n||r,s=Y.useRef(null),{transformPagePoint:o}=Y.useContext(vC),l={onSessionStart:r,onStart:t,onMove:e,onEnd:(c,h)=>{s.current=null,n&&n(c,h)}};Y.useEffect(()=>{s.current!==null&&s.current.updateHandlers(l)});function u(c){s.current=new ZM(c,l,{transformPagePoint:o})}Mg(i,"pointerdown",a&&u),PC(()=>s.current&&s.current.end())}const NY={pan:Ps(DY),drag:Ps(RY)};function W2(e){return typeof e=="string"&&e.startsWith("var(--")}const iO=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function MY(e){const t=iO.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function G2(e,t,n=1){const[r,i]=MY(e);if(!r)return;const a=window.getComputedStyle(t).getPropertyValue(r);return a?a.trim():W2(i)?G2(i,t,n+1):i}function OY(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(i=>{const a=i.get();if(!W2(a))return;const s=G2(a,r);s&&i.set(s)});for(const i in t){const a=t[i];if(!W2(a))continue;const s=G2(a,r);s&&(t[i]=s,n&&n[i]===void 0&&(n[i]=a))}return{target:t,transitionEnd:n}}const LY=new Set(["width","height","top","left","right","bottom","x","y"]),aO=e=>LY.has(e),FY=e=>Object.keys(e).some(aO),k5=e=>e===ll||e===it;var S5;(function(e){e.width="width",e.height="height",e.left="left",e.right="right",e.top="top",e.bottom="bottom"})(S5||(S5={}));const C5=(e,t)=>parseFloat(e.split(", ")[t]),E5=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return C5(i[1],t);{const a=r.match(/^matrix\((.+)\)$/);return a?C5(a[1],e):0}},BY=new Set(["x","y","z"]),zY=Rg.filter(e=>!BY.has(e));function UY(e){const t=[];return zY.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const T5={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:E5(4,13),y:E5(5,14)},jY=(e,t,n)=>{const r=t.measureViewportBox(),i=t.current,a=getComputedStyle(i),{display:s}=a,o={};s==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(u=>{o[u]=T5[u](r,a)}),t.render();const l=t.measureViewportBox();return n.forEach(u=>{const c=t.getValue(u);c&&c.jump(o[u]),e[u]=T5[u](l,a)}),e},$Y=(e,t,n={},r={})=>{t={...t},r={...r};const i=Object.keys(t).filter(aO);let a=[],s=!1;const o=[];if(i.forEach(l=>{const u=e.getValue(l);if(!e.hasValue(l))return;let c=n[l],h=jc(c);const p=t[l];let m;if(Ng(p)){const g=p.length,y=p[0]===null?1:0;c=p[y],h=jc(c);for(let b=y;b<g;b++)m?Fg(jc(p[b])===m):m=jc(p[b])}else m=jc(p);if(h!==m)if(k5(h)&&k5(m)){const g=u.get();typeof g=="string"&&u.set(parseFloat(g)),typeof p=="string"?t[l]=parseFloat(p):Array.isArray(p)&&m===it&&(t[l]=p.map(parseFloat))}else h?.transform&&m?.transform&&(c===0||p===0)?c===0?u.set(m.transform(c)):t[l]=h.transform(p):(s||(a=UY(e),s=!0),o.push(l),r[l]=r[l]!==void 0?r[l]:t[l],u.jump(p))}),o.length){const l=o.indexOf("height")>=0?window.pageYOffset:null,u=jY(t,e,o);return a.length&&a.forEach(([c,h])=>{e.getValue(c).set(h)}),e.render(),gy&&l!==null&&window.scrollTo({top:l}),{target:u,transitionEnd:r}}else return{target:t,transitionEnd:r}};function VY(e,t,n,r){return FY(t)?$Y(e,t,n,r):{target:t,transitionEnd:r}}const WY=(e,t,n,r)=>{const i=OY(e,t,r);return t=i.target,r=i.transitionEnd,VY(e,t,n,r)},H2={current:null},sO={current:!1};function GY(){if(sO.current=!0,!!gy)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>H2.current=e.matches;e.addListener(t),t()}else H2.current=!1}function HY(e,t,n){const{willChange:r}=t;for(const i in t){const a=t[i],s=n[i];if(Or(a))e.addValue(i,a),Lg(r)&&r.add(i);else if(Or(s))e.addValue(i,Mu(a,{owner:e})),Lg(r)&&r.remove(i);else if(s!==a)if(e.hasValue(i)){const o=e.getValue(i);!o.hasAnimated&&o.set(a)}else{const o=e.getStaticValue(i);e.addValue(i,Mu(o!==void 0?o:a,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const oO=Object.keys(fh),qY=oO.length,_5=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class KY{constructor({parent:t,props:n,reducedMotionConfig:r,visualState:i},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.isPresent=!0,this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>ur.render(this.render,!1,!0);const{latestValues:s,renderState:o}=i;this.latestValues=s,this.baseTarget={...s},this.initialValues=n.initial?{...s}:{},this.renderState=o,this.parent=t,this.props=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=r,this.options=a,this.isControllingVariants=vy(n),this.isVariantNode=aM(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:l,...u}=this.scrapeMotionValuesFromProps(n,{});for(const c in u){const h=u[c];s[c]!==void 0&&Or(h)&&(h.set(s[c],!1),Lg(l)&&l.add(c))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){var n;this.current=t,this.projection&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=(n=this.parent)===null||n===void 0?void 0:n.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),sO.current||GY(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:H2.current,this.parent&&this.parent.children.add(this),this.setProps(this.props)}unmount(){var t,n,r;(t=this.projection)===null||t===void 0||t.unmount(),$s.update(this.notifyUpdate),$s.render(this.render),this.valueSubscriptions.forEach(i=>i()),(n=this.removeFromVariantTree)===null||n===void 0||n.call(this),(r=this.parent)===null||r===void 0||r.children.delete(this);for(const i in this.events)this.events[i].clear();this.current=null}bindToMotionValue(t,n){const r=rc.has(t),i=n.on("change",s=>{this.latestValues[t]=s,this.props.onUpdate&&ur.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{i(),a()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,i,a,s,o){const l=[];for(let u=0;u<qY;u++){const c=oO[u],{isEnabled:h,Component:p}=fh[c];h(n)&&p&&l.push(Y.createElement(p,{key:c,...n,visualElement:this}))}if(!this.projection&&s){this.projection=new s(a,this.latestValues,this.parent&&this.parent.projection);const{layoutId:u,layout:c,drag:h,dragConstraints:p,layoutScroll:m,layoutRoot:g}=n;this.projection.setOptions({layoutId:u,layout:c,alwaysMeasureLayout:!!h||p&&Jl(p),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:o,layoutScroll:m,layoutRoot:g})}return l}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):An()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}setProps(t){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender();const n=this.props;this.props=t;for(let r=0;r<_5.length;r++){const i=_5[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a=t["on"+i];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=HY(this,this.scrapeMotionValuesFromProps(t,n),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){var n;return(n=this.props.variants)===null||n===void 0?void 0:n[t]}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){var t;return this.isVariantNode?this:(t=this.parent)===null||t===void 0?void 0:t.getClosestVariantNode()}getVariantContext(t=!1){var n,r;if(t)return(n=this.parent)===null||n===void 0?void 0:n.getVariantContext();if(!this.isControllingVariants){const a=((r=this.parent)===null||r===void 0?void 0:r.getVariantContext())||{};return this.props.initial!==void 0&&(a.initial=this.props.initial),a}const i={};for(let a=0;a<YY;a++){const s=lO[a],o=this.props[s];(hh(o)||o===!1)&&(i[s]=o)}return i}addVariantChild(t){var n;const r=this.getClosestVariantNode();if(r)return(n=r.variantChildren)===null||n===void 0||n.add(t),()=>r.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){var n;this.values.delete(t),(n=this.valueSubscriptions.get(t))===null||n===void 0||n(),this.valueSubscriptions.delete(t),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Mu(n,{owner:this}),this.addValue(t,r)),r}readValue(t){return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=_C(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!Or(a)?a:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new DC),this.events[t].add(n)}notify(t,...n){var r;(r=this.events[t])===null||r===void 0||r.notify(...n)}}const lO=["initial",...GC],YY=lO.length;class uO extends KY{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){var r;return(r=t.style)===null||r===void 0?void 0:r[n]}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:i},a){let s=iK(r,t||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),s&&(s=i(s))),a){nK(this,r,s);const o=WY(this,r,s,n);n=o.transitionEnd,r=o.target}return{transition:t,transitionEnd:n,...r}}}function XY(e){return window.getComputedStyle(e)}class QY extends uO{readValueFromInstance(t,n){if(rc.has(n)){const r=OC(n);return r&&r.default||0}else{const r=XY(t),i=(lM(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return rO(t,n)}build(t,n,r,i){xC(t,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(t,n){return TC(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Or(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,i){fM(t,n,r,i)}}class ZY extends uO{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){var r;return rc.has(n)?((r=OC(n))===null||r===void 0?void 0:r.default)||0:(n=pM.has(n)?n:EC(n),t.getAttribute(n))}measureInstanceViewportBox(){return An()}scrapeMotionValuesFromProps(t,n){return gM(t,n)}build(t,n,r,i){SC(t,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(t,n,r,i){mM(t,n,r,i)}mount(t){this.isSVGTag=CC(t.tagName),super.mount(t)}}const JY=(e,t)=>bC(e)?new ZY(t,{enableHardwareAcceleration:!1}):new QY(t,{enableHardwareAcceleration:!0});function I5(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const $c={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(it.test(e))e=parseFloat(e);else return e;const n=I5(e,t.target.x),r=I5(e,t.target.y);return`${n}% ${r}%`}},P5="_$css",eX={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=e.includes("var("),a=[];i&&(e=e.replace(iO,m=>(a.push(m),P5)));const s=Vs.parse(e);if(s.length>5)return r;const o=Vs.createTransformer(e),l=typeof s[0]!="number"?1:0,u=n.x.scale*t.x,c=n.y.scale*t.y;s[0+l]/=u,s[1+l]/=c;const h=gn(u,c,.5);typeof s[2+l]=="number"&&(s[2+l]/=h),typeof s[3+l]=="number"&&(s[3+l]/=h);let p=o(s);if(i){let m=0;p=p.replace(P5,()=>{const g=a[m];return m++,g})}return p}};class tX extends $e.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=t;GH(rX),a&&(n.group&&n.group.add(a),r&&r.register&&i&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),kd.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:a}=this.props,s=r.projection;return s&&(s.isPresent=a,i||t.layoutDependency!==n||n===void 0?s.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?s.promote():s.relegate()||ur.postRender(()=>{var o;!((o=s.getStack())===null||o===void 0)&&o.members.length||this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),!t.currentAnimation&&t.isLead()&&this.safeToRemove())}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n?.group&&n.group.remove(i),r?.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t?.()}render(){return null}}function nX(e){const[t,n]=CM(),r=Y.useContext(wC);return $e.createElement(tX,{...e,layoutGroup:r,switchLayoutGroup:Y.useContext(sM),isPresent:t,safeToRemove:n})}const rX={borderRadius:{...$c,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:$c,borderTopRightRadius:$c,borderBottomLeftRadius:$c,borderBottomRightRadius:$c,boxShadow:eX},iX={measureLayout:nX};function aX(e,t,n={}){const r=Or(e)?e:Mu(e);return r.start(WC("",r,t,n)),{stop:()=>r.stop(),isAnimating:()=>r.isAnimating()}}const cO=["TopLeft","TopRight","BottomLeft","BottomRight"],sX=cO.length,A5=e=>typeof e=="string"?parseFloat(e):e,R5=e=>typeof e=="number"||it.test(e);function oX(e,t,n,r,i,a){i?(e.opacity=gn(0,n.opacity!==void 0?n.opacity:1,lX(r)),e.opacityExit=gn(t.opacity!==void 0?t.opacity:1,0,uX(r))):a&&(e.opacity=gn(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let s=0;s<sX;s++){const o=`border${cO[s]}Radius`;let l=D5(t,o),u=D5(n,o);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||R5(l)===R5(u)?(e[o]=Math.max(gn(A5(l),A5(u),r),0),(ma.test(u)||ma.test(l))&&(e[o]+="%")):e[o]=u}(t.rotate||n.rotate)&&(e.rotate=gn(t.rotate||0,n.rotate||0,r))}function D5(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const lX=dO(0,.5,$C),uX=dO(.5,.95,jC);function dO(e,t,n){return r=>r<e?0:r>t?1:n(Bg(e,t,r))}function N5(e,t){e.min=t.min,e.max=t.max}function Ni(e,t){N5(e.x,t.x),N5(e.y,t.y)}function M5(e,t,n,r,i){return e-=t,e=Ug(e,1/n,r),i!==void 0&&(e=Ug(e,1/i,r)),e}function cX(e,t=0,n=1,r=.5,i,a=e,s=e){if(ma.test(t)&&(t=parseFloat(t),t=gn(s.min,s.max,t/100)-s.min),typeof t!="number")return;let o=gn(a.min,a.max,r);e===a&&(o-=t),e.min=M5(e.min,t,n,o,i),e.max=M5(e.max,t,n,o,i)}function O5(e,t,[n,r,i],a,s){cX(e,t[n],t[r],t[i],t.scale,a,s)}const dX=["x","scaleX","originX"],hX=["y","scaleY","originY"];function L5(e,t,n,r){O5(e.x,t,dX,n?.x,r?.x),O5(e.y,t,hX,n?.y,r?.y)}function F5(e){return e.translate===0&&e.scale===1}function hO(e){return F5(e.x)&&F5(e.y)}function fO(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function B5(e){return Qr(e.x)/Qr(e.y)}class fX{constructor(){this.members=[]}add(t){AC(this.members,t),t.scheduleRender()}remove(t){if(RC(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(t,n){var r;const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,n&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),!((r=t.root)===null||r===void 0)&&r.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{var n,r,i,a,s;(r=(n=t.options).onExitComplete)===null||r===void 0||r.call(n),(s=(i=t.resumingFrom)===null||i===void 0?void 0:(a=i.options).onExitComplete)===null||s===void 0||s.call(a)})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function z5(e,t,n){let r="";const i=e.x.translate/t.x,a=e.y.translate/t.y;if((i||a)&&(r=`translate3d(${i}px, ${a}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:l,rotateX:u,rotateY:c}=n;l&&(r+=`rotate(${l}deg) `),u&&(r+=`rotateX(${u}deg) `),c&&(r+=`rotateY(${c}deg) `)}const s=e.x.scale*t.x,o=e.y.scale*t.y;return(s!==1||o!==1)&&(r+=`scale(${s}, ${o})`),r||"none"}const pX=(e,t)=>e.depth-t.depth;class mX{constructor(){this.children=[],this.isDirty=!1}add(t){AC(this.children,t),this.isDirty=!0}remove(t){RC(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(pX),this.isDirty=!1,this.children.forEach(t)}}const U5=["","X","Y","Z"],j5=1e3;let gX=0;function pO({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(s,o={},l=t?.()){this.id=gX++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isTransformDirty=!1,this.isProjectionDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.nodes.forEach(wX),this.nodes.forEach(kX),this.nodes.forEach(SX)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.elementId=s,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0,s&&this.root.registerPotentialNode(s,this);for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new mX)}addEventListener(s,o){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new DC),this.eventHandlers.get(s).add(o)}notifyListeners(s,...o){const l=this.eventHandlers.get(s);l?.notify(...o)}hasListeners(s){return this.eventHandlers.has(s)}registerPotentialNode(s,o){this.potentialNodes.set(s,o)}mount(s,o=!1){var l;if(this.instance)return;this.isSVG=s instanceof SVGElement&&s.tagName!=="svg",this.instance=s;const{layoutId:u,layout:c,visualElement:h}=this.options;if(h&&!h.current&&h.mount(s),this.root.nodes.add(this),(l=this.parent)===null||l===void 0||l.children.add(this),this.elementId&&this.root.potentialNodes.delete(this.elementId),o&&(c||u)&&(this.isLayoutDirty=!0),e){let p;const m=()=>this.root.updateBlockedByResize=!1;e(s,()=>{this.root.updateBlockedByResize=!0,p&&p(),p=YM(m,250),kd.hasAnimatedSinceResize&&(kd.hasAnimatedSinceResize=!1,this.nodes.forEach(V5))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&h&&(u||c)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:m,hasRelativeTargetChanged:g,layout:y})=>{var b,w,x,k,_;if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const A=(w=(b=this.options.transition)!==null&&b!==void 0?b:h.getDefaultTransition())!==null&&w!==void 0?w:IX,{onLayoutAnimationStart:P,onLayoutAnimationComplete:N}=h.getProps(),B=!this.targetLayout||!fO(this.targetLayout,y)||g,j=!m&&g;if(this.options.layoutRoot||!((x=this.resumeFrom)===null||x===void 0)&&x.instance||j||m&&(B||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(p,j);const W={...XM(A,"layout"),onPlay:P,onComplete:N};(h.shouldReduceMotion||this.options.layoutRoot)&&(W.delay=0,W.type=!1),this.startAnimation(W)}else!m&&this.animationProgress===0&&V5(this),this.isLead()&&((_=(k=this.options).onExitComplete)===null||_===void 0||_.call(k));this.targetLayout=y})}unmount(){var s,o;this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this),(s=this.getStack())===null||s===void 0||s.remove(this),(o=this.parent)===null||o===void 0||o.children.delete(this),this.instance=void 0,$s.preRender(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){var s;return this.isAnimationBlocked||((s=this.parent)===null||s===void 0?void 0:s.isTreeAnimationBlocked())||!1}startUpdate(){var s;this.isUpdateBlocked()||(this.isUpdating=!0,(s=this.nodes)===null||s===void 0||s.forEach(CX),this.animationId++)}getTransformTemplate(){var s;return(s=this.options.visualElement)===null||s===void 0?void 0:s.getProps().transformTemplate}willUpdate(s=!0){var o,l,u;if(this.root.isUpdateBlocked()){(l=(o=this.options).onExitComplete)===null||l===void 0||l.call(o);return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const m=this.path[p];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:c,layout:h}=this.options;c===void 0&&!h||(this.prevTransformTemplateValue=(u=this.getTransformTemplate())===null||u===void 0?void 0:u(this.latestValues,""),this.updateSnapshot(),s&&this.notifyListeners("willUpdate"))}didUpdate(){if(this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach($5);return}this.isUpdating&&(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(PX),this.potentialNodes.clear()),this.nodes.forEach(xX),this.nodes.forEach(yX),this.nodes.forEach(vX),this.clearAllSnapshots(),ew.update(),ew.preRender(),ew.render())}clearAllSnapshots(){this.nodes.forEach(bX),this.sharedNodes.forEach(EX)}scheduleUpdateProjection(){ur.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){ur.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){var s;if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=An(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox),(s=this.options.visualElement)===null||s===void 0||s.notify("LayoutMeasure",this.layout.layoutBox,o?.layoutBox)}updateScroll(s="measure"){let o=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(o=!1),o&&(this.scroll={animationId:this.root.animationId,phase:s,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){var s;if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!hO(this.projectionDelta),u=(s=this.getTransformTemplate())===null||s===void 0?void 0:s(this.latestValues,""),c=u!==this.prevTransformTemplateValue;o&&(l||bo(this.latestValues)||c)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return s&&(l=this.removeTransform(l)),AX(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:s}=this.options;if(!s)return An();const o=s.measureViewportBox(),{scroll:l}=this.root;return l&&(vs(o.x,l.offset.x),vs(o.y,l.offset.y)),o}removeElementScroll(s){const o=An();Ni(o,s);for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:c,options:h}=u;if(u!==this.root&&c&&h.layoutScroll){if(c.isRoot){Ni(o,s);const{scroll:p}=this.root;p&&(vs(o.x,-p.offset.x),vs(o.y,-p.offset.y))}vs(o.x,c.offset.x),vs(o.y,c.offset.y)}}return o}applyTransform(s,o=!1){const l=An();Ni(l,s);for(let u=0;u<this.path.length;u++){const c=this.path[u];!o&&c.options.layoutScroll&&c.scroll&&c!==c.root&&tu(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),bo(c.latestValues)&&tu(l,c.latestValues)}return bo(this.latestValues)&&tu(l,this.latestValues),l}removeTransform(s){var o;const l=An();Ni(l,s);for(let u=0;u<this.path.length;u++){const c=this.path[u];if(!c.instance||!bo(c.latestValues))continue;$2(c.latestValues)&&c.updateSnapshot();const h=An(),p=c.measurePageBox();Ni(h,p),L5(l,c.latestValues,(o=c.snapshot)===null||o===void 0?void 0:o.layoutBox,h)}return bo(this.latestValues)&&L5(l,this.latestValues),l}setTargetDelta(s){this.targetDelta=s,this.isProjectionDirty=!0,this.root.scheduleUpdateProjection()}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}resolveTargetDelta(){var s;const o=this.getLead();if(this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),!this.isProjectionDirty&&!this.attemptToResolveRelativeTarget)return;const{layout:l,layoutId:u}=this.options;if(!(!this.layout||!(l||u))){if(!this.targetDelta&&!this.relativeTarget){const c=this.getClosestProjectingParent();c&&c.layout?(this.relativeParent=c,this.relativeTarget=An(),this.relativeTargetOrigin=An(),Td(this.relativeTargetOrigin,this.layout.layoutBox,c.layout.layoutBox),Ni(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=An(),this.targetWithTransforms=An()),this.relativeTarget&&this.relativeTargetOrigin&&(!((s=this.relativeParent)===null||s===void 0)&&s.target)?mY(this.target,this.relativeTarget,this.relativeParent.target):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ni(this.target,this.layout.layoutBox),nO(this.target,this.targetDelta)):Ni(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const c=this.getClosestProjectingParent();c&&!!c.resumingFrom==!!this.resumingFrom&&!c.options.layoutScroll&&c.target?(this.relativeParent=c,this.relativeTarget=An(),this.relativeTargetOrigin=An(),Td(this.relativeTargetOrigin,this.target,c.target),Ni(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||$2(this.parent.latestValues)||tO(this.parent.latestValues)))return(this.parent.relativeTarget||this.parent.targetDelta||this.parent.options.layoutRoot)&&this.parent.layout?this.parent:this.parent.getClosestProjectingParent()}calcProjection(){var s;const{isProjectionDirty:o,isTransformDirty:l}=this;this.isProjectionDirty=this.isTransformDirty=!1;const u=this.getLead(),c=!!this.resumingFrom||this!==u;let h=!0;if(o&&(h=!1),c&&l&&(h=!1),h)return;const{layout:p,layoutId:m}=this.options;if(this.isTreeAnimating=!!(!((s=this.parent)===null||s===void 0)&&s.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||m))return;Ni(this.layoutCorrected,this.layout.layoutBox),CY(this.layoutCorrected,this.treeScale,this.path,c);const{target:g}=u;if(!g)return;this.projectionDelta||(this.projectionDelta=_d(),this.projectionDeltaWithTransform=_d());const y=this.treeScale.x,b=this.treeScale.y,w=this.projectionTransform;Ed(this.projectionDelta,this.layoutCorrected,g,this.latestValues),this.projectionTransform=z5(this.projectionDelta,this.treeScale),(this.projectionTransform!==w||this.treeScale.x!==y||this.treeScale.y!==b)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){var o,l,u;(l=(o=this.options).scheduleRender)===null||l===void 0||l.call(o),s&&((u=this.getStack())===null||u===void 0||u.scheduleRender()),this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(s,o=!1){var l,u;const c=this.snapshot,h=c?.latestValues||{},p={...this.latestValues},m=_d();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const g=An(),y=c?.source!==((l=this.layout)===null||l===void 0?void 0:l.source),b=(((u=this.getStack())===null||u===void 0?void 0:u.members.length)||0)<=1,w=!!(y&&!b&&this.options.crossfade===!0&&!this.path.some(_X));this.animationProgress=0,this.mixTargetDelta=x=>{var k;const _=x/1e3;W5(m.x,s.x,_),W5(m.y,s.y,_),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&(!((k=this.relativeParent)===null||k===void 0)&&k.layout)&&(Td(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),TX(this.relativeTarget,this.relativeTargetOrigin,g,_)),y&&(this.animationValues=p,oX(p,h,this.latestValues,_,w,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=_},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){var o,l;this.notifyListeners("animationStart"),(o=this.currentAnimation)===null||o===void 0||o.stop(),this.resumingFrom&&((l=this.resumingFrom.currentAnimation)===null||l===void 0||l.stop()),this.pendingAnimation&&($s.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ur.update(()=>{kd.hasAnimatedSinceResize=!0,this.currentAnimation=aX(0,j5,{...s,onUpdate:u=>{var c;this.mixTargetDelta(u),(c=s.onUpdate)===null||c===void 0||c.call(s,u)},onComplete:()=>{var u;(u=s.onComplete)===null||u===void 0||u.call(s),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){var s;this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0),(s=this.getStack())===null||s===void 0||s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){var s;this.currentAnimation&&((s=this.mixTargetDelta)===null||s===void 0||s.call(this,j5),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:o,target:l,layout:u,latestValues:c}=s;if(!(!o||!l||!u)){if(this!==s&&this.layout&&u&&mO(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||An();const h=Qr(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+h;const p=Qr(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+p}Ni(o,l),tu(o,c),Ed(this.projectionDeltaWithTransform,this.layoutCorrected,o,c)}}registerSharedNode(s,o){var l,u,c;this.sharedNodes.has(s)||this.sharedNodes.set(s,new fX),this.sharedNodes.get(s).add(o),o.promote({transition:(l=o.options.initialPromotionConfig)===null||l===void 0?void 0:l.transition,preserveFollowOpacity:(c=(u=o.options.initialPromotionConfig)===null||u===void 0?void 0:u.shouldPreserveFollowOpacity)===null||c===void 0?void 0:c.call(u,o)})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:o}=this.options;return o?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:o}=this.options;return o?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:o,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetRotation(){const{visualElement:s}=this.options;if(!s)return;let o=!1;const{latestValues:l}=s;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(o=!0),!o)return;const u={};for(let c=0;c<U5.length;c++){const h="rotate"+U5[c];l[h]&&(u[h]=l[h],s.setStaticValue(h,0))}s?.render();for(const c in u)s.setStaticValue(c,u[c]);s.scheduleRender()}getProjectionStyles(s={}){var o,l;const u={};if(!this.instance||this.isSVG)return u;if(this.isVisible)u.visibility="";else return{visibility:"hidden"};const c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=fm(s.pointerEvents)||"",u.transform=c?c(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=fm(s.pointerEvents)||""),this.hasProjected&&!bo(this.latestValues)&&(y.transform=c?c({},""):"none",this.hasProjected=!1),y}const p=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=z5(this.projectionDeltaWithTransform,this.treeScale,p),c&&(u.transform=c(p,u.transform));const{x:m,y:g}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${g.origin*100}% 0`,h.animationValues?u.opacity=h===this?(l=(o=p.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:u.opacity=h===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const y in Ag){if(p[y]===void 0)continue;const{correct:b,applyTo:w}=Ag[y],x=u.transform==="none"?p[y]:b(p[y],h);if(w){const k=w.length;for(let _=0;_<k;_++)u[w[_]]=x}else u[y]=x}return this.options.layoutId&&(u.pointerEvents=h===this?fm(s.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var o;return(o=s.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach($5),this.root.sharedNodes.clear()}}}function yX(e){e.updateLayout()}function vX(e){var t,n,r;const i=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&i&&e.hasListeners("didUpdate")){const{layoutBox:a,measuredBox:s}=e.layout,{animationType:o}=e.options,l=i.source!==e.layout.source;o==="size"?ia(m=>{const g=l?i.measuredBox[m]:i.layoutBox[m],y=Qr(g);g.min=a[m].min,g.max=g.min+y}):mO(o,i.layoutBox,a)&&ia(m=>{const g=l?i.measuredBox[m]:i.layoutBox[m],y=Qr(a[m]);g.max=g.min+y});const u=_d();Ed(u,a,i.layoutBox);const c=_d();l?Ed(c,e.applyTransform(s,!0),i.measuredBox):Ed(c,a,i.layoutBox);const h=!hO(u);let p=!1;if(!e.resumeFrom){const m=e.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:g,layout:y}=m;if(g&&y){const b=An();Td(b,i.layoutBox,g.layoutBox);const w=An();Td(w,a,y.layoutBox),fO(b,w)||(p=!0),m.options.layoutRoot&&(e.relativeTarget=w,e.relativeTargetOrigin=b,e.relativeParent=m)}}}e.notifyListeners("didUpdate",{layout:a,snapshot:i,delta:c,layoutDelta:u,hasLayoutChanged:h,hasRelativeTargetChanged:p})}else e.isLead()&&((r=(n=e.options).onExitComplete)===null||r===void 0||r.call(n));e.options.transition=void 0}function wX(e){e.isProjectionDirty||(e.isProjectionDirty=!!(e.parent&&e.parent.isProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=!!(e.parent&&e.parent.isTransformDirty))}function bX(e){e.clearSnapshot()}function $5(e){e.clearMeasurements()}function xX(e){const{visualElement:t}=e.options;t?.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function V5(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0}function kX(e){e.resolveTargetDelta()}function SX(e){e.calcProjection()}function CX(e){e.resetRotation()}function EX(e){e.removeLeadSnapshot()}function W5(e,t,n){e.translate=gn(t.translate,0,n),e.scale=gn(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function G5(e,t,n,r){e.min=gn(t.min,n.min,r),e.max=gn(t.max,n.max,r)}function TX(e,t,n,r){G5(e.x,t.x,n.x,r),G5(e.y,t.y,n.y,r)}function _X(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const IX={duration:.45,ease:[.4,0,.1,1]};function PX(e,t){let n=e.root;for(let a=e.path.length-1;a>=0;a--)if(e.path[a].instance){n=e.path[a];break}const i=(n&&n!==e.root?n.instance:document).querySelector(`[data-projection-id="${t}"]`);i&&e.mount(i,!0)}function H5(e){e.min=Math.round(e.min),e.max=Math.round(e.max)}function AX(e){H5(e.x),H5(e.y)}function mO(e,t,n){return e==="position"||e==="preserve-aspect"&&!U2(B5(t),B5(n),.2)}const RX=pO({attachResizeListener:(e,t)=>by(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),cw={current:void 0},DX=pO({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!cw.current){const e=new RX(0,{});e.mount(window),e.setOptions({layoutScroll:!0}),cw.current=e}return cw.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),NX={...dY,...Aq,...NY,...iX},Ar=VH((e,t)=>yq(e,t,NX,JY,DX));function gO(){const e=Y.useRef(!1);return Pg(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function MX(){const e=gO(),[t,n]=Y.useState(0),r=Y.useCallback(()=>{e.current&&n(t+1)},[t]);return[Y.useCallback(()=>ur.postRender(r),[r]),t]}class OX extends Y.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function LX({children:e,isPresent:t}){const n=Y.useId(),r=Y.useRef(null),i=Y.useRef({width:0,height:0,top:0,left:0});return Y.useInsertionEffect(()=>{const{width:a,height:s,top:o,left:l}=i.current;if(t||!r.current||!a||!s)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${s}px !important;
            top: ${o}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),Y.createElement(OX,{isPresent:t,childRef:r,sizeRef:i},Y.cloneElement(e,{ref:r}))}const dw=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:a,mode:s})=>{const o=wy(FX),l=Y.useId(),u=Y.useMemo(()=>({id:l,initial:t,isPresent:n,custom:i,onExitComplete:c=>{o.set(c,!0);for(const h of o.values())if(!h)return;r&&r()},register:c=>(o.set(c,!1),()=>o.delete(c))}),a?void 0:[n]);return Y.useMemo(()=>{o.forEach((c,h)=>o.set(h,!1))},[n]),Y.useEffect(()=>{!n&&!o.size&&r&&r()},[n]),s==="popLayout"&&(e=Y.createElement(LX,{isPresent:n},e)),Y.createElement(Uh.Provider,{value:u},e)};function FX(){return new Map}const Bl=e=>e.key||"";function BX(e,t){e.forEach(n=>{const r=Bl(n);t.set(r,n)})}function zX(e){const t=[];return Y.Children.forEach(e,n=>{Y.isValidElement(n)&&t.push(n)}),t}const Wh=({children:e,custom:t,initial:n=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:a=!0,mode:s="sync"})=>{i&&(s="wait");let[o]=MX();const l=Y.useContext(wC).forceRender;l&&(o=l);const u=gO(),c=zX(e);let h=c;const p=new Set,m=Y.useRef(h),g=Y.useRef(new Map).current,y=Y.useRef(!0);if(Pg(()=>{y.current=!1,BX(c,g),m.current=h}),PC(()=>{y.current=!0,g.clear(),p.clear()}),y.current)return Y.createElement(Y.Fragment,null,h.map(k=>Y.createElement(dw,{key:Bl(k),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:a,mode:s},k)));h=[...h];const b=m.current.map(Bl),w=c.map(Bl),x=b.length;for(let k=0;k<x;k++){const _=b[k];w.indexOf(_)===-1&&p.add(_)}return s==="wait"&&p.size&&(h=[]),p.forEach(k=>{if(w.indexOf(k)!==-1)return;const _=g.get(k);if(!_)return;const A=b.indexOf(k),P=()=>{g.delete(k),p.delete(k);const N=m.current.findIndex(B=>B.key===k);if(m.current.splice(N,1),!p.size){if(m.current=c,u.current===!1)return;o(),r&&r()}};h.splice(A,0,Y.createElement(dw,{key:Bl(_),isPresent:!1,onExitComplete:P,custom:t,presenceAffectsLayout:a,mode:s},_))}),h=h.map(k=>{const _=k.key;return p.has(_)?k:Y.createElement(dw,{key:Bl(k),isPresent:!0,presenceAffectsLayout:a,mode:s},k)}),Y.createElement(Y.Fragment,null,p.size?h:h.map(k=>Y.cloneElement(k)))};var q2;(e=>{(t=>{t.presets=()=>({preventDefault:!0,stopPropagation:!0})})(e.Options||(e.Options={}))})(q2||(q2={}));const UX=function(e,t){return e.length===t.length&&e.every(function(n,r){return n===t[r]})},jX=function(e){var t=[];return e.ctrlKey&&t.push("ctrlKey"),e.shiftKey&&t.push("shiftKey"),e.altKey&&t.push("altKey"),e.metaKey&&t.push("metaKey"),t};var $X=globalThis&&globalThis.__spreadArray||function(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))};const q5=function(e){var t=e.toLowerCase();return t.length===1?[t]:t.includes("+")?t.replace(/\s+/g,"").split(/\b\+/g):$X([],t.match(/[^\s"']+|"([^"]*)"|'([^']*)'/g)||[],!0).map(function(n){return n.replace(/("|').*?("|')/," ")})},VX=function(e,t){return e.length===t.length&&e.every(function(n){return t.includes(n)})};var WX={control:"ctrlKey",shift:"shiftKey",alt:"altKey",meta:"metaKey"};const GX=function(e){return e.map(function(t){return WX[t]})},K2=function(e){return e.altKey||e.ctrlKey||e.shiftKey||e.metaKey},HX=function(e){return e[e.length-1]},qX=function(e){return e.slice(0,-1)};var KX=["INPUT","TEXTAREA"];const YX=function(e,t,n){if(!e.key&&!K2(e))return!0;var r=e.target||{};return r.isContentEditable&&!t?!0:KX.includes(r.nodeName)&&!n?.includes(r.nodeName)};(function(){if(!(typeof self>"u"||!self.document)){var e=KeyboardEvent.prototype,t=Object.getOwnPropertyDescriptor(e,"key");if(t){var n={Win:"Meta",Scroll:"ScrollLock",Spacebar:" ",Down:"ArrowDown",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Del:"Delete",Apps:"ContextMenu",Esc:"Escape",Multiply:"*",Add:"+",Subtract:"-",Decimal:".",Divide:"/"};Object.defineProperty(e,"key",{get:function(){var r=t.get.call(this);return n.hasOwnProperty(r)?n[r]:r}})}}})();var XX=1e3,QX="*",ZX=function(e,t,n){var r=Y.useMemo(function(){return Array.isArray(e)?e.map(q5):[q5(e)]},[e]);Y.useEffect(function(){var i={},a={},s=n||{},o=s.enabled,l=s.enableOnContentEditable,u=s.ignoredElementWhitelist,c=s.eventListenerOptions,h=function(b){clearTimeout(a[b])},p=function(b){h(b),i[b]=[]},m=function(b,w,x){h(x),i[x]=i[x]||[],a[x]=window.setTimeout(function(){p(x)},XX);var k=i[x];k.push(b.key.toLowerCase()),UX(k,w)&&(p(x),t(b))},g=function(b,w){var x=HX(w),k=GX(qX(w)),_=jX(b),A=VX(k,_);A&&b.key.toLowerCase()===x&&t(b)},y=function(b){YX(b,l,u)||r.forEach(function(w,x){if(w.length===1&&w[0]===QX){t(b);return}if(K2(b)){g(b,w);return}if(w.length>1&&!K2(b)){m(b,w,x);return}b.key.toLowerCase()===w[0]&&t(b)})};return o!==!1&&window.addEventListener("keydown",y,c),function(){window.removeEventListener("keydown",y,c)}},[r,t,n?.enabled,n?.enableOnContentEditable,n?.ignoredElementWhitelist,n?.eventListenerOptions])},Y2;(e=>{e.getInfo=()=>{const{userAgent:t}=navigator,n=navigator.appVersion,r=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(t)?"Mobile/Phone":/iPad/i.test(t)?"Tablet":"Desktop/Laptop",i=t.indexOf("Chrome")>-1&&navigator.userAgent.indexOf("OPR")===-1?"Chrome":t.indexOf("Firefox")>-1?"Firefox":t.indexOf("Safari")>-1&&t.indexOf("OPR")===-1?"Safari":t.indexOf("Edge")>-1||t.indexOf("edg/")>-1?"Edge":t.indexOf("OPR")>-1?"Opera":"Unknown",a=n.match(/win/i)?"Windows":n.match(/mac/i)?"Mac":n.match(/linux/i)?"Linux":"Unknown";return{deviceType:r,browserName:i,operatingSystem:a}}})(Y2||(Y2={}));function Ou({className:e,...t}){const n=useMemo(()=>Ou.normalize(t.keys).flatMap(r=>r.map(i=>C(Ye.Key,{keyType:i},i))),[t.keys]);return C("div",{className:classes("flex items-center justify-center gap-1",e),children:n})}(e=>{e.normalize=t=>{const n=typeof t=="string"?[[t]]:Array.isArray(t)&&typeof t[0]=="string"?[t]:t.map(r=>typeof r=="string"?[r]:r);return Y2.getInfo().operatingSystem!=="Windows"?n:n.map(r=>r.map(i=>i==="Meta"?"Control":i))},e.use=t=>{const{action:n=doNothing,keys:r,options:i={},event:a=Ye.Event.Options.presets()}=useMemo(()=>({keys:[],...t}),[t]),s=useMemo(()=>(0,e.normalize)(r).map(l=>l.map((u,c)=>l[0]==="Shift"&&c===1&&Ye.Key.getShifted(u)||u).join("+")),[r]),o=useCallback(l=>{a.stopPropagation&&l.stopPropagation(),a.preventDefault&&l.preventDefault(),n({keyboardEvent:l})},[a,n]);ZX(s,o,i)}})(Ou||(Ou={}));const JX={Meta:"",Control:"^",Shift:""},eQ={0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9"},tQ={a:"a",b:"b",c:"c",d:"d",e:"e",f:"f",g:"g",h:"h",i:"i",j:"j",k:"k",l:"l",m:"m",n:"n",o:"o",p:"p",q:"q",r:"r",s:"s",t:"t",u:"u",v:"v",w:"w",x:"x",y:"y",z:"z"},nQ={Escape:"esc",Backspace:"",Delete:"",Enter:"","\\":"\\","-":"-","=":"+","[":{display:"[",shift:"{"},"]":{display:"]",shift:"}"},ArrowDown:"",ArrowLeft:"",ArrowRight:"",ArrowUp:"",F5:"F5",F7:"F7"},yO={...JX,...eQ,...tQ,...nQ};function jg({keyType:e}){const t=jg.useIsActive(e),n=useMemo(()=>{const r=yO[e];return typeof r=="string"?r:r.display},[e]);return C("div",{className:classes("bg-muted-white-extra flex h-6 items-center justify-center rounded align-middle text-white",t&&"bg-white text-black",n.length===1?"w-6 uppercase":"px-1.5 lowercase"),children:n})}(e=>{e.getShifted=t=>{const n=yO[t];return typeof n=="string"?n:n.shift},e.useOnDown=(t,n)=>{useEffect(()=>{const r=i=>i.key===t&&n(i);return window.addEventListener("keydown",r),()=>window.removeEventListener("keydown",r)},[t,n])},e.useOnUp=(t,n)=>{useEffect(()=>{const r=i=>i.key===t&&n(i);return window.addEventListener("keyup",r),()=>window.removeEventListener("keyup",r)},[t,n])},e.useIsActive=t=>{const[n,r]=useState(!1),i=useRef();return(0,e.useOnDown)(t,useCallback(a=>a.key.toLowerCase()===t&&r(!0),[t])),(0,e.useOnUp)(t,useCallback(a=>a.key.toLowerCase()===t&&r(!1),[t])),useEffect(()=>()=>clearTimeout(i.current),[]),useEffect(()=>{n&&(i.current&&clearTimeout(i.current),i.current=setTimeout(()=>r(!1),1e3))},[n,i]),n}})(jg||(jg={}));function $g({id:e,name:t,group:n}){return useMemo(()=>{const r=$g.toArray({id:e,name:t}),i=n&&r.length>1?r.slice(1):r;return C(rt,{children:i.flatMap((a,s)=>[C("span",{children:a},s),C(H.Divider.Inline,{},keys(s,"divider"))]).slice(0,-1)})},[e,t,n])}(e=>{e.compare=(t,n)=>(0,e.toString)(t).localeCompare((0,e.toString)(n)),e.toArray=t=>t.name?Array.isArray(t.name)?t.name:[t.name]:[t.id],e.toStringArray=t=>(0,e.toArray)(t).map(n=>`${n}`),e.toString=t=>(0,e.toStringArray)(t).join(" ")})($g||($g={}));function Vg(){const{ref:e}=rQ(),t=Ye.Search.use(),n=Wa.useDisplayed(),{isOpen:r,setIsOpen:i}=Vg.use(),a=useCallback(()=>i(!1),[i]),s=useCallback(()=>i(!r),[r,i]),{clear:o}=t;return useEffect(()=>{!r&&o()},[r,o]),Ye.Key.useOnDown("Escape",a),Ye.Keys.use(useMemo(()=>({keys:["Meta","k"],action:s,options:{ignoredElementWhitelist:["INPUT","TEXTAREA"]}}),[s])),useMemo(()=>r?ne("div",{ref:e,className:"absolute bottom-0 left-0 right-0 top-0 z-[9999] flex items-center justify-center",children:[C("div",{onClick:a,className:"absolute bottom-0 left-0 right-0 top-0 z-0 bg-zinc-900/50 opacity-100 backdrop-blur-sm"}),C("div",{className:"relative",children:ne("div",{className:"z-30 min-h-[500px] min-w-[400px] rounded bg-zinc-200 text-black shadow-lg dark:bg-zinc-800/90 dark:text-white",children:[C("div",{className:"px-4 py-2",children:C(gC,{autoFocus:!0,transparent:!0,size:"lg",placeholder:"What are you looking for?",loading:t.loading,value:t.text,onChange:t.setText,iconLeft:H.Icon.Search,iconRight:t.text!==""&&(l=>C(H.Icon.X,{...l,onClick:()=>t.setText(""),className:classes("pointer-events-auto cursor-pointer",l.className)}))})}),n[0]?C(Wa,{className:"p-2",onAction:a}):t.text!==""&&!t.loading&&C("div",{className:"text-muted-white-extra flex items-center justify-center p-4 pt-2 text-xl",children:"Nothing found"})]})})]}):null,[e,r,a,t,n])}(e=>{e.use=et.create(t=>({isOpen:!1,setIsOpen:n=>t({isOpen:n})}))})(Vg||(Vg={}));const rQ=()=>{const e=useRef(null);Ye.Key.useOnDown("Enter",useCallback(n=>{if(!e.current)return;const r=Array.from(e.current.querySelectorAll("button"));r.length&&(r.some(i=>i===document.activeElement)||(r[0]?.focus(),n.stopPropagation(),n.preventDefault()))},[]));const t=useCallback(n=>{if(!e.current)return;const r=[...e.current.querySelectorAll("input,button").values()],i=r.findIndex(s=>s===document.activeElement);if(i===-1)return;const a=n==="up"&&i>0?i-1:n==="down"&&i<r.length-1?i+1:i;r[a]?.focus()},[]);return Ye.Key.useOnDown("ArrowDown",useCallback(()=>t("down"),[t])),Ye.Key.useOnDown("ArrowUp",useCallback(()=>t("up"),[t])),{ref:e}};var X2;(e=>{const t=(n,r)=>{const i=["low","medium","high"];return i.indexOf(r.level??"low")-i.indexOf(n.level??"low")};e.use=()=>{const n=Wa.use(),r=Ye.Priorities.use();return useMemo(()=>n.map(s=>({shortcut:s,priority:r.filter(o=>Ye.Priority.applies(o,s)).sort(t)[0]})).sort((s,o)=>{const l=t(s.priority??{level:"low"},o.priority??{level:"low"});return l!==0?l:Ye.Name.compare(s.shortcut,o.shortcut)}).map(({shortcut:s})=>s),[n,r])}})(X2||(X2={}));var Q2;(e=>{e.use=()=>{const t=Wg.use(({priorities:n})=>({priorities:n}));return useMemo(()=>[...t.priorities.values()],[t.priorities])},e.useSet=()=>Wg.use(({setPriorities:t})=>({setPriorities:t})).setPriorities})(Q2||(Q2={}));var Wg;(e=>{e.use=et.create(t=>({priorities:new Map,setPriorities:n=>t(({priorities:r})=>({priorities:new Map(typeof n=="function"?n(r):n)}))}))})(Wg||(Wg={}));var Z2;(e=>{e.Order=X2,e.applies=(t,n)=>{const r=Ye.Name.toStringArray(t),i=Ye.Name.toStringArray(n);return r.filter((a,s)=>i[s]===a).length===r.length},e.use=t=>{const[n]=useState(ID.create),r=useMemo(()=>({id:n,enabled:!0,level:"low",...t}),[n,t]),i=Ye.Priorities.useSet();useEffect(()=>{const a=()=>i(o=>o.set(r.id,r)),s=()=>i(o=>(o.delete(r.id),o));return r.enabled?a():s(),s},[r,i])}})(Z2||(Z2={}));var an=function(){return an=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},an.apply(this,arguments)};function iQ(e,t,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(c){try{u(r.next(c))}catch(h){s(h)}}function l(c){try{u(r.throw(c))}catch(h){s(h)}}function u(c){c.done?a(c.value):i(c.value).then(o,l)}u((r=r.apply(e,t||[])).next())})}function aQ(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,s;return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(n=0)),n;)try{if(r=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){n.label=u[1];break}if(u[0]===6&&n.label<a[1]){n.label=a[1],a=u;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(u);break}a[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(c){u=[6,c],i=0}finally{r=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function mt(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Cn(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,a=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(o){s={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return a}var sQ="ENTRIES",vO="KEYS",wO="VALUES",qn="",hw=function(){function e(t,n){var r=t._tree,i=Array.from(r.keys());this.set=t,this._type=n,this._path=i.length>0?[{node:r,keys:i}]:[]}return e.prototype.next=function(){var t=this.dive();return this.backtrack(),t},e.prototype.dive=function(){if(this._path.length===0)return{done:!0,value:void 0};var t=Al(this._path),n=t.node,r=t.keys;if(Al(r)===qn)return{done:!1,value:this.result()};var i=n.get(Al(r));return this._path.push({node:i,keys:Array.from(i.keys())}),this.dive()},e.prototype.backtrack=function(){if(this._path.length!==0){var t=Al(this._path).keys;t.pop(),!(t.length>0)&&(this._path.pop(),this.backtrack())}},e.prototype.key=function(){return this.set._prefix+this._path.map(function(t){var n=t.keys;return Al(n)}).filter(function(t){return t!==qn}).join("")},e.prototype.value=function(){return Al(this._path).node.get(qn)},e.prototype.result=function(){switch(this._type){case wO:return this.value();case vO:return this.key();default:return[this.key(),this.value()]}},e.prototype[Symbol.iterator]=function(){return this},e}(),Al=function(e){return e[e.length-1]},oQ=function(e,t,n){var r=new Map;if(t===void 0)return r;for(var i=t.length+1,a=i+n,s=new Uint8Array(a*i).fill(n+1),o=0;o<i;++o)s[o]=o;for(var l=1;l<a;++l)s[l*i]=l;return bO(e,t,n,r,s,1,i,""),r},bO=function(e,t,n,r,i,a,s,o){var l,u,c=a*s;try{e:for(var h=mt(e.keys()),p=h.next();!p.done;p=h.next()){var m=p.value;if(m===qn){var g=i[c-1];g<=n&&r.set(o,[e.get(m),g])}else{for(var y=a,b=0;b<m.length;++b,++y){for(var w=m[b],x=s*y,k=x-s,_=i[x],A=Math.max(0,y-n-1),P=Math.min(s-1,y+n),N=A;N<P;++N){var B=w!==t[N],j=i[k+N]+ +B,W=i[k+N+1]+1,K=i[x+N]+1,z=i[x+N+1]=Math.min(j,W,K);z<_&&(_=z)}if(_>n)continue e}bO(e.get(m),t,n,r,i,y,s,o+m)}}}catch(G){l={error:G}}finally{try{p&&!p.done&&(u=h.return)&&u.call(h)}finally{if(l)throw l.error}}},fw=function(){function e(t,n){t===void 0&&(t=new Map),n===void 0&&(n=""),this._size=void 0,this._tree=t,this._prefix=n}return e.prototype.atPrefix=function(t){var n,r;if(!t.startsWith(this._prefix))throw new Error("Mismatched prefix");var i=Cn(Gg(this._tree,t.slice(this._prefix.length)),2),a=i[0],s=i[1];if(a===void 0){var o=Cn(HC(s),2),l=o[0],u=o[1];try{for(var c=mt(l.keys()),h=c.next();!h.done;h=c.next()){var p=h.value;if(p!==qn&&p.startsWith(u)){var m=new Map;return m.set(p.slice(u.length),l.get(p)),new e(m,t)}}}catch(g){n={error:g}}finally{try{h&&!h.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}}return new e(a,t)},e.prototype.clear=function(){this._size=void 0,this._tree.clear()},e.prototype.delete=function(t){return this._size=void 0,lQ(this._tree,t)},e.prototype.entries=function(){return new hw(this,sQ)},e.prototype.forEach=function(t){var n,r;try{for(var i=mt(this),a=i.next();!a.done;a=i.next()){var s=Cn(a.value,2),o=s[0],l=s[1];t(o,l,this)}}catch(u){n={error:u}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},e.prototype.fuzzyGet=function(t,n){return oQ(this._tree,t,n)},e.prototype.get=function(t){var n=J2(this._tree,t);return n!==void 0?n.get(qn):void 0},e.prototype.has=function(t){var n=J2(this._tree,t);return n!==void 0&&n.has(qn)},e.prototype.keys=function(){return new hw(this,vO)},e.prototype.set=function(t,n){if(typeof t!="string")throw new Error("key must be a string");this._size=void 0;var r=pw(this._tree,t);return r.set(qn,n),this},Object.defineProperty(e.prototype,"size",{get:function(){if(this._size)return this._size;this._size=0;for(var t=this.entries();!t.next().done;)this._size+=1;return this._size},enumerable:!1,configurable:!0}),e.prototype.update=function(t,n){if(typeof t!="string")throw new Error("key must be a string");this._size=void 0;var r=pw(this._tree,t);return r.set(qn,n(r.get(qn))),this},e.prototype.fetch=function(t,n){if(typeof t!="string")throw new Error("key must be a string");this._size=void 0;var r=pw(this._tree,t),i=r.get(qn);return i===void 0&&r.set(qn,i=n()),i},e.prototype.values=function(){return new hw(this,wO)},e.prototype[Symbol.iterator]=function(){return this.entries()},e.from=function(t){var n,r,i=new e;try{for(var a=mt(t),s=a.next();!s.done;s=a.next()){var o=Cn(s.value,2),l=o[0],u=o[1];i.set(l,u)}}catch(c){n={error:c}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return i},e.fromObject=function(t){return e.from(Object.entries(t))},e}(),Gg=function(e,t,n){var r,i;if(n===void 0&&(n=[]),t.length===0||e==null)return[e,n];try{for(var a=mt(e.keys()),s=a.next();!s.done;s=a.next()){var o=s.value;if(o!==qn&&t.startsWith(o))return n.push([e,o]),Gg(e.get(o),t.slice(o.length),n)}}catch(l){r={error:l}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}return n.push([e,t]),Gg(void 0,"",n)},J2=function(e,t){var n,r;if(t.length===0||e==null)return e;try{for(var i=mt(e.keys()),a=i.next();!a.done;a=i.next()){var s=a.value;if(s!==qn&&t.startsWith(s))return J2(e.get(s),t.slice(s.length))}}catch(o){n={error:o}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},pw=function(e,t){var n,r,i=t.length;e:for(var a=0;e&&a<i;){try{for(var s=(n=void 0,mt(e.keys())),o=s.next();!o.done;o=s.next()){var l=o.value;if(l!==qn&&t[a]===l[0]){for(var u=Math.min(i-a,l.length),c=1;c<u&&t[a+c]===l[c];)++c;var h=e.get(l);if(c===l.length)e=h;else{var p=new Map;p.set(l.slice(c),h),e.set(t.slice(a,a+c),p),e.delete(l),e=p}a+=c;continue e}}}catch(g){n={error:g}}finally{try{o&&!o.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}var m=new Map;return e.set(t.slice(a),m),m}return e},lQ=function(e,t){var n=Cn(Gg(e,t),2),r=n[0],i=n[1];if(r!==void 0){if(r.delete(qn),r.size===0)xO(i);else if(r.size===1){var a=Cn(r.entries().next().value,2),s=a[0],o=a[1];kO(i,s,o)}}},xO=function(e){if(e.length!==0){var t=Cn(HC(e),2),n=t[0],r=t[1];if(n.delete(r),n.size===0)xO(e.slice(0,-1));else if(n.size===1){var i=Cn(n.entries().next().value,2),a=i[0],s=i[1];a!==qn&&kO(e.slice(0,-1),a,s)}}},kO=function(e,t,n){if(e.length!==0){var r=Cn(HC(e),2),i=r[0],a=r[1];i.set(a+t,n),i.delete(a)}},HC=function(e){return e[e.length-1]},Vc,qC="or",SO="and",uQ="and_not",CO=function(){function e(t){if(t?.fields==null)throw new Error('MiniSearch: option "fields" must be provided');var n=t.autoVacuum==null||t.autoVacuum===!0?yw:t.autoVacuum;this._options=an(an(an({},gw),t),{autoVacuum:n,searchOptions:an(an({},K5),t.searchOptions||{}),autoSuggestOptions:an(an({},pQ),t.autoSuggestOptions||{})}),this._index=new fw,this._documentCount=0,this._documentIds=new Map,this._idToShortId=new Map,this._fieldIds={},this._fieldLength=new Map,this._avgFieldLength=[],this._nextId=0,this._storedFields=new Map,this._dirtCount=0,this._currentVacuum=null,this._enqueuedVacuum=null,this._enqueuedVacuumConditions=tx,this.addFields(this._options.fields)}return e.prototype.add=function(t){var n,r,i,a,s,o,l=this._options,u=l.extractField,c=l.tokenize,h=l.processTerm,p=l.fields,m=l.idField,g=u(t,m);if(g==null)throw new Error('MiniSearch: document does not have ID field "'.concat(m,'"'));if(this._idToShortId.has(g))throw new Error("MiniSearch: duplicate ID ".concat(g));var y=this.addDocumentId(g);this.saveStoredFields(y,t);try{for(var b=mt(p),w=b.next();!w.done;w=b.next()){var x=w.value,k=u(t,x);if(k!=null){var _=c(k.toString(),x),A=this._fieldIds[x],P=new Set(_).size;this.addFieldLength(y,A,this._documentCount-1,P);try{for(var N=(i=void 0,mt(_)),B=N.next();!B.done;B=N.next()){var j=B.value,W=h(j,x);if(Array.isArray(W))try{for(var K=(s=void 0,mt(W)),z=K.next();!z.done;z=K.next()){var G=z.value;this.addTerm(A,y,G)}}catch(M){s={error:M}}finally{try{z&&!z.done&&(o=K.return)&&o.call(K)}finally{if(s)throw s.error}}else W&&this.addTerm(A,y,W)}}catch(M){i={error:M}}finally{try{B&&!B.done&&(a=N.return)&&a.call(N)}finally{if(i)throw i.error}}}}}catch(M){n={error:M}}finally{try{w&&!w.done&&(r=b.return)&&r.call(b)}finally{if(n)throw n.error}}},e.prototype.addAll=function(t){var n,r;try{for(var i=mt(t),a=i.next();!a.done;a=i.next()){var s=a.value;this.add(s)}}catch(o){n={error:o}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},e.prototype.addAllAsync=function(t,n){var r=this;n===void 0&&(n={});var i=n.chunkSize,a=i===void 0?10:i,s={chunk:[],promise:Promise.resolve()},o=t.reduce(function(c,h,p){var m=c.chunk,g=c.promise;return m.push(h),(p+1)%a===0?{chunk:[],promise:g.then(function(){return new Promise(function(y){return setTimeout(y,0)})}).then(function(){return r.addAll(m)})}:{chunk:m,promise:g}},s),l=o.chunk,u=o.promise;return u.then(function(){return r.addAll(l)})},e.prototype.remove=function(t){var n,r,i,a,s,o,l=this._options,u=l.tokenize,c=l.processTerm,h=l.extractField,p=l.fields,m=l.idField,g=h(t,m);if(g==null)throw new Error('MiniSearch: document does not have ID field "'.concat(m,'"'));var y=this._idToShortId.get(g);if(y==null)throw new Error("MiniSearch: cannot remove document with ID ".concat(g,": it is not in the index"));try{for(var b=mt(p),w=b.next();!w.done;w=b.next()){var x=w.value,k=h(t,x);if(k!=null){var _=u(k.toString(),x),A=this._fieldIds[x],P=new Set(_).size;this.removeFieldLength(y,A,this._documentCount,P);try{for(var N=(i=void 0,mt(_)),B=N.next();!B.done;B=N.next()){var j=B.value,W=c(j,x);if(Array.isArray(W))try{for(var K=(s=void 0,mt(W)),z=K.next();!z.done;z=K.next()){var G=z.value;this.removeTerm(A,y,G)}}catch(M){s={error:M}}finally{try{z&&!z.done&&(o=K.return)&&o.call(K)}finally{if(s)throw s.error}}else W&&this.removeTerm(A,y,W)}}catch(M){i={error:M}}finally{try{B&&!B.done&&(a=N.return)&&a.call(N)}finally{if(i)throw i.error}}}}}catch(M){n={error:M}}finally{try{w&&!w.done&&(r=b.return)&&r.call(b)}finally{if(n)throw n.error}}this._storedFields.delete(y),this._documentIds.delete(y),this._idToShortId.delete(g),this._fieldLength.delete(y),this._documentCount-=1},e.prototype.removeAll=function(t){var n,r;if(t)try{for(var i=mt(t),a=i.next();!a.done;a=i.next()){var s=a.value;this.remove(s)}}catch(o){n={error:o}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}else{if(arguments.length>0)throw new Error("Expected documents to be present. Omit the argument to remove all documents.");this._index=new fw,this._documentCount=0,this._documentIds=new Map,this._idToShortId=new Map,this._fieldLength=new Map,this._avgFieldLength=[],this._storedFields=new Map,this._nextId=0}},e.prototype.discard=function(t){var n=this,r=this._idToShortId.get(t);if(r==null)throw new Error("MiniSearch: cannot discard document with ID ".concat(t,": it is not in the index"));this._idToShortId.delete(t),this._documentIds.delete(r),this._storedFields.delete(r),(this._fieldLength.get(r)||[]).forEach(function(i,a){n.removeFieldLength(r,a,n._documentCount,i)}),this._fieldLength.delete(r),this._documentCount-=1,this._dirtCount+=1,this.maybeAutoVacuum()},e.prototype.maybeAutoVacuum=function(){if(this._options.autoVacuum!==!1){var t=this._options.autoVacuum,n=t.minDirtFactor,r=t.minDirtCount,i=t.batchSize,a=t.batchWait;this.conditionalVacuum({batchSize:i,batchWait:a},{minDirtCount:r,minDirtFactor:n})}},e.prototype.discardAll=function(t){var n,r,i=this._options.autoVacuum;try{this._options.autoVacuum=!1;try{for(var a=mt(t),s=a.next();!s.done;s=a.next()){var o=s.value;this.discard(o)}}catch(l){n={error:l}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}}finally{this._options.autoVacuum=i}this.maybeAutoVacuum()},e.prototype.replace=function(t){var n=this._options,r=n.idField,i=n.extractField,a=i(t,r);this.discard(a),this.add(t)},e.prototype.vacuum=function(t){return t===void 0&&(t={}),this.conditionalVacuum(t)},e.prototype.conditionalVacuum=function(t,n){var r=this;return this._currentVacuum?(this._enqueuedVacuumConditions=this._enqueuedVacuumConditions&&n,this._enqueuedVacuum!=null?this._enqueuedVacuum:(this._enqueuedVacuum=this._currentVacuum.then(function(){var i=r._enqueuedVacuumConditions;return r._enqueuedVacuumConditions=tx,r.performVacuuming(t,i)}),this._enqueuedVacuum)):this.vacuumConditionsMet(n)===!1?Promise.resolve():(this._currentVacuum=this.performVacuuming(t),this._currentVacuum)},e.prototype.performVacuuming=function(t,n){return iQ(this,void 0,void 0,function(){var r,i,a,s,o,l,u,c,h,p,m,g,y,b,w,x,k,_,A,P,N,B,j,W,K;return aQ(this,function(z){switch(z.label){case 0:if(r=this._dirtCount,!this.vacuumConditionsMet(n))return[3,10];i=t.batchSize||ex.batchSize,a=t.batchWait||ex.batchWait,s=1,z.label=1;case 1:z.trys.push([1,7,8,9]),o=mt(this._index),l=o.next(),z.label=2;case 2:if(l.done)return[3,6];u=Cn(l.value,2),c=u[0],h=u[1];try{for(p=(B=void 0,mt(h)),m=p.next();!m.done;m=p.next()){g=Cn(m.value,2),y=g[0],b=g[1];try{for(w=(W=void 0,mt(b)),x=w.next();!x.done;x=w.next())k=Cn(x.value,1),_=k[0],!this._documentIds.has(_)&&(b.size<=1?h.delete(y):b.delete(_))}catch(G){W={error:G}}finally{try{x&&!x.done&&(K=w.return)&&K.call(w)}finally{if(W)throw W.error}}}}catch(G){B={error:G}}finally{try{m&&!m.done&&(j=p.return)&&j.call(p)}finally{if(B)throw B.error}}return this._index.get(c).size===0&&this._index.delete(c),s%i!==0?[3,4]:[4,new Promise(function(G){return setTimeout(G,a)})];case 3:z.sent(),z.label=4;case 4:s+=1,z.label=5;case 5:return l=o.next(),[3,2];case 6:return[3,9];case 7:return A=z.sent(),P={error:A},[3,9];case 8:try{l&&!l.done&&(N=o.return)&&N.call(o)}finally{if(P)throw P.error}return[7];case 9:this._dirtCount-=r,z.label=10;case 10:return[4,null];case 11:return z.sent(),this._currentVacuum=this._enqueuedVacuum,this._enqueuedVacuum=null,[2]}})})},e.prototype.vacuumConditionsMet=function(t){if(t==null)return!0;var n=t.minDirtCount,r=t.minDirtFactor;return n=n||yw.minDirtCount,r=r||yw.minDirtFactor,this.dirtCount>=n&&this.dirtFactor>=r},Object.defineProperty(e.prototype,"isVacuuming",{get:function(){return this._currentVacuum!=null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dirtCount",{get:function(){return this._dirtCount},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dirtFactor",{get:function(){return this._dirtCount/(1+this._documentCount+this._dirtCount)},enumerable:!1,configurable:!0}),e.prototype.has=function(t){return this._idToShortId.has(t)},e.prototype.search=function(t,n){var r,i;n===void 0&&(n={});var a=this.executeQuery(t,n),s=[];try{for(var o=mt(a),l=o.next();!l.done;l=o.next()){var u=Cn(l.value,2),c=u[0],h=u[1],p=h.score,m=h.terms,g=h.match,y=m.length,b={id:this._documentIds.get(c),score:p*y,terms:Object.keys(g),match:g};Object.assign(b,this._storedFields.get(c)),(n.filter==null||n.filter(b))&&s.push(b)}}catch(w){r={error:w}}finally{try{l&&!l.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return s.sort(X5),s},e.prototype.autoSuggest=function(t,n){var r,i,a,s;n===void 0&&(n={}),n=an(an({},this._options.autoSuggestOptions),n);var o=new Map;try{for(var l=mt(this.search(t,n)),u=l.next();!u.done;u=l.next()){var c=u.value,h=c.score,p=c.terms,m=p.join(" "),g=o.get(m);g!=null?(g.score+=h,g.count+=1):o.set(m,{score:h,terms:p,count:1})}}catch(A){r={error:A}}finally{try{u&&!u.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}var y=[];try{for(var b=mt(o),w=b.next();!w.done;w=b.next()){var x=Cn(w.value,2),g=x[0],k=x[1],h=k.score,p=k.terms,_=k.count;y.push({suggestion:g,terms:p,score:h/_})}}catch(A){a={error:A}}finally{try{w&&!w.done&&(s=b.return)&&s.call(b)}finally{if(a)throw a.error}}return y.sort(X5),y},Object.defineProperty(e.prototype,"documentCount",{get:function(){return this._documentCount},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"termCount",{get:function(){return this._index.size},enumerable:!1,configurable:!0}),e.loadJSON=function(t,n){if(n==null)throw new Error("MiniSearch: loadJSON should be given the same options used when serializing the index");return this.loadJS(JSON.parse(t),n)},e.getDefault=function(t){if(gw.hasOwnProperty(t))return mw(gw,t);throw new Error('MiniSearch: unknown option "'.concat(t,'"'))},e.loadJS=function(t,n){var r,i,a,s,o,l,u=t.index,c=t.documentCount,h=t.nextId,p=t.documentIds,m=t.fieldIds,g=t.fieldLength,y=t.averageFieldLength,b=t.storedFields,w=t.dirtCount,x=t.serializationVersion;if(x!==1&&x!==2)throw new Error("MiniSearch: cannot deserialize an index created with an incompatible version");var k=new e(n);k._documentCount=c,k._nextId=h,k._documentIds=Ap(p),k._idToShortId=new Map,k._fieldIds=m,k._fieldLength=Ap(g),k._avgFieldLength=y,k._storedFields=Ap(b),k._dirtCount=w||0,k._index=new fw;try{for(var _=mt(k._documentIds),A=_.next();!A.done;A=_.next()){var P=Cn(A.value,2),N=P[0],B=P[1];k._idToShortId.set(B,N)}}catch(ae){r={error:ae}}finally{try{A&&!A.done&&(i=_.return)&&i.call(_)}finally{if(r)throw r.error}}try{for(var j=mt(u),W=j.next();!W.done;W=j.next()){var K=Cn(W.value,2),z=K[0],G=K[1],M=new Map;try{for(var te=(o=void 0,mt(Object.keys(G))),X=te.next();!X.done;X=te.next()){var ue=X.value,de=G[ue];x===1&&(de=de.ds),M.set(parseInt(ue,10),Ap(de))}}catch(ae){o={error:ae}}finally{try{X&&!X.done&&(l=te.return)&&l.call(te)}finally{if(o)throw o.error}}k._index.set(z,M)}}catch(ae){a={error:ae}}finally{try{W&&!W.done&&(s=j.return)&&s.call(j)}finally{if(a)throw a.error}}return k},e.prototype.executeQuery=function(t,n){var r=this;if(n===void 0&&(n={}),typeof t!="string"){var i=an(an(an({},n),t),{queries:void 0}),a=t.queries.map(function(b){return r.executeQuery(b,i)});return this.combineResults(a,i.combineWith)}var s=this._options,o=s.tokenize,l=s.processTerm,u=s.searchOptions,c=an(an({tokenize:o,processTerm:l},u),n),h=c.tokenize,p=c.processTerm,m=h(t).flatMap(function(b){return p(b)}).filter(function(b){return!!b}),g=m.map(fQ(c)),y=g.map(function(b){return r.executeQuerySpec(b,c)});return this.combineResults(y,c.combineWith)},e.prototype.executeQuerySpec=function(t,n){var r,i,a,s,o=an(an({},this._options.searchOptions),n),l=(o.fields||this._options.fields).reduce(function(ue,de){var ae;return an(an({},ue),(ae={},ae[de]=mw(o.boost,de)||1,ae))},{}),u=o.boostDocument,c=o.weights,h=o.maxFuzzy,p=o.bm25,m=an(an({},K5.weights),c),g=m.fuzzy,y=m.prefix,b=this._index.get(t.term),w=this.termResults(t.term,t.term,1,b,l,u,p),x,k;if(t.prefix&&(x=this._index.atPrefix(t.term)),t.fuzzy){var _=t.fuzzy===!0?.2:t.fuzzy,A=_<1?Math.min(h,Math.round(t.term.length*_)):_;A&&(k=this._index.fuzzyGet(t.term,A))}if(x)try{for(var P=mt(x),N=P.next();!N.done;N=P.next()){var B=Cn(N.value,2),j=B[0],W=B[1],K=j.length-t.term.length;if(K){k?.delete(j);var z=y*j.length/(j.length+.3*K);this.termResults(t.term,j,z,W,l,u,p,w)}}}catch(ue){r={error:ue}}finally{try{N&&!N.done&&(i=P.return)&&i.call(P)}finally{if(r)throw r.error}}if(k)try{for(var G=mt(k.keys()),M=G.next();!M.done;M=G.next()){var j=M.value,te=Cn(k.get(j),2),X=te[0],K=te[1];if(K){var z=g*j.length/(j.length+K);this.termResults(t.term,j,z,X,l,u,p,w)}}}catch(ue){a={error:ue}}finally{try{M&&!M.done&&(s=G.return)&&s.call(G)}finally{if(a)throw a.error}}return w},e.prototype.combineResults=function(t,n){if(n===void 0&&(n=qC),t.length===0)return new Map;var r=n.toLowerCase();return t.reduce(cQ[r])||new Map},e.prototype.toJSON=function(){var t,n,r,i,a=[];try{for(var s=mt(this._index),o=s.next();!o.done;o=s.next()){var l=Cn(o.value,2),u=l[0],c=l[1],h={};try{for(var p=(r=void 0,mt(c)),m=p.next();!m.done;m=p.next()){var g=Cn(m.value,2),y=g[0],b=g[1];h[y]=Object.fromEntries(b)}}catch(w){r={error:w}}finally{try{m&&!m.done&&(i=p.return)&&i.call(p)}finally{if(r)throw r.error}}a.push([u,h])}}catch(w){t={error:w}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return{documentCount:this._documentCount,nextId:this._nextId,documentIds:Object.fromEntries(this._documentIds),fieldIds:this._fieldIds,fieldLength:Object.fromEntries(this._fieldLength),averageFieldLength:this._avgFieldLength,storedFields:Object.fromEntries(this._storedFields),dirtCount:this._dirtCount,index:a,serializationVersion:2}},e.prototype.termResults=function(t,n,r,i,a,s,o,l){var u,c,h,p,m;if(l===void 0&&(l=new Map),i==null)return l;try{for(var g=mt(Object.keys(a)),y=g.next();!y.done;y=g.next()){var b=y.value,w=a[b],x=this._fieldIds[b],k=i.get(x);if(k!=null){var _=k.size,A=this._avgFieldLength[x];try{for(var P=(h=void 0,mt(k.keys())),N=P.next();!N.done;N=P.next()){var B=N.value;if(!this._documentIds.has(B)){this.removeTerm(x,B,n),_-=1;continue}var j=s?s(this._documentIds.get(B),n):1;if(j){var W=k.get(B),K=this._fieldLength.get(B)[x],z=hQ(W,_,this._documentCount,K,A,o),G=r*w*j*z,M=l.get(B);if(M){M.score+=G,mQ(M.terms,t);var te=mw(M.match,n);te?te.push(b):M.match[n]=[b]}else l.set(B,{score:G,terms:[t],match:(m={},m[n]=[b],m)})}}}catch(X){h={error:X}}finally{try{N&&!N.done&&(p=P.return)&&p.call(P)}finally{if(h)throw h.error}}}}}catch(X){u={error:X}}finally{try{y&&!y.done&&(c=g.return)&&c.call(g)}finally{if(u)throw u.error}}return l},e.prototype.addTerm=function(t,n,r){var i=this._index.fetch(r,Q5),a=i.get(t);if(a==null)a=new Map,a.set(n,1),i.set(t,a);else{var s=a.get(n);a.set(n,(s||0)+1)}},e.prototype.removeTerm=function(t,n,r){if(!this._index.has(r)){this.warnDocumentChanged(n,t,r);return}var i=this._index.fetch(r,Q5),a=i.get(t);a==null||a.get(n)==null?this.warnDocumentChanged(n,t,r):a.get(n)<=1?a.size<=1?i.delete(t):a.delete(n):a.set(n,a.get(n)-1),this._index.get(r).size===0&&this._index.delete(r)},e.prototype.warnDocumentChanged=function(t,n,r){var i,a;try{for(var s=mt(Object.keys(this._fieldIds)),o=s.next();!o.done;o=s.next()){var l=o.value;if(this._fieldIds[l]===n){this._options.logger("warn","MiniSearch: document with ID ".concat(this._documentIds.get(t),' has changed before removal: term "').concat(r,'" was not present in field "').concat(l,'". Removing a document after it has changed can corrupt the index!'),"version_conflict");return}}}catch(u){i={error:u}}finally{try{o&&!o.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}},e.prototype.addDocumentId=function(t){var n=this._nextId;return this._idToShortId.set(t,n),this._documentIds.set(n,t),this._documentCount+=1,this._nextId+=1,n},e.prototype.addFields=function(t){for(var n=0;n<t.length;n++)this._fieldIds[t[n]]=n},e.prototype.addFieldLength=function(t,n,r,i){var a=this._fieldLength.get(t);a==null&&this._fieldLength.set(t,a=[]),a[n]=i;var s=this._avgFieldLength[n]||0,o=s*r+i;this._avgFieldLength[n]=o/(r+1)},e.prototype.removeFieldLength=function(t,n,r,i){if(r===1){this._avgFieldLength[n]=0;return}var a=this._avgFieldLength[n]*r-i;this._avgFieldLength[n]=a/(r-1)},e.prototype.saveStoredFields=function(t,n){var r,i,a=this._options,s=a.storeFields,o=a.extractField;if(!(s==null||s.length===0)){var l=this._storedFields.get(t);l==null&&this._storedFields.set(t,l={});try{for(var u=mt(s),c=u.next();!c.done;c=u.next()){var h=c.value,p=o(n,h);p!==void 0&&(l[h]=p)}}catch(m){r={error:m}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}}},e}(),mw=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0},cQ=(Vc={},Vc[qC]=function(e,t){var n,r;try{for(var i=mt(t.keys()),a=i.next();!a.done;a=i.next()){var s=a.value,o=e.get(s);if(o==null)e.set(s,t.get(s));else{var l=t.get(s),u=l.score,c=l.terms,h=l.match;o.score=o.score+u,o.match=Object.assign(o.match,h),Y5(o.terms,c)}}}catch(p){n={error:p}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return e},Vc[SO]=function(e,t){var n,r,i=new Map;try{for(var a=mt(t.keys()),s=a.next();!s.done;s=a.next()){var o=s.value,l=e.get(o);if(l!=null){var u=t.get(o),c=u.score,h=u.terms,p=u.match;Y5(l.terms,h),i.set(o,{score:l.score+c,terms:l.terms,match:Object.assign(l.match,p)})}}}catch(m){n={error:m}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return i},Vc[uQ]=function(e,t){var n,r;try{for(var i=mt(t.keys()),a=i.next();!a.done;a=i.next()){var s=a.value;e.delete(s)}}catch(o){n={error:o}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return e},Vc),dQ={k:1.2,b:.7,d:.5},hQ=function(e,t,n,r,i,a){var s=a.k,o=a.b,l=a.d,u=Math.log(1+(n-t+.5)/(t+.5));return u*(l+e*(s+1)/(e+s*(1-o+o*r/i)))},fQ=function(e){return function(t,n,r){var i=typeof e.fuzzy=="function"?e.fuzzy(t,n,r):e.fuzzy||!1,a=typeof e.prefix=="function"?e.prefix(t,n,r):e.prefix===!0;return{term:t,fuzzy:i,prefix:a}}},gw={idField:"id",extractField:function(e,t){return e[t]},tokenize:function(e,t){return e.split(gQ)},processTerm:function(e,t){return e.toLowerCase()},fields:void 0,searchOptions:void 0,storeFields:[],logger:function(e,t,n){return console!=null&&console.warn!=null&&console[e](t)},autoVacuum:!0},K5={combineWith:qC,prefix:!1,fuzzy:!1,maxFuzzy:6,boost:{},weights:{fuzzy:.45,prefix:.375},bm25:dQ},pQ={combineWith:SO,prefix:function(e,t,n){return t===n.length-1}},ex={batchSize:1e3,batchWait:10},tx={minDirtFactor:.1,minDirtCount:20},yw=an(an({},ex),tx),mQ=function(e,t){e.includes(t)||e.push(t)},Y5=function(e,t){var n,r;try{for(var i=mt(t),a=i.next();!a.done;a=i.next()){var s=a.value;e.includes(s)||e.push(s)}}catch(o){n={error:o}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},X5=function(e,t){var n=e.score,r=t.score;return r-n},Q5=function(){return new Map},Ap=function(e){var t,n,r=new Map;try{for(var i=mt(Object.keys(e)),a=i.next();!a.done;a=i.next()){var s=a.value;r.set(parseInt(s,10),e[s])}}catch(o){t={error:o}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r},gQ=/[\n\r -#%-*,-/:;?@[-\]_{}\u00A0\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u1680\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2000-\u200A\u2010-\u2029\u202F-\u2043\u2045-\u2051\u2053-\u205F\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u3000-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]+/u,Hg;(e=>{e.use=()=>{const{text:t,setText:n,miniSearch:r,lastAdded:i}=qg.use(({text:h,setText:p,miniSearch:m,lastAdded:g})=>({text:h,setText:p,miniSearch:m,lastAdded:g})),[a,s]=useState(!1),[o,l]=useState([]),u=useCallback((h="")=>{n(h),s(h!==""),l([])},[n]),c=useCallback(()=>u(""),[u]);return dh(()=>s(!1),500,[o]),dh(()=>l(r.search(t).map(({id:h})=>h)),10,[t,r,i]),useMemo(()=>({loading:a,matches:o,text:t,setText:u,clear:c}),[o,a,t,u,c])},(t=>{t.use=n=>{const{enabled:r,id:i}=n,a=useMemo(()=>Ye.Name.toString(n),[n]),{miniSearch:s,setLastAdded:o}=qg.use(({miniSearch:l,setLastAdded:u})=>({miniSearch:l,setLastAdded:u}));useEffect(()=>{const l=()=>{s.has(i)&&s.remove({id:i,text:a})};return l(),s.add({id:i,text:a}),o(i),l},[r,i,a,s,o])}})(e.Datum||(e.Datum={}))})(Hg||(Hg={}));var qg;(e=>{e.use=et.create(t=>({text:"",setText:n=>t({text:n}),miniSearch:new CO({idField:"id",fields:["text"],storeFields:[],searchOptions:{fuzzy:!0,prefix:!0}}),lastAdded:void 0,setLastAdded:n=>t({lastAdded:n})}))})(qg||(qg={}));function Wa({onAction:e,className:t}){const n=Wa.useDisplayed();return useMemo(()=>{const r=Wa.toGroups(n),{grouped:i,ungrouped:a}=n.reduce(({grouped:l,ungrouped:u},c)=>{const h=Ye.Name.toStringArray(c),p=r.find(m=>m===h[0]);return{ungrouped:p?u:[...u,c],grouped:p?{...l,[p]:[...l[p]??[],c]}:l}},{grouped:{},ungrouped:[]}),s=Object.entries(i).flatMap(([l,u],c)=>[C(H.Divider,{children:l},l),...u.map((h,p)=>C(Ye,{selected:!1,group:l,shortcut:{...h,action:()=>{e?.(),h.action()}}},h.id))]),o=a.map(l=>C(Ye,{shortcut:{...l,action:()=>{e?.(),l.action()}}},l.id));return ne("div",{className:classes("flex flex-col gap-2",t),children:[s,o.length>0&&C(H.Divider,{}),o]})},[n,e,t])}(e=>{e.toGroups=t=>t.reduce(({seen:n,groups:r},i)=>{const[a,s]=Ye.Name.toStringArray(i);return a?{seen:{...n,[a]:!0},groups:(n[a]||s)&&!r.includes(a)?[...r,a]:r}:{seen:n,groups:r}},{seen:{},groups:[]}).groups,e.get=()=>Id.use.getState().shortcuts,e.set=t=>Id.use.getState().setShortcuts(t),e.use=()=>{const t=Id.use(({shortcuts:n})=>({shortcuts:n}));return useMemo(()=>[...t.shortcuts.values()],[t.shortcuts])},e.useDisplayed=()=>{const t=Ye.Priority.Order.use(),n=Ye.Search.use();return useMemo(()=>t.filter(({id:r,menu:i})=>i&&(n.text!==""?n.matches.includes(r):!0)),[t,n.matches,n.text])}})(Wa||(Wa={}));var Id;(e=>{e.use=et.create(t=>({shortcuts:new Map,setShortcuts:n=>t(({shortcuts:r})=>({shortcuts:new Map(typeof n=="function"?n(r):n)}))}))})(Id||(Id={}));function Ye({shortcut:e,group:t,selected:n}){return useMemo(()=>C(H.Button,{transparent:!0,className:"w-full min-w-[200px]",selected:n,iconLeft:e.icon??H.Icon.Invisible,iconRight:e.keys&&C(Ou,{keys:e.keys,className:"ml-auto flex grow justify-end pl-6"}),onClick:()=>e.action(),children:C(Ye.Name,{id:e.id,name:e.name,group:t})}),[t,n,e])}(e=>{e.Event=q2,e.Key=jg,e.Keys=Ou,e.Palette=Vg,e.Priority=Z2,e.Priorities=Q2,e.Search=Hg,e.Name=$g;function t(n){const[r]=useState(ID.create),i=useMemo(()=>({id:r,enabled:!0,menu:!0,...n}),[r,n]),{enabled:a,action:s}=i,o=useCallback(l=>{a&&s(l)},[a,s]);return useEffect(()=>{const l=()=>Wa.set(c=>c.set(r,i)),u=()=>Wa.set(c=>(c.delete(r),c));return a?l():u(),u},[a,r,i]),Hg.Datum.use(i),Ou.use(useMemo(()=>({keys:i.keys?typeof i.keys=="string"||Array.isArray(i.keys)?i.keys:i.keys.keys:void 0,action:o,options:i.options}),[i.keys,i.options,o])),useMemo(()=>({...i,action:o}),[i,o])}e.use=t})(Ye||(Ye={}));function yQ({actions:e}){return C("div",{className:"mt-4 flex flex-row items-center justify-end gap-2",children:e.map((t,n)=>K9(vQ,{...t,key:n}))})}function vQ({label:e,onClick:t,variant:n="zinc",size:r=H.Common.Size.preset(),disabled:i=!1}){return C(H.Button,{color:n,onClick:t,size:r,disabled:i,children:e})}function wQ({className:e,children:t}){return C("p",{className:classes("text-left opacity-90",e),children:t})}function bQ({className:e,children:t}){return C("div",{className:classes("flex flex-col rounded-lg border border-zinc-700 bg-zinc-900",e),children:t})}function xQ({className:e,children:t}){return C("h1",{className:classes("text-left text-2xl font-medium",e),children:t})}function kQ({className:e,children:t,onClose:n}){return ne("div",{className:classes("flex flex-row items-center justify-between rounded-t-lg border-b border-zinc-700 bg-zinc-900 p-2",e),children:[C("div",{children:t}),C(H.Button,{icon:H.Icon.X,onClick:()=>n?.()})]})}const SQ={closed:{opacity:0,transition:{type:"tween",duration:.1}},open:{opacity:1,transition:{type:"tween",duration:.1}}},CQ={closed:{scale:.9,opacity:0,transition:{type:"spring",damping:30,stiffness:500,restSpeed:10}},open:{scale:1,opacity:1,transition:{type:"spring",damping:22,stiffness:500,restSpeed:.1}}};function nx(e){const t=useMemo(()=>document.getElementById("modal-root"),[]);if(!t)return console.error("Could not find root element"),null;const n=C(Wh,{children:e.open&&C(EQ,{...e})});return Yu.createPortal(n,t)}function EQ({open:e,onClose:t,children:n,className:r,modalName:i}){return Ye.use(useMemo(()=>({menu:!1,name:[`${i} Modal`,"Close"],keys:"Escape",action:()=>{t()}}),[i,t])),C(Ar.div,{className:classes("fixed top-0 left-0 z-[1000] flex h-full w-full bg-black/75 sm:h-screen sm:w-screen sm:items-center sm:justify-center",!e&&"pointer-events-none"),variants:SQ,initial:"closed",animate:e?"open":"closed",exit:"closed",onClick:t,children:C(Ar.div,{className:classes(!e&&"pointer-events-none",r),variants:CQ,initial:"closed",animate:e?"open":"closed",exit:"closed",onClick:a=>a.stopPropagation(),children:e&&n})})}(e=>{e.Panel=bQ,e.Title=xQ,e.Description=wQ,e.Actions=yQ,e.TopBar=kQ})(nx||(nx={}));var Kg;(e=>{e.use=()=>useMemo(()=>({dark:!0,systemPrefersDark:!0}),[])})(Kg||(Kg={}));function TQ(e){return C(H.Badge,{...e,variant:"outline",color:"zinc",children:e.children??C(rt,{children:"New"})})}function _Q(e){const{onChange:t,onNumberChange:n,...r}=Pd.Props.usePresets(e),[i,a]=useState(!1),[s,o]=useState(r.value);useEffect(()=>o(r.value),[r.value,o]);const l=Pd.useParseNumber({...r,clamping:!1}),u=useCallback(w=>{r.disabled||(a(!0),r.autoSelect&&w.target.select())},[r.disabled,r.autoSelect]),c=useCallback(w=>{if(o(w),t?.(w),!r.number||!n)return;const x=l(w);x&&n(x)},[r.number,l,t,n]),h=useCallback(()=>{a(!1);const w=l(s);c(w?`${clamp(r.min??-1/0,w,r.max??1/0)}`:r.value?`${r.value}`:"")},[c,l,r.max,r.min,r.value,s]),p=useCallback(w=>c(w.target.value),[c]),{icon:m,iconRight:g,outsideIcon:y}=Pd.useIcons({...r,value:s,onChange:c}),b=useCallback(w=>{w.key==="Enter"&&w.currentTarget.blur()},[]);return ne("div",{className:classes("group flex flex-col gap-1",!r.fullWidth&&"w-fit",r.className),children:[r.label&&C("label",{className:"opacity-muted text-sm font-light",children:r.label}),ne("div",{className:classes("-ml-1 flex flex-row items-center",r.containerClassName),children:[y,ne("div",{className:classes("flex flex-row items-center rounded pl-1 outline outline-1 outline-transparent duration-150",i?"outline-brand-500":"group-hover:outline-zinc-700",r.inputClassName),children:[m,C("input",{className:classes("rounded bg-transparent py-0.5 text-black outline-none placeholder:text-black/50 dark:text-white dark:placeholder:text-white/20",r.disabled&&"cursor-not-allowed",r.fullWidth?"w-full":"w-20",r.percentage&&"w-12 text-right"),value:!i&&r.round&&!isNaN(Number(s))?Math.round(Number(s)):s,onChange:p,placeholder:r.placeholder,disabled:r.disabled,onFocus:u,onBlur:h,onKeyDown:b}),g??(r.percentage&&C("div",{className:"opacity-muted px-1",children:"%"}))]})]})]})}var Pd;(e=>{(t=>{t.usePresets=n=>useMemo(()=>({value:n.value??"",percentage:n.percentage??!1,number:n.number??!1,min:n.min??-1/0,max:n.max??1/0,step:n.step??1,autoSelect:n.autoSelect??!0,...n}),[n])})(e.Props||(e.Props={})),e.useParseNumber=({number:t,min:n,max:r,step:i,clamping:a})=>useCallback(s=>{if(!t||s==="")return;const o=typeof s=="number"?s:parseFloat(s);if(isNaN(o))return;const u=((i??1)%1).toString().split(".")[1]?.length??0,c=i?Math.round(o/i)*i:o,h=parseFloat(c.toFixed(u));return a?clamp(n??-1/0,h,r??1/0):h},[t,i,a,n,r]),e.useIcons=({value:t="",onChange:n,disabled:r,loading:i,min:a,max:s,step:o,number:l,icon:u,iconRight:c})=>{const h=e.useParseNumber({number:l,min:a,max:s,step:o,clamping:!0}),p=useCallback(m=>{if(!r&&l){const g=m.clientX,y=throttle(w=>{const x=w.clientX-g,k=h(t);if(!k)return;const _=s?50*(o??1)/s:1,A=h(k+x*_);A&&(n?.(A.toString()),window.getSelection()?.removeAllRanges(),document.body.style.cursor="ew-resize")},25,{trailing:!0}),b=()=>{window.removeEventListener("mousemove",y),window.removeEventListener("mouseup",b),document.body.style.cursor="default"};window.addEventListener("mousemove",y),window.addEventListener("mouseup",b)}},[r,l,t,o,s,h,n]);return{icon:useMemo(()=>{if(!u)return null;const m=classes("opacity-60 h-7 w-7 p-1 select-none shrink-0",!r&&l&&t?"cursor-ew-resize":"");return i?C(H.Loading.Spinner,{className:m}):typeof u=="function"?u({className:`${m} -ml-1`,onMouseDown:p}):typeof u=="string"?u.length!==1?null:C("h1",{className:"opacity-muted -ml-1 flex h-7 w-7 cursor-ew-resize select-none items-center justify-center",onMouseDown:p,children:u}):typeof u!="object"||React.isValidElement(u)?u:null},[u,r,l,t,i,p]),iconRight:useMemo(()=>{if(!c)return null;const m=classes("opacity-60 h-7 w-7 p-1 select-none shrink-0");return typeof c=="function"?c({className:m}):typeof c=="string"?c.length!==1?void 0:C("h1",{className:"opacity-muted flex h-7 w-7 select-none items-center justify-center",children:c}):typeof c!="object"||React.isValidElement(c)?c:null},[c]),outsideIcon:useMemo(()=>u&&typeof u=="string"&&u.length>1?C("h1",{className:"opacity-muted mr-1 flex h-full cursor-ew-resize select-none items-center justify-center p-1",onMouseDown:p,children:u}):null,[u,p])}}})(Pd||(Pd={}));function IQ({fullWidth:e=!1,fullHeight:t=!1,className:n,children:r}){return C("div",{className:classes("absolute top-0 left-0 right-0 bottom-0 flex grow flex-col items-center overflow-y-auto p-4 pb-20 sm:p-8 sm:pb-20 md:p-12 md:pb-20",e&&"pl-0 pr-0 sm:pl-0 sm:pr-0 md:pl-0 md:pr-0",t&&"pt-0 pb-0 sm:pt-0 sm:pb-0 md:pt-0 md:pb-0",n),css:css`
        overflow-anchor: none;
      `,children:C("div",{className:classes("max-w-[1600px] grow",e&&"w-full max-w-none"),children:r})})}var Oo=[],PQ=function(){return Oo.some(function(e){return e.activeTargets.length>0})},AQ=function(){return Oo.some(function(e){return e.skippedTargets.length>0})},Z5="ResizeObserver loop completed with undelivered notifications.",RQ=function(){var e;typeof ErrorEvent=="function"?e=new ErrorEvent("error",{message:Z5}):(e=document.createEvent("Event"),e.initEvent("error",!1,!1),e.message=Z5),window.dispatchEvent(e)},gh;(function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(gh||(gh={}));var Lo=function(e){return Object.freeze(e)},DQ=function(){function e(t,n){this.inlineSize=t,this.blockSize=n,Lo(this)}return e}(),EO=function(){function e(t,n,r,i){return this.x=t,this.y=n,this.width=r,this.height=i,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,Lo(this)}return e.prototype.toJSON=function(){var t=this,n=t.x,r=t.y,i=t.top,a=t.right,s=t.bottom,o=t.left,l=t.width,u=t.height;return{x:n,y:r,top:i,right:a,bottom:s,left:o,width:l,height:u}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),KC=function(e){return e instanceof SVGElement&&"getBBox"in e},TO=function(e){if(KC(e)){var t=e.getBBox(),n=t.width,r=t.height;return!n&&!r}var i=e,a=i.offsetWidth,s=i.offsetHeight;return!(a||s||e.getClientRects().length)},J5=function(e){var t;if(e instanceof Element)return!0;var n=(t=e?.ownerDocument)===null||t===void 0?void 0:t.defaultView;return!!(n&&e instanceof n.Element)},NQ=function(e){switch(e.tagName){case"INPUT":if(e.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},Ad=typeof window<"u"?window:{},Rp=new WeakMap,e4=/auto|scroll/,MQ=/^tb|vertical/,OQ=/msie|trident/i.test(Ad.navigator&&Ad.navigator.userAgent),na=function(e){return parseFloat(e||"0")},gu=function(e,t,n){return e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=!1),new DQ((n?t:e)||0,(n?e:t)||0)},t4=Lo({devicePixelContentBoxSize:gu(),borderBoxSize:gu(),contentBoxSize:gu(),contentRect:new EO(0,0,0,0)}),_O=function(e,t){if(t===void 0&&(t=!1),Rp.has(e)&&!t)return Rp.get(e);if(TO(e))return Rp.set(e,t4),t4;var n=getComputedStyle(e),r=KC(e)&&e.ownerSVGElement&&e.getBBox(),i=!OQ&&n.boxSizing==="border-box",a=MQ.test(n.writingMode||""),s=!r&&e4.test(n.overflowY||""),o=!r&&e4.test(n.overflowX||""),l=r?0:na(n.paddingTop),u=r?0:na(n.paddingRight),c=r?0:na(n.paddingBottom),h=r?0:na(n.paddingLeft),p=r?0:na(n.borderTopWidth),m=r?0:na(n.borderRightWidth),g=r?0:na(n.borderBottomWidth),y=r?0:na(n.borderLeftWidth),b=h+u,w=l+c,x=y+m,k=p+g,_=o?e.offsetHeight-k-e.clientHeight:0,A=s?e.offsetWidth-x-e.clientWidth:0,P=i?b+x:0,N=i?w+k:0,B=r?r.width:na(n.width)-P-A,j=r?r.height:na(n.height)-N-_,W=B+b+A+x,K=j+w+_+k,z=Lo({devicePixelContentBoxSize:gu(Math.round(B*devicePixelRatio),Math.round(j*devicePixelRatio),a),borderBoxSize:gu(W,K,a),contentBoxSize:gu(B,j,a),contentRect:new EO(h,l,B,j)});return Rp.set(e,z),z},IO=function(e,t,n){var r=_O(e,n),i=r.borderBoxSize,a=r.contentBoxSize,s=r.devicePixelContentBoxSize;switch(t){case gh.DEVICE_PIXEL_CONTENT_BOX:return s;case gh.BORDER_BOX:return i;default:return a}},LQ=function(){function e(t){var n=_O(t);this.target=t,this.contentRect=n.contentRect,this.borderBoxSize=Lo([n.borderBoxSize]),this.contentBoxSize=Lo([n.contentBoxSize]),this.devicePixelContentBoxSize=Lo([n.devicePixelContentBoxSize])}return e}(),PO=function(e){if(TO(e))return 1/0;for(var t=0,n=e.parentNode;n;)t+=1,n=n.parentNode;return t},FQ=function(){var e=1/0,t=[];Oo.forEach(function(s){if(s.activeTargets.length!==0){var o=[];s.activeTargets.forEach(function(u){var c=new LQ(u.target),h=PO(u.target);o.push(c),u.lastReportedSize=IO(u.target,u.observedBox),h<e&&(e=h)}),t.push(function(){s.callback.call(s.observer,o,s.observer)}),s.activeTargets.splice(0,s.activeTargets.length)}});for(var n=0,r=t;n<r.length;n++){var i=r[n];i()}return e},n4=function(e){Oo.forEach(function(n){n.activeTargets.splice(0,n.activeTargets.length),n.skippedTargets.splice(0,n.skippedTargets.length),n.observationTargets.forEach(function(i){i.isActive()&&(PO(i.target)>e?n.activeTargets.push(i):n.skippedTargets.push(i))})})},BQ=function(){var e=0;for(n4(e);PQ();)e=FQ(),n4(e);return AQ()&&RQ(),e>0},vw,AO=[],zQ=function(){return AO.splice(0).forEach(function(e){return e()})},UQ=function(e){if(!vw){var t=0,n=document.createTextNode(""),r={characterData:!0};new MutationObserver(function(){return zQ()}).observe(n,r),vw=function(){n.textContent="".concat(t?t--:t++)}}AO.push(e),vw()},jQ=function(e){UQ(function(){requestAnimationFrame(e)})},mm=0,$Q=function(){return!!mm},VQ=250,WQ={attributes:!0,characterData:!0,childList:!0,subtree:!0},r4=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],i4=function(e){return e===void 0&&(e=0),Date.now()+e},ww=!1,GQ=function(){function e(){var t=this;this.stopped=!0,this.listener=function(){return t.schedule()}}return e.prototype.run=function(t){var n=this;if(t===void 0&&(t=VQ),!ww){ww=!0;var r=i4(t);jQ(function(){var i=!1;try{i=BQ()}finally{if(ww=!1,t=r-i4(),!$Q())return;i?n.run(1e3):t>0?n.run(t):n.start()}})}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var t=this,n=function(){return t.observer&&t.observer.observe(document.body,WQ)};document.body?n():Ad.addEventListener("DOMContentLoaded",n)},e.prototype.start=function(){var t=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),r4.forEach(function(n){return Ad.addEventListener(n,t.listener,!0)}))},e.prototype.stop=function(){var t=this;this.stopped||(this.observer&&this.observer.disconnect(),r4.forEach(function(n){return Ad.removeEventListener(n,t.listener,!0)}),this.stopped=!0)},e}(),rx=new GQ,a4=function(e){!mm&&e>0&&rx.start(),mm+=e,!mm&&rx.stop()},HQ=function(e){return!KC(e)&&!NQ(e)&&getComputedStyle(e).display==="inline"},qQ=function(){function e(t,n){this.target=t,this.observedBox=n||gh.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var t=IO(this.target,this.observedBox,!0);return HQ(this.target)&&(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}(),KQ=function(){function e(t,n){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=t,this.callback=n}return e}(),Dp=new WeakMap,s4=function(e,t){for(var n=0;n<e.length;n+=1)if(e[n].target===t)return n;return-1},Np=function(){function e(){}return e.connect=function(t,n){var r=new KQ(t,n);Dp.set(t,r)},e.observe=function(t,n,r){var i=Dp.get(t),a=i.observationTargets.length===0;s4(i.observationTargets,n)<0&&(a&&Oo.push(i),i.observationTargets.push(new qQ(n,r&&r.box)),a4(1),rx.schedule())},e.unobserve=function(t,n){var r=Dp.get(t),i=s4(r.observationTargets,n),a=r.observationTargets.length===1;i>=0&&(a&&Oo.splice(Oo.indexOf(r),1),r.observationTargets.splice(i,1),a4(-1))},e.disconnect=function(t){var n=this,r=Dp.get(t);r.observationTargets.slice().forEach(function(i){return n.unobserve(t,i.target)}),r.activeTargets.splice(0,r.activeTargets.length)},e}(),YQ=function(){function e(t){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof t!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");Np.connect(this,t)}return e.prototype.observe=function(t,n){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!J5(t))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");Np.observe(this,t,n)},e.prototype.unobserve=function(t){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!J5(t))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");Np.unobserve(this,t)},e.prototype.disconnect=function(){Np.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}();const XQ=$e[typeof document<"u"&&document.createElement!==void 0?"useLayoutEffect":"useEffect"],QQ=XQ,ZQ=e=>{const t=Y.useRef(e);return Y.useEffect(()=>{t.current=e}),t},JQ=ZQ,eZ=typeof window<"u"&&"ResizeObserver"in window?window.ResizeObserver:YQ;function tZ(){}function nZ(e,t){const n=iZ(),r=JQ(t);return QQ(()=>{let i=!1;const a=e&&"current"in e?e.current:e;if(!a)return tZ;function s(o,l){i||r.current(o,l)}return n.subscribe(a,s),()=>{i=!0,n.unsubscribe(a,s)}},[e,n,r]),n.observer}function rZ(){let e=!1,t=[];const n=new Map,r=new eZ((i,a)=>{t=t.concat(i);function s(){const o=new Set;for(let l=0;l<t.length;l++){if(o.has(t[l].target))continue;o.add(t[l].target);const u=n.get(t[l].target);u?.forEach(c=>c(t[l],a))}t=[],e=!1}e||window.requestAnimationFrame(s),e=!0});return{observer:r,subscribe(i,a){var s;r.observe(i);const o=(s=n.get(i))!==null&&s!==void 0?s:[];o.push(a),n.set(i,o)},unsubscribe(i,a){var s;const o=(s=n.get(i))!==null&&s!==void 0?s:[];if(o.length===1){r.unobserve(i),n.delete(i);return}const l=o.indexOf(a);l!==-1&&o.splice(l,1),n.set(i,o)}}}let bw;const iZ=()=>bw||(bw=rZ());function aZ({onClick:e,className:t,options:n,value:r,title:i,placeholder:a,label:s,children:o,anchor:l="top"}){const[u,c]=useState(!1),[h]=oZ([u]),p=useRef(null);py(p,()=>c(!1));const m=useMemo(()=>n.find(y=>y.value===r),[n,r]),g=H.useIsMobileDevice();return ne("div",{ref:p,children:[u&&C("div",{ref:h,className:"fixed z-50 block",style:g?{bottom:"0",left:"0",width:"100%",right:"0"}:{...l==="top"?{top:`${p.current?.getBoundingClientRect().top}px`}:{bottom:`${window.innerHeight-(p.current?.getBoundingClientRect().bottom??0)}px`},left:`${(p.current?.getBoundingClientRect().left??0)+(p.current?.getBoundingClientRect().width??0)}px`},children:C(sZ,{onClick:y=>{e(y),c(!1)},options:n,value:r,title:i,children:o})}),ne("div",{className:"flex flex-col gap-1",children:[s&&C(H.Label,{children:s}),ne("div",{className:classes("flex cursor-pointer flex-row items-center rounded border border-transparent py-1 pl-2 pr-1 duration-100",u?"bg-zinc-700/50":"hover:border-zinc-700",t),onClick:()=>c(!u),children:[m?.image&&C("img",{className:"mr-2 h-5 w-5 rounded",src:m.image,alt:"Preset Image"}),C("h1",{className:"w-full grow select-none",children:m?.name??a??"Select"}),C(H.Icon.ChevronRight,{className:"h-6 w-6",strokeWidth:1.5})]})]})]})}function sZ({onClick:e,title:t,options:n,value:r,children:i}){const a=useMemo(()=>n.some(s=>s.image),[n]);return ne("div",{className:"flex max-h-[70vh] flex-col overflow-y-auto rounded border border-zinc-700 bg-zinc-900 shadow-lg drop-shadow-lg sm:ml-3 sm:max-h-[30rem] sm:w-[25rem]",children:[ne("div",{className:"sticky top-0 z-[1] flex flex-row items-center justify-between border-b border-zinc-700 bg-zinc-900 px-3 py-1.5",children:[C("h1",{className:"grow",children:t}),C(H.Icon.X,{className:"opacity-muted h-5 w-5 cursor-pointer hover:opacity-100",strokeWidth:1.5,onClick:()=>e(r)})]}),C("div",{className:classes("grid gap-y-6 p-3",a?"grid-cols-3 gap-4":"gap-3"),children:i||n.map((s,o)=>ne("div",{onClick:s.disabled?doNothing:()=>e(s.value),className:classes("group flex cursor-pointer flex-col rounded duration-100",s.disabled&&"opacity-muted cursor-not-allowed"),children:[s.image?C("img",{className:"mb-2 aspect-square h-full w-full rounded-lg border border-transparent duration-100 group-hover:border-zinc-200",src:s.image,alt:"Preset Image"}):a&&C("div",{className:"mb-2 flex aspect-square w-full items-center justify-center rounded-lg border border-transparent bg-black/20 duration-100 group-hover:border-zinc-200",children:C(H.Icon.Slash,{className:"opacity-muted h-12 w-12"})}),C("h1",{className:classes("w-full grow select-none text-zinc-400 group-hover:text-zinc-200",s.value===r&&"font-medium text-white"),children:s.name})]},o))})]})}const oZ=e=>{const t=useRef(null),[n,r]=useState({x:0,y:0,width:0,height:0}),i=useCallback(a=>r(s=>a??t.current?.getBoundingClientRect()??s),[r]);return nZ(t,()=>i()),useLayoutEffect(i,[...e,i]),[t,n]};function lZ({className:e}){return C("div",{className:classes("animate-pulse rounded-full bg-zinc-200 dark:bg-zinc-700",e)})}function ix(e,t){return ix=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ix(e,t)}function uZ(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,ix(e,t)}function xw(e){return e&&e.stopPropagation&&e.stopPropagation(),e&&e.preventDefault&&e.preventDefault(),!1}function kw(e){return e==null?[]:Array.isArray(e)?e.slice():[e]}function Mp(e){return e!==null&&e.length===1?e[0]:e.slice()}function Op(e){Object.keys(e).forEach(t=>{typeof document<"u"&&document.addEventListener(t,e[t],!1)})}function po(e,t){return ax(function(n,r){let i=n;return i<=r.min&&(i=r.min),i>=r.max&&(i=r.max),i}(e,t),t)}function ax(e,t){const n=(e-t.min)%t.step;let r=e-n;return 2*Math.abs(n)>=t.step&&(r+=n>0?t.step:-t.step),parseFloat(r.toFixed(5))}let sx=function(e){function t(r){var i;(i=e.call(this,r)||this).onKeyUp=()=>{i.onEnd()},i.onMouseUp=()=>{i.onEnd(i.getMouseEventMap())},i.onTouchEnd=()=>{i.onEnd(i.getTouchEventMap())},i.onBlur=()=>{i.setState({index:-1},i.onEnd(i.getKeyDownEventMap()))},i.onMouseMove=o=>{i.setState({pending:!0});const l=i.getMousePosition(o),u=i.getDiffPosition(l[0]),c=i.getValueFromPosition(u);i.move(c)},i.onTouchMove=o=>{if(o.touches.length>1)return;i.setState({pending:!0});const l=i.getTouchPosition(o);if(i.isScrolling===void 0){const h=l[0]-i.startPosition[0],p=l[1]-i.startPosition[1];i.isScrolling=Math.abs(p)>Math.abs(h)}if(i.isScrolling)return void i.setState({index:-1});const u=i.getDiffPosition(l[0]),c=i.getValueFromPosition(u);i.move(c)},i.onKeyDown=o=>{if(!(o.ctrlKey||o.shiftKey||o.altKey||o.metaKey))switch(i.setState({pending:!0}),o.key){case"ArrowLeft":case"ArrowDown":case"Left":case"Down":o.preventDefault(),i.moveDownByStep();break;case"ArrowRight":case"ArrowUp":case"Right":case"Up":o.preventDefault(),i.moveUpByStep();break;case"Home":o.preventDefault(),i.move(i.props.min);break;case"End":o.preventDefault(),i.move(i.props.max);break;case"PageDown":o.preventDefault(),i.moveDownByStep(i.props.pageFn(i.props.step));break;case"PageUp":o.preventDefault(),i.moveUpByStep(i.props.pageFn(i.props.step))}},i.onSliderMouseDown=o=>{if(!i.props.disabled&&o.button!==2){if(i.setState({pending:!0}),!i.props.snapDragDisabled){const l=i.getMousePosition(o);i.forceValueFromPosition(l[0],u=>{i.start(u,l[0]),Op(i.getMouseEventMap())})}xw(o)}},i.onSliderClick=o=>{if(!i.props.disabled&&i.props.onSliderClick&&!i.hasMoved){const l=i.getMousePosition(o),u=po(i.calcValue(i.calcOffsetFromPosition(l[0])),i.props);i.props.onSliderClick(u)}},i.createOnKeyDown=o=>l=>{i.props.disabled||(i.start(o),Op(i.getKeyDownEventMap()),xw(l))},i.createOnMouseDown=o=>l=>{if(i.props.disabled||l.button===2)return;i.setState({pending:!0});const u=i.getMousePosition(l);i.start(o,u[0]),Op(i.getMouseEventMap()),xw(l)},i.createOnTouchStart=o=>l=>{if(i.props.disabled||l.touches.length>1)return;i.setState({pending:!0});const u=i.getTouchPosition(l);i.startPosition=u,i.isScrolling=void 0,i.start(o,u[0]),Op(i.getTouchEventMap()),function(c){c.stopPropagation&&c.stopPropagation()}(l)},i.handleResize=()=>{const o=window.setTimeout(()=>{i.pendingResizeTimeouts.shift(),i.resize()},0);i.pendingResizeTimeouts.push(o)},i.renderThumb=(o,l)=>{const u=i.props.thumbClassName+" "+i.props.thumbClassName+"-"+l+" "+(i.state.index===l?i.props.thumbActiveClassName:""),c={ref:p=>{i["thumb"+l]=p},key:i.props.thumbClassName+"-"+l,className:u,style:o,onMouseDown:i.createOnMouseDown(l),onTouchStart:i.createOnTouchStart(l),onFocus:i.createOnKeyDown(l),tabIndex:0,role:"slider","aria-orientation":i.props.orientation,"aria-valuenow":i.state.value[l],"aria-valuemin":i.props.min,"aria-valuemax":i.props.max,"aria-label":Array.isArray(i.props.ariaLabel)?i.props.ariaLabel[l]:i.props.ariaLabel,"aria-labelledby":Array.isArray(i.props.ariaLabelledby)?i.props.ariaLabelledby[l]:i.props.ariaLabelledby},h={index:l,value:Mp(i.state.value),valueNow:i.state.value[l]};return i.props.ariaValuetext&&(c["aria-valuetext"]=typeof i.props.ariaValuetext=="string"?i.props.ariaValuetext:i.props.ariaValuetext(h)),i.props.renderThumb(c,h)},i.renderTrack=(o,l,u)=>{const c={key:i.props.trackClassName+"-"+o,className:i.props.trackClassName+" "+i.props.trackClassName+"-"+o,style:i.buildTrackStyle(l,i.state.upperBound-u)},h={index:o,value:Mp(i.state.value)};return i.props.renderTrack(c,h)};let a=kw(r.value);a.length||(a=kw(r.defaultValue)),i.pendingResizeTimeouts=[];const s=[];for(let o=0;o<a.length;o+=1)a[o]=po(a[o],r),s.push(o);return i.resizeObserver=null,i.resizeElementRef=$e.createRef(),i.state={index:-1,upperBound:0,sliderLength:0,value:a,zIndices:s},i}uZ(t,e);var n=t.prototype;return n.componentDidMount=function(){typeof window<"u"&&(this.resizeObserver=new ResizeObserver(this.handleResize),this.resizeObserver.observe(this.resizeElementRef.current),this.resize())},t.getDerivedStateFromProps=function(r,i){const a=kw(r.value);return a.length?i.pending?null:{value:a.map(s=>po(s,r))}:null},n.componentDidUpdate=function(){this.state.upperBound===0&&this.resize()},n.componentWillUnmount=function(){this.clearPendingResizeTimeouts(),this.resizeObserver&&this.resizeObserver.disconnect()},n.onEnd=function(r){r&&function(i){Object.keys(i).forEach(a=>{typeof document<"u"&&document.removeEventListener(a,i[a],!1)})}(r),this.hasMoved&&this.fireChangeEvent("onAfterChange"),this.setState({pending:!1}),this.hasMoved=!1},n.getValue=function(){return Mp(this.state.value)},n.getClosestIndex=function(r){let i=Number.MAX_VALUE,a=-1;const{value:s}=this.state,o=s.length;for(let l=0;l<o;l+=1){const u=this.calcOffset(s[l]),c=Math.abs(r-u);c<i&&(i=c,a=l)}return a},n.getMousePosition=function(r){return[r["page"+this.axisKey()],r["page"+this.orthogonalAxisKey()]]},n.getTouchPosition=function(r){const i=r.touches[0];return[i["page"+this.axisKey()],i["page"+this.orthogonalAxisKey()]]},n.getKeyDownEventMap=function(){return{keydown:this.onKeyDown,keyup:this.onKeyUp,focusout:this.onBlur}},n.getMouseEventMap=function(){return{mousemove:this.onMouseMove,mouseup:this.onMouseUp}},n.getTouchEventMap=function(){return{touchmove:this.onTouchMove,touchend:this.onTouchEnd}},n.getValueFromPosition=function(r){const i=r/(this.state.sliderLength-this.state.thumbSize)*(this.props.max-this.props.min);return po(this.state.startValue+i,this.props)},n.getDiffPosition=function(r){let i=r-this.state.startPosition;return this.props.invert&&(i*=-1),i},n.resize=function(){const{slider:r,thumb0:i}=this;if(!r||!i)return;const a=this.sizeKey(),s=r.getBoundingClientRect(),o=r[a],l=s[this.posMaxKey()],u=s[this.posMinKey()],c=i.getBoundingClientRect()[a.replace("client","").toLowerCase()],h=o-c,p=Math.abs(l-u);this.state.upperBound===h&&this.state.sliderLength===p&&this.state.thumbSize===c||this.setState({upperBound:h,sliderLength:p,thumbSize:c})},n.calcOffset=function(r){const i=this.props.max-this.props.min;return i===0?0:(r-this.props.min)/i*this.state.upperBound},n.calcValue=function(r){return r/this.state.upperBound*(this.props.max-this.props.min)+this.props.min},n.calcOffsetFromPosition=function(r){const{slider:i}=this,a=i.getBoundingClientRect(),s=a[this.posMaxKey()],o=a[this.posMinKey()];let l=r-(window["page"+this.axisKey()+"Offset"]+(this.props.invert?s:o));return this.props.invert&&(l=this.state.sliderLength-l),l-=this.state.thumbSize/2,l},n.forceValueFromPosition=function(r,i){const a=this.calcOffsetFromPosition(r),s=this.getClosestIndex(a),o=po(this.calcValue(a),this.props),l=this.state.value.slice();l[s]=o;for(let u=0;u<l.length-1;u+=1)if(l[u+1]-l[u]<this.props.minDistance)return;this.fireChangeEvent("onBeforeChange"),this.hasMoved=!0,this.setState({value:l},()=>{i(s),this.fireChangeEvent("onChange")})},n.clearPendingResizeTimeouts=function(){do{const r=this.pendingResizeTimeouts.shift();clearTimeout(r)}while(this.pendingResizeTimeouts.length)},n.start=function(r,i){const a=this["thumb"+r];a&&a.focus();const{zIndices:s}=this.state;s.splice(s.indexOf(r),1),s.push(r),this.setState(o=>({startValue:o.value[r],startPosition:i!==void 0?i:o.startPosition,index:r,zIndices:s}))},n.moveUpByStep=function(r){r===void 0&&(r=this.props.step);const i=po(this.state.value[this.state.index]+r,this.props);this.move(Math.min(i,this.props.max))},n.moveDownByStep=function(r){r===void 0&&(r=this.props.step);const i=po(this.state.value[this.state.index]-r,this.props);this.move(Math.max(i,this.props.min))},n.move=function(r){const{index:i,value:a}=this.state,{length:s}=a,o=a[i];if(r===o)return;this.hasMoved||this.fireChangeEvent("onBeforeChange"),this.hasMoved=!0;const{pearling:l,max:u,min:c,minDistance:h}=this.props;if(!l){if(i>0){const p=a[i-1];r<p+h&&(r=p+h)}if(i<s-1){const p=a[i+1];r>p-h&&(r=p-h)}}a[i]=r,l&&s>1&&(r>o?(this.pushSucceeding(a,h,i),function(p,m,g,y){for(let b=0;b<p;b+=1){const w=y-b*g;m[p-1-b]>w&&(m[p-1-b]=w)}}(s,a,h,u)):r<o&&(this.pushPreceding(a,h,i),function(p,m,g,y){for(let b=0;b<p;b+=1){const w=y+b*g;m[b]<w&&(m[b]=w)}}(s,a,h,c))),this.setState({value:a},this.fireChangeEvent.bind(this,"onChange"))},n.pushSucceeding=function(r,i,a){let s,o;for(s=a,o=r[s]+i;r[s+1]!==null&&o>r[s+1];s+=1,o=r[s]+i)r[s+1]=ax(o,this.props)},n.pushPreceding=function(r,i,a){for(let s=a,o=r[s]-i;r[s-1]!==null&&o<r[s-1];s-=1,o=r[s]-i)r[s-1]=ax(o,this.props)},n.axisKey=function(){return this.props.orientation==="vertical"?"Y":"X"},n.orthogonalAxisKey=function(){return this.props.orientation==="vertical"?"X":"Y"},n.posMinKey=function(){return this.props.orientation==="vertical"?this.props.invert?"bottom":"top":this.props.invert?"right":"left"},n.posMaxKey=function(){return this.props.orientation==="vertical"?this.props.invert?"top":"bottom":this.props.invert?"left":"right"},n.sizeKey=function(){return this.props.orientation==="vertical"?"clientHeight":"clientWidth"},n.fireChangeEvent=function(r){this.props[r]&&this.props[r](Mp(this.state.value),this.state.index)},n.buildThumbStyle=function(r,i){const a={position:"absolute",touchAction:"none",willChange:this.state.index>=0?this.posMinKey():void 0,zIndex:this.state.zIndices.indexOf(i)+1};return a[this.posMinKey()]=r+"px",a},n.buildTrackStyle=function(r,i){const a={position:"absolute",willChange:this.state.index>=0?this.posMinKey()+","+this.posMaxKey():void 0};return a[this.posMinKey()]=r,a[this.posMaxKey()]=i,a},n.buildMarkStyle=function(r){var i;return(i={position:"absolute"})[this.posMinKey()]=r,i},n.renderThumbs=function(r){const{length:i}=r,a=[];for(let o=0;o<i;o+=1)a[o]=this.buildThumbStyle(r[o],o);const s=[];for(let o=0;o<i;o+=1)s[o]=this.renderThumb(a[o],o);return s},n.renderTracks=function(r){const i=[],a=r.length-1;i.push(this.renderTrack(0,0,r[0]));for(let s=0;s<a;s+=1)i.push(this.renderTrack(s+1,r[s],r[s+1]));return i.push(this.renderTrack(a+1,r[a],this.state.upperBound)),i},n.renderMarks=function(){let{marks:r}=this.props;const i=this.props.max-this.props.min+1;return typeof r=="boolean"?r=Array.from({length:i}).map((a,s)=>s):typeof r=="number"&&(r=Array.from({length:i}).map((a,s)=>s).filter(a=>a%r==0)),r.map(parseFloat).sort((a,s)=>a-s).map(a=>{const s=this.calcOffset(a),o={key:a,className:this.props.markClassName,style:this.buildMarkStyle(s)};return this.props.renderMark(o)})},n.render=function(){const r=[],{value:i}=this.state,a=i.length;for(let u=0;u<a;u+=1)r[u]=this.calcOffset(i[u],u);const s=this.props.withTracks?this.renderTracks(r):null,o=this.renderThumbs(r),l=this.props.marks?this.renderMarks():null;return $e.createElement("div",{ref:u=>{this.slider=u,this.resizeElementRef.current=u},style:{position:"relative"},className:this.props.className+(this.props.disabled?" disabled":""),onMouseDown:this.onSliderMouseDown,onClick:this.onSliderClick},s,o,l)},t}($e.Component);sx.displayName="ReactSlider",sx.defaultProps={min:0,max:100,step:1,pageFn:e=>10*e,minDistance:0,defaultValue:0,orientation:"horizontal",className:"slider",thumbClassName:"thumb",thumbActiveClassName:"active",trackClassName:"track",markClassName:"mark",withTracks:!0,pearling:!1,disabled:!1,snapDragDisabled:!1,invert:!1,marks:[],renderThumb:e=>$e.createElement("div",e),renderTrack:e=>$e.createElement("div",e),renderMark:e=>$e.createElement("span",e)};var cZ=sx;const dZ=({min:e=0,step:t=1,max:n,maxDecimals:r=0,title:i,flipVertically:a=!1,noFill:s=!1,className:o,displayValue:l=!1,...u})=>{const c=e<0,h=u.disabled||n===e,p=useCallback(G=>Math.min(n,Math.max(e,G)),[e,n]),m=useCallback(G=>G.toLocaleString(void 0,{maximumFractionDigits:r}),[r]),[g,y]=useState(p(u.value??(n-e)/2)),[b,w]=useState(m(g));useEffect(()=>{u.value!==void 0&&(y(p(u.value)),w(m(p(u.value))))},[u.value,p,y,b,m]),dh(()=>{if(b===void 0)return;if(b==="")return y(0);const G=parseFloat(b.replaceAll(",",""));if(isNaN(G))return w(m(g));y(p(G))},500,[p,b,w]);const{onChange:x}=u,k=useCallback(G=>{x(G),y(G),w(m(G))},[x,y,w,m]),[_,A]=useState(!1),P=useRef(null),N=useCallback(()=>A(!0),[A]),B=useCallback(()=>A(!1),[A]),j=useCallback((G,M)=>{const te=Math.abs(e)/(n-e),X=g>=0?{left:`${te*100}%`,right:"unset"}:{right:`${(1-te)*100}%`,left:"unset"},ue=`${g/(g>=0?n-e:e-n)*100}%`,de={...G.style,...c&&{...M.index===1?{zIndex:1,left:0,right:0}:{zIndex:2,display:ue,...X}},...s&&{left:0,right:0}};return C("div",{...G,style:de,className:classes("h-[2px] rounded-full",M.index!==0&&"opacity-muted-extra bg-white shadow-sm",M.index===0&&classes("shadow-md",s&&"opacity-0",g>=0?"bg-brand-400 dark:bg-brand-700":"bg-red-400 dark:bg-red-700"))})},[s,e,n,g,c]),W=useCallback(G=>C("div",{...G,style:{...G.style,zIndex:3},onMouseDown:()=>A(!0),className:classes("relative h-3.5 w-3.5 -translate-y-[5.25px] rounded-full border-[2px] outline-none transition duration-150",_?"scale-110 border-white shadow-lg":"scale-100 border-zinc-800 shadow-md",g===0?"bg-zinc-500 dark:bg-zinc-600":g>=0?"bg-brand-500 dark:bg-brand-600":"bg-red-500 dark:bg-red-600"),children:l&&C("div",{className:classes("pointer-events-none absolute top-[-1.25rem] ml-1 flex w-[10rem] -translate-x-[5rem] items-center justify-center text-xs font-medium",g===0?"text-zinc-500 dark:text-zinc-300":g>=0?"text-brand-500 dark:text-brand-300":"text-red-500 dark:text-red-300"),children:m(g)})}),[_,g,l,m]),K=useCallback(G=>C("span",{...G}),[]),z=i&&ne("div",{className:"flex select-none items-center justify-between",children:[C("div",{className:"opacity-muted font-light",children:i}),C("input",{min:e,max:n,type:"text",ref:P,value:b,onChange:G=>w(G.target.value),onFocus:()=>P.current?.select(),className:classes("m-0 ml-2 min-w-0 flex-1 border-none bg-transparent p-0 text-right outline-none"),css:css`
          -moz-appearance: textfield;

          &::-webkit-outer-spin-button {
            -webkit-appearance: none;
            margin: 0;
          }

          &::-webkit-inner-spin-button {
            -webkit-appearance: none;
            margin: 0;
          }
        `}),u.percentage&&C("span",{children:"%"})]});return ne("div",{className:classes("flex w-full flex-col opacity-100 duration-150",h&&"opacity-muted pointer-events-none cursor-not-allowed","gap-2",o),children:[!a&&z,C(cZ,{className:"-my-0.5 h-2.5 w-full cursor-pointer",disabled:h,value:g,min:e,step:t,max:n,onChange:k,onBeforeChange:N,onAfterChange:B,renderThumb:W,renderTrack:j,renderMark:K}),a&&z]})};function RO(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=RO(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function ul(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=RO(e))&&(r&&(r+=" "),r+=t);return r}let hZ={data:""},fZ=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||hZ,pZ=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,mZ=/\/\*[^]*?\*\/|  +/g,o4=/\n+/g,Co=(e,t)=>{let n="",r="",i="";for(let a in e){let s=e[a];a[0]=="@"?a[1]=="i"?n=a+" "+s+";":r+=a[1]=="f"?Co(s,a):a+"{"+Co(s,a[1]=="k"?"":t)+"}":typeof s=="object"?r+=Co(s,t?t.replace(/([^,])+/g,o=>a.replace(/(^:.*)|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,o):o?o+" "+l:l)):a):s!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Co.p?Co.p(a,s):a+":"+s+";")}return n+(t&&i?t+"{"+i+"}":i)+r},Pa={},DO=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+DO(e[n]);return t}return e},gZ=(e,t,n,r,i)=>{let a=DO(e),s=Pa[a]||(Pa[a]=(l=>{let u=0,c=11;for(;u<l.length;)c=101*c+l.charCodeAt(u++)>>>0;return"go"+c})(a));if(!Pa[s]){let l=a!==e?e:(u=>{let c,h,p=[{}];for(;c=pZ.exec(u.replace(mZ,""));)c[4]?p.shift():c[3]?(h=c[3].replace(o4," ").trim(),p.unshift(p[0][h]=p[0][h]||{})):p[0][c[1]]=c[2].replace(o4," ").trim();return p[0]})(e);Pa[s]=Co(i?{["@keyframes "+s]:l}:l,n?"":"."+s)}let o=n&&Pa.g?Pa.g:null;return n&&(Pa.g=Pa[s]),((l,u,c,h)=>{h?u.data=u.data.replace(h,l):u.data.indexOf(l)===-1&&(u.data=c?l+u.data:u.data+l)})(Pa[s],t,r,o),s},yZ=(e,t,n)=>e.reduce((r,i,a)=>{let s=t[a];if(s&&s.call){let o=s(n),l=o&&o.props&&o.props.className||/^go/.test(o)&&o;s=l?"."+l:o&&typeof o=="object"?o.props?"":Co(o,""):o===!1?"":o}return r+i+(s??"")},"");function YC(e){let t=this||{},n=e.call?e(t.p):e;return gZ(n.unshift?n.raw?yZ(n,[].slice.call(arguments,1),t.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(t.p):i),{}):n,fZ(t.target),t.g,t.o,t.k)}YC.bind({g:1});YC.bind({k:1});function l4(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function NO(e,t,n){return t&&l4(e.prototype,t),n&&l4(e,n),e}function zt(){return zt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zt.apply(this,arguments)}function MO(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function Gh(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function u4(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var c4=function(){return""},OO=$e.createContext({enqueueSnackbar:c4,closeSnackbar:c4}),xo={downXs:"@media (max-width:599.95px)",upSm:"@media (min-width:600px)"},d4=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},XC=function(t){return""+d4(t.vertical)+d4(t.horizontal)},Lp=function(t){return!!t||t===0},Fp="unmounted",Rl="exited",Dl="entering",Wc="entered",h4="exiting",QC=function(e){MO(t,e);function t(r){var i;i=e.call(this,r)||this;var a=r.appear,s;return i.appearStatus=null,r.in?a?(s=Rl,i.appearStatus=Dl):s=Wc:r.unmountOnExit||r.mountOnEnter?s=Fp:s=Rl,i.state={status:s},i.nextCallback=null,i}t.getDerivedStateFromProps=function(i,a){var s=i.in;return s&&a.status===Fp?{status:Rl}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var a=null;if(i!==this.props){var s=this.state.status;this.props.in?s!==Dl&&s!==Wc&&(a=Dl):(s===Dl||s===Wc)&&(a=h4)}this.updateStatus(!1,a)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,a=i,s=i;return i!=null&&typeof i!="number"&&typeof i!="string"&&(s=i.exit,a=i.enter),{exit:s,enter:a}},n.updateStatus=function(i,a){i===void 0&&(i=!1),a!==null?(this.cancelNextCallback(),a===Dl?this.performEnter(i):this.performExit()):this.props.unmountOnExit&&this.state.status===Rl&&this.setState({status:Fp})},n.performEnter=function(i){var a=this,s=this.props.enter,o=i,l=this.getTimeouts();if(!i&&!s){this.safeSetState({status:Wc},function(){a.props.onEntered&&a.props.onEntered(a.node,o)});return}this.props.onEnter&&this.props.onEnter(this.node,o),this.safeSetState({status:Dl},function(){a.props.onEntering&&a.props.onEntering(a.node,o),a.onTransitionEnd(l.enter,function(){a.safeSetState({status:Wc},function(){a.props.onEntered&&a.props.onEntered(a.node,o)})})})},n.performExit=function(){var i=this,a=this.props.exit,s=this.getTimeouts();if(!a){this.safeSetState({status:Rl},function(){i.props.onExited&&i.props.onExited(i.node)});return}this.props.onExit&&this.props.onExit(this.node),this.safeSetState({status:h4},function(){i.props.onExiting&&i.props.onExiting(i.node),i.onTransitionEnd(s.exit,function(){i.safeSetState({status:Rl},function(){i.props.onExited&&i.props.onExited(i.node)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&this.nextCallback.cancel&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,a){a=this.setNextCallback(a),this.setState(i,a)},n.setNextCallback=function(i){var a=this,s=!0;return this.nextCallback=function(){s&&(s=!1,a.nextCallback=null,i())},this.nextCallback.cancel=function(){s=!1},this.nextCallback},n.onTransitionEnd=function(i,a){this.setNextCallback(a);var s=i==null&&!this.props.addEndListener;if(!this.node||s){setTimeout(this.nextCallback,0);return}this.props.addEndListener&&this.props.addEndListener(this.node,this.nextCallback),i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===Fp)return null;var a=this.props,s=a.children,o=Gh(a,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return s(i,o)},NO(t,[{key:"node",get:function(){var i,a=(i=this.props.nodeRef)===null||i===void 0?void 0:i.current;if(!a)throw new Error("notistack - Custom snackbar is not refForwarding");return a}}]),t}($e.Component);function Nl(){}QC.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Nl,onEntering:Nl,onEntered:Nl,onExit:Nl,onExiting:Nl,onExited:Nl};function f4(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function ox(e,t){return Y.useMemo(function(){return e==null&&t==null?null:function(n){f4(e,n),f4(t,n)}},[e,t])}function Yg(e){var t=e.timeout,n=e.style,r=n===void 0?{}:n,i=e.mode;return{duration:typeof t=="object"?t[i]||0:t,easing:r.transitionTimingFunction,delay:r.transitionDelay}}var lx={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},LO=function(t){t.scrollTop=t.scrollTop},p4=function(t){return Math.round(t)+"ms"};function nu(e,t){e===void 0&&(e=["all"]);var n=t||{},r=n.duration,i=r===void 0?300:r,a=n.easing,s=a===void 0?lx.easeInOut:a,o=n.delay,l=o===void 0?0:o,u=Array.isArray(e)?e:[e];return u.map(function(c){var h=typeof i=="string"?i:p4(i),p=typeof l=="string"?l:p4(l);return c+" "+h+" "+s+" "+p}).join(",")}function vZ(e){return e&&e.ownerDocument||document}function FO(e){var t=vZ(e);return t.defaultView||window}function wZ(e,t){t===void 0&&(t=166);var n;function r(){for(var i=this,a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];var l=function(){e.apply(i,s)};clearTimeout(n),n=setTimeout(l,t)}return r.clear=function(){clearTimeout(n)},r}function bZ(e,t){var n=t.getBoundingClientRect(),r=FO(t),i;if(t.fakeTransform)i=t.fakeTransform;else{var a=r.getComputedStyle(t);i=a.getPropertyValue("-webkit-transform")||a.getPropertyValue("transform")}var s=0,o=0;if(i&&i!=="none"&&typeof i=="string"){var l=i.split("(")[1].split(")")[0].split(",");s=parseInt(l[4],10),o=parseInt(l[5],10)}switch(e){case"left":return"translateX("+(r.innerWidth+s-n.left)+"px)";case"right":return"translateX(-"+(n.left+n.width-s)+"px)";case"up":return"translateY("+(r.innerHeight+o-n.top)+"px)";default:return"translateY(-"+(n.top+n.height-o)+"px)"}}function Bp(e,t){if(t){var n=bZ(e,t);n&&(t.style.webkitTransform=n,t.style.transform=n)}}var BO=Y.forwardRef(function(e,t){var n=e.children,r=e.direction,i=r===void 0?"down":r,a=e.in,s=e.style,o=e.timeout,l=o===void 0?0:o,u=e.onEnter,c=e.onEntered,h=e.onExit,p=e.onExited,m=Gh(e,["children","direction","in","style","timeout","onEnter","onEntered","onExit","onExited"]),g=Y.useRef(null),y=ox(n.ref,g),b=ox(y,t),w=function(N,B){Bp(i,N),LO(N),u&&u(N,B)},x=function(N){var B=s?.transitionTimingFunction||lx.easeOut,j=Yg({timeout:l,mode:"enter",style:zt({},s,{transitionTimingFunction:B})});N.style.webkitTransition=nu("-webkit-transform",j),N.style.transition=nu("transform",j),N.style.webkitTransform="none",N.style.transform="none"},k=function(N){var B=s?.transitionTimingFunction||lx.sharp,j=Yg({timeout:l,mode:"exit",style:zt({},s,{transitionTimingFunction:B})});N.style.webkitTransition=nu("-webkit-transform",j),N.style.transition=nu("transform",j),Bp(i,N),h&&h(N)},_=function(N){N.style.webkitTransition="",N.style.transition="",p&&p(N)},A=Y.useCallback(function(){g.current&&Bp(i,g.current)},[i]);return Y.useEffect(function(){if(!(a||i==="down"||i==="right")){var P=wZ(function(){g.current&&Bp(i,g.current)}),N=FO(g.current);return N.addEventListener("resize",P),function(){P.clear(),N.removeEventListener("resize",P)}}},[i,a]),Y.useEffect(function(){a||A()},[a,A]),Y.createElement(QC,Object.assign({appear:!0,nodeRef:g,onEnter:w,onEntered:c,onEntering:x,onExit:k,onExited:_,in:a,timeout:l},m),function(P,N){return Y.cloneElement(n,zt({ref:b,style:zt({visibility:P==="exited"&&!a?"hidden":void 0},s,{},n.props.style)},N))})});BO.displayName="Slide";var Cy=function(t){return $e.createElement("svg",Object.assign({viewBox:"0 0 24 24",focusable:"false",style:{fontSize:20,marginInlineEnd:8,userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0}},t))},xZ=function(){return $e.createElement(Cy,null,$e.createElement("path",{d:`M12 2C6.5 2 2 6.5 2 12S6.5 22 12 22 22 17.5 22 12 17.5 2 12 2M10 17L5 12L6.41
        10.59L10 14.17L17.59 6.58L19 8L10 17Z`}))},kZ=function(){return $e.createElement(Cy,null,$e.createElement("path",{d:"M13,14H11V10H13M13,18H11V16H13M1,21H23L12,2L1,21Z"}))},SZ=function(){return $e.createElement(Cy,null,$e.createElement("path",{d:`M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,
        6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,
        13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z`}))},CZ=function(){return $e.createElement(Cy,null,$e.createElement("path",{d:`M13,9H11V7H13M13,17H11V11H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,
        0 22,12A10,10 0 0,0 12,2Z`}))},EZ={default:void 0,success:$e.createElement(xZ,null),warning:$e.createElement(kZ,null),error:$e.createElement(SZ,null),info:$e.createElement(CZ,null)},Fo={maxSnack:3,persist:!1,hideIconVariant:!1,disableWindowBlurListener:!1,variant:"default",autoHideDuration:5e3,iconVariant:EZ,anchorOrigin:{vertical:"bottom",horizontal:"left"},TransitionComponent:BO,transitionDuration:{enter:225,exit:195}},TZ=function(t,n){var r=function(a){return typeof a=="number"||a===null};return r(t)?t:r(n)?n:Fo.autoHideDuration},_Z=function(t,n){var r=function(a,s){return s.some(function(o){return typeof a===o})};return r(t,["string","number"])?t:r(t,["object"])?zt({},Fo.transitionDuration,{},r(n,["object"])&&n,{},t):r(n,["string","number"])?n:r(n,["object"])?zt({},Fo.transitionDuration,{},n):Fo.transitionDuration},IZ=function(t,n){return function(r,i){return i===void 0&&(i=!1),i?zt({},Fo[r],{},n[r],{},t[r]):r==="autoHideDuration"?TZ(t.autoHideDuration,n.autoHideDuration):r==="transitionDuration"?_Z(t.transitionDuration,n.transitionDuration):t[r]||n[r]||Fo[r]}};function Hh(e){return Object.entries(e).reduce(function(t,n){var r,i=n[0],a=n[1];return zt({},t,(r={},r[i]=YC(a),r))},{})}var Lu={SnackbarContainer:"notistack-SnackbarContainer",Snackbar:"notistack-Snackbar",CollapseWrapper:"notistack-CollapseWrapper",MuiContent:"notistack-MuiContent",MuiContentVariant:function(t){return"notistack-MuiContent-"+t}},m4=Hh({root:{height:0},entered:{height:"auto"}}),Sw="0px",Cw=175,zO=Y.forwardRef(function(e,t){var n=e.children,r=e.in,i=e.onExited,a=Y.useRef(null),s=Y.useRef(null),o=ox(t,s),l=function(){return a.current?a.current.clientHeight:0},u=function(y){y.style.height=Sw},c=function(y){var b=l(),w=Yg({timeout:Cw,mode:"enter"}),x=w.duration,k=w.easing;y.style.transitionDuration=typeof x=="string"?x:x+"ms",y.style.height=b+"px",y.style.transitionTimingFunction=k||""},h=function(y){y.style.height="auto"},p=function(y){y.style.height=l()+"px"},m=function(y){LO(y);var b=Yg({timeout:Cw,mode:"exit"}),w=b.duration,x=b.easing;y.style.transitionDuration=typeof w=="string"?w:w+"ms",y.style.height=Sw,y.style.transitionTimingFunction=x||""};return Y.createElement(QC,{in:r,unmountOnExit:!0,onEnter:u,onEntered:h,onEntering:c,onExit:p,onExited:i,onExiting:m,nodeRef:s,timeout:Cw},function(g,y){return Y.createElement("div",Object.assign({ref:o,className:ul(m4.root,g==="entered"&&m4.entered),style:zt({pointerEvents:"all",overflow:"hidden",minHeight:Sw,transition:nu("height")},g==="entered"&&{overflow:"visible"},{},g==="exited"&&!r&&{visibility:"hidden"})},y),Y.createElement("div",{ref:a,className:Lu.CollapseWrapper,style:{display:"flex",width:"100%"}},n))})});zO.displayName="Collapse";var g4={right:"left",left:"right",bottom:"up",top:"down"},PZ=function(t){return t.horizontal!=="center"?g4[t.horizontal]:g4[t.vertical]},AZ=function(t){return"anchorOrigin"+XC(t)},RZ=function(t){t===void 0&&(t={});var n={containerRoot:!0,containerAnchorOriginTopCenter:!0,containerAnchorOriginBottomCenter:!0,containerAnchorOriginTopRight:!0,containerAnchorOriginBottomRight:!0,containerAnchorOriginTopLeft:!0,containerAnchorOriginBottomLeft:!0};return Object.keys(t).filter(function(r){return!n[r]}).reduce(function(r,i){var a;return zt({},r,(a={},a[i]=t[i],a))},{})},DZ=function(){};function Rd(e,t){return e.reduce(function(n,r){return r==null?n:function(){for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];var l=[].concat(s);t&&l.indexOf(t)===-1&&l.push(t),n.apply(this,l),r.apply(this,l)}},DZ)}var NZ=typeof window<"u"?Y.useLayoutEffect:Y.useEffect;function y4(e){var t=Y.useRef(e);return NZ(function(){t.current=e}),Y.useCallback(function(){return t.current.apply(void 0,arguments)},[])}var UO=Y.forwardRef(function(e,t){var n=e.children,r=e.className,i=e.autoHideDuration,a=e.disableWindowBlurListener,s=a===void 0?!1:a,o=e.onClose,l=e.id,u=e.open,c=e.SnackbarProps,h=c===void 0?{}:c,p=Y.useRef(),m=y4(function(){o&&o.apply(void 0,arguments)}),g=y4(function(k){!o||k==null||(p.current&&clearTimeout(p.current),p.current=setTimeout(function(){m(null,"timeout",l)},k))});Y.useEffect(function(){return u&&g(i),function(){p.current&&clearTimeout(p.current)}},[u,i,g]);var y=function(){p.current&&clearTimeout(p.current)},b=Y.useCallback(function(){i!=null&&g(i*.5)},[i,g]),w=function(_){h.onMouseEnter&&h.onMouseEnter(_),y()},x=function(_){h.onMouseLeave&&h.onMouseLeave(_),b()};return Y.useEffect(function(){if(!s&&u)return window.addEventListener("focus",b),window.addEventListener("blur",y),function(){window.removeEventListener("focus",b),window.removeEventListener("blur",y)}},[s,b,u]),Y.createElement("div",Object.assign({ref:t},h,{className:ul(Lu.Snackbar,r),onMouseEnter:w,onMouseLeave:x}),n)});UO.displayName="Snackbar";var Ew,MZ=Hh({root:(Ew={display:"flex",flexWrap:"wrap",flexGrow:1},Ew[xo.upSm]={flexGrow:"initial",minWidth:"288px"},Ew)}),jO=Y.forwardRef(function(e,t){var n=e.className,r=Gh(e,["className"]);return $e.createElement("div",Object.assign({ref:t,className:ul(MZ.root,n)},r))});jO.displayName="SnackbarContent";var Gc=Hh({root:{backgroundColor:"#313131",fontSize:"0.875rem",lineHeight:1.43,letterSpacing:"0.01071em",color:"#fff",alignItems:"center",padding:"6px 16px",borderRadius:"4px",boxShadow:"0px 3px 5px -1px rgba(0,0,0,0.2),0px 6px 10px 0px rgba(0,0,0,0.14),0px 1px 18px 0px rgba(0,0,0,0.12)"},lessPadding:{paddingLeft:8*2.5+"px"},default:{backgroundColor:"#313131"},success:{backgroundColor:"#43a047"},error:{backgroundColor:"#d32f2f"},warning:{backgroundColor:"#ff9800"},info:{backgroundColor:"#2196f3"},message:{display:"flex",alignItems:"center",padding:"8px 0"},action:{display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:"16px",marginRight:"-8px"}}),v4="notistack-snackbar",$O=Y.forwardRef(function(e,t){var n=e.id,r=e.message,i=e.action,a=e.iconVariant,s=e.variant,o=e.hideIconVariant,l=e.style,u=e.className,c=a[s],h=i;return typeof h=="function"&&(h=h(n)),$e.createElement(jO,{ref:t,role:"alert","aria-describedby":v4,style:l,className:ul(Lu.MuiContent,Lu.MuiContentVariant(s),Gc.root,Gc[s],u,!o&&c&&Gc.lessPadding)},$e.createElement("div",{id:v4,className:Gc.message},o?null:c,r),h&&$e.createElement("div",{className:Gc.action},h))});$O.displayName="MaterialDesignContent";var OZ=Y.memo($O),LZ=Hh({wrappedRoot:{width:"100%",position:"relative",transform:"translateX(0)",top:0,right:0,bottom:0,left:0,minWidth:"288px"}}),FZ=function(t){var n=Y.useRef(),r=Y.useState(!0),i=r[0],a=r[1],s=Rd([t.snack.onClose,t.onClose]),o=function(){t.snack.requestClose&&s(null,"instructed",t.snack.id)},l=Y.useCallback(function(){n.current=setTimeout(function(){a(function(j){return!j})},125)},[]);Y.useEffect(function(){return function(){n.current&&clearTimeout(n.current)}},[]);var u=t.snack,c=t.classes,h=t.Component,p=h===void 0?OZ:h,m=Y.useMemo(function(){return RZ(c)},[c]),g=u.open,y=u.SnackbarProps,b=u.TransitionComponent,w=u.TransitionProps,x=u.transitionDuration,k=u.disableWindowBlurListener,_=u.content,A=Gh(u,["open","SnackbarProps","TransitionComponent","TransitionProps","transitionDuration","disableWindowBlurListener","content","entered","requestClose","onEnter","onEntered","onExit","onExited"]),P=zt({direction:PZ(A.anchorOrigin),timeout:x},w),N=_;typeof N=="function"&&(N=N(A.id,A.message));var B=["onEnter","onEntered","onExit","onExited"].reduce(function(j,W){var K;return zt({},j,(K={},K[W]=Rd([t.snack[W],t[W]],A.id),K))},{});return $e.createElement(zO,{in:i,onExited:B.onExited},$e.createElement(UO,{open:g,id:A.id,disableWindowBlurListener:k,autoHideDuration:A.autoHideDuration,className:ul(LZ.wrappedRoot,m.root,m[AZ(A.anchorOrigin)]),SnackbarProps:y,onClose:s},$e.createElement(b,Object.assign({},P,{appear:!0,in:g,onExit:B.onExit,onExited:l,onEnter:B.onEnter,onEntered:Rd([B.onEntered,o],A.id)}),N||$e.createElement(p,Object.assign({},A)))))},Hc,Tw,zp,Up,_w,Aa={view:{default:20,dense:4},snackbar:{default:6,dense:2}},w4="."+Lu.CollapseWrapper,Iw=16,jp=Hh({root:(Hc={boxSizing:"border-box",display:"flex",maxHeight:"100%",position:"fixed",zIndex:1400,height:"auto",width:"auto",transition:nu(["top","right","bottom","left","max-width"],{duration:300,easing:"ease"}),pointerEvents:"none"},Hc[w4]={padding:Aa.snackbar.default+"px 0px",transition:"padding 300ms ease 0ms"},Hc.maxWidth="calc(100% - "+Aa.view.default*2+"px)",Hc[xo.downXs]={width:"100%",maxWidth:"calc(100% - "+Iw*2+"px)"},Hc),rootDense:(Tw={},Tw[w4]={padding:Aa.snackbar.dense+"px 0px"},Tw),top:{top:Aa.view.default-Aa.snackbar.default+"px",flexDirection:"column"},bottom:{bottom:Aa.view.default-Aa.snackbar.default+"px",flexDirection:"column-reverse"},left:(zp={left:Aa.view.default+"px"},zp[xo.upSm]={alignItems:"flex-start"},zp[xo.downXs]={left:Iw+"px"},zp),right:(Up={right:Aa.view.default+"px"},Up[xo.upSm]={alignItems:"flex-end"},Up[xo.downXs]={right:Iw+"px"},Up),center:(_w={left:"50%",transform:"translateX(-50%)"},_w[xo.upSm]={alignItems:"center"},_w)}),BZ=function(t){var n=t.classes,r=n===void 0?{}:n,i=t.anchorOrigin,a=t.dense,s=t.children,o=ul(Lu.SnackbarContainer,jp[i.vertical],jp[i.horizontal],jp.root,r.containerRoot,r["containerAnchorOrigin"+XC(i)],a&&jp.rootDense);return $e.createElement("div",{className:o},s)},zZ=Y.memo(BZ),b4=function(t){var n=typeof t=="string"||Y.isValidElement(t);return!n},UZ=function(e){MO(t,e);function t(r){var i;return i=e.call(this,r)||this,i.enqueueSnackbar=function(a,s){if(s===void 0&&(s={}),a==null)throw new Error("enqueueSnackbar called with invalid argument");var o=b4(a)?a:s,l=b4(a)?a.message:a,u=o.key,c=o.preventDuplicate,h=Gh(o,["key","preventDuplicate"]),p=Lp(u),m=p?u:new Date().getTime()+Math.random(),g=IZ(h,i.props),y=zt({id:m},h,{message:l,open:!0,entered:!1,requestClose:!1,persist:g("persist"),action:g("action"),content:g("content"),variant:g("variant"),anchorOrigin:g("anchorOrigin"),disableWindowBlurListener:g("disableWindowBlurListener"),autoHideDuration:g("autoHideDuration"),hideIconVariant:g("hideIconVariant"),TransitionComponent:g("TransitionComponent"),transitionDuration:g("transitionDuration"),TransitionProps:g("TransitionProps",!0),iconVariant:g("iconVariant",!0),style:g("style",!0),SnackbarProps:g("SnackbarProps",!0),className:ul(i.props.className,h.className)});return y.persist&&(y.autoHideDuration=void 0),i.setState(function(b){if(c===void 0&&i.props.preventDuplicate||c){var w=function(A){return p?A.id===m:A.message===l},x=b.queue.findIndex(w)>-1,k=b.snacks.findIndex(w)>-1;if(x||k)return b}return i.handleDisplaySnack(zt({},b,{queue:[].concat(b.queue,[y])}))}),m},i.handleDisplaySnack=function(a){var s=a.snacks;return s.length>=i.maxSnack?i.handleDismissOldest(a):i.processQueue(a)},i.processQueue=function(a){var s=a.queue,o=a.snacks;return s.length>0?zt({},a,{snacks:[].concat(o,[s[0]]),queue:s.slice(1,s.length)}):a},i.handleDismissOldest=function(a){if(a.snacks.some(function(c){return!c.open||c.requestClose}))return a;var s=!1,o=!1,l=a.snacks.reduce(function(c,h){return c+(h.open&&h.persist?1:0)},0);l===i.maxSnack&&(o=!0);var u=a.snacks.map(function(c){return!s&&(!c.persist||o)?(s=!0,c.entered?(c.onClose&&c.onClose(null,"maxsnack",c.id),i.props.onClose&&i.props.onClose(null,"maxsnack",c.id),zt({},c,{open:!1})):zt({},c,{requestClose:!0})):zt({},c)});return zt({},a,{snacks:u})},i.handleEnteredSnack=function(a,s,o){if(!Lp(o))throw new Error("handleEnteredSnack Cannot be called with undefined key");i.setState(function(l){var u=l.snacks;return{snacks:u.map(function(c){return c.id===o?zt({},c,{entered:!0}):zt({},c)})}})},i.handleCloseSnack=function(a,s,o){i.props.onClose&&i.props.onClose(a,s,o);var l=o===void 0;i.setState(function(u){var c=u.snacks,h=u.queue;return{snacks:c.map(function(p){return!l&&p.id!==o?zt({},p):p.entered?zt({},p,{open:!1}):zt({},p,{requestClose:!0})}),queue:h.filter(function(p){return p.id!==o})}})},i.closeSnackbar=function(a){var s=i.state.snacks.find(function(o){return o.id===a});Lp(a)&&s&&s.onClose&&s.onClose(null,"instructed",a),i.handleCloseSnack(null,"instructed",a)},i.handleExitedSnack=function(a,s){if(!Lp(s))throw new Error("handleExitedSnack Cannot be called with undefined key");i.setState(function(o){var l=i.processQueue(zt({},o,{snacks:o.snacks.filter(function(u){return u.id!==s})}));return l.queue.length===0?l:i.handleDismissOldest(l)})},i.enqueueSnackbar,i.closeSnackbar,i.state={snacks:[],queue:[],contextValue:{enqueueSnackbar:i.enqueueSnackbar.bind(u4(i)),closeSnackbar:i.closeSnackbar.bind(u4(i))}},i}var n=t.prototype;return n.render=function(){var i=this,a=this.state.contextValue,s=this.props,o=s.domRoot,l=s.children,u=s.dense,c=u===void 0?!1:u,h=s.Components,p=h===void 0?{}:h,m=s.classes,g=this.state.snacks.reduce(function(b,w){var x,k=XC(w.anchorOrigin),_=b[k]||[];return zt({},b,(x={},x[k]=[].concat(_,[w]),x))},{}),y=Object.keys(g).map(function(b){var w=g[b],x=w[0];return $e.createElement(zZ,{key:b,dense:c,anchorOrigin:x.anchorOrigin,classes:m},w.map(function(k){return $e.createElement(FZ,{key:k.id,snack:k,classes:m,Component:p[k.variant],onClose:i.handleCloseSnack,onEnter:i.props.onEnter,onExit:i.props.onExit,onExited:Rd([i.handleExitedSnack,i.props.onExited],k.id),onEntered:Rd([i.handleEnteredSnack,i.props.onEntered],k.id)})}))});return $e.createElement(OO.Provider,{value:a},l,o?Yu.createPortal(y,o):y)},NO(t,[{key:"maxSnack",get:function(){return this.props.maxSnack||Fo.maxSnack}}]),t}(Y.Component),jZ=function(){return Y.useContext(OO)};function $Z({children:e}){return C(UZ,{maxSnack:6,anchorOrigin:{horizontal:"right",vertical:"bottom"},Components:{default:qZ,info:GZ,error:VZ,success:HZ,warning:WZ},children:e})}const qh=React.forwardRef(({id:e,message:t,persist:n,Icon:r},i)=>{const{closeSnackbar:a}=H.Snackbar.use();return ne("div",{className:"mb-4 flex items-center rounded-lg border border-zinc-700 bg-white p-3 text-zinc-500 shadow dark:bg-zinc-900 dark:text-zinc-400",role:"alert",ref:i,children:[r,C("div",{className:"ml-3",children:t}),n&&ne("button",{type:"button",className:"-mx-1.5 -my-1.5 ml-3 inline-flex h-8 w-8 rounded-lg bg-white p-1.5 text-zinc-400 hover:bg-zinc-100 hover:text-zinc-900 focus:ring-2 focus:ring-zinc-300 dark:bg-zinc-800 dark:text-zinc-500 dark:hover:bg-zinc-700 dark:hover:text-white",onClick:()=>a(e),children:[C("span",{className:"sr-only",children:"Close"}),C("svg",{"aria-hidden":"true",className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:C("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})]})]})}),VZ=React.forwardRef((e,t)=>C(qh,{...e,ref:t,Icon:C(H.Icon.AlertTriangle,{className:"inline-flex h-8 w-8 flex-shrink-0 items-center justify-center rounded-lg text-red-600 dark:text-red-500"})})),WZ=React.forwardRef((e,t)=>C(qh,{...e,ref:t,Icon:C(H.Icon.AlertCircle,{className:"inline-flex h-8 w-8 flex-shrink-0 items-center justify-center rounded-lg text-orange-600 dark:text-orange-500"})})),GZ=React.forwardRef((e,t)=>C(qh,{...e,ref:t,Icon:C(H.Icon.Info,{className:"inline-flex h-8 w-8 flex-shrink-0 items-center justify-center rounded-lg text-blue-600 dark:text-blue-500"})})),HZ=React.forwardRef((e,t)=>C(qh,{...e,ref:t,Icon:C(H.Icon.Check,{className:"inline-flex h-8 w-8 flex-shrink-0 items-center justify-center rounded-lg text-emerald-600 dark:text-emerald-500"})})),qZ=React.forwardRef((e,t)=>C(qh,{...e,ref:t})),KZ=Object.freeze(Object.defineProperty({__proto__:null,Provider:$Z,use:jZ},Symbol.toStringTag,{value:"Module"}));function YZ({className:e,children:t}){return C("span",{className:classes("opacity-muted text-sm",e),children:t??C(rt,{children:"soon"})})}function XZ(e){return C("svg",{width:"10",height:"12",viewBox:"0 0 10 12",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:C("path",{d:"M4.48574 0.323291C4.66239 -0.107763 5.33761 -0.107764 5.51426 0.32329L6.68971 4.18178C6.74525 4.3173 6.86359 4.42416 7.01368 4.4743L9.64196 5.53566C10.1193 5.69516 10.1193 6.30484 9.64196 6.46434L7.01368 7.5257C6.86359 7.57584 6.74525 7.68269 6.68971 7.81822L5.51426 11.6767C5.33761 12.1078 4.66239 12.1078 4.48574 11.6767L3.31029 7.81822C3.25475 7.68269 3.13641 7.57584 2.98632 7.5257L0.358045 6.46434C-0.119348 6.30484 -0.119349 5.69516 0.358045 5.53566L2.98632 4.4743C3.13641 4.42416 3.25475 4.3173 3.31029 4.18178L4.48574 0.323291Z"})})}function QZ({showing:e=!0,twinkling:t=!1,count:n=20,className:r}){const[i]=useState(()=>Math.random()*1e3),a=useMemo(()=>Array.from({length:n},(o,l)=>C(x4,{index:l,offset:i,count:n,fast:!0},l)),[i,n]),s=useMemo(()=>Array.from({length:Math.ceil(n/2)},(o,l)=>C(x4,{index:l,offset:i,count:n},l)),[i,n]);return e?ne("div",{className:classes("pointer-events-none absolute h-full w-full opacity-0 duration-150",e&&"opacity-100",r),children:[C("div",{className:classes("absolute h-full w-full opacity-0 duration-500",t&&"opacity-100"),children:a}),C("div",{className:classes("absolute h-full w-full opacity-100 duration-500",t&&"opacity-0"),children:s})]}):null}function x4({index:e,offset:t,count:n,fast:r}){return useMemo(()=>{const i=clamp(10,(t+e/n*13543.34)%100,90),a=clamp(10,(t+e/n*16857.24)%100,90),s=Math.max(1,e/n*2),o=(t+e/n*13543.34)%360;return C("div",{className:"absolute h-0 w-0 text-white",css:css`
          animation-name: ${JZ};
          animation-iteration-count: infinite;
          animation-timing-function: linear;
        `,style:{animationDelay:`${-t+e*3.4}s`,animationDuration:r?"7s":"30s",top:`${i}%`,left:`${a}%`},children:C(XZ,{css:css`
            animation-name: ${ZZ};
            animation-iteration-count: infinite;
            animation-timing-function: ease-in-out;
            animation-direction: alternate;
          `,style:{animationDelay:`${-t+e*3.4}s`,animationDuration:r?"2s":"30s",transform:`translate(-50%, -50%) scale(${s}) rotate(${o}deg)`}})})},[e,t,n,r])}const ZZ=sy`
  from {
    opacity: 0;
  }

  to {
    opacity: 1;
  }
`,JZ=sy`
  from {
    transform: translate(-50%, -50%) rotate(0deg);
  }

  to {
    transform: translate(-50%, -50%) rotate(360deg);
  }
`;function VO({children:e,choices:t,placement:n="bottom",showArrow:r=!0,onOpenChange:i,onChange:a,className:s,openMechanism:o="hover"}){const[l,u]=useState(!1),[c,h]=useState("right"),p=useRef(null);return useEffect(()=>{if(!l||!p.current)return;const m=p.current.getBoundingClientRect();m.left+m.width/2>window.innerWidth/2?h("left"):h("right")},[l]),C(H.Tooltip,{content:C("div",{className:"flex flex-col gap-0.5",children:t.map(m=>"value"in m&&m.value instanceof Array?C(VO,{showArrow:!1,choices:m.value,placement:c,onOpenChange:g=>u(g),onChange:a,className:s,children:C(k4,{choice:m})},m.label):C(k4,{choice:m,onClick:()=>"value"in m&&a?.(m.value),href:"href"in m?m.href:void 0},m.label))}),placement:n,showArrow:r,forceOpen:l?!0:void 0,onChange:i,enablePointerEvents:!0,contentClasses:classes("p-1.5",s),openMechanism:o,className:classes(o==="click"&&"pointer-events-auto"),children:C("div",{ref:p,children:e})})}function k4({choice:e,onClick:t,href:n}){const r={className:classes("flex w-[8.5rem] cursor-pointer flex-row items-center justify-between rounded-sm py-[5px] px-2 text-sm",e.selected?"bg-brand-500/80":"hover:bg-white/10"),onClick:a=>{a.stopPropagation(),t?.()},href:n},i=ne(rt,{children:[e.label,"value"in e&&e.value instanceof Array?C(H.Icon.ChevronRight,{className:"-mr-1 text-white/50",size:16}):C(H.Icon.Invisible,{size:16})]});return n?C(ly,{to:n,...r,children:i}):C("div",{...r,children:i})}function ux({children:e,contentClasses:t,content:n,placement:r="top",delay:i=0,distance:a=8,allowOpen:s=!0,forceOpen:o=!1,showArrow:l=!0,enablePointerEvents:u=!1,className:c,onChange:h,openMechanism:p="hover"}){const[m,g]=useState(!1),[y,b]=useState(null),[w,x]=useState(null),[k,_]=useState({top:0,left:0}),A=useRef(null),P=useRef(null);useLayoutEffect(()=>{if(!A.current||!(m||o))return;const G=A.current.getBoundingClientRect();switch(r){case"top":_({top:G.top-a,left:G.left+G.width/2});break;case"bottom":_({top:G.top+G.height+a,left:G.left+G.width/2});break;case"left":_({top:G.top+G.height/2,left:G.left-a});break;case"right":_({top:G.top+G.height/2,left:G.left+G.width+a});break}},[r,a,m,n,o]);const N=useCallback(()=>{p==="hover"&&(y&&clearTimeout(y),i?b(setTimeout(()=>{g(!0)},i)):g(!0))},[p,y,i]),B=useCallback(()=>{p==="hover"&&(y&&clearTimeout(y),u?(w&&clearTimeout(w),x(setTimeout(()=>{g(!1)},200))):g(!1))},[u,w,p,y]),j=useCallback(G=>{p==="click"&&(G.stopPropagation(),g(!0))},[p]);py(P,()=>{p==="click"&&g(!1)});const W=useMemo(()=>document.getElementById("tooltip-root"),[]);useEffect(()=>{h&&h((m||o)&&s)},[m,h,o,s]);const K=H.useIsMobileDevice();if(!W||K)return e??null;const z=Yu.createPortal(C(Wh,{children:(m||o)&&s&&ne(rt,{children:[l&&C(Ar.div,{className:classes("absolute z-[999999] h-2 w-2 -translate-x-1/2 -translate-y-1/2 rotate-45 border-zinc-700 bg-zinc-900",r==="top"&&"border-b border-r",r==="bottom"&&"border-t border-l",r==="left"&&"border-t border-r",r==="right"&&"border-b border-l"),style:{top:`${k.top}px`,left:`${k.left}px`},initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{type:"tween",duration:.05}}),C(Ar.div,{ref:P,style:{top:`${k.top}px`,left:`${Math.min(k.left,window.innerWidth-(P.current?.offsetWidth??0)+32)}px`},className:classes("absolute z-[999998] block shrink-0 whitespace-nowrap rounded-md bg-zinc-900 px-3 py-1.5 text-sm text-white ring-[1px] ring-inset ring-zinc-700",r==="top"&&"-translate-x-1/2 -translate-y-full transform",r==="bottom"&&"-translate-x-1/2 transform",r==="left"&&"-translate-x-full -translate-y-1/2 transform",r==="right"&&"-translate-y-1/2 transform",u?"pointer-events-auto":"pointer-events-none",t),initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{type:"tween",duration:.05},css:css`
              filter: drop-shadow(0 0 0.5rem rgba(0, 0, 0, 0.5));
            `,onMouseEnter:()=>{y&&clearTimeout(y),w&&clearTimeout(w)},children:n})]})}),W);return ne("div",{ref:A,className:classes("relative inline-block",c),onMouseEnter:N,onMouseLeave:B,onMouseDown:j,children:[e,z]})}(e=>{e.Dropdown=VO})(ux||(ux={}));var H;(e=>{e.Common=E2,e.GlobalCSS=Y9,e.Mode=Kg,e.Badge=GW,e.Divider=T2,e.Icon=_2,e.Loading=I2,e.Logo=yC,e.Checkered=qW,e.New=TQ,e.Page=IQ,e.Slider=dZ,e.Skeleton=lZ,e.Button=Cs,e.Checkbox=HW,e.Dropdown=KW,e.Input=gC,e.NumberInput=_Q,e.Stars=QZ,e.Popout=aZ,e.Modal=nx,e.Soon=YZ,e.Tooltip=ux,e.Snackbar=KZ,e.Label=EH,e.useDark=()=>Kg.use().dark,e.useIsMobileDevice=()=>rM().width<768})(H||(H={}));var Xg;(e=>{e.min=()=>0,e.preset=()=>5,e.max=()=>50,e.use=()=>{const t=ee.Brush.use(),n=ee.Brush.useSet(),r=useCallback(i=>{n(a=>{const s=(typeof i=="function"?i(a.blur):i)??(0,e.preset)();return{...a,blur:clamp((0,e.min)(),s,(0,e.max)())}})},[n]);return useMemo(()=>[t.blur,r],[t.blur,r])},(t=>{t.use=()=>{const[,n]=ee.Brush.Blur.use(),[r]=ee.Tool.Active.use(),i=r==="brush";Ye.use(useMemo(()=>({name:["Eraser","Blur","Increase"],icon:H.Icon.Plus,keys:["Shift","]"],enabled:i,action:()=>n(a=>a+1)}),[i,n])),Ye.use(useMemo(()=>({name:["Eraser","Blur","Decrease"],icon:H.Icon.Minus,keys:["Shift","["],enabled:i,action:()=>n(a=>a-1)}),[i,n]))}})(e.Shortcuts||(e.Shortcuts={}))})(Xg||(Xg={}));function S4(){const[e]=ee.Tool.Active.use(),[t,n]=useState(!1),r=useRef(null),{size:i,strength:a}=ee.Brush.use();return useEffect(()=>{function s(o){r.current&&t&&e==="brush"&&o.clientX&&o.clientY?(r.current.style.left=o.clientX-i/2+"px",r.current.style.top=o.clientY-i/2+"px",r.current.style.display="block",r.current.style.cursor="none"):r.current&&(r.current.style.display="none")}return window.addEventListener("mousemove",s),document.getElementById("canvas-container")?.addEventListener("mouseenter",()=>n(!0)),document.getElementById("canvas-container")?.addEventListener("mouseleave",()=>n(!1)),()=>{window.removeEventListener("mousemove",s),document.getElementById("canvas-container")?.removeEventListener("mouseenter",()=>n(!0)),document.getElementById("canvas-container")?.removeEventListener("mouseleave",()=>n(!1))}},[r,e,i,t]),t&&e==="brush"?(document.body.style.cursor="none",C("svg",{className:"pointer-events-none absolute hidden",style:{zIndex:1e3,opacity:a},width:i+2,height:i+2,ref:r,children:C("circle",{fill:"transparent",stroke:"white",strokeWidth:"2",r:i/2,cx:i/2+1,cy:i/2+1})})):(document.body.style.cursor="default",null)}class yh{constructor(){Gn(this,"strokeWidth",0);Gn(this,"strokeBlur",0);Gn(this,"strokeStrength",0);Gn(this,"points",[]);Gn(this,"line",null);Gn(this,"canvas",document.createElement("canvas"));Gn(this,"context",this.canvas.getContext("2d"))}addPoint(t,n){this.points.push(t),this.points.push(n),this.line&&(this.draw(),this.line.getLayer()?.batchDraw())}restart(t,n,r,i){this.strokeWidth=t,this.strokeBlur=n,this.strokeStrength=r,this.points=i,this.line?.visible(!0)}clear(){this.points=[],this.line&&(this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.line.visible(!1),this.line.getLayer()?.batchDraw())}draw(){const[t,n]=this.points.reduce((o,l,u)=>(!o[0]||!o[1]||(u%2===0?(l<o[0].x&&(o[0].x=l),l>o[1].x&&(o[1].x=l)):(l<o[0].y&&(o[0].y=l),l>o[1].y&&(o[1].y=l))),o),[{x:1/0,y:1/0},{x:-1/0,y:-1/0}]);if(!t||!n)return;const r=n.x-t.x,i=n.y-t.y;this.canvas.width=r+this.strokeWidth*2+this.strokeBlur*2,this.canvas.height=i+this.strokeWidth*2+this.strokeBlur*2,this.line?.position({x:t.x-this.strokeWidth-this.strokeBlur,y:t.y-this.strokeWidth-this.strokeBlur}),this.line?.width(this.canvas.width),this.line?.height(this.canvas.height),this.context.beginPath(),this.context.fillStyle="white",this.context.filter=`blur(${this.strokeBlur}px)`,this.context.lineWidth=this.strokeWidth,this.context.lineCap="round",this.context.lineJoin="round",this.context.globalAlpha=this.strokeStrength;const a=this.points[0],s=this.points[1];a&&s&&this.context.moveTo(a-(this.line?.x()||0),s-(this.line?.y()||0));for(let o=2;o<this.points.length;o+=2){const l=this.points[o],u=this.points[o+1];l&&u&&this.context.lineTo(l-(this.line?.x()??0),u-(this.line?.y()??0))}this.context.stroke()}}(e=>{e.applyToImage=(t,n)=>new Promise(r=>{if(!t.element?.complete||!t.element.src){r(null);return}const i=document.createElement("canvas");i.width=t.element.width,i.height=t.element.height;const a=i.getContext("2d");a.drawImage(t.element,0,0,i.width,i.height);const s=Math.max(t.width/t.element.width,t.height/t.element.height),o={x:-((t.width-t.element.width*s)/2)/s,y:-((t.height-t.element.height*s)/2)/s};a.beginPath(),a.strokeStyle="white",a.lineWidth=n.strokeWidth/s,a.lineCap="round",a.lineJoin="round",a.filter=`blur(${n.strokeBlur/s}px)`,a.globalAlpha=n.strokeStrength,a.globalCompositeOperation="destination-out";for(let u=0;u<n.points.length;u+=2){const c=n.points[u],h=n.points[u+1];!c||!h||(u===0?a.moveTo(c/s-t.x/s+o.x,h/s-t.y/s+o.y):a.lineTo(c/s-t.x/s+o.x,h/s-t.y/s+o.y))}a.stroke(),t.element.src.startsWith("blob:")&&t.element.src!==t.src&&URL.revokeObjectURL(t.element.src);const l=new window.Image;l.id=t.id,l.onload=()=>r(l),i.toBlob(u=>{u&&(l.src=URL.createObjectURL(u)),i.remove()})})})(yh||(yh={}));function eJ(){const e=ee.Brush.useSet(),t=ee.Brush.use(),{solid:n,blurred:r}=tJ({onClick:e});return ne("div",{className:"pointer-events-auto max-w-[300px] overflow-hidden",children:[ne("div",{className:"py-3",children:[C(Pw,{children:n}),C(Pw,{children:r})]}),C(H.Divider,{children:"Settings"}),ne("div",{className:"mb-2 flex flex-col gap-4 p-4 text-zinc-300 dark:text-white",children:[C(H.Slider,{title:"Size",value:t.size,min:ee.Brush.Size.min(),max:ee.Brush.Size.max(),onChange:i=>e(a=>({...a,size:i}))}),C(H.Slider,{title:"Strength",step:1,value:t.strength*100,min:ee.Brush.Strength.min()*100,max:ee.Brush.Strength.max()*100,onChange:i=>e(a=>({...a,strength:i/100}))}),C(H.Slider,{title:"Blur",value:t.blur,max:ee.Brush.Blur.max(),onChange:i=>e(a=>({...a,blur:i}))})]}),C(H.Divider,{children:"Preview"}),C("div",{className:"py-4",children:C(Pw,{children:C(WO,{highlighted:!0,...t})})})]})}function Pw({children:e}){return C("div",{className:"flex items-stretch justify-center p-2",children:e})}function WO({size:e=ee.Brush.Size.preset(),strength:t=ee.Brush.Strength.preset(),blur:n=ee.Brush.Blur.preset(),selectable:r=!1,scaleSize:i=l=>l,scaleBlur:a=l=>l,onClick:s,...o}){const l=ee.Brush.use(),[u,c]=useState(!1),h=e===l.size&&n===l.blur,p=o.highlighted??(u||h);return C("div",{className:classes("flex grow items-center justify-center self-stretch",r&&"cursor-pointer"),onClick:()=>s?.({...l,size:e,blur:n}),onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),children:C("div",{className:classes("rounded-full",p?"bg-brand-500":"bg-zinc-600"),style:{filter:`blur(${a(n)}px)`,width:`${i(e)}px`,height:`${i(e)}px`,opacity:t}})})}function tJ({onClick:e}){return useMemo(()=>{const r=Array.from({length:10},(a,s)=>{const o=ee.Brush.Size.min()+s/9*(ee.Brush.Size.max()-ee.Brush.Size.min()),l=2+Math.pow(s/(10-1),2)*(ee.Brush.Blur.max()-2);return{size:o,blur:l}}),i=[...r,...r].map(({size:a,blur:s},o)=>{const l=o>=r.length;return C(WO,{selectable:!0,scaleSize:u=>u/6+5,scaleBlur:u=>Math.max(u/4,l?2:0),onClick:e,size:a,blur:l?s:0},o)});return{solid:i.slice(0,r.length),blurred:i.slice(-r.length)}},[e])}var cx;(e=>{e.use=()=>{const t=ee.Tool.Active.useSet(),[n]=ee.Tool.Active.use(),r=n==="brush";ee.Brush.Blur.Shortcuts.use(),ee.Brush.Size.Shortcuts.use(),Ye.Priority.use(useMemo(()=>({name:"Eraser",level:"high",enabled:r}),[r])),Ye.use(useMemo(()=>({name:"Eraser",icon:H.Icon.Eraser,keys:"e",action:()=>t("brush")}),[t]))}})(cx||(cx={}));var dx;(e=>{function t(){const n=ee.Brush.useSet(),r=ee.Brush.use();return C(Dt.Sidebar.Section,{title:"Eraser settings",defaultExpanded:!0,collapsable:!0,divider:!0,children:ne("div",{className:"flex w-full items-center gap-5",children:[ne("div",{className:"relative flex aspect-square w-[10rem] items-center justify-center overflow-hidden rounded bg-white/10",children:[C(H.Checkered,{}),C(nJ,{highlighted:!0,...r,scaleBlur:i=>i/2.5,scaleSize:i=>i/2.5})]}),ne("div",{className:"flex w-full flex-col gap-2",children:[C(H.Slider,{title:"Size",value:r.size,min:ee.Brush.Size.min(),max:ee.Brush.Size.max(),onChange:i=>n(a=>({...a,size:i}))}),C(H.Slider,{title:"Blur",value:r.blur,max:ee.Brush.Blur.max(),onChange:i=>n(a=>({...a,blur:i}))}),C(H.Slider,{title:"Strength",step:1,percentage:!0,value:r.strength*100,min:ee.Brush.Strength.min()*100,max:ee.Brush.Strength.max()*100,onChange:i=>n(a=>({...a,strength:i/100}))})]})]})})}e.Section=t})(dx||(dx={}));function nJ({size:e=ee.Brush.Size.preset(),strength:t=ee.Brush.Strength.preset(),blur:n=ee.Brush.Blur.preset(),selectable:r=!1,scaleSize:i=l=>l,scaleBlur:a=l=>l,onClick:s,...o}){const l=ee.Brush.use(),[u,c]=useState(!1),h=e===l.size&&n===l.blur,p=o.highlighted??(u||h);return C("div",{className:classes("flex grow items-center justify-center self-stretch",r&&"cursor-pointer"),onClick:()=>s?.({...l,size:e,blur:n}),onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),children:C("div",{className:classes("rounded-full",p?"bg-white":"bg-zinc-600"),style:{filter:`blur(${a(n)}px)`,width:`${i(e)}px`,height:`${i(e)}px`,opacity:t}})})}var Qg;(e=>{e.min=()=>5,e.preset=()=>50,e.max=()=>200,e.use=()=>{const t=ee.Brush.use(),n=ee.Brush.useSet(),r=useCallback(i=>{n(a=>{const s=(typeof i=="function"?i(a.size):i)??(0,e.preset)();return{...a,size:clamp((0,e.min)(),s,(0,e.max)())}})},[n]);return useMemo(()=>[t.size,r],[t.size,r])},(t=>{t.use=()=>{const[,n]=ee.Brush.Size.use(),[r]=ee.Tool.Active.use(),i=r==="brush";Ye.use(useMemo(()=>({name:["Eraser","Size","Increase"],icon:H.Icon.Plus,keys:"]",action:()=>n(a=>a+5),enabled:i}),[i,n])),Ye.use(useMemo(()=>({name:["Eraser","Size","Decrease"],icon:H.Icon.Minus,keys:"[",action:()=>n(a=>a-5),enabled:i}),[i,n]))}})(e.Shortcuts||(e.Shortcuts={}))})(Qg||(Qg={}));var Zg;(e=>{e.min=()=>0,e.preset=()=>(0,e.max)(),e.max=()=>1,e.use=()=>{const t=ee.Brush.use(),n=ee.Brush.useSet(),r=useCallback(i=>{n(a=>{const s=(typeof i=="function"?i(a.strength):i)??(0,e.preset)();return{...a,strength:clamp((0,e.min)(),s,(0,e.max)())}})},[n]);return useMemo(()=>[t.strength,r],[t.strength,r])}})(Zg||(Zg={}));function Jg(){const[e]=ee.Tool.Active.use(),t=useRef(new yh),n=useRef(null),r=ee.Canvas.use(),[,i]=useState(0),a=ee.Entities.useMap(),s=ee.Entities.useSet(),{blur:o,size:l,strength:u}=ee.Brush.use();return useEffect(()=>{t.current&&n.current&&(t.current.line=n.current)},[]),ee.Canvas.useMouseDown(c=>{if(e==="brush"&&c.evt.button===0&&r){const h=r.current?.scaleX()||1,p=r.current?.getPointerPosition()||{x:0,y:0},m=r.current?.getPosition()||{x:0,y:0};t.current.restart(l/h,o,u,[p.x/h-m.x/h,p.y/h-m.y/h,p.x/h-m.x/h,p.y/h-m.y/h]),i(g=>g+1)}},[e,l,o,r?.current,t.current]),ee.Canvas.useMouseUp(()=>{if(e==="brush"){const c=[];a.forEach(h=>{if(h.type==="image")for(let p=0;p<t.current.points.length;p+=2){const m=t.current.points[p],g=t.current.points[p+1];if(!m||!g)return;if(Jg.circleIntersectsRectange(m,g,t.current.strokeWidth+t.current.strokeBlur,h.x,h.y,h.width,h.height)){c.push(yh.applyToImage(h,t.current));break}}}),Promise.all(c).then(h=>{const p=new Map;h.forEach(m=>{if(!m)return;const g=a.get(m.id);p.set(g.id,{...g,element:m})}),s(m=>new Map([...m,...p])),t.current.clear()})}},[e,t.current]),ee.Canvas.useMouseMove(c=>{if(e==="brush"&&t.current&&c.evt.buttons===1&&r){const h=r.current?.scaleX()||1,p=r.current?.getPointerPosition()||{x:0,y:0},m=r.current?.getPosition()||{x:0,y:0};t.current.addPoint(p.x/h-m.x/h,p.y/h-m.y/h)}},[e,t.current,r?.current]),C(RW,{ref:n,listening:!1,perfectDrawEnabled:!1,globalCompositeOperation:"destination-out",visible:e==="brush",image:t.current.canvas})}(e=>{e.MaskLine=yh,e.Panel=eJ,e.Cursor=S4,e.Sidebar=dx,e.Shortcuts=cx,e.Blur=Xg,e.Size=Qg,e.Strength=Zg;function t(a,s,o,l,u,c,h){const p=Math.abs(a-(l+c/2)),m=Math.abs(s-(u+h/2));return p>c/2+o||m>h/2+o?!1:p<=c/2||m<=h/2?!0:(p-c/2)**2+(m-h/2)**2<=o**2}e.circleIntersectsRectange=t,e.preset=()=>({size:Qg.preset(),strength:Zg.preset(),blur:Xg.preset()});const n=et.create(()=>({brush:(0,e.preset)()}));e.use=()=>n(({brush:a})=>a),e.useSet=()=>{const a=(0,e.use)(),s=n.setState;return useCallback(o=>s({brush:typeof o=="function"?o(a):o}),[s,a])};function r(){return ne(rt,{children:[C(S4,{}),C(ee.Tool,{label:"Eraser",tool:"brush",children:C(e.Icon,{})})]})}e.Tool=r;function i(){return C(H.Icon.Eraser,{strokeWidth:1.5,size:22})}e.Icon=i})(Jg||(Jg={}));var hx;(e=>{e.useGet=()=>{const t=ee.Canvas.use();return useCallback(()=>{if(!t.current)return;const n=t.current.getPosition(),r=t.current.getSize(),i={x:t.current.scaleX(),y:t.current.scaleY()};return{x:(-n.x+r.width/2)/i.x,y:(-n.y+r.height/2)/i.y}},[t])}})(hx||(hx={}));var e0;(e=>{function t(){return C(ee.Tool,{tool:"hand",children:C(H.Icon.Hand,{strokeWidth:1.5,size:22})})}e.Tool=t,(n=>{n.use=()=>{const r=ee.Tool.Active.useSet();Ye.use(useMemo(()=>({name:["Camera","Hand"],icon:H.Icon.Hand,keys:"h",action:()=>r("hand")}),[r]))}})(e.Shortcuts||(e.Shortcuts={}))})(e0||(e0={}));var fx;(e=>{e.use=()=>{const n=ee.Entities.useSurroundingBox(),r=ee.Camera.useSet();return useCallback(()=>{n&&r(n)},[n,r])};function t(){const n=(0,e.use)();return C(ee.Tool,{onClick:n,children:C(H.Icon.LocateFixed,{})})}e.Tool=t,(n=>{n.use=()=>{const r=e.use();Ye.use(useMemo(()=>({name:["Camera","Reset"],icon:H.Icon.LocateFixed,keys:["Meta","9"],action:r}),[r]))}})(e.Shortcuts||(e.Shortcuts={}))})(fx||(fx={}));var px;(e=>{e.use=()=>{ee.Camera.Reset.Shortcuts.use(),ee.Camera.Zoom.Shortcuts.use()}})(px||(px={}));var mx;(e=>{function t(){return ne(rt,{children:[C(n.Tool,{}),C(r.Tool,{})]})}e.Tools=t,(a=>{a.use=()=>{n.Shortcuts.use(),r.Shortcuts.use(),i.Shortcuts.use()}})(e.Shortcuts||(e.Shortcuts={}));let n;(a=>{a.use=()=>{const o=ee.Canvas.use();return useCallback(()=>{o?.current&&ee.Canvas.changeZoom(1.1,o.current)},[o])};function s(){const o=(0,a.use)();return C(ee.Tool,{onClick:o,children:C(H.Icon.ZoomIn,{})})}a.Tool=s,(o=>{o.use=()=>{const l=a.use();Ye.use(useMemo(()=>({name:["Camera","Zoom","In"],icon:H.Icon.ZoomIn,keys:["Meta","="],action:l}),[l]))}})(a.Shortcuts||(a.Shortcuts={}))})(n=e.In||(e.In={}));let r;(a=>{a.use=()=>{const o=ee.Canvas.use();return useCallback(()=>{o?.current&&ee.Canvas.changeZoom(.9,o.current)},[o])};function s(){const o=(0,a.use)();return C(ee.Tool,{onClick:o,children:C(H.Icon.ZoomOut,{})})}a.Tool=s,(o=>{o.use=()=>{const l=a.use();Ye.use(useMemo(()=>({name:["Camera","Zoom","Out"],icon:H.Icon.ZoomIn,keys:["Meta","-"],action:l}),[l]))}})(a.Shortcuts||(a.Shortcuts={}))})(r=e.Out||(e.Out={}));let i;(a=>{a.use=()=>{const s=ee.Canvas.use();return useCallback(()=>{s?.current&&ee.Canvas.changeZoom(void 0,s.current)},[s])},(s=>{s.use=()=>{const o=a.use();Ye.use(useMemo(()=>({name:["Camera","Zoom","Reset"],icon:H.Icon.Search,keys:["Meta","0"],action:o}),[o]))}})(a.Shortcuts||(a.Shortcuts={}))})(i=e.Reset||(e.Reset={}))})(mx||(mx={}));var gx;(e=>{e.Center=hx,e.Hand=e0,e.Reset=fx,e.Shortcuts=px,e.Zoom=mx,e.useSet=()=>{const r=ee.Canvas.use();return useCallback(i=>{if(!r?.current)return;const a={x:i.x-25,y:i.y-25,width:i.width+25*2,height:i.height+25*2},s=Math.min(r.current.width()/a.width,r.current.height()/a.height);r.current.scale({x:s,y:s}),r.current.position({x:-a.x*r.current.scaleX()+r.current.width()/2-a.width*r.current.scaleX()/2,y:-a.y*r.current.scaleY()+r.current.height()/2-a.height*r.current.scaleY()/2})},[r,25])};function t(){return C(e0.Tool,{})}e.Tools=t})(gx||(gx={}));function vh(){const e=useRef(null),t=useRef(null),{origin:n,setOrigin:r,size:i,setSize:a}=vh.useState(),[s]=ee.Tool.Active.use(),o=ee.Tool.Active.useSet(),l=ee.Entities.use(),u=ee.Selection.use(),c=ee.Selection.useSelect();return ee.Canvas.useMouseDown(h=>{if(s==="export"&&h.evt.button===0){const p=h.target.getStage(),m=p.scaleX()||1,g=p.getPointerPosition()||{x:0,y:0},y=p.getPosition()||{x:0,y:0};r(()=>[g.x/m-y.x/m,g.y/m-y.y/m]),a(()=>[0,0]),e.current&&(e.current.visible(!0),t.current.visible(!0))}},[s,e.current]),ee.Canvas.useMouseMove(h=>{if(s==="export"&&n!==null&&e.current?.visible()&&h.evt.buttons===1){const p=h.target.getStage(),m=p.scaleX()||1,g=p.getPointerPosition()||{x:0,y:0},y=p.getPosition()||{x:0,y:0},b=g.x/m-y.x/m-n[0],w=g.y/m-y.y/m-n[1];b<0?(r(_=>[_[0]+b,t.current.y()]),a(_=>[-b,_[1]])):a(_=>[b,_[1]]),w<0?(r(_=>[t.current.x(),_[1]+w]),a(_=>[_[0],-w])):a(_=>[_[0],w]);const x=[];let k=!1;l.forEach(_=>{_.type==="image"&&(ee.Canvas.rectContainsRect(e.current.x(),e.current.y(),e.current.width(),e.current.height(),_.x,_.y,_.width,_.height)?(x.push(_.id),u.has(_.id)||(k=!0)):u.has(_.id)&&(k=!0))}),k&&c(x)}},[s,e.current,n]),ee.Canvas.useMouseUp(()=>{if(s==="export"&&n!==null&&e.current){const h={x:e.current.x(),y:e.current.y(),width:e.current.width(),height:e.current.height()};let p=l.flatMap(g=>g.type==="image"&&g.visible?[g]:[]);if(e.current.width()<10&&e.current.height()<10){const g=ee.Canvas.Render.getImageFromPoint(e.current.x(),e.current.y(),l.flatMap(y=>y.type==="image"&&y.visible?[y]:[]).reverse());g&&(p=[{...g,x:0,y:0,type:"image",id:"export",index:0,locked:!1,visible:!0}],h.x=g.x,h.y=g.y,h.width=g.width,h.height=g.height)}const m=ee.Canvas.Render.createImageFromBox(h.x,h.y,h.width,h.height,p.reverse(),1);if(m){const g=document.createElement("a");g.download="export.png",g.href=m.toDataURL("image/png"),g.click(),m.remove()}r(()=>null),o("select")}},[s,e.current]),C(rt,{children:n&&i&&ne(rt,{children:[C(Ig,{x:n[0],y:n[1],width:i[0],height:i[1],fill:"#4f46e5",opacity:.2,ref:e,listening:!1}),C(Ig,{x:n[0],y:n[1],width:i[0],height:i[1],stroke:"#4f46e5",strokeWidth:3,dash:[5,5],ref:t,listening:!1})]})})}(e=>{e.useState=et.create(t=>({origin:null,size:[0,0],setOrigin:n=>t(r=>({...r,origin:n(r.origin)})),setSize:n=>t(r=>({...r,size:n(r.size)}))}))})(vh||(vh={}));function rJ(){return H.useDark(),ee.Canvas.use(),null}var C4;(e=>{e.center=t=>({x:t.x+t.width/2,y:t.y+t.height/2})})(C4||(C4={}));var Fu;(e=>{e.surroundingBox=t=>t.reduce((n,r)=>{if(!n)return r;const{x:i,y:a}=yx.min(n,r),s=Math.max(r.x+r.width,n.x+n.width)-i,o=Math.max(r.y+r.height,n.y+n.height)-a;return{x:i,y:a,width:s,height:o}},void 0)})(Fu||(Fu={}));var yx;(e=>{e.min=(t,n)=>({x:Math.min(t.x,n.x),y:Math.min(t.y,n.y)}),e.max=(t,n)=>({x:Math.max(t.x,n.x),y:Math.max(t.y,n.y)})})(yx||(yx={}));var Dd;(e=>{e.min=(t,n)=>({width:Math.min(t.width,n.width),height:Math.min(t.height,n.height)}),e.max=(t,n)=>({width:Math.max(t.width,n.width),height:Math.max(t.height,n.height)}),(t=>{t.apply=(n,r)=>(0,e.min)((0,e.max)(n,r?.min??{width:0,height:0}),r?.max??{width:1/0,height:1/0})})(e.Clamp||(e.Clamp={}))})(Dd||(Dd={}));var vx;(e=>{function t(a,s,o){return o.find(l=>l.x<=a&&l.x+l.width>=a&&l.y<=s&&l.y+l.height>=s&&l.element?.src&&l.visible)}e.getImageFromPoint=t;function n(a){return Fu.surroundingBox(a)}e.getBoundsOfImages=n;function r(a,s,o,l,u,c,h,p){const m=u.filter(g=>g.x<=a+o&&g.x+g.width>=a&&g.y<=s+l&&g.y+g.height>=s&&g.visible&&(p?g.original.element?.src:g.element?.src));if(h&&m.length>0){const g=n(m);a=g.x,s=g.y,o=g.width,l=g.height}if(m.length>0){const g=document.createElement("canvas");g.width=o,g.height=l;const y=g.getContext("2d");return y?(m.sort().forEach(b=>{const w=Math.max(b.width/b.original.width,b.height/b.original.height),x={x:-((b.width-b.original.width*w)/2)/w,y:-((b.height-b.original.height*w)/2)/w};b.element?.src&&(p?b.original.element:b.element)&&(y.drawImage(b.element,x.x,x.y,b.width/w,b.height/w,b.x-a,b.y-s,b.width,b.height),p&&b.original.element&&(y.globalCompositeOperation="destination-over",y.drawImage(b.original.element,x.x,x.y,b.width/w,b.height/w,b.x-a,b.y-s,b.width,b.height),y.globalCompositeOperation="source-over"))}),p&&(y.fillStyle="rgb(128, 128, 128)",y.globalCompositeOperation="destination-over",y.fillRect(0,0,g.width,g.height),y.globalCompositeOperation="source-over"),c<1&&(y.globalAlpha=1-c,y.fillStyle="white",y.globalCompositeOperation="destination-out",y.fillRect(0,0,g.width,g.height),y.globalAlpha=1,y.globalCompositeOperation="source-over"),g):void 0}else return null}e.createImageFromBox=r;function i(a,s,o){const l={x:s.x,y:s.y,width:Math.ceil(s.width/64)*64,height:Math.ceil(s.height/64)*64};if(l.width*l.height>1048576)return console.log("box is too large"),null;const u={mode:"txt2img",init:"",mask:""},c=r(l.x,l.y,l.width,l.height,a,o,!1,!1),h=r(l.x,l.y,l.width,l.height,a,o,!1,!0);if(c&&h){const p=document.createElement("canvas");p.width=h.width,p.height=h.height;const m=p.getContext("2d");m.drawImage(c,0,0,c.width,c.height,0,0,c.width,c.height),m.fillStyle="white",m.globalCompositeOperation="source-in",m.fillRect(0,0,p.width,p.height),m.fillStyle="black",m.globalCompositeOperation="destination-atop",m.fillRect(0,0,p.width,p.height),m.globalCompositeOperation="source-over";const g=m.getImageData(0,0,p.width,p.height),y=new Uint32Array(g.data.buffer);let b=!0,w=0;for(let x=0;x<y.length;x++)if(y[x]!==4294967295&&w++,w>25){b=!1;break}b?(u.mode="img2img",o>=1&&(m.fillStyle="rgb(210, 210, 210)",m.fillRect(0,0,p.width,p.height))):(u.mode="inpaint",m.filter="blur(20px)",m.drawImage(p,0,0,p.width,p.height,0,0,p.width,p.height)),u.mask=p.toDataURL("image/png",1),u.init=h.toDataURL("image/png",1)}return u}e.getGenerationMetadata=i})(vx||(vx={}));var Bu;(e=>{const t=et.create(()=>({canvas:React.createRef(),loading:!0,zoom:1}));e.useCanvas=()=>t(({canvas:r})=>r),e.use=()=>{n();const r=ee.Canvas.useResize(),i=ee.Reset.use(),a=t(),s=t.setState,[o]=useState(ID.create());return useEffect(()=>{o!==a.id&&s({id:o,loading:!0})},[o,a.id,s]),useEffect(()=>{!a.loading||!a.id||!a.canvas.current||(r(),i(),s({loading:!1}))},[a.loading,a.id,a.canvas,s,r,i]),a};const n=()=>{const{height:r,width:i}=rM(),a=ee.Canvas.useResize();dh(a,1e3,[i,r,a])};e.setZoom=r=>{t.setState({zoom:r})},e.useZoom=()=>{const{zoom:r}=t(({zoom:i})=>({zoom:i}));return r}})(Bu||(Bu={}));function wh({children:e}){const t=useRef(null),{canvas:n,loading:r}=Bu.use(),i=useRef(!1),[a]=ee.Tool.Active.use(),s=ee.Selection.useClear();return C("div",{ref:t,id:"canvas-container",className:classes("absolute bottom-0 left-0 right-0 top-0 z-0 opacity-100",r&&"opacity-0"),onDrop:ee.Image.Import.useOnDrop(),onDragOver:o=>o.preventDefault(),children:ne(MW,{ref:n,css:css`
          & .konvajs-content {
            position: absolute !important;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
          }
        `,onMouseMove:o=>{if(o.cancelBubble=!0,(o.evt.buttons===4||o.evt.button===0&&a==="select")&&i.current){const l=o.target.getStage(),u=l.position();l.position({x:u.x+o.evt.movementX,y:u.y+o.evt.movementY}),a!=="brush"&&(document.body.style.cursor="grabbing")}},onWheel:o=>{wh.changeZoomRelative(o.target.getStage(),o.evt.deltaY)},onMouseDown:o=>{(o.evt.buttons===4||o.evt.button===0&&a==="select")&&(i.current=!0),a==="select"&&s()},onMouseUp:()=>{i.current=!1,a!=="brush"&&(document.body.style.cursor="default")},onMouseLeave:()=>{i.current=!1},children:[C(_g,{children:C(rJ,{})}),e,C(_g,{children:C(vh,{})})]})})}(e=>{e.use=()=>Bu.useCanvas(),e.useGetContainer=()=>{const h=(0,e.use)();return useCallback(()=>h.current?.container().parentElement,[h])},e.useResize=()=>{const h=(0,e.use)(),p=(0,e.useGetContainer)();return useCallback(()=>{if(!h.current)return;const m=p();if(!m)return;const g=m.offsetWidth,y=m.offsetHeight;!g||!y||h.current.setSize({width:g,height:y})},[h,p])};function t(h,p,m=[]){const g=(0,e.use)();return useEffect(()=>{if(g&&g.current)return g.current.on(h,p),()=>{g.current?.off(h,p)}},[h,p,g,...m]),g?.current||null}e.useStageEvent=t;function n(h,p=[]){return t("mousemove",h,p)}e.useMouseMove=n;function r(h,p=[]){return t("mouseup",h,p)}e.useMouseUp=r;function i(h,p=[]){return t("mousedown",h,p)}e.useMouseDown=i;function a(h){const p=[],m=[];return h.forEach(g=>{const y=g.position(),b=g.width(),w=g.height();p.push(y.x,y.x+b),m.push(y.y,y.y+w)}),{vertical:p,horizontal:m}}e.collectSnapLines=a;function s(h,p,m,g,y,b,w,x){return h<=y&&p<=b&&h+m>=y+w&&p+g>=b+x}e.rectContainsRect=s;function o(h,p){const m=p.scaleX(),g={x:p.width()/2,y:p.height()/2},y={x:(g.x-p.x())/m,y:(g.y-p.y())/m},b=h?m*h:1;p.scale({x:b,y:b});const w={x:g.x-y.x*b,y:g.y-y.y*b};p.position(w),p.batchDraw()}e.changeZoom=o;function l(h,p,m){if(p===0)return;const g=h.scaleX(),y=h.getPointerPosition(),b=m||{x:(y.x-h.x())/g,y:(y.y-h.y())/g},x=(p>0?-1:1)>0?g*(1+.02):g*(1-.02);h.scale({x,y:x});const k={x:y.x-b.x*x,y:y.y-b.y*x};h.position(k),h.batchDraw();const _=h.scaleX();Bu.setZoom(_)}e.changeZoomRelative=l;function u(){const h=(0,e.use)();return useCallback(p=>{p.deltaY!==0&&h&&h.current&&(h.current.setPointersPositions(p),l(h.current,p.deltaY))},[h])}e.useTriggerWheelEvent=u;function c(){const h=(0,e.use)();return useCallback(p=>{h&&h.current&&h.current.fire("mousemove",{evt:p},!0)},[h])}e.useTriggerMouseMoveEvent=c,e.Render=vx,e.ExportBox=vh})(wh||(wh={}));var wx;(e=>{e.useCopy=()=>useCallback(async t=>{const n=await re.Image.blob(t);if(!n)return;const r=new ClipboardItem({[n.type]:n});await navigator.clipboard.write([r])},[])})(wx||(wx={}));function iJ({className:e,children:t,y:n}){return C(Ar.div,{className:classes("m-3 my-4 flex justify-end gap-2",e),initial:{y:n},transition:{duration:.15},children:t})}function gm({button:e,className:t,name:n,...r}){const i={...r,outline:!1,className:classes(t,"pointer-events-auto bg-transparent",!r.noBg&&!r.disabled&&"hover:bg-brand-400 dark:hover:bg-brand-400")},a=e?e(i):C(H.Button,{...i});return C(rt,{children:n?C(H.Tooltip,{content:n,placement:"top",className:t,children:a}):a})}function Ey({image:e}){const t=re.Image.Download.use(e),n=re.Image.Session.useSetInitialImage(),r=re.Image.Session.useCreateVariations(e),i=ee.Import.use(e),{input:a}=re.Image.Input.use(e.inputID),s=useMemo(()=>!!a?.init&&"src"in a.init&&a.init?.src===e.src,[a,e.src]),o=useMemo(()=>a?.id&&!re.Image.Input.isUpscaling(a)&&C(gm,{button:h=>C(re.Image.Variations.Create.Button,{...h,id:a.id,icon:H.Icon.Variation,onIdleClick:r,noBrand:!0}),transparent:!0,className:"mr-auto -ml-1"}),[a,r]),l=useMemo(()=>C(gm,{icon:H.Icon.Edit,name:"Edit image",onClick:i,color:"zinc",transparent:!0}),[i]),u=useMemo(()=>C(gm,{icon:H.Icon.Image,name:s?"Initial image":"Set as initial image",disabled:s,className:classes(s&&"opacity-50"),onClick:()=>n(e),color:"zinc",transparent:!0}),[s,n,e]),c=H.useIsMobileDevice();return useMemo(()=>ne(rt,{children:[ne("div",{className:"pointer-events-none absolute flex h-full w-full flex-col justify-between opacity-0 duration-150 group-hover:opacity-75",children:[C("div",{className:"h-[6rem] bg-gradient-to-b from-black to-transparent"}),C("div",{className:"h-[6rem] bg-gradient-to-b from-transparent to-black sm:hidden"})]}),ne("div",{className:"pointer-events-none absolute flex h-full w-full flex-col justify-between opacity-0 duration-150 group-hover:opacity-100",children:[ne(re.Image.Controls.Buttons,{y:-6,children:[o,!c&&ne(rt,{children:[l,u,C(re.Image.Controls.Button,{name:"Download image",icon:H.Icon.Download,onClick:()=>t(),transparent:!0}),C(re.Images.Delete.Button,{images:[e.id]})]})]}),c&&ne(re.Image.Controls.Buttons,{className:"justify-start",y:6,children:[u,C(re.Image.Controls.Button,{name:"Download image",icon:H.Icon.Download,onClick:()=>t(),transparent:!0}),C(re.Images.Delete.Button,{images:[e.id]})]})]})]}),[o,c,l,u,t,e.id])}Ey.Button=gm;Ey.Buttons=iJ;var zu;(e=>{function t(){const[n,r]=e.use();return C(H.Slider,{title:"Image count",min:1,max:10,value:n,onChange:r})}e.Slider=t})(zu||(zu={}));(e=>{e.preset=()=>4,e.get=()=>Aw.getState().count,e.set=t=>Aw.getState().setCount(t),e.use=()=>Aw(({count:t,setCount:n})=>[t,n],et.shallow)})(zu||(zu={}));const Aw=et.create(e=>({count:zu.preset(),setCount:t=>e({count:t})}));var bx={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});function n(r,i,a){a===void 0&&(a=!1),a&&(i=i/r,r=1);var s=[],o=0,l=0,u,c=function(){var h=o+i,p=Date.now();if(p<h){u!==void 0&&clearTimeout(u),u=setTimeout(c,h-p);return}o=p,l=0;for(var m=0,g=s.splice(0,r);m<g.length;m++){var y=g[m];l++,y()}s.length?u=setTimeout(c,i):u=void 0};return function(h){return new Promise(function(p,m){var g=function(){return Promise.resolve().then(h).then(p).catch(m)},y=Date.now();u===void 0&&y-o>i&&(o=y,l=0),l++<r?g():(s.push(g),u===void 0&&(u=setTimeout(c,o+i-y)))})}}e.exports=n,t.default=n})(bx,bx.exports);var aJ=bx.exports;const sJ=Gi(aJ),oJ="modulepreload",lJ=function(e){return"/extensions/omni-extension-stability/"+e},E4={},uJ=function(t,n,r){if(!n||n.length===0)return t();const i=document.getElementsByTagName("link");return Promise.all(n.map(a=>{if(a=lJ(a),a in E4)return;E4[a]=!0;const s=a.endsWith(".css"),o=s?'[rel="stylesheet"]':"";if(!!r)for(let c=i.length-1;c>=0;c--){const h=i[c];if(h.href===a&&(!s||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${o}`))return;const u=document.createElement("link");if(u.rel=s?"stylesheet":oJ,s||(u.as="script",u.crossOrigin=""),u.href=a,document.head.appendChild(u),s)return new Promise((c,h)=>{u.addEventListener("load",c),u.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>t())};var T4=e=>{let t,n=new Set,r=(s,o)=>{let l=typeof s=="function"?s(t):s;if(!Object.is(l,t)){let u=t;t=o??typeof l!="object"?l:Object.assign({},t,l),n.forEach(c=>c(t,u))}},i=()=>t,a={setState:r,getState:i,subscribe:s=>(n.add(s),()=>n.delete(s)),destroy:()=>{({VITE_GIT_HASH:"76772d7b9a4e6d87bd87c26665f7ab74cd40f2cd",BASE_URL:"/extensions/omni-extension-stability/",MODE:"preview",DEV:!1,PROD:!0,SSR:!1}&&"preview")!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}};return t=e(r,i,a),a},cJ=e=>e?T4(e):T4,dJ=e=>t=>cJ((n,r)=>e({set:n,get:r,context:t})),hJ=dJ(({set:e,get:t})=>({imagesGeneratedSoFar:0,manifest:{name:"Example Plugin",author:"Bobby Joe",link:"https://www.youtube.com/watch?v=dQw4w9WgXcQ",icon:`${window.location.origin}/DummyImage.png`,version:"1.2.3",license:"MIT",description:"An example plugin for StableStudio"},createStableDiffusionImages:async()=>{let n=await(await fetch(`${window.location.origin}/DummyImage.png`)).blob(),r=new Date;return e(({imagesGeneratedSoFar:i})=>({imagesGeneratedSoFar:i+4})),{id:`${Math.random()*1e7}`,images:[{id:`${Math.random()*1e7}`,createdAt:r,blob:n},{id:`${Math.random()*1e7}`,createdAt:r,blob:n},{id:`${Math.random()*1e7}`,createdAt:r,blob:n},{id:`${Math.random()*1e7}`,createdAt:r,blob:n}]}},getStatus:()=>{let{imagesGeneratedSoFar:n}=t();return{indicator:"success",text:n>0?`${n} images generated`:"Ready"}},settings:{exampleSetting:{type:"string",default:"Hello, World!",placeholder:"Example setting"}},setSetting:(n,r)=>e(({settings:i})=>({settings:{[n]:{...i[n],value:r}}}))}));const fJ=Object.freeze(Object.defineProperty({__proto__:null,createPlugin:hJ},Symbol.toStringTag,{value:"Module"}));var pJ=Object.defineProperty,GO=(e,t)=>{for(var n in t)pJ(e,n,{get:t[n],enumerable:!0})};function Kh(e){let t=typeof e;if(t=="object"){if(Array.isArray(e))return"array";if(e===null)return"null"}return t}function HO(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)}var Ma="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),Ty=[];for(let e=0;e<Ma.length;e++)Ty[Ma[e].charCodeAt(0)]=e;Ty["-".charCodeAt(0)]=Ma.indexOf("+");Ty["_".charCodeAt(0)]=Ma.indexOf("/");function qO(e){let t=e.length*3/4;e[e.length-2]=="="?t-=2:e[e.length-1]=="="&&(t-=1);let n=new Uint8Array(t),r=0,i=0,a,s=0;for(let o=0;o<e.length;o++){if(a=Ty[e.charCodeAt(o)],a===void 0)switch(e[o]){case"=":i=0;case`
`:case"\r":case"	":case" ":continue;default:throw Error("invalid base64 string.")}switch(i){case 0:s=a,i=1;break;case 1:n[r++]=s<<2|(a&48)>>4,s=a,i=2;break;case 2:n[r++]=(s&15)<<4|(a&60)>>2,s=a,i=3;break;case 3:n[r++]=(s&3)<<6|a,i=0;break}}if(i==1)throw Error("invalid base64 string.");return n.subarray(0,r)}function KO(e){let t="",n=0,r,i=0;for(let a=0;a<e.length;a++)switch(r=e[a],n){case 0:t+=Ma[r>>2],i=(r&3)<<4,n=1;break;case 1:t+=Ma[i|r>>4],i=(r&15)<<2,n=2;break;case 2:t+=Ma[i|r>>6],t+=Ma[r&63],n=0;break}return n&&(t+=Ma[i],t+="=",n==1&&(t+="=")),t}var oe;(function(e){e.symbol=Symbol.for("protobuf-ts/unknown"),e.onRead=(n,r,i,a,s)=>{(t(r)?r[e.symbol]:r[e.symbol]=[]).push({no:i,wireType:a,data:s})},e.onWrite=(n,r,i)=>{for(let{no:a,wireType:s,data:o}of e.list(r))i.tag(a,s).raw(o)},e.list=(n,r)=>{if(t(n)){let i=n[e.symbol];return r?i.filter(a=>a.no==r):i}return[]},e.last=(n,r)=>e.list(n,r).slice(-1)[0];let t=n=>n&&Array.isArray(n[e.symbol])})(oe||(oe={}));function mJ(e,t){return Object.assign(Object.assign({},e),t)}var U;(function(e){e[e.Varint=0]="Varint",e[e.Bit64=1]="Bit64",e[e.LengthDelimited=2]="LengthDelimited",e[e.StartGroup=3]="StartGroup",e[e.EndGroup=4]="EndGroup",e[e.Bit32=5]="Bit32"})(U||(U={}));function gJ(){let e=0,t=0;for(let r=0;r<28;r+=7){let i=this.buf[this.pos++];if(e|=(i&127)<<r,!(i&128))return this.assertBounds(),[e,t]}let n=this.buf[this.pos++];if(e|=(n&15)<<28,t=(n&112)>>4,!(n&128))return this.assertBounds(),[e,t];for(let r=3;r<=31;r+=7){let i=this.buf[this.pos++];if(t|=(i&127)<<r,!(i&128))return this.assertBounds(),[e,t]}throw new Error("invalid varint")}function Rw(e,t,n){for(let a=0;a<28;a=a+7){let s=e>>>a,o=!(!(s>>>7)&&t==0),l=(o?s|128:s)&255;if(n.push(l),!o)return}let r=e>>>28&15|(t&7)<<4,i=!!(t>>3);if(n.push((i?r|128:r)&255),!!i){for(let a=3;a<31;a=a+7){let s=t>>>a,o=!!(s>>>7),l=(o?s|128:s)&255;if(n.push(l),!o)return}n.push(t>>>31&1)}}var ym=(1<<16)*(1<<16);function YO(e){let t=e[0]=="-";t&&(e=e.slice(1));let n=1e6,r=0,i=0;function a(s,o){let l=Number(e.slice(s,o));i*=n,r=r*n+l,r>=ym&&(i=i+(r/ym|0),r=r%ym)}return a(-24,-18),a(-18,-12),a(-12,-6),a(-6),[t,r,i]}function xx(e,t){if(t<=2097151)return""+(ym*t+(e>>>0));let n=e&16777215,r=(e>>>24|t<<8)>>>0&16777215,i=t>>16&65535,a=n+r*6777216+i*6710656,s=r+i*8147497,o=i*2,l=1e7;a>=l&&(s+=Math.floor(a/l),a%=l),s>=l&&(o+=Math.floor(s/l),s%=l);function u(c,h){let p=c?String(c):"";return h?"0000000".slice(p.length)+p:p}return u(o,0)+u(s,o)+u(a,1)}function _4(e,t){if(e>=0){for(;e>127;)t.push(e&127|128),e=e>>>7;t.push(e)}else{for(let n=0;n<9;n++)t.push(e&127|128),e=e>>7;t.push(1)}}function yJ(){let e=this.buf[this.pos++],t=e&127;if(!(e&128))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(e&127)<<7,!(e&128))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(e&127)<<14,!(e&128))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(e&127)<<21,!(e&128))return this.assertBounds(),t;e=this.buf[this.pos++],t|=(e&15)<<28;for(let n=5;e&128&&n<10;n++)e=this.buf[this.pos++];if(e&128)throw new Error("invalid varint");return this.assertBounds(),t>>>0}function vJ(){let e=new DataView(new ArrayBuffer(8));return globalThis.BigInt!==void 0&&typeof e.getBigInt64=="function"&&typeof e.getBigUint64=="function"&&typeof e.setBigInt64=="function"&&typeof e.setBigUint64=="function"?{MIN:BigInt("-9223372036854775808"),MAX:BigInt("9223372036854775807"),UMIN:BigInt("0"),UMAX:BigInt("18446744073709551615"),C:BigInt,V:e}:void 0}var Gt=vJ();function XO(e){if(!e)throw new Error("BigInt unavailable, see https://github.com/timostamm/protobuf-ts/blob/v1.0.8/MANUAL.md#bigint-support")}var QO=/^-?[0-9]+$/,t0=(1<<16)*(1<<16),ZO=class{constructor(e,t){this.lo=e|0,this.hi=t|0}isZero(){return this.lo==0&&this.hi==0}toNumber(){let e=this.hi*t0+(this.lo>>>0);if(!Number.isSafeInteger(e))throw new Error("cannot convert to safe number");return e}},yr=class extends ZO{static from(e){if(Gt)switch(typeof e){case"string":if(e=="0")return this.ZERO;if(e=="")throw new Error("string is no integer");e=Gt.C(e);case"number":if(e===0)return this.ZERO;e=Gt.C(e);case"bigint":if(!e)return this.ZERO;if(e<Gt.UMIN)throw new Error("signed value for ulong");if(e>Gt.UMAX)throw new Error("ulong too large");return Gt.V.setBigUint64(0,e,!0),new yr(Gt.V.getInt32(0,!0),Gt.V.getInt32(4,!0))}else switch(typeof e){case"string":if(e=="0")return this.ZERO;if(e=e.trim(),!QO.test(e))throw new Error("string is no integer");let[t,n,r]=YO(e);if(t)throw new Error("signed value");return new yr(n,r);case"number":if(e==0)return this.ZERO;if(!Number.isSafeInteger(e))throw new Error("number is no integer");if(e<0)throw new Error("signed value for ulong");return new yr(e,e/t0)}throw new Error("unknown value "+typeof e)}toString(){return Gt?this.toBigInt().toString():xx(this.lo,this.hi)}toBigInt(){return XO(Gt),Gt.V.setInt32(0,this.lo,!0),Gt.V.setInt32(4,this.hi,!0),Gt.V.getBigUint64(0,!0)}};yr.ZERO=new yr(0,0);var _n=class extends ZO{static from(t){if(Gt)switch(typeof t){case"string":if(t=="0")return this.ZERO;if(t=="")throw new Error("string is no integer");t=Gt.C(t);case"number":if(t===0)return this.ZERO;t=Gt.C(t);case"bigint":if(!t)return this.ZERO;if(t<Gt.MIN)throw new Error("ulong too small");if(t>Gt.MAX)throw new Error("ulong too large");return Gt.V.setBigInt64(0,t,!0),new _n(Gt.V.getInt32(0,!0),Gt.V.getInt32(4,!0))}else switch(typeof t){case"string":if(t=="0")return this.ZERO;if(t=t.trim(),!QO.test(t))throw new Error("string is no integer");let[n,r,i]=YO(t),a=new _n(r,i);return n?a.negate():a;case"number":if(t==0)return this.ZERO;if(!Number.isSafeInteger(t))throw new Error("number is no integer");return t>0?new _n(t,t/t0):new _n(-t,-t/t0).negate()}throw new Error("unknown value "+typeof t)}isNegative(){return(this.hi&2147483648)!==0}negate(){let t=~this.hi,n=this.lo;return n?n=~n+1:t+=1,new _n(n,t)}toString(){if(Gt)return this.toBigInt().toString();if(this.isNegative()){let t=this.negate();return"-"+xx(t.lo,t.hi)}return xx(this.lo,this.hi)}toBigInt(){return XO(Gt),Gt.V.setInt32(0,this.lo,!0),Gt.V.setInt32(4,this.hi,!0),Gt.V.getBigInt64(0,!0)}};_n.ZERO=new _n(0,0);var I4={readUnknownField:!0,readerFactory:e=>new bJ(e)};function wJ(e){return e?Object.assign(Object.assign({},I4),e):I4}var bJ=class{constructor(e,t){this.varint64=gJ,this.uint32=yJ,this.buf=e,this.len=e.length,this.pos=0,this.view=new DataView(e.buffer,e.byteOffset,e.byteLength),this.textDecoder=t??new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0})}tag(){let e=this.uint32(),t=e>>>3,n=e&7;if(t<=0||n<0||n>5)throw new Error("illegal tag: field no "+t+" wire type "+n);return[t,n]}skip(e){let t=this.pos;switch(e){case U.Varint:for(;this.buf[this.pos++]&128;);break;case U.Bit64:this.pos+=4;case U.Bit32:this.pos+=4;break;case U.LengthDelimited:let n=this.uint32();this.pos+=n;break;case U.StartGroup:let r;for(;(r=this.tag()[1])!==U.EndGroup;)this.skip(r);break;default:throw new Error("cant skip wire type "+e)}return this.assertBounds(),this.buf.subarray(t,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return this.uint32()|0}sint32(){let e=this.uint32();return e>>>1^-(e&1)}int64(){return new _n(...this.varint64())}uint64(){return new yr(...this.varint64())}sint64(){let[e,t]=this.varint64(),n=-(e&1);return e=(e>>>1|(t&1)<<31)^n,t=t>>>1^n,new _n(e,t)}bool(){let[e,t]=this.varint64();return e!==0||t!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return new yr(this.sfixed32(),this.sfixed32())}sfixed64(){return new _n(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let e=this.uint32(),t=this.pos;return this.pos+=e,this.assertBounds(),this.buf.subarray(t,t+e)}string(){return this.textDecoder.decode(this.bytes())}};function gt(e,t){if(!e)throw new Error(t)}function xJ(e,t){throw new Error(t??"Unexpected object: "+e)}var kJ=34028234663852886e22,SJ=-34028234663852886e22,CJ=4294967295,EJ=2147483647,TJ=-2147483648;function Nd(e){if(typeof e!="number")throw new Error("invalid int 32: "+typeof e);if(!Number.isInteger(e)||e>EJ||e<TJ)throw new Error("invalid int 32: "+e)}function n0(e){if(typeof e!="number")throw new Error("invalid uint 32: "+typeof e);if(!Number.isInteger(e)||e>CJ||e<0)throw new Error("invalid uint 32: "+e)}function ZC(e){if(typeof e!="number")throw new Error("invalid float 32: "+typeof e);if(Number.isFinite(e)&&(e>kJ||e<SJ))throw new Error("invalid float 32: "+e)}var P4={writeUnknownFields:!0,writerFactory:()=>new IJ};function _J(e){return e?Object.assign(Object.assign({},P4),e):P4}var IJ=class{constructor(e){this.stack=[],this.textEncoder=e??new TextEncoder,this.chunks=[],this.buf=[]}finish(){this.chunks.push(new Uint8Array(this.buf));let e=0;for(let r=0;r<this.chunks.length;r++)e+=this.chunks[r].length;let t=new Uint8Array(e),n=0;for(let r=0;r<this.chunks.length;r++)t.set(this.chunks[r],n),n+=this.chunks[r].length;return this.chunks=[],t}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let e=this.finish(),t=this.stack.pop();if(!t)throw new Error("invalid state, fork stack empty");return this.chunks=t.chunks,this.buf=t.buf,this.uint32(e.byteLength),this.raw(e)}tag(e,t){return this.uint32((e<<3|t)>>>0)}raw(e){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(e),this}uint32(e){for(n0(e);e>127;)this.buf.push(e&127|128),e=e>>>7;return this.buf.push(e),this}int32(e){return Nd(e),_4(e,this.buf),this}bool(e){return this.buf.push(e?1:0),this}bytes(e){return this.uint32(e.byteLength),this.raw(e)}string(e){let t=this.textEncoder.encode(e);return this.uint32(t.byteLength),this.raw(t)}float(e){ZC(e);let t=new Uint8Array(4);return new DataView(t.buffer).setFloat32(0,e,!0),this.raw(t)}double(e){let t=new Uint8Array(8);return new DataView(t.buffer).setFloat64(0,e,!0),this.raw(t)}fixed32(e){n0(e);let t=new Uint8Array(4);return new DataView(t.buffer).setUint32(0,e,!0),this.raw(t)}sfixed32(e){Nd(e);let t=new Uint8Array(4);return new DataView(t.buffer).setInt32(0,e,!0),this.raw(t)}sint32(e){return Nd(e),e=(e<<1^e>>31)>>>0,_4(e,this.buf),this}sfixed64(e){let t=new Uint8Array(8),n=new DataView(t.buffer),r=_n.from(e);return n.setInt32(0,r.lo,!0),n.setInt32(4,r.hi,!0),this.raw(t)}fixed64(e){let t=new Uint8Array(8),n=new DataView(t.buffer),r=yr.from(e);return n.setInt32(0,r.lo,!0),n.setInt32(4,r.hi,!0),this.raw(t)}int64(e){let t=_n.from(e);return Rw(t.lo,t.hi,this.buf),this}sint64(e){let t=_n.from(e),n=t.hi>>31,r=t.lo<<1^n,i=(t.hi<<1|t.lo>>>31)^n;return Rw(r,i,this.buf),this}uint64(e){let t=yr.from(e);return Rw(t.lo,t.hi,this.buf),this}},A4={emitDefaultValues:!1,enumAsInteger:!1,useProtoFieldName:!1,prettySpaces:0},R4={ignoreUnknownFields:!1};function PJ(e){return e?Object.assign(Object.assign({},R4),e):R4}function AJ(e){return e?Object.assign(Object.assign({},A4),e):A4}function RJ(e,t){var n,r;let i=Object.assign(Object.assign({},e),t);return i.typeRegistry=[...(n=e?.typeRegistry)!==null&&n!==void 0?n:[],...(r=t?.typeRegistry)!==null&&r!==void 0?r:[]],i}var Le=Symbol.for("protobuf-ts/message-type");function kx(e){let t=!1,n=[];for(let r=0;r<e.length;r++){let i=e.charAt(r);i=="_"?t=!0:/\d/.test(i)?(n.push(i),t=!0):t?(n.push(i.toUpperCase()),t=!1):r==0?n.push(i.toLowerCase()):n.push(i)}return n.join("")}var ke;(function(e){e[e.DOUBLE=1]="DOUBLE",e[e.FLOAT=2]="FLOAT",e[e.INT64=3]="INT64",e[e.UINT64=4]="UINT64",e[e.INT32=5]="INT32",e[e.FIXED64=6]="FIXED64",e[e.FIXED32=7]="FIXED32",e[e.BOOL=8]="BOOL",e[e.STRING=9]="STRING",e[e.BYTES=12]="BYTES",e[e.UINT32=13]="UINT32",e[e.SFIXED32=15]="SFIXED32",e[e.SFIXED64=16]="SFIXED64",e[e.SINT32=17]="SINT32",e[e.SINT64=18]="SINT64"})(ke||(ke={}));var ga;(function(e){e[e.BIGINT=0]="BIGINT",e[e.STRING=1]="STRING",e[e.NUMBER=2]="NUMBER"})(ga||(ga={}));var r0;(function(e){e[e.NO=0]="NO",e[e.PACKED=1]="PACKED",e[e.UNPACKED=2]="UNPACKED"})(r0||(r0={}));function DJ(e){var t,n,r,i;return e.localName=(t=e.localName)!==null&&t!==void 0?t:kx(e.name),e.jsonName=(n=e.jsonName)!==null&&n!==void 0?n:kx(e.name),e.repeat=(r=e.repeat)!==null&&r!==void 0?r:r0.NO,e.opt=(i=e.opt)!==null&&i!==void 0?i:e.repeat||e.oneof?!1:e.kind=="message",e}function NJ(e){if(typeof e!="object"||e===null||!e.hasOwnProperty("oneofKind"))return!1;switch(typeof e.oneofKind){case"string":return e[e.oneofKind]===void 0?!1:Object.keys(e).length==2;case"undefined":return Object.keys(e).length==1;default:return!1}}var MJ=class{constructor(e){var t;this.fields=(t=e.fields)!==null&&t!==void 0?t:[]}prepare(){if(this.data)return;let e=[],t=[],n=[];for(let r of this.fields)if(r.oneof)n.includes(r.oneof)||(n.push(r.oneof),e.push(r.oneof),t.push(r.oneof));else switch(t.push(r.localName),r.kind){case"scalar":case"enum":(!r.opt||r.repeat)&&e.push(r.localName);break;case"message":r.repeat&&e.push(r.localName);break;case"map":e.push(r.localName);break}this.data={req:e,known:t,oneofs:Object.values(n)}}is(e,t,n=!1){if(t<0)return!0;if(e==null||typeof e!="object")return!1;this.prepare();let r=Object.keys(e),i=this.data;if(r.length<i.req.length||i.req.some(a=>!r.includes(a))||!n&&r.some(a=>!i.known.includes(a)))return!1;if(t<1)return!0;for(let a of i.oneofs){let s=e[a];if(!NJ(s))return!1;if(s.oneofKind===void 0)continue;let o=this.fields.find(l=>l.localName===s.oneofKind);if(!o||!this.field(s[s.oneofKind],o,n,t))return!1}for(let a of this.fields)if(a.oneof===void 0&&!this.field(e[a.localName],a,n,t))return!1;return!0}field(e,t,n,r){let i=t.repeat;switch(t.kind){case"scalar":return e===void 0?t.opt:i?this.scalars(e,t.T,r,t.L):this.scalar(e,t.T,t.L);case"enum":return e===void 0?t.opt:i?this.scalars(e,ke.INT32,r):this.scalar(e,ke.INT32);case"message":return e===void 0?!0:i?this.messages(e,t.T(),n,r):this.message(e,t.T(),n,r);case"map":if(typeof e!="object"||e===null)return!1;if(r<2)return!0;if(!this.mapKeys(e,t.K,r))return!1;switch(t.V.kind){case"scalar":return this.scalars(Object.values(e),t.V.T,r,t.V.L);case"enum":return this.scalars(Object.values(e),ke.INT32,r);case"message":return this.messages(Object.values(e),t.V.T(),n,r)}break}return!0}message(e,t,n,r){return n?t.isAssignable(e,r):t.is(e,r)}messages(e,t,n,r){if(!Array.isArray(e))return!1;if(r<2)return!0;if(n){for(let i=0;i<e.length&&i<r;i++)if(!t.isAssignable(e[i],r-1))return!1}else for(let i=0;i<e.length&&i<r;i++)if(!t.is(e[i],r-1))return!1;return!0}scalar(e,t,n){let r=typeof e;switch(t){case ke.UINT64:case ke.FIXED64:case ke.INT64:case ke.SFIXED64:case ke.SINT64:switch(n){case ga.BIGINT:return r=="bigint";case ga.NUMBER:return r=="number"&&!isNaN(e);default:return r=="string"}case ke.BOOL:return r=="boolean";case ke.STRING:return r=="string";case ke.BYTES:return e instanceof Uint8Array;case ke.DOUBLE:case ke.FLOAT:return r=="number"&&!isNaN(e);default:return r=="number"&&Number.isInteger(e)}}scalars(e,t,n,r){if(!Array.isArray(e))return!1;if(n<2)return!0;if(Array.isArray(e)){for(let i=0;i<e.length&&i<n;i++)if(!this.scalar(e[i],t,r))return!1}return!0}mapKeys(e,t,n){let r=Object.keys(e);switch(t){case ke.INT32:case ke.FIXED32:case ke.SFIXED32:case ke.SINT32:case ke.UINT32:return this.scalars(r.slice(0,n).map(i=>parseInt(i)),t,n);case ke.BOOL:return this.scalars(r.slice(0,n).map(i=>i=="true"?!0:i=="false"?!1:i),t,n);default:return this.scalars(r,t,n,ga.STRING)}}};function zi(e,t){switch(t){case ga.BIGINT:return e.toBigInt();case ga.NUMBER:return e.toNumber();default:return e.toString()}}var OJ=class{constructor(e){this.info=e}prepare(){var e;if(this.fMap===void 0){this.fMap={};let t=(e=this.info.fields)!==null&&e!==void 0?e:[];for(let n of t)this.fMap[n.name]=n,this.fMap[n.jsonName]=n,this.fMap[n.localName]=n}}assert(e,t,n){if(!e){let r=Kh(n);throw(r=="number"||r=="boolean")&&(r=n.toString()),new Error(`Cannot parse JSON ${r} for ${this.info.typeName}#${t}`)}}read(e,t,n){this.prepare();let r=[];for(let[i,a]of Object.entries(e)){let s=this.fMap[i];if(!s){if(!n.ignoreUnknownFields)throw new Error(`Found unknown field while reading ${this.info.typeName} from JSON format. JSON key: ${i}`);continue}let o=s.localName,l;if(s.oneof){if(r.includes(s.oneof))throw new Error(`Multiple members of the oneof group "${s.oneof}" of ${this.info.typeName} are present in JSON.`);r.push(s.oneof),l=t[s.oneof]={oneofKind:o}}else l=t;if(s.kind=="map"){if(a===null)continue;this.assert(HO(a),s.name,a);let u=l[o];for(let[c,h]of Object.entries(a)){this.assert(h!==null,s.name+" map value",null);let p;switch(s.V.kind){case"message":p=s.V.T().internalJsonRead(h,n);break;case"enum":if(p=this.enum(s.V.T(),h,s.name,n.ignoreUnknownFields),p===!1)continue;break;case"scalar":p=this.scalar(h,s.V.T,s.V.L,s.name);break}this.assert(p!==void 0,s.name+" map value",h);let m=c;s.K==ke.BOOL&&(m=m=="true"?!0:m=="false"?!1:m),m=this.scalar(m,s.K,ga.STRING,s.name).toString(),u[m]=p}}else if(s.repeat){if(a===null)continue;this.assert(Array.isArray(a),s.name,a);let u=l[o];for(let c of a){this.assert(c!==null,s.name,null);let h;switch(s.kind){case"message":h=s.T().internalJsonRead(c,n);break;case"enum":if(h=this.enum(s.T(),c,s.name,n.ignoreUnknownFields),h===!1)continue;break;case"scalar":h=this.scalar(c,s.T,s.L,s.name);break}this.assert(h!==void 0,s.name,a),u.push(h)}}else switch(s.kind){case"message":if(a===null&&s.T().typeName!="google.protobuf.Value"){this.assert(s.oneof===void 0,s.name+" (oneof member)",null);continue}l[o]=s.T().internalJsonRead(a,n,l[o]);break;case"enum":let u=this.enum(s.T(),a,s.name,n.ignoreUnknownFields);if(u===!1)continue;l[o]=u;break;case"scalar":l[o]=this.scalar(a,s.T,s.L,s.name);break}}}enum(e,t,n,r){if(e[0]=="google.protobuf.NullValue"&&gt(t===null,`Unable to parse field ${this.info.typeName}#${n}, enum ${e[0]} only accepts null.`),t===null)return 0;switch(typeof t){case"number":return gt(Number.isInteger(t),`Unable to parse field ${this.info.typeName}#${n}, enum can only be integral number, got ${t}.`),t;case"string":let i=t;e[2]&&t.substring(0,e[2].length)===e[2]&&(i=t.substring(e[2].length));let a=e[1][i];return typeof a>"u"&&r?!1:(gt(typeof a=="number",`Unable to parse field ${this.info.typeName}#${n}, enum ${e[0]} has no value for "${t}".`),a)}gt(!1,`Unable to parse field ${this.info.typeName}#${n}, cannot parse enum value from ${typeof t}".`)}scalar(e,t,n,r){let i;try{switch(t){case ke.DOUBLE:case ke.FLOAT:if(e===null)return 0;if(e==="NaN")return Number.NaN;if(e==="Infinity")return Number.POSITIVE_INFINITY;if(e==="-Infinity")return Number.NEGATIVE_INFINITY;if(e===""){i="empty string";break}if(typeof e=="string"&&e.trim().length!==e.length){i="extra whitespace";break}if(typeof e!="string"&&typeof e!="number")break;let a=Number(e);if(Number.isNaN(a)){i="not a number";break}if(!Number.isFinite(a)){i="too large or small";break}return t==ke.FLOAT&&ZC(a),a;case ke.INT32:case ke.FIXED32:case ke.SFIXED32:case ke.SINT32:case ke.UINT32:if(e===null)return 0;let s;if(typeof e=="number"?s=e:e===""?i="empty string":typeof e=="string"&&(e.trim().length!==e.length?i="extra whitespace":s=Number(e)),s===void 0)break;return t==ke.UINT32?n0(s):Nd(s),s;case ke.INT64:case ke.SFIXED64:case ke.SINT64:if(e===null)return zi(_n.ZERO,n);if(typeof e!="number"&&typeof e!="string")break;return zi(_n.from(e),n);case ke.FIXED64:case ke.UINT64:if(e===null)return zi(yr.ZERO,n);if(typeof e!="number"&&typeof e!="string")break;return zi(yr.from(e),n);case ke.BOOL:if(e===null)return!1;if(typeof e!="boolean")break;return e;case ke.STRING:if(e===null)return"";if(typeof e!="string"){i="extra whitespace";break}try{encodeURIComponent(e)}catch(o){o="invalid UTF8";break}return e;case ke.BYTES:if(e===null||e==="")return new Uint8Array(0);if(typeof e!="string")break;return qO(e)}}catch(a){i=a.message}this.assert(!1,r+(i?" - "+i:""),e)}},LJ=class{constructor(e){var t;this.fields=(t=e.fields)!==null&&t!==void 0?t:[]}write(e,t){let n={},r=e;for(let i of this.fields){if(!i.oneof){let l=this.field(i,r[i.localName],t);l!==void 0&&(n[t.useProtoFieldName?i.name:i.jsonName]=l);continue}let a=r[i.oneof];if(a.oneofKind!==i.localName)continue;let s=i.kind=="scalar"||i.kind=="enum"?Object.assign(Object.assign({},t),{emitDefaultValues:!0}):t,o=this.field(i,a[i.localName],s);gt(o!==void 0),n[t.useProtoFieldName?i.name:i.jsonName]=o}return n}field(e,t,n){let r;if(e.kind=="map"){gt(typeof t=="object"&&t!==null);let i={};switch(e.V.kind){case"scalar":for(let[o,l]of Object.entries(t)){let u=this.scalar(e.V.T,l,e.name,!1,!0);gt(u!==void 0),i[o.toString()]=u}break;case"message":let a=e.V.T();for(let[o,l]of Object.entries(t)){let u=this.message(a,l,e.name,n);gt(u!==void 0),i[o.toString()]=u}break;case"enum":let s=e.V.T();for(let[o,l]of Object.entries(t)){gt(l===void 0||typeof l=="number");let u=this.enum(s,l,e.name,!1,!0,n.enumAsInteger);gt(u!==void 0),i[o.toString()]=u}break}(n.emitDefaultValues||Object.keys(i).length>0)&&(r=i)}else if(e.repeat){gt(Array.isArray(t));let i=[];switch(e.kind){case"scalar":for(let o=0;o<t.length;o++){let l=this.scalar(e.T,t[o],e.name,e.opt,!0);gt(l!==void 0),i.push(l)}break;case"enum":let a=e.T();for(let o=0;o<t.length;o++){gt(t[o]===void 0||typeof t[o]=="number");let l=this.enum(a,t[o],e.name,e.opt,!0,n.enumAsInteger);gt(l!==void 0),i.push(l)}break;case"message":let s=e.T();for(let o=0;o<t.length;o++){let l=this.message(s,t[o],e.name,n);gt(l!==void 0),i.push(l)}break}(n.emitDefaultValues||i.length>0||n.emitDefaultValues)&&(r=i)}else switch(e.kind){case"scalar":r=this.scalar(e.T,t,e.name,e.opt,n.emitDefaultValues);break;case"enum":r=this.enum(e.T(),t,e.name,e.opt,n.emitDefaultValues,n.enumAsInteger);break;case"message":r=this.message(e.T(),t,e.name,n);break}return r}enum(e,t,n,r,i,a){if(e[0]=="google.protobuf.NullValue")return null;if(t===void 0){gt(r);return}if(!(t===0&&!i&&!r))return gt(typeof t=="number"),gt(Number.isInteger(t)),a||!e[1].hasOwnProperty(t)?t:e[2]?e[2]+e[1][t]:e[1][t]}message(e,t,n,r){return t===void 0?r.emitDefaultValues?null:void 0:e.internalJsonWrite(t,r)}scalar(e,t,n,r,i){if(t===void 0){gt(r);return}let a=i||r;switch(e){case ke.INT32:case ke.SFIXED32:case ke.SINT32:return t===0?a?0:void 0:(Nd(t),t);case ke.FIXED32:case ke.UINT32:return t===0?a?0:void 0:(n0(t),t);case ke.FLOAT:ZC(t);case ke.DOUBLE:return t===0?a?0:void 0:(gt(typeof t=="number"),Number.isNaN(t)?"NaN":t===Number.POSITIVE_INFINITY?"Infinity":t===Number.NEGATIVE_INFINITY?"-Infinity":t);case ke.STRING:return t===""?a?"":void 0:(gt(typeof t=="string"),t);case ke.BOOL:return t===!1?a?!1:void 0:(gt(typeof t=="boolean"),t);case ke.UINT64:case ke.FIXED64:gt(typeof t=="number"||typeof t=="string"||typeof t=="bigint");let s=yr.from(t);return s.isZero()&&!a?void 0:s.toString();case ke.INT64:case ke.SFIXED64:case ke.SINT64:gt(typeof t=="number"||typeof t=="string"||typeof t=="bigint");let o=_n.from(t);return o.isZero()&&!a?void 0:o.toString();case ke.BYTES:return gt(t instanceof Uint8Array),t.byteLength?KO(t):a?"":void 0}}};function Sx(e,t=ga.STRING){switch(e){case ke.BOOL:return!1;case ke.UINT64:case ke.FIXED64:return zi(yr.ZERO,t);case ke.INT64:case ke.SFIXED64:case ke.SINT64:return zi(_n.ZERO,t);case ke.DOUBLE:case ke.FLOAT:return 0;case ke.BYTES:return new Uint8Array(0);case ke.STRING:return"";default:return 0}}var FJ=class{constructor(e){this.info=e}prepare(){var e;if(!this.fieldNoToField){let t=(e=this.info.fields)!==null&&e!==void 0?e:[];this.fieldNoToField=new Map(t.map(n=>[n.no,n]))}}read(e,t,n,r){this.prepare();let i=r===void 0?e.len:e.pos+r;for(;e.pos<i;){let[a,s]=e.tag(),o=this.fieldNoToField.get(a);if(!o){let h=n.readUnknownField;if(h=="throw")throw new Error(`Unknown field ${a} (wire type ${s}) for ${this.info.typeName}`);let p=e.skip(s);h!==!1&&(h===!0?oe.onRead:h)(this.info.typeName,t,a,s,p);continue}let l=t,u=o.repeat,c=o.localName;switch(o.oneof&&(l=l[o.oneof],l.oneofKind!==c&&(l=t[o.oneof]={oneofKind:c})),o.kind){case"scalar":case"enum":let h=o.kind=="enum"?ke.INT32:o.T,p=o.kind=="scalar"?o.L:void 0;if(u){let y=l[c];if(s==U.LengthDelimited&&h!=ke.STRING&&h!=ke.BYTES){let b=e.uint32()+e.pos;for(;e.pos<b;)y.push(this.scalar(e,h,p))}else y.push(this.scalar(e,h,p))}else l[c]=this.scalar(e,h,p);break;case"message":if(u){let y=l[c],b=o.T().internalBinaryRead(e,e.uint32(),n);y.push(b)}else l[c]=o.T().internalBinaryRead(e,e.uint32(),n,l[c]);break;case"map":let[m,g]=this.mapEntry(o,e,n);l[c][m]=g;break}}}mapEntry(e,t,n){let r=t.uint32(),i=t.pos+r,a,s;for(;t.pos<i;){let[o,l]=t.tag();switch(o){case 1:e.K==ke.BOOL?a=t.bool().toString():a=this.scalar(t,e.K,ga.STRING);break;case 2:switch(e.V.kind){case"scalar":s=this.scalar(t,e.V.T,e.V.L);break;case"enum":s=t.int32();break;case"message":s=e.V.T().internalBinaryRead(t,t.uint32(),n);break}break;default:throw new Error(`Unknown field ${o} (wire type ${l}) in map entry for ${this.info.typeName}#${e.name}`)}}if(a===void 0){let o=Sx(e.K);a=e.K==ke.BOOL?o.toString():o}if(s===void 0)switch(e.V.kind){case"scalar":s=Sx(e.V.T,e.V.L);break;case"enum":s=0;break;case"message":s=e.V.T().create();break}return[a,s]}scalar(e,t,n){switch(t){case ke.INT32:return e.int32();case ke.STRING:return e.string();case ke.BOOL:return e.bool();case ke.DOUBLE:return e.double();case ke.FLOAT:return e.float();case ke.INT64:return zi(e.int64(),n);case ke.UINT64:return zi(e.uint64(),n);case ke.FIXED64:return zi(e.fixed64(),n);case ke.FIXED32:return e.fixed32();case ke.BYTES:return e.bytes();case ke.UINT32:return e.uint32();case ke.SFIXED32:return e.sfixed32();case ke.SFIXED64:return zi(e.sfixed64(),n);case ke.SINT32:return e.sint32();case ke.SINT64:return zi(e.sint64(),n)}}},BJ=class{constructor(e){this.info=e}prepare(){if(!this.fields){let e=this.info.fields?this.info.fields.concat():[];this.fields=e.sort((t,n)=>t.no-n.no)}}write(e,t,n){this.prepare();for(let i of this.fields){let a,s,o=i.repeat,l=i.localName;if(i.oneof){let u=e[i.oneof];if(u.oneofKind!==l)continue;a=u[l],s=!0}else a=e[l],s=!1;switch(i.kind){case"scalar":case"enum":let u=i.kind=="enum"?ke.INT32:i.T;if(o)if(gt(Array.isArray(a)),o==r0.PACKED)this.packed(t,u,i.no,a);else for(let c of a)this.scalar(t,u,i.no,c,!0);else a===void 0?gt(i.opt):this.scalar(t,u,i.no,a,s||i.opt);break;case"message":if(o){gt(Array.isArray(a));for(let c of a)this.message(t,n,i.T(),i.no,c)}else this.message(t,n,i.T(),i.no,a);break;case"map":gt(typeof a=="object"&&a!==null);for(let[c,h]of Object.entries(a))this.mapEntry(t,n,i,c,h);break}}let r=n.writeUnknownFields;r!==!1&&(r===!0?oe.onWrite:r)(this.info.typeName,e,t)}mapEntry(e,t,n,r,i){e.tag(n.no,U.LengthDelimited),e.fork();let a=r;switch(n.K){case ke.INT32:case ke.FIXED32:case ke.UINT32:case ke.SFIXED32:case ke.SINT32:a=Number.parseInt(r);break;case ke.BOOL:gt(r=="true"||r=="false"),a=r=="true";break}switch(this.scalar(e,n.K,1,a,!0),n.V.kind){case"scalar":this.scalar(e,n.V.T,2,i,!0);break;case"enum":this.scalar(e,ke.INT32,2,i,!0);break;case"message":this.message(e,t,n.V.T(),2,i);break}e.join()}message(e,t,n,r,i){i!==void 0&&(n.internalBinaryWrite(i,e.tag(r,U.LengthDelimited).fork(),t),e.join())}scalar(e,t,n,r,i){let[a,s,o]=this.scalarInfo(t,r);(!o||i)&&(e.tag(n,a),e[s](r))}packed(e,t,n,r){if(!r.length)return;gt(t!==ke.BYTES&&t!==ke.STRING),e.tag(n,U.LengthDelimited),e.fork();let[,i]=this.scalarInfo(t);for(let a=0;a<r.length;a++)e[i](r[a]);e.join()}scalarInfo(e,t){let n=U.Varint,r,i=t===void 0,a=t===0;switch(e){case ke.INT32:r="int32";break;case ke.STRING:a=i||!t.length,n=U.LengthDelimited,r="string";break;case ke.BOOL:a=t===!1,r="bool";break;case ke.UINT32:r="uint32";break;case ke.DOUBLE:n=U.Bit64,r="double";break;case ke.FLOAT:n=U.Bit32,r="float";break;case ke.INT64:a=i||_n.from(t).isZero(),r="int64";break;case ke.UINT64:a=i||yr.from(t).isZero(),r="uint64";break;case ke.FIXED64:a=i||yr.from(t).isZero(),n=U.Bit64,r="fixed64";break;case ke.BYTES:a=i||!t.byteLength,n=U.LengthDelimited,r="bytes";break;case ke.FIXED32:n=U.Bit32,r="fixed32";break;case ke.SFIXED32:n=U.Bit32,r="sfixed32";break;case ke.SFIXED64:a=i||_n.from(t).isZero(),n=U.Bit64,r="sfixed64";break;case ke.SINT32:r="sint32";break;case ke.SINT64:a=i||_n.from(t).isZero(),r="sint64";break}return[n,r,i||a]}};function zJ(e){let t={};Object.defineProperty(t,Le,{enumerable:!1,value:e});for(let n of e.fields){let r=n.localName;if(!n.opt)if(n.oneof)t[n.oneof]={oneofKind:void 0};else if(n.repeat)t[r]=[];else switch(n.kind){case"scalar":t[r]=Sx(n.T,n.L);break;case"enum":t[r]=0;break;case"map":t[r]={};break}}return t}function De(e,t,n){let r,i=n,a;for(let s of e.fields){let o=s.localName;if(s.oneof){let l=i[s.oneof];if(l?.oneofKind==null)continue;if(r=l[o],a=t[s.oneof],a.oneofKind=l.oneofKind,r==null){delete a[o];continue}}else if(r=i[o],a=t,r==null)continue;switch(s.repeat&&(a[o].length=r.length),s.kind){case"scalar":case"enum":if(s.repeat)for(let u=0;u<r.length;u++)a[o][u]=r[u];else a[o]=r;break;case"message":let l=s.T();if(s.repeat)for(let u=0;u<r.length;u++)a[o][u]=l.create(r[u]);else a[o]===void 0?a[o]=l.create(r):l.mergePartial(a[o],r);break;case"map":switch(s.V.kind){case"scalar":case"enum":Object.assign(a[o],r);break;case"message":let u=s.V.T();for(let c of Object.keys(r))a[o][c]=u.create(r[c]);break}break}}}function UJ(e,t,n){if(t===n)return!0;if(!t||!n)return!1;for(let r of e.fields){let i=r.localName,a=r.oneof?t[r.oneof][i]:t[i],s=r.oneof?n[r.oneof][i]:n[i];switch(r.kind){case"enum":case"scalar":let o=r.kind=="enum"?ke.INT32:r.T;if(!(r.repeat?D4(o,a,s):JO(o,a,s)))return!1;break;case"map":if(!(r.V.kind=="message"?N4(r.V.T(),$p(a),$p(s)):D4(r.V.kind=="enum"?ke.INT32:r.V.T,$p(a),$p(s))))return!1;break;case"message":let l=r.T();if(!(r.repeat?N4(l,a,s):l.equals(a,s)))return!1;break}}return!0}var $p=Object.values;function JO(e,t,n){if(t===n)return!0;if(e!==ke.BYTES)return!1;let r=t,i=n;if(r.length!==i.length)return!1;for(let a=0;a<r.length;a++)if(r[a]!=i[a])return!1;return!0}function D4(e,t,n){if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(!JO(e,t[r],n[r]))return!1;return!0}function N4(e,t,n){if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(!e.equals(t[r],n[r]))return!1;return!0}var Fe=class{constructor(t,n,r){this.defaultCheckDepth=16,this.typeName=t,this.fields=n.map(DJ),this.options=r??{},this.refTypeCheck=new MJ(this),this.refJsonReader=new OJ(this),this.refJsonWriter=new LJ(this),this.refBinReader=new FJ(this),this.refBinWriter=new BJ(this)}create(t){let n=zJ(this);return t!==void 0&&De(this,n,t),n}clone(t){let n=this.create();return De(this,n,t),n}equals(t,n){return UJ(this,t,n)}is(t,n=this.defaultCheckDepth){return this.refTypeCheck.is(t,n,!1)}isAssignable(t,n=this.defaultCheckDepth){return this.refTypeCheck.is(t,n,!0)}mergePartial(t,n){De(this,t,n)}fromBinary(t,n){let r=wJ(n);return this.internalBinaryRead(r.readerFactory(t),t.byteLength,r)}fromJson(t,n){return this.internalJsonRead(t,PJ(n))}fromJsonString(t,n){let r=JSON.parse(t);return this.fromJson(r,n)}toJson(t,n){return this.internalJsonWrite(t,AJ(n))}toJsonString(t,n){var r;let i=this.toJson(t,n);return JSON.stringify(i,null,(r=n?.prettySpaces)!==null&&r!==void 0?r:0)}toBinary(t,n){let r=_J(n);return this.internalBinaryWrite(t,r.writerFactory(),r).finish()}internalJsonRead(t,n,r){if(t!==null&&typeof t=="object"&&!Array.isArray(t)){let i=r??this.create();return this.refJsonReader.read(t,i,n),i}throw new Error(`Unable to parse message ${this.typeName} from JSON ${Kh(t)}.`)}internalJsonWrite(t,n){return this.refJsonWriter.write(t,n)}internalBinaryWrite(t,n,r){return this.refBinWriter.write(t,n,r),n}internalBinaryRead(t,n,r,i){let a=i??this.create();return this.refBinReader.read(t,a,r,n),a}};function jJ(e,t){var n,r,i;let a=e;return a.service=t,a.localName=(n=a.localName)!==null&&n!==void 0?n:kx(a.name),a.serverStreaming=!!a.serverStreaming,a.clientStreaming=!!a.clientStreaming,a.options=(r=a.options)!==null&&r!==void 0?r:{},a.idempotency=(i=a.idempotency)!==null&&i!==void 0?i:void 0,a}var _y=class{constructor(t,n,r){this.typeName=t,this.methods=n.map(i=>jJ(i,this)),this.options=r??{}}},Bt=class extends Error{constructor(t,n="UNKNOWN",r){super(t),this.name="RpcError",Object.setPrototypeOf(this,new.target.prototype),this.code=n,this.meta=r??{}}toString(){let t=[this.name+": "+this.message];this.code&&(t.push(""),t.push("Code: "+this.code)),this.serviceName&&this.methodName&&t.push("Method: "+this.serviceName+"/"+this.methodName);let n=Object.entries(this.meta);if(n.length){t.push(""),t.push("Meta:");for(let[r,i]of n)t.push(`  ${r}: ${i}`)}return t.join(`
`)}};function $J(e,t){if(!t)return e;let n={};Vp(e,n),Vp(t,n);for(let r of Object.keys(t)){let i=t[r];switch(r){case"jsonOptions":n.jsonOptions=RJ(e.jsonOptions,n.jsonOptions);break;case"binaryOptions":n.binaryOptions=mJ(e.binaryOptions,n.binaryOptions);break;case"meta":n.meta={},Vp(e.meta,n.meta),Vp(t.meta,n.meta);break;case"interceptors":n.interceptors=e.interceptors?e.interceptors.concat(i):i.concat();break}}return n}function Vp(e,t){if(!e)return;let n=t;for(let[r,i]of Object.entries(e))i instanceof Date?n[r]=new Date(i.getTime()):Array.isArray(i)?n[r]=i.concat():n[r]=i}var di;(function(e){e[e.PENDING=0]="PENDING",e[e.REJECTED=1]="REJECTED",e[e.RESOLVED=2]="RESOLVED"})(di||(di={}));var ms=class{constructor(e=!0){this._state=di.PENDING,this._promise=new Promise((t,n)=>{this._resolve=t,this._reject=n}),e&&this._promise.catch(t=>{})}get state(){return this._state}get promise(){return this._promise}resolve(e){if(this.state!==di.PENDING)throw new Error(`cannot resolve ${di[this.state].toLowerCase()}`);this._resolve(e),this._state=di.RESOLVED}reject(e){if(this.state!==di.PENDING)throw new Error(`cannot reject ${di[this.state].toLowerCase()}`);this._reject(e),this._state=di.REJECTED}resolvePending(e){this._state===di.PENDING&&this.resolve(e)}rejectPending(e){this._state===di.PENDING&&this.reject(e)}},VJ=class{constructor(){this._lis={nxt:[],msg:[],err:[],cmp:[]},this._closed=!1}onNext(e){return this.addLis(e,this._lis.nxt)}onMessage(e){return this.addLis(e,this._lis.msg)}onError(e){return this.addLis(e,this._lis.err)}onComplete(e){return this.addLis(e,this._lis.cmp)}addLis(e,t){return t.push(e),()=>{let n=t.indexOf(e);n>=0&&t.splice(n,1)}}clearLis(){for(let e of Object.values(this._lis))e.splice(0,e.length)}get closed(){return this._closed!==!1}notifyNext(e,t,n){gt((e?1:0)+(t?1:0)+(n?1:0)<=1,"only one emission at a time"),e&&this.notifyMessage(e),t&&this.notifyError(t),n&&this.notifyComplete()}notifyMessage(e){gt(!this.closed,"stream is closed"),this.pushIt({value:e,done:!1}),this._lis.msg.forEach(t=>t(e)),this._lis.nxt.forEach(t=>t(e,void 0,!1))}notifyError(e){gt(!this.closed,"stream is closed"),this._closed=e,this.pushIt(e),this._lis.err.forEach(t=>t(e)),this._lis.nxt.forEach(t=>t(void 0,e,!1)),this.clearLis()}notifyComplete(){gt(!this.closed,"stream is closed"),this._closed=!0,this.pushIt({value:null,done:!0}),this._lis.cmp.forEach(e=>e()),this._lis.nxt.forEach(e=>e(void 0,void 0,!0)),this.clearLis()}[Symbol.asyncIterator](){return this._itState||(this._itState={q:[]}),this._closed===!0?this.pushIt({value:null,done:!0}):this._closed!==!1&&this.pushIt(this._closed),{next:()=>{let e=this._itState;gt(e,"bad state"),gt(!e.p,"iterator contract broken");let t=e.q.shift();return t?"value"in t?Promise.resolve(t):Promise.reject(t):(e.p=new ms,e.p.promise)}}}pushIt(e){let t=this._itState;if(t)if(t.p){let n=t.p;gt(n.state==di.PENDING,"iterator contract broken"),"value"in e?n.resolve(e):n.reject(e),delete t.p}else t.q.push(e)}},WJ=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(c){try{u(r.next(c))}catch(h){s(h)}}function l(c){try{u(r.throw(c))}catch(h){s(h)}}function u(c){c.done?a(c.value):i(c.value).then(o,l)}u((r=r.apply(e,t||[])).next())})},GJ=class{constructor(e,t,n,r,i,a,s){this.method=e,this.requestHeaders=t,this.request=n,this.headers=r,this.response=i,this.status=a,this.trailers=s}then(e,t){return this.promiseFinished().then(n=>e?Promise.resolve(e(n)):n,n=>t?Promise.resolve(t(n)):Promise.reject(n))}promiseFinished(){return WJ(this,void 0,void 0,function*(){let[e,t,n,r]=yield Promise.all([this.headers,this.response,this.status,this.trailers]);return{method:this.method,requestHeaders:this.requestHeaders,request:this.request,headers:e,response:t,status:n,trailers:r}})}},HJ=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(c){try{u(r.next(c))}catch(h){s(h)}}function l(c){try{u(r.throw(c))}catch(h){s(h)}}function u(c){c.done?a(c.value):i(c.value).then(o,l)}u((r=r.apply(e,t||[])).next())})},qJ=class{constructor(e,t,n,r,i,a,s){this.method=e,this.requestHeaders=t,this.request=n,this.headers=r,this.responses=i,this.status=a,this.trailers=s}then(e,t){return this.promiseFinished().then(n=>e?Promise.resolve(e(n)):n,n=>t?Promise.resolve(t(n)):Promise.reject(n))}promiseFinished(){return HJ(this,void 0,void 0,function*(){let[e,t,n]=yield Promise.all([this.headers,this.status,this.trailers]);return{method:this.method,requestHeaders:this.requestHeaders,request:this.request,headers:e,status:t,trailers:n}})}};function hi(e,t,n,r,i){var a,s,o,l;if(e=="unary"){let u=(c,h,p)=>t.unary(c,h,p);for(let c of((a=r.interceptors)!==null&&a!==void 0?a:[]).filter(h=>h.interceptUnary).reverse()){let h=u;u=(p,m,g)=>c.interceptUnary(h,p,m,g)}return u(n,i,r)}if(e=="serverStreaming"){let u=(c,h,p)=>t.serverStreaming(c,h,p);for(let c of((s=r.interceptors)!==null&&s!==void 0?s:[]).filter(h=>h.interceptServerStreaming).reverse()){let h=u;u=(p,m,g)=>c.interceptServerStreaming(h,p,m,g)}return u(n,i,r)}if(e=="clientStreaming"){let u=(c,h)=>t.clientStreaming(c,h);for(let c of((o=r.interceptors)!==null&&o!==void 0?o:[]).filter(h=>h.interceptClientStreaming).reverse()){let h=u;u=(p,m)=>c.interceptClientStreaming(h,p,m)}return u(n,r)}if(e=="duplex"){let u=(c,h)=>t.duplex(c,h);for(let c of((l=r.interceptors)!==null&&l!==void 0?l:[]).filter(h=>h.interceptDuplex).reverse()){let h=u;u=(p,m)=>c.interceptDuplex(h,p,m)}return u(n,r)}xJ(e)}var ze;(function(e){e[e.OK=0]="OK",e[e.CANCELLED=1]="CANCELLED",e[e.UNKNOWN=2]="UNKNOWN",e[e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",e[e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",e[e.NOT_FOUND=5]="NOT_FOUND",e[e.ALREADY_EXISTS=6]="ALREADY_EXISTS",e[e.PERMISSION_DENIED=7]="PERMISSION_DENIED",e[e.UNAUTHENTICATED=16]="UNAUTHENTICATED",e[e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",e[e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",e[e.ABORTED=10]="ABORTED",e[e.OUT_OF_RANGE=11]="OUT_OF_RANGE",e[e.UNIMPLEMENTED=12]="UNIMPLEMENTED",e[e.INTERNAL=13]="INTERNAL",e[e.UNAVAILABLE=14]="UNAVAILABLE",e[e.DATA_LOSS=15]="DATA_LOSS"})(ze||(ze={}));var KJ=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(c){try{u(r.next(c))}catch(h){s(h)}}function l(c){try{u(r.throw(c))}catch(h){s(h)}}function u(c){c.done?a(c.value):i(c.value).then(o,l)}u((r=r.apply(e,t||[])).next())})};function M4(e,t,n,r,i){if(r)for(let[a,s]of Object.entries(r))if(typeof s=="string")e.append(a,s);else for(let o of s)e.append(a,o);if(e.set("Content-Type",t==="text"?"application/grpc-web-text":"application/grpc-web+proto"),t=="text"&&e.set("Accept","application/grpc-web-text"),e.set("X-Grpc-Web","1"),i&&e.set("X-User-Agent",i),typeof n=="number"){if(n<=0)throw new Bt(`timeout ${n} ms exceeded`,ze[ze.DEADLINE_EXCEEDED]);e.set("grpc-timeout",`${n}m`)}else if(n){let a=n.getTime(),s=Date.now();if(a<=s)throw new Bt(`deadline ${n} exceeded`,ze[ze.DEADLINE_EXCEEDED]);e.set("grpc-timeout",`${a-s}m`)}return e}function O4(e,t){let n=new Uint8Array(5+e.length);n[0]=Ui.DATA;for(let r=e.length,i=4;i>0;i--)n[i]=r%256,r>>>=8;return n.set(e,5),t==="binary"?n:KO(n)}function Cx(e,t,n){if(arguments.length===1){let l=e,u;try{u=l.type}catch{}switch(u){case"error":case"opaque":case"opaqueredirect":throw new Bt(`fetch response type ${l.type}`,ze[ze.UNKNOWN])}return Cx(ZJ(l.headers),l.status,l.statusText)}let r=e,i=t>=200&&t<300,a=t6(r),[s,o]=e6(r);return(s===void 0||s===ze.OK)&&!i&&(s=JJ(t),o=n),[s,o,a]}function L4(e){let t=QJ(e),[n,r]=e6(t),i=t6(t);return[n??ze.OK,r,i]}var Ui;(function(e){e[e.DATA=0]="DATA",e[e.TRAILER=128]="TRAILER"})(Ui||(Ui={}));function F4(e,t,n){return KJ(this,void 0,void 0,function*(){let r,i="",a=new Uint8Array(0),s=XJ(t);if(YJ(e)){let o=e.getReader();r={next:()=>o.read()}}else r=e[Symbol.asyncIterator]();for(;;){let o=yield r.next();if(o.value!==void 0){if(s==="text"){for(let u=0;u<o.value.length;u++)i+=String.fromCharCode(o.value[u]);let l=i.length-i.length%4;if(l===0)continue;a=B4(a,qO(i.substring(0,l))),i=i.substring(l)}else a=B4(a,o.value);for(;a.length>=5&&a[0]===Ui.DATA;){let l=0;for(let u=1;u<5;u++)l=(l<<8)+a[u];if(a.length-5>=l)n(Ui.DATA,a.subarray(5,5+l)),a=a.subarray(5+l);else break}}if(o.done){if(a.length===0)break;if(a[0]!==Ui.TRAILER||a.length<5)throw new Bt("premature EOF",ze[ze.DATA_LOSS]);n(Ui.TRAILER,a.subarray(5));break}}})}var YJ=e=>typeof e.getReader=="function";function B4(e,t){let n=new Uint8Array(e.length+t.length);return n.set(e),n.set(t,e.length),n}function XJ(e){switch(e){case"application/grpc-web-text":case"application/grpc-web-text+proto":return"text";case"application/grpc-web":case"application/grpc-web+proto":return"binary";case void 0:case null:throw new Bt("missing response content type",ze[ze.INTERNAL]);default:throw new Bt("unexpected response content type: "+e,ze[ze.INTERNAL])}}function e6(e){let t,n,r=e["grpc-message"];if(r!==void 0){if(Array.isArray(r))return[ze.INTERNAL,"invalid grpc-web message"];n=r}let i=e["grpc-status"];if(i!==void 0){if(Array.isArray(i))return[ze.INTERNAL,"invalid grpc-web status"];if(t=parseInt(i,10),ze[t]===void 0)return[ze.INTERNAL,"invalid grpc-web status"]}return[t,n]}function t6(e){let t={};for(let[n,r]of Object.entries(e))switch(n){case"grpc-message":case"grpc-status":case"content-type":break;default:t[n]=r}return t}function QJ(e){let t={};for(let n of String.fromCharCode.apply(String,e).trim().split(`\r
`)){if(n=="")continue;let[r,...i]=n.split(":"),a=i.join(":").trim();r=r.trim();let s=t[r];typeof s=="string"?t[r]=[s,a]:Array.isArray(s)?s.push(a):t[r]=a}return t}function ZJ(e){let t={};return e.forEach((n,r)=>{let i=t[r];typeof i=="string"?t[r]=[i,n]:Array.isArray(i)?i.push(n):t[r]=n}),t}function JJ(e){switch(e){case 200:return ze.OK;case 400:return ze.INVALID_ARGUMENT;case 401:return ze.UNAUTHENTICATED;case 403:return ze.PERMISSION_DENIED;case 404:return ze.NOT_FOUND;case 409:return ze.ABORTED;case 412:return ze.FAILED_PRECONDITION;case 429:return ze.RESOURCE_EXHAUSTED;case 499:return ze.CANCELLED;case 500:return ze.UNKNOWN;case 501:return ze.UNIMPLEMENTED;case 503:return ze.UNAVAILABLE;case 504:return ze.DEADLINE_EXCEEDED;default:return ze.UNKNOWN}}var eee=class{constructor(e){this.defaultOptions=e}mergeOptions(e){return $J(this.defaultOptions,e)}makeUrl(e,t){let n=t.baseUrl;return n.endsWith("/")&&(n=n.substring(0,n.length-1)),`${n}/${e.service.typeName}/${e.name}`}clientStreaming(e){let t=new Bt("Client streaming is not supported by grpc-web",ze[ze.UNIMPLEMENTED]);throw t.methodName=e.name,t.serviceName=e.service.typeName,t}duplex(e){let t=new Bt("Duplex streaming is not supported by grpc-web",ze[ze.UNIMPLEMENTED]);throw t.methodName=e.name,t.serviceName=e.service.typeName,t}serverStreaming(e,t,n){var r,i,a,s;let o=n,l=(r=o.format)!==null&&r!==void 0?r:"text",u=(i=o.fetchInit)!==null&&i!==void 0?i:{},c=this.makeUrl(e,o),h=e.I.toBinary(t,o.binaryOptions),p=new ms,m=new VJ,g=!0,y,b=new ms,w,x=new ms;return globalThis.fetch(c,Object.assign(Object.assign({},u),{method:"POST",headers:M4(new globalThis.Headers,l,o.timeout,o.meta),body:O4(h,l),signal:(a=n.abort)!==null&&a!==void 0?a:null})).then(k=>{let[_,A,P]=Cx(k);if(p.resolve(P),_!=null&&_!==ze.OK)throw new Bt(A??ze[_],ze[_],P);return _!=null&&(y={code:ze[_],detail:A??ze[_]}),k}).then(k=>{if(!k.body)throw new Bt("missing response body",ze[ze.INTERNAL]);return F4(k.body,k.headers.get("content-type"),(_,A)=>{switch(_){case Ui.DATA:m.notifyMessage(e.O.fromBinary(A,o.binaryOptions)),g=!1;break;case Ui.TRAILER:let P,N;[P,N,w]=L4(A),y={code:ze[P],detail:N??ze[P]};break}})}).then(()=>{if(!w&&!g)throw new Bt("missing trailers",ze[ze.DATA_LOSS]);if(!y)throw new Bt("missing status",ze[ze.INTERNAL]);if(y.code!=="OK")throw new Bt(y.detail,y.code,w);m.notifyComplete(),b.resolve(y),x.resolve(w||{})}).catch(k=>{let _;k instanceof Bt?_=k:k instanceof Error&&k.name==="AbortError"?_=new Bt(k.message,ze[ze.CANCELLED]):_=new Bt(k instanceof Error?k.message:""+k,ze[ze.INTERNAL]),_.methodName=e.name,_.serviceName=e.service.typeName,p.rejectPending(_),m.notifyError(_),b.rejectPending(_),x.rejectPending(_)}),new qJ(e,(s=o.meta)!==null&&s!==void 0?s:{},t,p.promise,m,b.promise,x.promise)}unary(e,t,n){var r,i,a,s;let o=n,l=(r=o.format)!==null&&r!==void 0?r:"text",u=(i=o.fetchInit)!==null&&i!==void 0?i:{},c=this.makeUrl(e,o),h=e.I.toBinary(t,o.binaryOptions),p=new ms,m,g=new ms,y,b=new ms,w,x=new ms;return globalThis.fetch(c,Object.assign(Object.assign({},u),{method:"POST",headers:M4(new globalThis.Headers,l,o.timeout,o.meta),body:O4(h,l),signal:(a=n.abort)!==null&&a!==void 0?a:null})).then(k=>{let[_,A,P]=Cx(k);if(p.resolve(P),_!=null&&_!==ze.OK)throw new Bt(A??ze[_],ze[_],P);return _!=null&&(y={code:ze[_],detail:A??ze[_]}),k}).then(k=>{if(!k.body)throw new Bt("missing response body",ze[ze.INTERNAL]);return F4(k.body,k.headers.get("content-type"),(_,A)=>{switch(_){case Ui.DATA:if(m)throw new Bt("unary call received 2nd message",ze[ze.DATA_LOSS]);m=e.O.fromBinary(A,o.binaryOptions);break;case Ui.TRAILER:let P,N;[P,N,w]=L4(A),y={code:ze[P],detail:N??ze[P]};break}})}).then(()=>{if(!w&&m)throw new Bt("missing trailers",ze[ze.DATA_LOSS]);if(!y)throw new Bt("missing status",ze[ze.INTERNAL]);if(!m&&y.code==="OK")throw new Bt("expected error status",ze[ze.DATA_LOSS]);if(!m)throw new Bt(y.detail,y.code,w);if(g.resolve(m),y.code!=="OK")throw new Bt(y.detail,y.code,w);b.resolve(y),x.resolve(w||{})}).catch(k=>{let _;k instanceof Bt?_=k:k instanceof Error&&k.name==="AbortError"?_=new Bt(k.message,ze[ze.CANCELLED]):_=new Bt(k instanceof Error?k.message:""+k,ze[ze.INTERNAL]),_.methodName=e.name,_.serviceName=e.service.typeName,p.rejectPending(_),g.rejectPending(_),b.rejectPending(_),x.rejectPending(_)}),new GJ(e,(s=o.meta)!==null&&s!==void 0?s:{},t,p.promise,g.promise,b.promise,x.promise)}},z4=e=>{let t,n=new Set,r=(s,o)=>{let l=typeof s=="function"?s(t):s;if(!Object.is(l,t)){let u=t;t=o??typeof l!="object"?l:Object.assign({},t,l),n.forEach(c=>c(t,u))}},i=()=>t,a={setState:r,getState:i,subscribe:s=>(n.add(s),()=>n.delete(s)),destroy:()=>{({VITE_GIT_HASH:"76772d7b9a4e6d87bd87c26665f7ab74cd40f2cd",BASE_URL:"/extensions/omni-extension-stability/",MODE:"preview",DEV:!1,PROD:!0,SSR:!1}&&"preview")!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}};return t=e(r,i,a),a},tee=e=>e?z4(e):z4,nee=e=>t=>tee((n,r)=>e({set:n,get:r,context:t})),n6=(e=>(e[e.MEMBER=0]="MEMBER",e[e.ACCOUNTANT=1]="ACCOUNTANT",e[e.OWNER=2]="OWNER",e))(n6||{}),ree=class extends Fe{constructor(){super("gooseai.OrganizationMember",[{no:1,name:"organization",kind:"message",T:()=>vm},{no:2,name:"user",kind:"message",T:()=>Ro},{no:3,name:"role",kind:"enum",T:()=>["gooseai.OrganizationRole",n6]},{no:4,name:"is_default",kind:"scalar",T:8}])}create(e){let t={role:0,isDefault:!1};return globalThis.Object.defineProperty(t,Le,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.organization=vm.internalBinaryRead(e,e.uint32(),n,i.organization);break;case 2:i.user=Ro.internalBinaryRead(e,e.uint32(),n,i.user);break;case 3:i.role=e.int32();break;case 4:i.isDefault=e.bool();break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.organization&&vm.internalBinaryWrite(e.organization,t.tag(1,U.LengthDelimited).fork(),n).join(),e.user&&Ro.internalBinaryWrite(e.user,t.tag(2,U.LengthDelimited).fork(),n).join(),e.role!==0&&t.tag(3,U.Varint).int32(e.role),e.isDefault!==!1&&t.tag(4,U.Varint).bool(e.isDefault);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},yu=new ree,iee=class extends Fe{constructor(){super("gooseai.OrganizationGrant",[{no:1,name:"amount_granted",kind:"scalar",T:1},{no:2,name:"amount_used",kind:"scalar",T:1},{no:3,name:"expires_at",kind:"scalar",T:4,L:0},{no:4,name:"granted_at",kind:"scalar",T:4,L:0}])}create(e){let t={amountGranted:0,amountUsed:0,expiresAt:0n,grantedAt:0n};return globalThis.Object.defineProperty(t,Le,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.amountGranted=e.double();break;case 2:i.amountUsed=e.double();break;case 3:i.expiresAt=e.uint64().toBigInt();break;case 4:i.grantedAt=e.uint64().toBigInt();break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.amountGranted!==0&&t.tag(1,U.Bit64).double(e.amountGranted),e.amountUsed!==0&&t.tag(2,U.Bit64).double(e.amountUsed),e.expiresAt!==0n&&t.tag(3,U.Varint).uint64(e.expiresAt),e.grantedAt!==0n&&t.tag(4,U.Varint).uint64(e.grantedAt);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},Dw=new iee,aee=class extends Fe{constructor(){super("gooseai.OrganizationPaymentInfo",[{no:1,name:"balance",kind:"scalar",T:1},{no:2,name:"grants",kind:"message",repeat:1,T:()=>Dw}])}create(e){let t={balance:0,grants:[]};return globalThis.Object.defineProperty(t,Le,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.balance=e.double();break;case 2:i.grants.push(Dw.internalBinaryRead(e,e.uint32(),n));break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.balance!==0&&t.tag(1,U.Bit64).double(e.balance);for(let i=0;i<e.grants.length;i++)Dw.internalBinaryWrite(e.grants[i],t.tag(2,U.LengthDelimited).fork(),n).join();let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},Nw=new aee,see=class extends Fe{constructor(){super("gooseai.OrganizationAutoCharge",[{no:1,name:"enabled",kind:"scalar",T:8},{no:2,name:"id",kind:"scalar",T:9},{no:3,name:"created_at",kind:"scalar",T:4,L:0}])}create(e){let t={enabled:!1,id:"",createdAt:0n};return globalThis.Object.defineProperty(t,Le,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.enabled=e.bool();break;case 2:i.id=e.string();break;case 3:i.createdAt=e.uint64().toBigInt();break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.enabled!==!1&&t.tag(1,U.Varint).bool(e.enabled),e.id!==""&&t.tag(2,U.LengthDelimited).string(e.id),e.createdAt!==0n&&t.tag(3,U.Varint).uint64(e.createdAt);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},Mw=new see,oee=class extends Fe{constructor(){super("gooseai.Organization",[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"description",kind:"scalar",T:9},{no:4,name:"members",kind:"message",repeat:1,T:()=>yu},{no:5,name:"payment_info",kind:"message",T:()=>Nw},{no:6,name:"stripe_customer_id",kind:"scalar",opt:!0,T:9},{no:7,name:"auto_charge",kind:"message",T:()=>Mw}])}create(e){let t={id:"",name:"",description:"",members:[]};return globalThis.Object.defineProperty(t,Le,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.id=e.string();break;case 2:i.name=e.string();break;case 3:i.description=e.string();break;case 4:i.members.push(yu.internalBinaryRead(e,e.uint32(),n));break;case 5:i.paymentInfo=Nw.internalBinaryRead(e,e.uint32(),n,i.paymentInfo);break;case 6:i.stripeCustomerId=e.string();break;case 7:i.autoCharge=Mw.internalBinaryRead(e,e.uint32(),n,i.autoCharge);break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.id!==""&&t.tag(1,U.LengthDelimited).string(e.id),e.name!==""&&t.tag(2,U.LengthDelimited).string(e.name),e.description!==""&&t.tag(3,U.LengthDelimited).string(e.description);for(let i=0;i<e.members.length;i++)yu.internalBinaryWrite(e.members[i],t.tag(4,U.LengthDelimited).fork(),n).join();e.paymentInfo&&Nw.internalBinaryWrite(e.paymentInfo,t.tag(5,U.LengthDelimited).fork(),n).join(),e.stripeCustomerId!==void 0&&t.tag(6,U.LengthDelimited).string(e.stripeCustomerId),e.autoCharge&&Mw.internalBinaryWrite(e.autoCharge,t.tag(7,U.LengthDelimited).fork(),n).join();let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},vm=new oee,lee=class extends Fe{constructor(){super("gooseai.APIKey",[{no:1,name:"key",kind:"scalar",T:9},{no:2,name:"is_secret",kind:"scalar",T:8},{no:3,name:"created_at",kind:"scalar",T:4,L:0}])}create(e){let t={key:"",isSecret:!1,createdAt:0n};return globalThis.Object.defineProperty(t,Le,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.key=e.string();break;case 2:i.isSecret=e.bool();break;case 3:i.createdAt=e.uint64().toBigInt();break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.key!==""&&t.tag(1,U.LengthDelimited).string(e.key),e.isSecret!==!1&&t.tag(2,U.Varint).bool(e.isSecret),e.createdAt!==0n&&t.tag(3,U.Varint).uint64(e.createdAt);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},Md=new lee,uee=class extends Fe{constructor(){super("gooseai.User",[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"auth_id",kind:"scalar",opt:!0,T:9},{no:3,name:"profile_picture",kind:"scalar",T:9},{no:4,name:"email",kind:"scalar",T:9},{no:5,name:"organizations",kind:"message",repeat:1,T:()=>yu},{no:7,name:"api_keys",kind:"message",repeat:1,T:()=>Md},{no:8,name:"created_at",kind:"scalar",T:4,L:0},{no:9,name:"email_verified",kind:"scalar",opt:!0,T:8}])}create(e){let t={id:"",profilePicture:"",email:"",organizations:[],apiKeys:[],createdAt:0n};return globalThis.Object.defineProperty(t,Le,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.id=e.string();break;case 2:i.authId=e.string();break;case 3:i.profilePicture=e.string();break;case 4:i.email=e.string();break;case 5:i.organizations.push(yu.internalBinaryRead(e,e.uint32(),n));break;case 7:i.apiKeys.push(Md.internalBinaryRead(e,e.uint32(),n));break;case 8:i.createdAt=e.uint64().toBigInt();break;case 9:i.emailVerified=e.bool();break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.id!==""&&t.tag(1,U.LengthDelimited).string(e.id),e.authId!==void 0&&t.tag(2,U.LengthDelimited).string(e.authId),e.profilePicture!==""&&t.tag(3,U.LengthDelimited).string(e.profilePicture),e.email!==""&&t.tag(4,U.LengthDelimited).string(e.email);for(let i=0;i<e.organizations.length;i++)yu.internalBinaryWrite(e.organizations[i],t.tag(5,U.LengthDelimited).fork(),n).join();for(let i=0;i<e.apiKeys.length;i++)Md.internalBinaryWrite(e.apiKeys[i],t.tag(7,U.LengthDelimited).fork(),n).join();e.createdAt!==0n&&t.tag(8,U.Varint).uint64(e.createdAt),e.emailVerified!==void 0&&t.tag(9,U.Varint).bool(e.emailVerified);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},Ro=new uee,cee=class extends Fe{constructor(){super("gooseai.CostData",[{no:1,name:"amount_tokens",kind:"scalar",T:13},{no:2,name:"amount_credits",kind:"scalar",T:1}])}create(e){let t={amountTokens:0,amountCredits:0};return globalThis.Object.defineProperty(t,Le,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.amountTokens=e.uint32();break;case 2:i.amountCredits=e.double();break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.amountTokens!==0&&t.tag(1,U.Varint).uint32(e.amountTokens),e.amountCredits!==0&&t.tag(2,U.Bit64).double(e.amountCredits);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},Ml=new cee,dee=class extends Fe{constructor(){super("gooseai.UsageMetric",[{no:1,name:"operation",kind:"scalar",T:9},{no:2,name:"engine",kind:"scalar",T:9},{no:3,name:"input_cost",kind:"message",T:()=>Ml},{no:4,name:"output_cost",kind:"message",T:()=>Ml},{no:5,name:"user",kind:"scalar",opt:!0,T:9},{no:6,name:"aggregation_timestamp",kind:"scalar",T:4,L:0}])}create(e){let t={operation:"",engine:"",aggregationTimestamp:0n};return globalThis.Object.defineProperty(t,Le,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.operation=e.string();break;case 2:i.engine=e.string();break;case 3:i.inputCost=Ml.internalBinaryRead(e,e.uint32(),n,i.inputCost);break;case 4:i.outputCost=Ml.internalBinaryRead(e,e.uint32(),n,i.outputCost);break;case 5:i.user=e.string();break;case 6:i.aggregationTimestamp=e.uint64().toBigInt();break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.operation!==""&&t.tag(1,U.LengthDelimited).string(e.operation),e.engine!==""&&t.tag(2,U.LengthDelimited).string(e.engine),e.inputCost&&Ml.internalBinaryWrite(e.inputCost,t.tag(3,U.LengthDelimited).fork(),n).join(),e.outputCost&&Ml.internalBinaryWrite(e.outputCost,t.tag(4,U.LengthDelimited).fork(),n).join(),e.user!==void 0&&t.tag(5,U.LengthDelimited).string(e.user),e.aggregationTimestamp!==0n&&t.tag(6,U.Varint).uint64(e.aggregationTimestamp);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},Ow=new dee,hee=class extends Fe{constructor(){super("gooseai.CostTotal",[{no:1,name:"amount_tokens",kind:"scalar",T:13},{no:2,name:"amount_credits",kind:"scalar",T:1}])}create(e){let t={amountTokens:0,amountCredits:0};return globalThis.Object.defineProperty(t,Le,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.amountTokens=e.uint32();break;case 2:i.amountCredits=e.double();break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.amountTokens!==0&&t.tag(1,U.Varint).uint32(e.amountTokens),e.amountCredits!==0&&t.tag(2,U.Bit64).double(e.amountCredits);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},Ol=new hee,fee=class extends Fe{constructor(){super("gooseai.TotalMetricsData",[{no:1,name:"input_total",kind:"message",T:()=>Ol},{no:2,name:"output_total",kind:"message",T:()=>Ol}])}create(e){let t={};return globalThis.Object.defineProperty(t,Le,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.inputTotal=Ol.internalBinaryRead(e,e.uint32(),n,i.inputTotal);break;case 2:i.outputTotal=Ol.internalBinaryRead(e,e.uint32(),n,i.outputTotal);break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.inputTotal&&Ol.internalBinaryWrite(e.inputTotal,t.tag(1,U.LengthDelimited).fork(),n).join(),e.outputTotal&&Ol.internalBinaryWrite(e.outputTotal,t.tag(2,U.LengthDelimited).fork(),n).join();let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},Lw=new fee,pee=class extends Fe{constructor(){super("gooseai.Metrics",[{no:1,name:"metrics",kind:"message",repeat:1,T:()=>Ow},{no:2,name:"total",kind:"message",T:()=>Lw}])}create(e){let t={metrics:[]};return globalThis.Object.defineProperty(t,Le,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.metrics.push(Ow.internalBinaryRead(e,e.uint32(),n));break;case 2:i.total=Lw.internalBinaryRead(e,e.uint32(),n,i.total);break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){for(let i=0;i<e.metrics.length;i++)Ow.internalBinaryWrite(e.metrics[i],t.tag(1,U.LengthDelimited).fork(),n).join();e.total&&Lw.internalBinaryWrite(e.total,t.tag(2,U.LengthDelimited).fork(),n).join();let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},mee=new pee,gee=class extends Fe{constructor(){super("gooseai.EmptyRequest",[])}create(e){let t={};return globalThis.Object.defineProperty(t,Le,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){return r??this.create()}internalBinaryWrite(e,t,n){let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},Wp=new gee,yee=class extends Fe{constructor(){super("gooseai.GetOrganizationRequest",[{no:1,name:"id",kind:"scalar",T:9}])}create(e){let t={id:""};return globalThis.Object.defineProperty(t,Le,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.id=e.string();break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.id!==""&&t.tag(1,U.LengthDelimited).string(e.id);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},vee=new yee,wee=class extends Fe{constructor(){super("gooseai.GetMetricsRequest",[{no:1,name:"organization_id",kind:"scalar",T:9},{no:2,name:"user_id",kind:"scalar",opt:!0,T:9},{no:3,name:"range_from",kind:"scalar",T:4,L:0},{no:4,name:"range_to",kind:"scalar",T:4,L:0},{no:5,name:"include_per_request_metrics",kind:"scalar",T:8}])}create(e){let t={organizationId:"",rangeFrom:0n,rangeTo:0n,includePerRequestMetrics:!1};return globalThis.Object.defineProperty(t,Le,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.organizationId=e.string();break;case 2:i.userId=e.string();break;case 3:i.rangeFrom=e.uint64().toBigInt();break;case 4:i.rangeTo=e.uint64().toBigInt();break;case 5:i.includePerRequestMetrics=e.bool();break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.organizationId!==""&&t.tag(1,U.LengthDelimited).string(e.organizationId),e.userId!==void 0&&t.tag(2,U.LengthDelimited).string(e.userId),e.rangeFrom!==0n&&t.tag(3,U.Varint).uint64(e.rangeFrom),e.rangeTo!==0n&&t.tag(4,U.Varint).uint64(e.rangeTo),e.includePerRequestMetrics!==!1&&t.tag(5,U.Varint).bool(e.includePerRequestMetrics);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},bee=new wee,xee=class extends Fe{constructor(){super("gooseai.APIKeyRequest",[{no:1,name:"is_secret",kind:"scalar",T:8}])}create(e){let t={isSecret:!1};return globalThis.Object.defineProperty(t,Le,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.isSecret=e.bool();break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.isSecret!==!1&&t.tag(1,U.Varint).bool(e.isSecret);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},kee=new xee,See=class extends Fe{constructor(){super("gooseai.APIKeyFindRequest",[{no:1,name:"id",kind:"scalar",T:9}])}create(e){let t={id:""};return globalThis.Object.defineProperty(t,Le,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.id=e.string();break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.id!==""&&t.tag(1,U.LengthDelimited).string(e.id);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},Cee=new See,Eee=class extends Fe{constructor(){super("gooseai.UpdateDefaultOrganizationRequest",[{no:1,name:"organization_id",kind:"scalar",T:9}])}create(e){let t={organizationId:""};return globalThis.Object.defineProperty(t,Le,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.organizationId=e.string();break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.organizationId!==""&&t.tag(1,U.LengthDelimited).string(e.organizationId);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},Tee=new Eee,_ee=class extends Fe{constructor(){super("gooseai.ClientSettings",[{no:1,name:"settings",kind:"scalar",T:12}])}create(e){let t={settings:new Uint8Array(0)};return globalThis.Object.defineProperty(t,Le,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.settings=e.bytes();break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.settings.length&&t.tag(1,U.LengthDelimited).bytes(e.settings);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},Fw=new _ee,Iee=class extends Fe{constructor(){super("gooseai.CreateAutoChargeIntentRequest",[{no:1,name:"organization_id",kind:"scalar",T:9},{no:2,name:"monthly_maximum",kind:"scalar",T:4,L:0},{no:3,name:"minimum_value",kind:"scalar",T:4,L:0},{no:4,name:"amount_credits",kind:"scalar",T:4,L:0}])}create(e){let t={organizationId:"",monthlyMaximum:0n,minimumValue:0n,amountCredits:0n};return globalThis.Object.defineProperty(t,Le,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.organizationId=e.string();break;case 2:i.monthlyMaximum=e.uint64().toBigInt();break;case 3:i.minimumValue=e.uint64().toBigInt();break;case 4:i.amountCredits=e.uint64().toBigInt();break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.organizationId!==""&&t.tag(1,U.LengthDelimited).string(e.organizationId),e.monthlyMaximum!==0n&&t.tag(2,U.Varint).uint64(e.monthlyMaximum),e.minimumValue!==0n&&t.tag(3,U.Varint).uint64(e.minimumValue),e.amountCredits!==0n&&t.tag(4,U.Varint).uint64(e.amountCredits);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},U4=new Iee,Pee=class extends Fe{constructor(){super("gooseai.CreateChargeRequest",[{no:1,name:"amount",kind:"scalar",T:4,L:0},{no:2,name:"organization_id",kind:"scalar",T:9}])}create(e){let t={amount:0n,organizationId:""};return globalThis.Object.defineProperty(t,Le,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.amount=e.uint64().toBigInt();break;case 2:i.organizationId=e.string();break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.amount!==0n&&t.tag(1,U.Varint).uint64(e.amount),e.organizationId!==""&&t.tag(2,U.LengthDelimited).string(e.organizationId);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},Aee=new Pee,Ree=class extends Fe{constructor(){super("gooseai.GetChargesRequest",[{no:1,name:"organization_id",kind:"scalar",T:9},{no:2,name:"range_from",kind:"scalar",T:4,L:0},{no:3,name:"range_to",kind:"scalar",T:4,L:0}])}create(e){let t={organizationId:"",rangeFrom:0n,rangeTo:0n};return globalThis.Object.defineProperty(t,Le,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.organizationId=e.string();break;case 2:i.rangeFrom=e.uint64().toBigInt();break;case 3:i.rangeTo=e.uint64().toBigInt();break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.organizationId!==""&&t.tag(1,U.LengthDelimited).string(e.organizationId),e.rangeFrom!==0n&&t.tag(2,U.Varint).uint64(e.rangeFrom),e.rangeTo!==0n&&t.tag(3,U.Varint).uint64(e.rangeTo);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},Dee=new Ree,Nee=class extends Fe{constructor(){super("gooseai.Charge",[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"paid",kind:"scalar",T:8},{no:3,name:"receipt_link",kind:"scalar",T:9},{no:4,name:"payment_link",kind:"scalar",T:9},{no:5,name:"created_at",kind:"scalar",T:4,L:0},{no:6,name:"amount_credits",kind:"scalar",T:4,L:0}])}create(e){let t={id:"",paid:!1,receiptLink:"",paymentLink:"",createdAt:0n,amountCredits:0n};return globalThis.Object.defineProperty(t,Le,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.id=e.string();break;case 2:i.paid=e.bool();break;case 3:i.receiptLink=e.string();break;case 4:i.paymentLink=e.string();break;case 5:i.createdAt=e.uint64().toBigInt();break;case 6:i.amountCredits=e.uint64().toBigInt();break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.id!==""&&t.tag(1,U.LengthDelimited).string(e.id),e.paid!==!1&&t.tag(2,U.Varint).bool(e.paid),e.receiptLink!==""&&t.tag(3,U.LengthDelimited).string(e.receiptLink),e.paymentLink!==""&&t.tag(4,U.LengthDelimited).string(e.paymentLink),e.createdAt!==0n&&t.tag(5,U.Varint).uint64(e.createdAt),e.amountCredits!==0n&&t.tag(6,U.Varint).uint64(e.amountCredits);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},wm=new Nee,Mee=class extends Fe{constructor(){super("gooseai.Charges",[{no:1,name:"charges",kind:"message",repeat:1,T:()=>wm}])}create(e){let t={charges:[]};return globalThis.Object.defineProperty(t,Le,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.charges.push(wm.internalBinaryRead(e,e.uint32(),n));break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){for(let i=0;i<e.charges.length;i++)wm.internalBinaryWrite(e.charges[i],t.tag(1,U.LengthDelimited).fork(),n).join();let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},Oee=new Mee,Lee=class extends Fe{constructor(){super("gooseai.GetAutoChargeRequest",[{no:1,name:"organization_id",kind:"scalar",T:9}])}create(e){let t={organizationId:""};return globalThis.Object.defineProperty(t,Le,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.organizationId=e.string();break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.organizationId!==""&&t.tag(1,U.LengthDelimited).string(e.organizationId);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},Fee=new Lee,Bee=class extends Fe{constructor(){super("gooseai.AutoChargeIntent",[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"payment_link",kind:"scalar",T:9},{no:3,name:"created_at",kind:"scalar",T:4,L:0},{no:4,name:"monthly_maximum",kind:"scalar",T:4,L:0},{no:5,name:"minimum_value",kind:"scalar",T:4,L:0},{no:6,name:"amount_credits",kind:"scalar",T:4,L:0}])}create(e){let t={id:"",paymentLink:"",createdAt:0n,monthlyMaximum:0n,minimumValue:0n,amountCredits:0n};return globalThis.Object.defineProperty(t,Le,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.id=e.string();break;case 2:i.paymentLink=e.string();break;case 3:i.createdAt=e.uint64().toBigInt();break;case 4:i.monthlyMaximum=e.uint64().toBigInt();break;case 5:i.minimumValue=e.uint64().toBigInt();break;case 6:i.amountCredits=e.uint64().toBigInt();break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.id!==""&&t.tag(1,U.LengthDelimited).string(e.id),e.paymentLink!==""&&t.tag(2,U.LengthDelimited).string(e.paymentLink),e.createdAt!==0n&&t.tag(3,U.Varint).uint64(e.createdAt),e.monthlyMaximum!==0n&&t.tag(4,U.Varint).uint64(e.monthlyMaximum),e.minimumValue!==0n&&t.tag(5,U.Varint).uint64(e.minimumValue),e.amountCredits!==0n&&t.tag(6,U.Varint).uint64(e.amountCredits);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},Bw=new Bee,zee=class extends Fe{constructor(){super("gooseai.UpdateUserInfoRequest",[{no:1,name:"email",kind:"scalar",opt:!0,T:9}])}create(e){let t={};return globalThis.Object.defineProperty(t,Le,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.email=e.string();break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.email!==void 0&&t.tag(1,U.LengthDelimited).string(e.email);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},Uee=new zee,jee=class extends Fe{constructor(){super("gooseai.UserPasswordChangeTicket",[{no:1,name:"ticket",kind:"scalar",T:9}])}create(e){let t={ticket:""};return globalThis.Object.defineProperty(t,Le,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.ticket=e.string();break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.ticket!==""&&t.tag(1,U.LengthDelimited).string(e.ticket);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},$ee=new jee;new _y("gooseai.DashboardService",[{name:"GetMe",options:{},I:Wp,O:Ro},{name:"GetOrganization",options:{},I:vee,O:vm},{name:"GetMetrics",options:{},I:bee,O:mee},{name:"CreateAPIKey",options:{},I:kee,O:Md},{name:"DeleteAPIKey",options:{},I:Cee,O:Md},{name:"UpdateDefaultOrganization",options:{},I:Tee,O:Ro},{name:"GetClientSettings",options:{},I:Wp,O:Fw},{name:"SetClientSettings",options:{},I:Fw,O:Fw},{name:"UpdateUserInfo",options:{},I:Uee,O:Ro},{name:"CreatePasswordChangeTicket",options:{},I:Wp,O:$ee},{name:"DeleteAccount",options:{},I:Wp,O:Ro},{name:"CreateCharge",options:{},I:Aee,O:wm},{name:"GetCharges",options:{},I:Dee,O:Oee},{name:"CreateAutoChargeIntent",options:{},I:U4,O:Bw},{name:"UpdateAutoChargeIntent",options:{},I:U4,O:Bw},{name:"GetAutoChargeIntent",options:{},I:Fee,O:Bw}]);var r6=(e=>(e[e.TEXT=0]="TEXT",e[e.PICTURE=1]="PICTURE",e[e.AUDIO=2]="AUDIO",e[e.VIDEO=3]="VIDEO",e[e.CLASSIFICATION=4]="CLASSIFICATION",e[e.STORAGE=5]="STORAGE",e))(r6||{}),i6=(e=>(e[e.GPT2=0]="GPT2",e[e.PILE=1]="PILE",e))(i6||{}),Vee=class extends Fe{constructor(){super("gooseai.EngineInfo",[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"owner",kind:"scalar",T:9},{no:3,name:"ready",kind:"scalar",T:8},{no:4,name:"type",kind:"enum",T:()=>["gooseai.EngineType",r6]},{no:5,name:"tokenizer",kind:"enum",T:()=>["gooseai.EngineTokenizer",i6]},{no:6,name:"name",kind:"scalar",T:9},{no:7,name:"description",kind:"scalar",T:9}])}create(e){let t={id:"",owner:"",ready:!1,type:0,tokenizer:0,name:"",description:""};return globalThis.Object.defineProperty(t,Le,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.id=e.string();break;case 2:i.owner=e.string();break;case 3:i.ready=e.bool();break;case 4:i.type=e.int32();break;case 5:i.tokenizer=e.int32();break;case 6:i.name=e.string();break;case 7:i.description=e.string();break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.id!==""&&t.tag(1,U.LengthDelimited).string(e.id),e.owner!==""&&t.tag(2,U.LengthDelimited).string(e.owner),e.ready!==!1&&t.tag(3,U.Varint).bool(e.ready),e.type!==0&&t.tag(4,U.Varint).int32(e.type),e.tokenizer!==0&&t.tag(5,U.Varint).int32(e.tokenizer),e.name!==""&&t.tag(6,U.LengthDelimited).string(e.name),e.description!==""&&t.tag(7,U.LengthDelimited).string(e.description);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},zw=new Vee,Wee=class extends Fe{constructor(){super("gooseai.ListEnginesRequest",[])}create(e){let t={};return globalThis.Object.defineProperty(t,Le,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){return r??this.create()}internalBinaryWrite(e,t,n){let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},Gee=new Wee,Hee=class extends Fe{constructor(){super("gooseai.Engines",[{no:1,name:"engine",kind:"message",repeat:1,T:()=>zw}])}create(e){let t={engine:[]};return globalThis.Object.defineProperty(t,Le,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.engine.push(zw.internalBinaryRead(e,e.uint32(),n));break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){for(let i=0;i<e.engine.length;i++)zw.internalBinaryWrite(e.engine[i],t.tag(1,U.LengthDelimited).fork(),n).join();let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},qee=new Hee,Uw=new _y("gooseai.EnginesService",[{name:"ListEngines",options:{},I:Gee,O:qee}]),Kee=class{constructor(e){Gn(this,"typeName",Uw.typeName);Gn(this,"methods",Uw.methods);Gn(this,"options",Uw.options);this._transport=e}listEngines(e,t){let n=this.methods[0],r=this._transport.mergeOptions(t);return hi("unary",this._transport,n,r,e)}},rn={};GO(rn,{Action:()=>Ay,Answer:()=>wu,AnswerBatch:()=>Dte,AnswerMeta:()=>Um,Artifact:()=>ya,ArtifactType:()=>Py,AssetAction:()=>dE,AssetParameters:()=>zm,AssetUse:()=>hE,BorderMode:()=>oE,CameraParameters:()=>Lm,CameraType:()=>uE,ChainRequest:()=>l6,ClassifierCategory:()=>ko,ClassifierConcept:()=>Rm,ClassifierMode:()=>aE,ClassifierParameters:()=>$o,ColorMatchMode:()=>lE,ConditionerParameters:()=>Sm,CutoutParameters:()=>jo,DiffusionSampler:()=>tE,FinishReason:()=>Iy,GenerationService:()=>Vm,GuidanceInstanceParameters:()=>_m,GuidanceParameters:()=>Im,GuidancePreset:()=>rE,GuidanceScheduleParameters:()=>Tm,ImageParameters:()=>Am,InterpolateMode:()=>sE,InterpolateParameters:()=>Dm,MaskedAreaInit:()=>JC,Model:()=>Uo,ModelArchitecture:()=>iE,OnStatus:()=>jm,Prompt:()=>zo,PromptParameters:()=>xm,RenderMode:()=>cE,Request:()=>zs,SamplerParameters:()=>km,ScheduleParameters:()=>Cm,Stage:()=>$m,StageAction:()=>fE,StepParameter:()=>Em,Token:()=>bm,Tokens:()=>Bo,TransformCameraPose:()=>Fm,TransformColorAdjust:()=>Nm,TransformDepthCalc:()=>Mm,TransformMatrix:()=>la,TransformParameters:()=>Bm,TransformResample:()=>Om,TransformType:()=>Pm,Upscaler:()=>nE,WeightMethod:()=>eE});var a6=(e=>(e[e.NULL_VALUE=0]="NULL_VALUE",e))(a6||{}),Yee=class extends Fe{constructor(){super("google.protobuf.Struct",[{no:1,name:"fields",kind:"map",K:9,V:{kind:"message",T:()=>Fi}}])}internalJsonWrite(e,t){let n={};for(let[r,i]of Object.entries(e.fields))n[r]=Fi.toJson(i);return n}internalJsonRead(e,t,n){if(!HO(e))throw new globalThis.Error("Unable to parse message "+this.typeName+" from JSON "+Kh(e)+".");n||(n=this.create());for(let[r,i]of globalThis.Object.entries(e))n.fields[r]=Fi.fromJson(i);return n}create(e){let t={fields:{}};return globalThis.Object.defineProperty(t,Le,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:this.binaryReadMap1(i.fields,e,n);break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}binaryReadMap1(e,t,n){let r=t.uint32(),i=t.pos+r,a,s;for(;t.pos<i;){let[o,l]=t.tag();switch(o){case 1:a=t.string();break;case 2:s=Fi.internalBinaryRead(t,t.uint32(),n);break;default:throw new globalThis.Error("unknown map entry field for field google.protobuf.Struct.fields")}}e[a??""]=s??Fi.create()}internalBinaryWrite(e,t,n){for(let i of Object.keys(e.fields))t.tag(1,U.LengthDelimited).fork().tag(1,U.LengthDelimited).string(i),t.tag(2,U.LengthDelimited).fork(),Fi.internalBinaryWrite(e.fields[i],t,n),t.join().join();let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},Oa=new Yee,Xee=class extends Fe{constructor(){super("google.protobuf.Value",[{no:1,name:"null_value",kind:"enum",oneof:"kind",T:()=>["google.protobuf.NullValue",a6]},{no:2,name:"number_value",kind:"scalar",oneof:"kind",T:1},{no:3,name:"string_value",kind:"scalar",oneof:"kind",T:9},{no:4,name:"bool_value",kind:"scalar",oneof:"kind",T:8},{no:5,name:"struct_value",kind:"message",oneof:"kind",T:()=>Oa},{no:6,name:"list_value",kind:"message",oneof:"kind",T:()=>Gp}])}internalJsonWrite(e,t){if(e.kind.oneofKind===void 0)throw new globalThis.Error;switch(e.kind.oneofKind){case void 0:throw new globalThis.Error;case"boolValue":return e.kind.boolValue;case"nullValue":return null;case"numberValue":return e.kind.numberValue;case"stringValue":return e.kind.stringValue;case"listValue":let n=this.fields.find(i=>i.no===6);if(n?.kind!=="message")throw new globalThis.Error;return n.T().toJson(e.kind.listValue);case"structValue":let r=this.fields.find(i=>i.no===5);if(r?.kind!=="message")throw new globalThis.Error;return r.T().toJson(e.kind.structValue)}}internalJsonRead(e,t,n){switch(n||(n=this.create()),typeof e){case"number":n.kind={oneofKind:"numberValue",numberValue:e};break;case"string":n.kind={oneofKind:"stringValue",stringValue:e};break;case"boolean":n.kind={oneofKind:"boolValue",boolValue:e};break;case"object":e===null?n.kind={oneofKind:"nullValue",nullValue:0}:globalThis.Array.isArray(e)?n.kind={oneofKind:"listValue",listValue:Gp.fromJson(e)}:(Oa.fromJson(e),n.kind={oneofKind:"structValue",structValue:Oa.fromJson(e)});break;default:throw new globalThis.Error("Unable to parse "+this.typeName+" from JSON "+Kh(e))}return n}create(e){let t={kind:{oneofKind:void 0}};return globalThis.Object.defineProperty(t,Le,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.kind={oneofKind:"nullValue",nullValue:e.int32()};break;case 2:i.kind={oneofKind:"numberValue",numberValue:e.double()};break;case 3:i.kind={oneofKind:"stringValue",stringValue:e.string()};break;case 4:i.kind={oneofKind:"boolValue",boolValue:e.bool()};break;case 5:i.kind={oneofKind:"structValue",structValue:Oa.internalBinaryRead(e,e.uint32(),n,i.kind.structValue)};break;case 6:i.kind={oneofKind:"listValue",listValue:Gp.internalBinaryRead(e,e.uint32(),n,i.kind.listValue)};break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.kind.oneofKind==="nullValue"&&t.tag(1,U.Varint).int32(e.kind.nullValue),e.kind.oneofKind==="numberValue"&&t.tag(2,U.Bit64).double(e.kind.numberValue),e.kind.oneofKind==="stringValue"&&t.tag(3,U.LengthDelimited).string(e.kind.stringValue),e.kind.oneofKind==="boolValue"&&t.tag(4,U.Varint).bool(e.kind.boolValue),e.kind.oneofKind==="structValue"&&Oa.internalBinaryWrite(e.kind.structValue,t.tag(5,U.LengthDelimited).fork(),n).join(),e.kind.oneofKind==="listValue"&&Gp.internalBinaryWrite(e.kind.listValue,t.tag(6,U.LengthDelimited).fork(),n).join();let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},Fi=new Xee,Qee=class extends Fe{constructor(){super("google.protobuf.ListValue",[{no:1,name:"values",kind:"message",repeat:1,T:()=>Fi}])}internalJsonWrite(e,t){return e.values.map(n=>Fi.toJson(n))}internalJsonRead(e,t,n){if(!globalThis.Array.isArray(e))throw new globalThis.Error("Unable to parse "+this.typeName+" from JSON "+Kh(e));n||(n=this.create());let r=e.map(i=>Fi.fromJson(i));return n.values.push(...r),n}create(e){let t={values:[]};return globalThis.Object.defineProperty(t,Le,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.values.push(Fi.internalBinaryRead(e,e.uint32(),n));break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){for(let i=0;i<e.values.length;i++)Fi.internalBinaryWrite(e.values[i],t.tag(1,U.LengthDelimited).fork(),n).join();let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},Gp=new Qee,s6=(e=>(e[e.DT_INVALID=0]="DT_INVALID",e[e.DT_FLOAT32=1]="DT_FLOAT32",e[e.DT_FLOAT64=2]="DT_FLOAT64",e[e.DT_FLOAT16=3]="DT_FLOAT16",e[e.DT_BFLOAT16=4]="DT_BFLOAT16",e[e.DT_COMPLEX32=5]="DT_COMPLEX32",e[e.DT_COMPLEX64=6]="DT_COMPLEX64",e[e.DT_COMPLEX128=7]="DT_COMPLEX128",e[e.DT_UINT8=8]="DT_UINT8",e[e.DT_INT8=9]="DT_INT8",e[e.DT_INT16=10]="DT_INT16",e[e.DT_INT32=11]="DT_INT32",e[e.DT_INT64=12]="DT_INT64",e[e.DT_BOOL=13]="DT_BOOL",e[e.DT_QUINT8=14]="DT_QUINT8",e[e.DT_QINT8=15]="DT_QINT8",e[e.DT_QINT32=16]="DT_QINT32",e[e.DT_QUINT4_2=17]="DT_QUINT4_2",e))(s6||{}),o6=(e=>(e[e.AT_PARAMETER=0]="AT_PARAMETER",e[e.AT_BUFFER=1]="AT_BUFFER",e))(o6||{}),Zee=class extends Fe{constructor(){super("tensors.Tensor",[{no:1,name:"dtype",kind:"enum",T:()=>["tensors.Dtype",s6]},{no:2,name:"shape",kind:"scalar",repeat:1,T:3,L:0},{no:3,name:"data",kind:"scalar",T:12},{no:4,name:"attr_type",kind:"enum",opt:!0,T:()=>["tensors.AttributeType",o6]}])}create(e){let t={dtype:0,shape:[],data:new Uint8Array(0)};return globalThis.Object.defineProperty(t,Le,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.dtype=e.int32();break;case 2:if(o===U.LengthDelimited)for(let c=e.int32()+e.pos;e.pos<c;)i.shape.push(e.int64().toBigInt());else i.shape.push(e.int64().toBigInt());break;case 3:i.data=e.bytes();break;case 4:i.attrType=e.int32();break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){if(e.dtype!==0&&t.tag(1,U.Varint).int32(e.dtype),e.shape.length){t.tag(2,U.LengthDelimited).fork();for(let i=0;i<e.shape.length;i++)t.int64(e.shape[i]);t.join()}e.data.length&&t.tag(3,U.LengthDelimited).bytes(e.data),e.attrType!==void 0&&t.tag(4,U.Varint).int32(e.attrType);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},vu=new Zee,Jee=class extends Fe{constructor(){super("tensors.Attribute",[{no:1,name:"name",kind:"scalar",T:9},{no:3,name:"module",kind:"message",oneof:"value",T:()=>$w},{no:4,name:"tensor",kind:"message",oneof:"value",T:()=>vu},{no:5,name:"string",kind:"scalar",oneof:"value",T:9},{no:6,name:"int64",kind:"scalar",oneof:"value",T:3,L:0},{no:7,name:"float",kind:"scalar",oneof:"value",T:2},{no:8,name:"bool",kind:"scalar",oneof:"value",T:8}])}create(e){let t={name:"",value:{oneofKind:void 0}};return globalThis.Object.defineProperty(t,Le,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.name=e.string();break;case 3:i.value={oneofKind:"module",module:$w.internalBinaryRead(e,e.uint32(),n,i.value.module)};break;case 4:i.value={oneofKind:"tensor",tensor:vu.internalBinaryRead(e,e.uint32(),n,i.value.tensor)};break;case 5:i.value={oneofKind:"string",string:e.string()};break;case 6:i.value={oneofKind:"int64",int64:e.int64().toBigInt()};break;case 7:i.value={oneofKind:"float",float:e.float()};break;case 8:i.value={oneofKind:"bool",bool:e.bool()};break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.name!==""&&t.tag(1,U.LengthDelimited).string(e.name),e.value.oneofKind==="module"&&$w.internalBinaryWrite(e.value.module,t.tag(3,U.LengthDelimited).fork(),n).join(),e.value.oneofKind==="tensor"&&vu.internalBinaryWrite(e.value.tensor,t.tag(4,U.LengthDelimited).fork(),n).join(),e.value.oneofKind==="string"&&t.tag(5,U.LengthDelimited).string(e.value.string),e.value.oneofKind==="int64"&&t.tag(6,U.Varint).int64(e.value.int64),e.value.oneofKind==="float"&&t.tag(7,U.Bit32).float(e.value.float),e.value.oneofKind==="bool"&&t.tag(8,U.Varint).bool(e.value.bool);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},jw=new Jee,ete=class extends Fe{constructor(){super("tensors.Module",[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"names",kind:"scalar",repeat:2,T:9},{no:3,name:"attributes",kind:"message",repeat:1,T:()=>jw}])}create(e){let t={name:"",names:[],attributes:[]};return globalThis.Object.defineProperty(t,Le,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.name=e.string();break;case 2:i.names.push(e.string());break;case 3:i.attributes.push(jw.internalBinaryRead(e,e.uint32(),n));break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.name!==""&&t.tag(1,U.LengthDelimited).string(e.name);for(let i=0;i<e.names.length;i++)t.tag(2,U.LengthDelimited).string(e.names[i]);for(let i=0;i<e.attributes.length;i++)jw.internalBinaryWrite(e.attributes[i],t.tag(3,U.LengthDelimited).fork(),n).join();let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},$w=new ete,Iy=(e=>(e[e.NULL=0]="NULL",e[e.LENGTH=1]="LENGTH",e[e.STOP=2]="STOP",e[e.ERROR=3]="ERROR",e[e.FILTER=4]="FILTER",e))(Iy||{}),Py=(e=>(e[e.ARTIFACT_NONE=0]="ARTIFACT_NONE",e[e.ARTIFACT_IMAGE=1]="ARTIFACT_IMAGE",e[e.ARTIFACT_VIDEO=2]="ARTIFACT_VIDEO",e[e.ARTIFACT_TEXT=3]="ARTIFACT_TEXT",e[e.ARTIFACT_TOKENS=4]="ARTIFACT_TOKENS",e[e.ARTIFACT_EMBEDDING=5]="ARTIFACT_EMBEDDING",e[e.ARTIFACT_CLASSIFICATIONS=6]="ARTIFACT_CLASSIFICATIONS",e[e.ARTIFACT_MASK=7]="ARTIFACT_MASK",e[e.ARTIFACT_LATENT=8]="ARTIFACT_LATENT",e[e.ARTIFACT_TENSOR=9]="ARTIFACT_TENSOR",e[e.ARTIFACT_DEPTH=10]="ARTIFACT_DEPTH",e))(Py||{}),JC=(e=>(e[e.ZERO=0]="ZERO",e[e.RANDOM=1]="RANDOM",e[e.ORIGINAL=2]="ORIGINAL",e))(JC||{}),eE=(e=>(e[e.TEXT_ENCODER=0]="TEXT_ENCODER",e[e.CROSS_ATTENTION=1]="CROSS_ATTENTION",e))(eE||{}),tE=(e=>(e[e.SAMPLER_DDIM=0]="SAMPLER_DDIM",e[e.SAMPLER_DDPM=1]="SAMPLER_DDPM",e[e.SAMPLER_K_EULER=2]="SAMPLER_K_EULER",e[e.SAMPLER_K_EULER_ANCESTRAL=3]="SAMPLER_K_EULER_ANCESTRAL",e[e.SAMPLER_K_HEUN=4]="SAMPLER_K_HEUN",e[e.SAMPLER_K_DPM_2=5]="SAMPLER_K_DPM_2",e[e.SAMPLER_K_DPM_2_ANCESTRAL=6]="SAMPLER_K_DPM_2_ANCESTRAL",e[e.SAMPLER_K_LMS=7]="SAMPLER_K_LMS",e[e.SAMPLER_K_DPMPP_2S_ANCESTRAL=8]="SAMPLER_K_DPMPP_2S_ANCESTRAL",e[e.SAMPLER_K_DPMPP_2M=9]="SAMPLER_K_DPMPP_2M",e[e.SAMPLER_K_DPMPP_SDE=10]="SAMPLER_K_DPMPP_SDE",e))(tE||{}),nE=(e=>(e[e.RGB=0]="RGB",e[e.GFPGAN=1]="GFPGAN",e[e.ESRGAN=2]="ESRGAN",e))(nE||{}),rE=(e=>(e[e.NONE=0]="NONE",e[e.SIMPLE=1]="SIMPLE",e[e.FAST_BLUE=2]="FAST_BLUE",e[e.FAST_GREEN=3]="FAST_GREEN",e[e.SLOW=4]="SLOW",e[e.SLOWER=5]="SLOWER",e[e.SLOWEST=6]="SLOWEST",e))(rE||{}),iE=(e=>(e[e.NONE=0]="NONE",e[e.CLIP_VIT=1]="CLIP_VIT",e[e.CLIP_RESNET=2]="CLIP_RESNET",e[e.LDM=3]="LDM",e))(iE||{}),Ay=(e=>(e[e.PASSTHROUGH=0]="PASSTHROUGH",e[e.REGENERATE_DUPLICATE=1]="REGENERATE_DUPLICATE",e[e.REGENERATE=2]="REGENERATE",e[e.OBFUSCATE_DUPLICATE=3]="OBFUSCATE_DUPLICATE",e[e.OBFUSCATE=4]="OBFUSCATE",e[e.DISCARD=5]="DISCARD",e))(Ay||{}),aE=(e=>(e[e.CLSFR_MODE_ZEROSHOT=0]="CLSFR_MODE_ZEROSHOT",e[e.CLSFR_MODE_MULTICLASS=1]="CLSFR_MODE_MULTICLASS",e))(aE||{}),sE=(e=>(e[e.INTERPOLATE_LINEAR=0]="INTERPOLATE_LINEAR",e[e.INTERPOLATE_RIFE=1]="INTERPOLATE_RIFE",e[e.INTERPOLATE_VAE_LINEAR=2]="INTERPOLATE_VAE_LINEAR",e[e.INTERPOLATE_VAE_SLERP=3]="INTERPOLATE_VAE_SLERP",e[e.INTERPOLATE_FILM=4]="INTERPOLATE_FILM",e))(sE||{}),oE=(e=>(e[e.BORDER_REFLECT=0]="BORDER_REFLECT",e[e.BORDER_REPLICATE=1]="BORDER_REPLICATE",e[e.BORDER_WRAP=2]="BORDER_WRAP",e[e.BORDER_ZERO=3]="BORDER_ZERO",e[e.BORDER_PREFILL=4]="BORDER_PREFILL",e))(oE||{}),lE=(e=>(e[e.COLOR_MATCH_HSV=0]="COLOR_MATCH_HSV",e[e.COLOR_MATCH_LAB=1]="COLOR_MATCH_LAB",e[e.COLOR_MATCH_RGB=2]="COLOR_MATCH_RGB",e))(lE||{}),uE=(e=>(e[e.CAMERA_PERSPECTIVE=0]="CAMERA_PERSPECTIVE",e[e.CAMERA_ORTHOGRAPHIC=1]="CAMERA_ORTHOGRAPHIC",e))(uE||{}),cE=(e=>(e[e.RENDER_MESH=0]="RENDER_MESH",e[e.RENDER_POINTCLOUD=1]="RENDER_POINTCLOUD",e))(cE||{}),dE=(e=>(e[e.ASSET_PUT=0]="ASSET_PUT",e[e.ASSET_GET=1]="ASSET_GET",e[e.ASSET_DELETE=2]="ASSET_DELETE",e))(dE||{}),hE=(e=>(e[e.UNDEFINED=0]="UNDEFINED",e[e.INPUT=1]="INPUT",e[e.OUTPUT=2]="OUTPUT",e[e.INTERMEDIATE=3]="INTERMEDIATE",e[e.PROJECT=4]="PROJECT",e))(hE||{}),fE=(e=>(e[e.PASS=0]="PASS",e[e.DISCARD=1]="DISCARD",e[e.RETURN=2]="RETURN",e))(fE||{}),tte=class extends Fe{constructor(){super("gooseai.Token",[{no:1,name:"text",kind:"scalar",opt:!0,T:9},{no:2,name:"id",kind:"scalar",T:13}])}create(e){let t={id:0};return globalThis.Object.defineProperty(t,Le,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.text=e.string();break;case 2:i.id=e.uint32();break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.text!==void 0&&t.tag(1,U.LengthDelimited).string(e.text),e.id!==0&&t.tag(2,U.Varint).uint32(e.id);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},bm=new tte,nte=class extends Fe{constructor(){super("gooseai.Tokens",[{no:1,name:"tokens",kind:"message",repeat:1,T:()=>bm},{no:2,name:"tokenizer_id",kind:"scalar",opt:!0,T:9}])}create(e){let t={tokens:[]};return globalThis.Object.defineProperty(t,Le,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.tokens.push(bm.internalBinaryRead(e,e.uint32(),n));break;case 2:i.tokenizerId=e.string();break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){for(let i=0;i<e.tokens.length;i++)bm.internalBinaryWrite(e.tokens[i],t.tag(1,U.LengthDelimited).fork(),n).join();e.tokenizerId!==void 0&&t.tag(2,U.LengthDelimited).string(e.tokenizerId);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},Bo=new nte,rte=class extends Fe{constructor(){super("gooseai.Artifact",[{no:1,name:"id",kind:"scalar",T:4,L:0},{no:2,name:"type",kind:"enum",T:()=>["gooseai.ArtifactType",Py]},{no:3,name:"mime",kind:"scalar",T:9},{no:4,name:"magic",kind:"scalar",opt:!0,T:9},{no:5,name:"binary",kind:"scalar",oneof:"data",T:12},{no:6,name:"text",kind:"scalar",oneof:"data",T:9},{no:7,name:"tokens",kind:"message",oneof:"data",T:()=>Bo},{no:11,name:"classifier",kind:"message",oneof:"data",T:()=>$o},{no:14,name:"tensor",kind:"message",oneof:"data",T:()=>vu},{no:8,name:"index",kind:"scalar",T:13},{no:9,name:"finish_reason",kind:"enum",T:()=>["gooseai.FinishReason",Iy]},{no:10,name:"seed",kind:"scalar",T:13},{no:12,name:"uuid",kind:"scalar",T:9},{no:13,name:"size",kind:"scalar",T:4,L:0}])}create(e){let t={id:0n,type:0,mime:"",data:{oneofKind:void 0},index:0,finishReason:0,seed:0,uuid:"",size:0n};return globalThis.Object.defineProperty(t,Le,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.id=e.uint64().toBigInt();break;case 2:i.type=e.int32();break;case 3:i.mime=e.string();break;case 4:i.magic=e.string();break;case 5:i.data={oneofKind:"binary",binary:e.bytes()};break;case 6:i.data={oneofKind:"text",text:e.string()};break;case 7:i.data={oneofKind:"tokens",tokens:Bo.internalBinaryRead(e,e.uint32(),n,i.data.tokens)};break;case 11:i.data={oneofKind:"classifier",classifier:$o.internalBinaryRead(e,e.uint32(),n,i.data.classifier)};break;case 14:i.data={oneofKind:"tensor",tensor:vu.internalBinaryRead(e,e.uint32(),n,i.data.tensor)};break;case 8:i.index=e.uint32();break;case 9:i.finishReason=e.int32();break;case 10:i.seed=e.uint32();break;case 12:i.uuid=e.string();break;case 13:i.size=e.uint64().toBigInt();break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.id!==0n&&t.tag(1,U.Varint).uint64(e.id),e.type!==0&&t.tag(2,U.Varint).int32(e.type),e.mime!==""&&t.tag(3,U.LengthDelimited).string(e.mime),e.magic!==void 0&&t.tag(4,U.LengthDelimited).string(e.magic),e.data.oneofKind==="binary"&&t.tag(5,U.LengthDelimited).bytes(e.data.binary),e.data.oneofKind==="text"&&t.tag(6,U.LengthDelimited).string(e.data.text),e.data.oneofKind==="tokens"&&Bo.internalBinaryWrite(e.data.tokens,t.tag(7,U.LengthDelimited).fork(),n).join(),e.data.oneofKind==="classifier"&&$o.internalBinaryWrite(e.data.classifier,t.tag(11,U.LengthDelimited).fork(),n).join(),e.data.oneofKind==="tensor"&&vu.internalBinaryWrite(e.data.tensor,t.tag(14,U.LengthDelimited).fork(),n).join(),e.index!==0&&t.tag(8,U.Varint).uint32(e.index),e.finishReason!==0&&t.tag(9,U.Varint).int32(e.finishReason),e.seed!==0&&t.tag(10,U.Varint).uint32(e.seed),e.uuid!==""&&t.tag(12,U.LengthDelimited).string(e.uuid),e.size!==0n&&t.tag(13,U.Varint).uint64(e.size);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},ya=new rte,ite=class extends Fe{constructor(){super("gooseai.PromptParameters",[{no:1,name:"init",kind:"scalar",opt:!0,T:8},{no:2,name:"weight",kind:"scalar",opt:!0,T:2}])}create(e){let t={};return globalThis.Object.defineProperty(t,Le,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.init=e.bool();break;case 2:i.weight=e.float();break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.init!==void 0&&t.tag(1,U.Varint).bool(e.init),e.weight!==void 0&&t.tag(2,U.Bit32).float(e.weight);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},xm=new ite,ate=class extends Fe{constructor(){super("gooseai.Prompt",[{no:1,name:"parameters",kind:"message",T:()=>xm},{no:2,name:"text",kind:"scalar",oneof:"prompt",T:9},{no:3,name:"tokens",kind:"message",oneof:"prompt",T:()=>Bo},{no:4,name:"artifact",kind:"message",oneof:"prompt",T:()=>ya}])}create(e){let t={prompt:{oneofKind:void 0}};return globalThis.Object.defineProperty(t,Le,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.parameters=xm.internalBinaryRead(e,e.uint32(),n,i.parameters);break;case 2:i.prompt={oneofKind:"text",text:e.string()};break;case 3:i.prompt={oneofKind:"tokens",tokens:Bo.internalBinaryRead(e,e.uint32(),n,i.prompt.tokens)};break;case 4:i.prompt={oneofKind:"artifact",artifact:ya.internalBinaryRead(e,e.uint32(),n,i.prompt.artifact)};break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.parameters&&xm.internalBinaryWrite(e.parameters,t.tag(1,U.LengthDelimited).fork(),n).join(),e.prompt.oneofKind==="text"&&t.tag(2,U.LengthDelimited).string(e.prompt.text),e.prompt.oneofKind==="tokens"&&Bo.internalBinaryWrite(e.prompt.tokens,t.tag(3,U.LengthDelimited).fork(),n).join(),e.prompt.oneofKind==="artifact"&&ya.internalBinaryWrite(e.prompt.artifact,t.tag(4,U.LengthDelimited).fork(),n).join();let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},zo=new ate,ste=class extends Fe{constructor(){super("gooseai.SamplerParameters",[{no:1,name:"eta",kind:"scalar",opt:!0,T:2},{no:2,name:"sampling_steps",kind:"scalar",opt:!0,T:4,L:0},{no:3,name:"latent_channels",kind:"scalar",opt:!0,T:4,L:0},{no:4,name:"downsampling_factor",kind:"scalar",opt:!0,T:4,L:0},{no:5,name:"cfg_scale",kind:"scalar",opt:!0,T:2},{no:6,name:"init_noise_scale",kind:"scalar",opt:!0,T:2},{no:7,name:"step_noise_scale",kind:"scalar",opt:!0,T:2}])}create(e){let t={};return globalThis.Object.defineProperty(t,Le,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.eta=e.float();break;case 2:i.samplingSteps=e.uint64().toBigInt();break;case 3:i.latentChannels=e.uint64().toBigInt();break;case 4:i.downsamplingFactor=e.uint64().toBigInt();break;case 5:i.cfgScale=e.float();break;case 6:i.initNoiseScale=e.float();break;case 7:i.stepNoiseScale=e.float();break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.eta!==void 0&&t.tag(1,U.Bit32).float(e.eta),e.samplingSteps!==void 0&&t.tag(2,U.Varint).uint64(e.samplingSteps),e.latentChannels!==void 0&&t.tag(3,U.Varint).uint64(e.latentChannels),e.downsamplingFactor!==void 0&&t.tag(4,U.Varint).uint64(e.downsamplingFactor),e.cfgScale!==void 0&&t.tag(5,U.Bit32).float(e.cfgScale),e.initNoiseScale!==void 0&&t.tag(6,U.Bit32).float(e.initNoiseScale),e.stepNoiseScale!==void 0&&t.tag(7,U.Bit32).float(e.stepNoiseScale);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},km=new ste,ote=class extends Fe{constructor(){super("gooseai.ConditionerParameters",[{no:1,name:"vector_adjust_prior",kind:"scalar",opt:!0,T:9},{no:2,name:"conditioner",kind:"message",T:()=>Uo}])}create(e){let t={};return globalThis.Object.defineProperty(t,Le,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.vectorAdjustPrior=e.string();break;case 2:i.conditioner=Uo.internalBinaryRead(e,e.uint32(),n,i.conditioner);break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.vectorAdjustPrior!==void 0&&t.tag(1,U.LengthDelimited).string(e.vectorAdjustPrior),e.conditioner&&Uo.internalBinaryWrite(e.conditioner,t.tag(2,U.LengthDelimited).fork(),n).join();let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},Sm=new ote,lte=class extends Fe{constructor(){super("gooseai.ScheduleParameters",[{no:1,name:"start",kind:"scalar",opt:!0,T:2},{no:2,name:"end",kind:"scalar",opt:!0,T:2},{no:3,name:"value",kind:"scalar",opt:!0,T:2}])}create(e){let t={};return globalThis.Object.defineProperty(t,Le,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.start=e.float();break;case 2:i.end=e.float();break;case 3:i.value=e.float();break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.start!==void 0&&t.tag(1,U.Bit32).float(e.start),e.end!==void 0&&t.tag(2,U.Bit32).float(e.end),e.value!==void 0&&t.tag(3,U.Bit32).float(e.value);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},Cm=new lte,ute=class extends Fe{constructor(){super("gooseai.StepParameter",[{no:1,name:"scaled_step",kind:"scalar",T:2},{no:2,name:"sampler",kind:"message",T:()=>km},{no:3,name:"schedule",kind:"message",T:()=>Cm},{no:4,name:"guidance",kind:"message",T:()=>Im}])}create(e){let t={scaledStep:0};return globalThis.Object.defineProperty(t,Le,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.scaledStep=e.float();break;case 2:i.sampler=km.internalBinaryRead(e,e.uint32(),n,i.sampler);break;case 3:i.schedule=Cm.internalBinaryRead(e,e.uint32(),n,i.schedule);break;case 4:i.guidance=Im.internalBinaryRead(e,e.uint32(),n,i.guidance);break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.scaledStep!==0&&t.tag(1,U.Bit32).float(e.scaledStep),e.sampler&&km.internalBinaryWrite(e.sampler,t.tag(2,U.LengthDelimited).fork(),n).join(),e.schedule&&Cm.internalBinaryWrite(e.schedule,t.tag(3,U.LengthDelimited).fork(),n).join(),e.guidance&&Im.internalBinaryWrite(e.guidance,t.tag(4,U.LengthDelimited).fork(),n).join();let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},Em=new ute,cte=class extends Fe{constructor(){super("gooseai.Model",[{no:1,name:"architecture",kind:"enum",T:()=>["gooseai.ModelArchitecture",iE,"MODEL_ARCHITECTURE_"]},{no:2,name:"publisher",kind:"scalar",T:9},{no:3,name:"dataset",kind:"scalar",T:9},{no:4,name:"version",kind:"scalar",T:2},{no:5,name:"semantic_version",kind:"scalar",T:9},{no:6,name:"alias",kind:"scalar",T:9}])}create(e){let t={architecture:0,publisher:"",dataset:"",version:0,semanticVersion:"",alias:""};return globalThis.Object.defineProperty(t,Le,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.architecture=e.int32();break;case 2:i.publisher=e.string();break;case 3:i.dataset=e.string();break;case 4:i.version=e.float();break;case 5:i.semanticVersion=e.string();break;case 6:i.alias=e.string();break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.architecture!==0&&t.tag(1,U.Varint).int32(e.architecture),e.publisher!==""&&t.tag(2,U.LengthDelimited).string(e.publisher),e.dataset!==""&&t.tag(3,U.LengthDelimited).string(e.dataset),e.version!==0&&t.tag(4,U.Bit32).float(e.version),e.semanticVersion!==""&&t.tag(5,U.LengthDelimited).string(e.semanticVersion),e.alias!==""&&t.tag(6,U.LengthDelimited).string(e.alias);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},Uo=new cte,dte=class extends Fe{constructor(){super("gooseai.CutoutParameters",[{no:1,name:"cutouts",kind:"message",repeat:1,T:()=>jo},{no:2,name:"count",kind:"scalar",opt:!0,T:13},{no:3,name:"gray",kind:"scalar",opt:!0,T:2},{no:4,name:"blur",kind:"scalar",opt:!0,T:2},{no:5,name:"size_power",kind:"scalar",opt:!0,T:2}])}create(e){let t={cutouts:[]};return globalThis.Object.defineProperty(t,Le,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.cutouts.push(jo.internalBinaryRead(e,e.uint32(),n));break;case 2:i.count=e.uint32();break;case 3:i.gray=e.float();break;case 4:i.blur=e.float();break;case 5:i.sizePower=e.float();break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){for(let i=0;i<e.cutouts.length;i++)jo.internalBinaryWrite(e.cutouts[i],t.tag(1,U.LengthDelimited).fork(),n).join();e.count!==void 0&&t.tag(2,U.Varint).uint32(e.count),e.gray!==void 0&&t.tag(3,U.Bit32).float(e.gray),e.blur!==void 0&&t.tag(4,U.Bit32).float(e.blur),e.sizePower!==void 0&&t.tag(5,U.Bit32).float(e.sizePower);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},jo=new dte,hte=class extends Fe{constructor(){super("gooseai.GuidanceScheduleParameters",[{no:1,name:"duration",kind:"scalar",T:2},{no:2,name:"value",kind:"scalar",T:2}])}create(e){let t={duration:0,value:0};return globalThis.Object.defineProperty(t,Le,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.duration=e.float();break;case 2:i.value=e.float();break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.duration!==0&&t.tag(1,U.Bit32).float(e.duration),e.value!==0&&t.tag(2,U.Bit32).float(e.value);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},Tm=new hte,fte=class extends Fe{constructor(){super("gooseai.GuidanceInstanceParameters",[{no:2,name:"models",kind:"message",repeat:1,T:()=>Uo},{no:3,name:"guidance_strength",kind:"scalar",opt:!0,T:2},{no:4,name:"schedule",kind:"message",repeat:1,T:()=>Tm},{no:5,name:"cutouts",kind:"message",T:()=>jo},{no:6,name:"prompt",kind:"message",T:()=>zo}])}create(e){let t={models:[],schedule:[]};return globalThis.Object.defineProperty(t,Le,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 2:i.models.push(Uo.internalBinaryRead(e,e.uint32(),n));break;case 3:i.guidanceStrength=e.float();break;case 4:i.schedule.push(Tm.internalBinaryRead(e,e.uint32(),n));break;case 5:i.cutouts=jo.internalBinaryRead(e,e.uint32(),n,i.cutouts);break;case 6:i.prompt=zo.internalBinaryRead(e,e.uint32(),n,i.prompt);break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){for(let i=0;i<e.models.length;i++)Uo.internalBinaryWrite(e.models[i],t.tag(2,U.LengthDelimited).fork(),n).join();e.guidanceStrength!==void 0&&t.tag(3,U.Bit32).float(e.guidanceStrength);for(let i=0;i<e.schedule.length;i++)Tm.internalBinaryWrite(e.schedule[i],t.tag(4,U.LengthDelimited).fork(),n).join();e.cutouts&&jo.internalBinaryWrite(e.cutouts,t.tag(5,U.LengthDelimited).fork(),n).join(),e.prompt&&zo.internalBinaryWrite(e.prompt,t.tag(6,U.LengthDelimited).fork(),n).join();let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},_m=new fte,pte=class extends Fe{constructor(){super("gooseai.GuidanceParameters",[{no:1,name:"guidance_preset",kind:"enum",T:()=>["gooseai.GuidancePreset",rE,"GUIDANCE_PRESET_"]},{no:2,name:"instances",kind:"message",repeat:1,T:()=>_m}])}create(e){let t={guidancePreset:0,instances:[]};return globalThis.Object.defineProperty(t,Le,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.guidancePreset=e.int32();break;case 2:i.instances.push(_m.internalBinaryRead(e,e.uint32(),n));break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.guidancePreset!==0&&t.tag(1,U.Varint).int32(e.guidancePreset);for(let i=0;i<e.instances.length;i++)_m.internalBinaryWrite(e.instances[i],t.tag(2,U.LengthDelimited).fork(),n).join();let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},Im=new pte,mte=class extends Fe{constructor(){super("gooseai.TransformType",[{no:1,name:"diffusion",kind:"enum",oneof:"type",T:()=>["gooseai.DiffusionSampler",tE]},{no:2,name:"upscaler",kind:"enum",oneof:"type",T:()=>["gooseai.Upscaler",nE,"UPSCALER_"]}])}create(e){let t={type:{oneofKind:void 0}};return globalThis.Object.defineProperty(t,Le,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.type={oneofKind:"diffusion",diffusion:e.int32()};break;case 2:i.type={oneofKind:"upscaler",upscaler:e.int32()};break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.type.oneofKind==="diffusion"&&t.tag(1,U.Varint).int32(e.type.diffusion),e.type.oneofKind==="upscaler"&&t.tag(2,U.Varint).int32(e.type.upscaler);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},Pm=new mte,gte=class extends Fe{constructor(){super("gooseai.ImageParameters",[{no:1,name:"height",kind:"scalar",opt:!0,T:4,L:0},{no:2,name:"width",kind:"scalar",opt:!0,T:4,L:0},{no:3,name:"seed",kind:"scalar",repeat:1,T:13},{no:4,name:"samples",kind:"scalar",opt:!0,T:4,L:0},{no:5,name:"steps",kind:"scalar",opt:!0,T:4,L:0},{no:6,name:"transform",kind:"message",T:()=>Pm},{no:7,name:"parameters",kind:"message",repeat:1,T:()=>Em},{no:8,name:"masked_area_init",kind:"enum",opt:!0,T:()=>["gooseai.MaskedAreaInit",JC,"MASKED_AREA_INIT_"]},{no:9,name:"weight_method",kind:"enum",opt:!0,T:()=>["gooseai.WeightMethod",eE]},{no:10,name:"quantize",kind:"scalar",opt:!0,T:8}])}create(e){let t={seed:[],parameters:[]};return globalThis.Object.defineProperty(t,Le,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.height=e.uint64().toBigInt();break;case 2:i.width=e.uint64().toBigInt();break;case 3:if(o===U.LengthDelimited)for(let c=e.int32()+e.pos;e.pos<c;)i.seed.push(e.uint32());else i.seed.push(e.uint32());break;case 4:i.samples=e.uint64().toBigInt();break;case 5:i.steps=e.uint64().toBigInt();break;case 6:i.transform=Pm.internalBinaryRead(e,e.uint32(),n,i.transform);break;case 7:i.parameters.push(Em.internalBinaryRead(e,e.uint32(),n));break;case 8:i.maskedAreaInit=e.int32();break;case 9:i.weightMethod=e.int32();break;case 10:i.quantize=e.bool();break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){if(e.height!==void 0&&t.tag(1,U.Varint).uint64(e.height),e.width!==void 0&&t.tag(2,U.Varint).uint64(e.width),e.seed.length){t.tag(3,U.LengthDelimited).fork();for(let i=0;i<e.seed.length;i++)t.uint32(e.seed[i]);t.join()}e.samples!==void 0&&t.tag(4,U.Varint).uint64(e.samples),e.steps!==void 0&&t.tag(5,U.Varint).uint64(e.steps),e.transform&&Pm.internalBinaryWrite(e.transform,t.tag(6,U.LengthDelimited).fork(),n).join();for(let i=0;i<e.parameters.length;i++)Em.internalBinaryWrite(e.parameters[i],t.tag(7,U.LengthDelimited).fork(),n).join();e.maskedAreaInit!==void 0&&t.tag(8,U.Varint).int32(e.maskedAreaInit),e.weightMethod!==void 0&&t.tag(9,U.Varint).int32(e.weightMethod),e.quantize!==void 0&&t.tag(10,U.Varint).bool(e.quantize);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},Am=new gte,yte=class extends Fe{constructor(){super("gooseai.ClassifierConcept",[{no:1,name:"concept",kind:"scalar",T:9},{no:2,name:"threshold",kind:"scalar",opt:!0,T:2}])}create(e){let t={concept:""};return globalThis.Object.defineProperty(t,Le,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.concept=e.string();break;case 2:i.threshold=e.float();break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.concept!==""&&t.tag(1,U.LengthDelimited).string(e.concept),e.threshold!==void 0&&t.tag(2,U.Bit32).float(e.threshold);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},Rm=new yte,vte=class extends Fe{constructor(){super("gooseai.ClassifierCategory",[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"concepts",kind:"message",repeat:1,T:()=>Rm},{no:3,name:"adjustment",kind:"scalar",opt:!0,T:2},{no:4,name:"action",kind:"enum",opt:!0,T:()=>["gooseai.Action",Ay,"ACTION_"]},{no:5,name:"classifier_mode",kind:"enum",opt:!0,T:()=>["gooseai.ClassifierMode",aE]}])}create(e){let t={name:"",concepts:[]};return globalThis.Object.defineProperty(t,Le,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.name=e.string();break;case 2:i.concepts.push(Rm.internalBinaryRead(e,e.uint32(),n));break;case 3:i.adjustment=e.float();break;case 4:i.action=e.int32();break;case 5:i.classifierMode=e.int32();break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.name!==""&&t.tag(1,U.LengthDelimited).string(e.name);for(let i=0;i<e.concepts.length;i++)Rm.internalBinaryWrite(e.concepts[i],t.tag(2,U.LengthDelimited).fork(),n).join();e.adjustment!==void 0&&t.tag(3,U.Bit32).float(e.adjustment),e.action!==void 0&&t.tag(4,U.Varint).int32(e.action),e.classifierMode!==void 0&&t.tag(5,U.Varint).int32(e.classifierMode);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},ko=new vte,wte=class extends Fe{constructor(){super("gooseai.ClassifierParameters",[{no:1,name:"categories",kind:"message",repeat:1,T:()=>ko},{no:2,name:"exceeds",kind:"message",repeat:1,T:()=>ko},{no:3,name:"realized_action",kind:"enum",opt:!0,T:()=>["gooseai.Action",Ay,"ACTION_"]}])}create(e){let t={categories:[],exceeds:[]};return globalThis.Object.defineProperty(t,Le,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.categories.push(ko.internalBinaryRead(e,e.uint32(),n));break;case 2:i.exceeds.push(ko.internalBinaryRead(e,e.uint32(),n));break;case 3:i.realizedAction=e.int32();break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){for(let i=0;i<e.categories.length;i++)ko.internalBinaryWrite(e.categories[i],t.tag(1,U.LengthDelimited).fork(),n).join();for(let i=0;i<e.exceeds.length;i++)ko.internalBinaryWrite(e.exceeds[i],t.tag(2,U.LengthDelimited).fork(),n).join();e.realizedAction!==void 0&&t.tag(3,U.Varint).int32(e.realizedAction);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},$o=new wte,bte=class extends Fe{constructor(){super("gooseai.InterpolateParameters",[{no:1,name:"ratios",kind:"scalar",repeat:1,T:2},{no:2,name:"mode",kind:"enum",opt:!0,T:()=>["gooseai.InterpolateMode",sE]}])}create(e){let t={ratios:[]};return globalThis.Object.defineProperty(t,Le,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:if(o===U.LengthDelimited)for(let c=e.int32()+e.pos;e.pos<c;)i.ratios.push(e.float());else i.ratios.push(e.float());break;case 2:i.mode=e.int32();break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){if(e.ratios.length){t.tag(1,U.LengthDelimited).fork();for(let i=0;i<e.ratios.length;i++)t.float(e.ratios[i]);t.join()}e.mode!==void 0&&t.tag(2,U.Varint).int32(e.mode);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},Dm=new bte,xte=class extends Fe{constructor(){super("gooseai.TransformColorAdjust",[{no:1,name:"brightness",kind:"scalar",opt:!0,T:2},{no:2,name:"contrast",kind:"scalar",opt:!0,T:2},{no:3,name:"hue",kind:"scalar",opt:!0,T:2},{no:4,name:"saturation",kind:"scalar",opt:!0,T:2},{no:5,name:"lightness",kind:"scalar",opt:!0,T:2},{no:6,name:"match_image",kind:"message",T:()=>ya},{no:7,name:"match_mode",kind:"enum",opt:!0,T:()=>["gooseai.ColorMatchMode",lE]},{no:8,name:"noise_amount",kind:"scalar",opt:!0,T:2},{no:9,name:"noise_seed",kind:"scalar",opt:!0,T:13}])}create(e){let t={};return globalThis.Object.defineProperty(t,Le,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.brightness=e.float();break;case 2:i.contrast=e.float();break;case 3:i.hue=e.float();break;case 4:i.saturation=e.float();break;case 5:i.lightness=e.float();break;case 6:i.matchImage=ya.internalBinaryRead(e,e.uint32(),n,i.matchImage);break;case 7:i.matchMode=e.int32();break;case 8:i.noiseAmount=e.float();break;case 9:i.noiseSeed=e.uint32();break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.brightness!==void 0&&t.tag(1,U.Bit32).float(e.brightness),e.contrast!==void 0&&t.tag(2,U.Bit32).float(e.contrast),e.hue!==void 0&&t.tag(3,U.Bit32).float(e.hue),e.saturation!==void 0&&t.tag(4,U.Bit32).float(e.saturation),e.lightness!==void 0&&t.tag(5,U.Bit32).float(e.lightness),e.matchImage&&ya.internalBinaryWrite(e.matchImage,t.tag(6,U.LengthDelimited).fork(),n).join(),e.matchMode!==void 0&&t.tag(7,U.Varint).int32(e.matchMode),e.noiseAmount!==void 0&&t.tag(8,U.Bit32).float(e.noiseAmount),e.noiseSeed!==void 0&&t.tag(9,U.Varint).uint32(e.noiseSeed);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},Nm=new xte,kte=class extends Fe{constructor(){super("gooseai.TransformDepthCalc",[{no:1,name:"blend_weight",kind:"scalar",opt:!0,T:2},{no:2,name:"blur_radius",kind:"scalar",opt:!0,T:13},{no:3,name:"reverse",kind:"scalar",opt:!0,T:8}])}create(e){let t={};return globalThis.Object.defineProperty(t,Le,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.blendWeight=e.float();break;case 2:i.blurRadius=e.uint32();break;case 3:i.reverse=e.bool();break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.blendWeight!==void 0&&t.tag(1,U.Bit32).float(e.blendWeight),e.blurRadius!==void 0&&t.tag(2,U.Varint).uint32(e.blurRadius),e.reverse!==void 0&&t.tag(3,U.Varint).bool(e.reverse);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},Mm=new kte,Ste=class extends Fe{constructor(){super("gooseai.TransformMatrix",[{no:1,name:"data",kind:"scalar",repeat:1,T:2}])}create(e){let t={data:[]};return globalThis.Object.defineProperty(t,Le,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:if(o===U.LengthDelimited)for(let c=e.int32()+e.pos;e.pos<c;)i.data.push(e.float());else i.data.push(e.float());break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){if(e.data.length){t.tag(1,U.LengthDelimited).fork();for(let i=0;i<e.data.length;i++)t.float(e.data[i]);t.join()}let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},la=new Ste,Cte=class extends Fe{constructor(){super("gooseai.TransformResample",[{no:1,name:"border_mode",kind:"enum",T:()=>["gooseai.BorderMode",oE]},{no:2,name:"transform",kind:"message",T:()=>la},{no:3,name:"prev_transform",kind:"message",T:()=>la},{no:4,name:"depth_warp",kind:"scalar",opt:!0,T:2},{no:5,name:"export_mask",kind:"scalar",opt:!0,T:8}])}create(e){let t={borderMode:0};return globalThis.Object.defineProperty(t,Le,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.borderMode=e.int32();break;case 2:i.transform=la.internalBinaryRead(e,e.uint32(),n,i.transform);break;case 3:i.prevTransform=la.internalBinaryRead(e,e.uint32(),n,i.prevTransform);break;case 4:i.depthWarp=e.float();break;case 5:i.exportMask=e.bool();break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.borderMode!==0&&t.tag(1,U.Varint).int32(e.borderMode),e.transform&&la.internalBinaryWrite(e.transform,t.tag(2,U.LengthDelimited).fork(),n).join(),e.prevTransform&&la.internalBinaryWrite(e.prevTransform,t.tag(3,U.LengthDelimited).fork(),n).join(),e.depthWarp!==void 0&&t.tag(4,U.Bit32).float(e.depthWarp),e.exportMask!==void 0&&t.tag(5,U.Varint).bool(e.exportMask);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},Om=new Cte,Ete=class extends Fe{constructor(){super("gooseai.CameraParameters",[{no:1,name:"camera_type",kind:"enum",T:()=>["gooseai.CameraType",uE]},{no:2,name:"near_plane",kind:"scalar",T:2},{no:3,name:"far_plane",kind:"scalar",T:2},{no:4,name:"fov",kind:"scalar",opt:!0,T:2}])}create(e){let t={cameraType:0,nearPlane:0,farPlane:0};return globalThis.Object.defineProperty(t,Le,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.cameraType=e.int32();break;case 2:i.nearPlane=e.float();break;case 3:i.farPlane=e.float();break;case 4:i.fov=e.float();break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.cameraType!==0&&t.tag(1,U.Varint).int32(e.cameraType),e.nearPlane!==0&&t.tag(2,U.Bit32).float(e.nearPlane),e.farPlane!==0&&t.tag(3,U.Bit32).float(e.farPlane),e.fov!==void 0&&t.tag(4,U.Bit32).float(e.fov);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},Lm=new Ete,Tte=class extends Fe{constructor(){super("gooseai.TransformCameraPose",[{no:1,name:"world_to_view_matrix",kind:"message",T:()=>la},{no:2,name:"camera_parameters",kind:"message",T:()=>Lm},{no:5,name:"do_prefill",kind:"scalar",T:8},{no:8,name:"render_mode",kind:"enum",T:()=>["gooseai.RenderMode",cE]}])}create(e){let t={doPrefill:!1,renderMode:0};return globalThis.Object.defineProperty(t,Le,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.worldToViewMatrix=la.internalBinaryRead(e,e.uint32(),n,i.worldToViewMatrix);break;case 2:i.cameraParameters=Lm.internalBinaryRead(e,e.uint32(),n,i.cameraParameters);break;case 5:i.doPrefill=e.bool();break;case 8:i.renderMode=e.int32();break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.worldToViewMatrix&&la.internalBinaryWrite(e.worldToViewMatrix,t.tag(1,U.LengthDelimited).fork(),n).join(),e.cameraParameters&&Lm.internalBinaryWrite(e.cameraParameters,t.tag(2,U.LengthDelimited).fork(),n).join(),e.doPrefill!==!1&&t.tag(5,U.Varint).bool(e.doPrefill),e.renderMode!==0&&t.tag(8,U.Varint).int32(e.renderMode);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},Fm=new Tte,_te=class extends Fe{constructor(){super("gooseai.TransformParameters",[{no:2,name:"color_adjust",kind:"message",oneof:"transform",T:()=>Nm},{no:4,name:"depth_calc",kind:"message",oneof:"transform",T:()=>Mm},{no:5,name:"resample",kind:"message",oneof:"transform",T:()=>Om},{no:6,name:"camera_pose",kind:"message",oneof:"transform",T:()=>Fm}])}create(e){let t={transform:{oneofKind:void 0}};return globalThis.Object.defineProperty(t,Le,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 2:i.transform={oneofKind:"colorAdjust",colorAdjust:Nm.internalBinaryRead(e,e.uint32(),n,i.transform.colorAdjust)};break;case 4:i.transform={oneofKind:"depthCalc",depthCalc:Mm.internalBinaryRead(e,e.uint32(),n,i.transform.depthCalc)};break;case 5:i.transform={oneofKind:"resample",resample:Om.internalBinaryRead(e,e.uint32(),n,i.transform.resample)};break;case 6:i.transform={oneofKind:"cameraPose",cameraPose:Fm.internalBinaryRead(e,e.uint32(),n,i.transform.cameraPose)};break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.transform.oneofKind==="colorAdjust"&&Nm.internalBinaryWrite(e.transform.colorAdjust,t.tag(2,U.LengthDelimited).fork(),n).join(),e.transform.oneofKind==="depthCalc"&&Mm.internalBinaryWrite(e.transform.depthCalc,t.tag(4,U.LengthDelimited).fork(),n).join(),e.transform.oneofKind==="resample"&&Om.internalBinaryWrite(e.transform.resample,t.tag(5,U.LengthDelimited).fork(),n).join(),e.transform.oneofKind==="cameraPose"&&Fm.internalBinaryWrite(e.transform.cameraPose,t.tag(6,U.LengthDelimited).fork(),n).join();let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},Bm=new _te,Ite=class extends Fe{constructor(){super("gooseai.AssetParameters",[{no:1,name:"action",kind:"enum",T:()=>["gooseai.AssetAction",dE]},{no:2,name:"project_id",kind:"scalar",T:9},{no:3,name:"use",kind:"enum",T:()=>["gooseai.AssetUse",hE,"ASSET_USE_"]}])}create(e){let t={action:0,projectId:"",use:0};return globalThis.Object.defineProperty(t,Le,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.action=e.int32();break;case 2:i.projectId=e.string();break;case 3:i.use=e.int32();break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.action!==0&&t.tag(1,U.Varint).int32(e.action),e.projectId!==""&&t.tag(2,U.LengthDelimited).string(e.projectId),e.use!==0&&t.tag(3,U.Varint).int32(e.use);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},zm=new Ite,Pte=class extends Fe{constructor(){super("gooseai.AnswerMeta",[{no:1,name:"gpu_id",kind:"scalar",opt:!0,T:9},{no:2,name:"cpu_id",kind:"scalar",opt:!0,T:9},{no:3,name:"node_id",kind:"scalar",opt:!0,T:9},{no:4,name:"engine_id",kind:"scalar",opt:!0,T:9}])}create(e){let t={};return globalThis.Object.defineProperty(t,Le,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.gpuId=e.string();break;case 2:i.cpuId=e.string();break;case 3:i.nodeId=e.string();break;case 4:i.engineId=e.string();break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.gpuId!==void 0&&t.tag(1,U.LengthDelimited).string(e.gpuId),e.cpuId!==void 0&&t.tag(2,U.LengthDelimited).string(e.cpuId),e.nodeId!==void 0&&t.tag(3,U.LengthDelimited).string(e.nodeId),e.engineId!==void 0&&t.tag(4,U.LengthDelimited).string(e.engineId);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},Um=new Pte,Ate=class extends Fe{constructor(){super("gooseai.Answer",[{no:1,name:"answer_id",kind:"scalar",T:9},{no:2,name:"request_id",kind:"scalar",T:9},{no:3,name:"received",kind:"scalar",T:4,L:0},{no:4,name:"created",kind:"scalar",T:4,L:0},{no:6,name:"meta",kind:"message",T:()=>Um},{no:7,name:"artifacts",kind:"message",repeat:1,T:()=>ya}])}create(e){let t={answerId:"",requestId:"",received:0n,created:0n,artifacts:[]};return globalThis.Object.defineProperty(t,Le,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.answerId=e.string();break;case 2:i.requestId=e.string();break;case 3:i.received=e.uint64().toBigInt();break;case 4:i.created=e.uint64().toBigInt();break;case 6:i.meta=Um.internalBinaryRead(e,e.uint32(),n,i.meta);break;case 7:i.artifacts.push(ya.internalBinaryRead(e,e.uint32(),n));break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.answerId!==""&&t.tag(1,U.LengthDelimited).string(e.answerId),e.requestId!==""&&t.tag(2,U.LengthDelimited).string(e.requestId),e.received!==0n&&t.tag(3,U.Varint).uint64(e.received),e.created!==0n&&t.tag(4,U.Varint).uint64(e.created),e.meta&&Um.internalBinaryWrite(e.meta,t.tag(6,U.LengthDelimited).fork(),n).join();for(let i=0;i<e.artifacts.length;i++)ya.internalBinaryWrite(e.artifacts[i],t.tag(7,U.LengthDelimited).fork(),n).join();let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},wu=new Ate,Rte=class extends Fe{constructor(){super("gooseai.AnswerBatch",[{no:1,name:"batch_id",kind:"scalar",T:9},{no:2,name:"answers",kind:"message",repeat:1,T:()=>wu}])}create(e){let t={batchId:"",answers:[]};return globalThis.Object.defineProperty(t,Le,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.batchId=e.string();break;case 2:i.answers.push(wu.internalBinaryRead(e,e.uint32(),n));break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.batchId!==""&&t.tag(1,U.LengthDelimited).string(e.batchId);for(let i=0;i<e.answers.length;i++)wu.internalBinaryWrite(e.answers[i],t.tag(2,U.LengthDelimited).fork(),n).join();let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},Dte=new Rte,Nte=class extends Fe{constructor(){super("gooseai.Request",[{no:1,name:"engine_id",kind:"scalar",T:9},{no:2,name:"request_id",kind:"scalar",T:9},{no:3,name:"requested_type",kind:"enum",T:()=>["gooseai.ArtifactType",Py]},{no:4,name:"prompt",kind:"message",repeat:1,T:()=>zo},{no:5,name:"image",kind:"message",oneof:"params",T:()=>Am},{no:7,name:"classifier",kind:"message",oneof:"params",T:()=>$o},{no:8,name:"asset",kind:"message",oneof:"params",T:()=>zm},{no:11,name:"interpolate",kind:"message",oneof:"params",T:()=>Dm},{no:12,name:"transform",kind:"message",oneof:"params",T:()=>Bm},{no:6,name:"conditioner",kind:"message",T:()=>Sm},{no:2047,name:"extras",kind:"message",T:()=>Oa}])}create(e){let t={engineId:"",requestId:"",requestedType:0,prompt:[],params:{oneofKind:void 0}};return globalThis.Object.defineProperty(t,Le,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.engineId=e.string();break;case 2:i.requestId=e.string();break;case 3:i.requestedType=e.int32();break;case 4:i.prompt.push(zo.internalBinaryRead(e,e.uint32(),n));break;case 5:i.params={oneofKind:"image",image:Am.internalBinaryRead(e,e.uint32(),n,i.params.image)};break;case 7:i.params={oneofKind:"classifier",classifier:$o.internalBinaryRead(e,e.uint32(),n,i.params.classifier)};break;case 8:i.params={oneofKind:"asset",asset:zm.internalBinaryRead(e,e.uint32(),n,i.params.asset)};break;case 11:i.params={oneofKind:"interpolate",interpolate:Dm.internalBinaryRead(e,e.uint32(),n,i.params.interpolate)};break;case 12:i.params={oneofKind:"transform",transform:Bm.internalBinaryRead(e,e.uint32(),n,i.params.transform)};break;case 6:i.conditioner=Sm.internalBinaryRead(e,e.uint32(),n,i.conditioner);break;case 2047:i.extras=Oa.internalBinaryRead(e,e.uint32(),n,i.extras);break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.engineId!==""&&t.tag(1,U.LengthDelimited).string(e.engineId),e.requestId!==""&&t.tag(2,U.LengthDelimited).string(e.requestId),e.requestedType!==0&&t.tag(3,U.Varint).int32(e.requestedType);for(let i=0;i<e.prompt.length;i++)zo.internalBinaryWrite(e.prompt[i],t.tag(4,U.LengthDelimited).fork(),n).join();e.params.oneofKind==="image"&&Am.internalBinaryWrite(e.params.image,t.tag(5,U.LengthDelimited).fork(),n).join(),e.params.oneofKind==="classifier"&&$o.internalBinaryWrite(e.params.classifier,t.tag(7,U.LengthDelimited).fork(),n).join(),e.params.oneofKind==="asset"&&zm.internalBinaryWrite(e.params.asset,t.tag(8,U.LengthDelimited).fork(),n).join(),e.params.oneofKind==="interpolate"&&Dm.internalBinaryWrite(e.params.interpolate,t.tag(11,U.LengthDelimited).fork(),n).join(),e.params.oneofKind==="transform"&&Bm.internalBinaryWrite(e.params.transform,t.tag(12,U.LengthDelimited).fork(),n).join(),e.conditioner&&Sm.internalBinaryWrite(e.conditioner,t.tag(6,U.LengthDelimited).fork(),n).join(),e.extras&&Oa.internalBinaryWrite(e.extras,t.tag(2047,U.LengthDelimited).fork(),n).join();let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},zs=new Nte,Mte=class extends Fe{constructor(){super("gooseai.OnStatus",[{no:1,name:"reason",kind:"enum",repeat:1,T:()=>["gooseai.FinishReason",Iy]},{no:2,name:"target",kind:"scalar",opt:!0,T:9},{no:3,name:"action",kind:"enum",repeat:1,T:()=>["gooseai.StageAction",fE,"STAGE_ACTION_"]}])}create(e){let t={reason:[],action:[]};return globalThis.Object.defineProperty(t,Le,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:if(o===U.LengthDelimited)for(let c=e.int32()+e.pos;e.pos<c;)i.reason.push(e.int32());else i.reason.push(e.int32());break;case 2:i.target=e.string();break;case 3:if(o===U.LengthDelimited)for(let c=e.int32()+e.pos;e.pos<c;)i.action.push(e.int32());else i.action.push(e.int32());break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){if(e.reason.length){t.tag(1,U.LengthDelimited).fork();for(let i=0;i<e.reason.length;i++)t.int32(e.reason[i]);t.join()}if(e.target!==void 0&&t.tag(2,U.LengthDelimited).string(e.target),e.action.length){t.tag(3,U.LengthDelimited).fork();for(let i=0;i<e.action.length;i++)t.int32(e.action[i]);t.join()}let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},jm=new Mte,Ote=class extends Fe{constructor(){super("gooseai.Stage",[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"request",kind:"message",T:()=>zs},{no:3,name:"on_status",kind:"message",repeat:1,T:()=>jm}])}create(e){let t={id:"",onStatus:[]};return globalThis.Object.defineProperty(t,Le,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.id=e.string();break;case 2:i.request=zs.internalBinaryRead(e,e.uint32(),n,i.request);break;case 3:i.onStatus.push(jm.internalBinaryRead(e,e.uint32(),n));break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.id!==""&&t.tag(1,U.LengthDelimited).string(e.id),e.request&&zs.internalBinaryWrite(e.request,t.tag(2,U.LengthDelimited).fork(),n).join();for(let i=0;i<e.onStatus.length;i++)jm.internalBinaryWrite(e.onStatus[i],t.tag(3,U.LengthDelimited).fork(),n).join();let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},$m=new Ote,Lte=class extends Fe{constructor(){super("gooseai.ChainRequest",[{no:1,name:"request_id",kind:"scalar",T:9},{no:2,name:"stage",kind:"message",repeat:1,T:()=>$m}])}create(e){let t={requestId:"",stage:[]};return globalThis.Object.defineProperty(t,Le,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.requestId=e.string();break;case 2:i.stage.push($m.internalBinaryRead(e,e.uint32(),n));break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.requestId!==""&&t.tag(1,U.LengthDelimited).string(e.requestId);for(let i=0;i<e.stage.length;i++)$m.internalBinaryWrite(e.stage[i],t.tag(2,U.LengthDelimited).fork(),n).join();let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},l6=new Lte,Vm=new _y("gooseai.GenerationService",[{name:"Generate",serverStreaming:!0,options:{},I:zs,O:wu},{name:"ChainGenerate",serverStreaming:!0,options:{},I:l6,O:wu}]),Fte=class{constructor(e){Gn(this,"typeName",Vm.typeName);Gn(this,"methods",Vm.methods);Gn(this,"options",Vm.options);this._transport=e}generate(e,t){let n=this.methods[0],r=this._transport.mergeOptions(t);return hi("serverStreaming",this._transport,n,r,e)}chainGenerate(e,t){let n=this.methods[1],r=this._transport.mergeOptions(t);return hi("serverStreaming",this._transport,n,r,e)}},Ex={};GO(Ex,{CreateProjectRequest:()=>u6,DeleteAssetsRequest:()=>b6,DeleteAssetsResponse:()=>x6,DeleteProjectRequest:()=>f6,GetProjectRequest:()=>h6,ListProjectRequest:()=>d6,Project:()=>zl,ProjectAccess:()=>Yh,ProjectAsset:()=>or,ProjectAssetUse:()=>Ry,ProjectService:()=>Wm,ProjectSortDir:()=>pE,ProjectStatus:()=>Xh,QueryAssetsRequest:()=>p6,QueryAssetsResponse:()=>m6,TagAssetsRequest:()=>g6,TagAssetsResponse:()=>y6,UntagAssetsRequest:()=>v6,UntagAssetsResponse:()=>w6,UpdateProjectRequest:()=>c6});var Yh=(e=>(e[e.PRIVATE=0]="PRIVATE",e[e.PUBLIC=1]="PUBLIC",e))(Yh||{}),Xh=(e=>(e[e.INACTIVE=0]="INACTIVE",e[e.ACTIVE=1]="ACTIVE",e[e.DELETED=2]="DELETED",e))(Xh||{}),Ry=(e=>(e[e.UNDEFINED=0]="UNDEFINED",e[e.INPUT=1]="INPUT",e[e.OUTPUT=2]="OUTPUT",e[e.INTERMEDIATE=3]="INTERMEDIATE",e[e.PROJECT=4]="PROJECT",e))(Ry||{}),pE=(e=>(e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.ASC=1]="ASC",e[e.DESC=2]="DESC",e))(pE||{}),Bte=class extends Fe{constructor(){super("gooseai.ProjectAsset",[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"uri",kind:"scalar",T:9},{no:3,name:"use",kind:"enum",T:()=>["gooseai.ProjectAssetUse",Ry,"PROJECT_ASSET_USE_"]},{no:4,name:"name",kind:"scalar",T:9},{no:5,name:"size",kind:"scalar",T:4,L:0},{no:6,name:"created_at",kind:"scalar",T:4,L:0},{no:7,name:"updated_at",kind:"scalar",T:4,L:0},{no:8,name:"request",kind:"message",T:()=>zs},{no:9,name:"tags",kind:"map",K:9,V:{kind:"scalar",T:9}}])}create(e){let t={id:"",uri:"",use:0,name:"",size:0n,createdAt:0n,updatedAt:0n,tags:{}};return globalThis.Object.defineProperty(t,Le,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.id=e.string();break;case 2:i.uri=e.string();break;case 3:i.use=e.int32();break;case 4:i.name=e.string();break;case 5:i.size=e.uint64().toBigInt();break;case 6:i.createdAt=e.uint64().toBigInt();break;case 7:i.updatedAt=e.uint64().toBigInt();break;case 8:i.request=zs.internalBinaryRead(e,e.uint32(),n,i.request);break;case 9:this.binaryReadMap9(i.tags,e,n);break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}binaryReadMap9(e,t,n){let r=t.uint32(),i=t.pos+r,a,s;for(;t.pos<i;){let[o,l]=t.tag();switch(o){case 1:a=t.string();break;case 2:s=t.string();break;default:throw new globalThis.Error("unknown map entry field for field gooseai.ProjectAsset.tags")}}e[a??""]=s??""}internalBinaryWrite(e,t,n){e.id!==""&&t.tag(1,U.LengthDelimited).string(e.id),e.uri!==""&&t.tag(2,U.LengthDelimited).string(e.uri),e.use!==0&&t.tag(3,U.Varint).int32(e.use),e.name!==""&&t.tag(4,U.LengthDelimited).string(e.name),e.size!==0n&&t.tag(5,U.Varint).uint64(e.size),e.createdAt!==0n&&t.tag(6,U.Varint).uint64(e.createdAt),e.updatedAt!==0n&&t.tag(7,U.Varint).uint64(e.updatedAt),e.request&&zs.internalBinaryWrite(e.request,t.tag(8,U.LengthDelimited).fork(),n).join();for(let i of Object.keys(e.tags))t.tag(9,U.LengthDelimited).fork().tag(1,U.LengthDelimited).string(i).tag(2,U.LengthDelimited).string(e.tags[i]).join();let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},or=new Bte,zte=class extends Fe{constructor(){super("gooseai.Project",[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"title",kind:"scalar",T:9},{no:3,name:"owner_id",kind:"scalar",T:9},{no:4,name:"access",kind:"enum",T:()=>["gooseai.ProjectAccess",Yh,"PROJECT_ACCESS_"]},{no:5,name:"status",kind:"enum",T:()=>["gooseai.ProjectStatus",Xh,"PROJECT_STATUS_"]},{no:6,name:"size",kind:"scalar",T:4,L:0},{no:7,name:"file",kind:"message",T:()=>or},{no:8,name:"created_at",kind:"scalar",T:4,L:0},{no:9,name:"updated_at",kind:"scalar",T:4,L:0},{no:10,name:"assets",kind:"message",repeat:1,T:()=>or}])}create(e){let t={id:"",title:"",ownerId:"",access:0,status:0,size:0n,createdAt:0n,updatedAt:0n,assets:[]};return globalThis.Object.defineProperty(t,Le,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.id=e.string();break;case 2:i.title=e.string();break;case 3:i.ownerId=e.string();break;case 4:i.access=e.int32();break;case 5:i.status=e.int32();break;case 6:i.size=e.uint64().toBigInt();break;case 7:i.file=or.internalBinaryRead(e,e.uint32(),n,i.file);break;case 8:i.createdAt=e.uint64().toBigInt();break;case 9:i.updatedAt=e.uint64().toBigInt();break;case 10:i.assets.push(or.internalBinaryRead(e,e.uint32(),n));break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.id!==""&&t.tag(1,U.LengthDelimited).string(e.id),e.title!==""&&t.tag(2,U.LengthDelimited).string(e.title),e.ownerId!==""&&t.tag(3,U.LengthDelimited).string(e.ownerId),e.access!==0&&t.tag(4,U.Varint).int32(e.access),e.status!==0&&t.tag(5,U.Varint).int32(e.status),e.size!==0n&&t.tag(6,U.Varint).uint64(e.size),e.file&&or.internalBinaryWrite(e.file,t.tag(7,U.LengthDelimited).fork(),n).join(),e.createdAt!==0n&&t.tag(8,U.Varint).uint64(e.createdAt),e.updatedAt!==0n&&t.tag(9,U.Varint).uint64(e.updatedAt);for(let i=0;i<e.assets.length;i++)or.internalBinaryWrite(e.assets[i],t.tag(10,U.LengthDelimited).fork(),n).join();let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},zl=new zte,Ute=class extends Fe{constructor(){super("gooseai.CreateProjectRequest",[{no:1,name:"title",kind:"scalar",T:9},{no:2,name:"owner_id",kind:"scalar",opt:!0,T:9},{no:3,name:"access",kind:"enum",T:()=>["gooseai.ProjectAccess",Yh,"PROJECT_ACCESS_"]},{no:4,name:"status",kind:"enum",T:()=>["gooseai.ProjectStatus",Xh,"PROJECT_STATUS_"]},{no:5,name:"file",kind:"message",T:()=>or}])}create(e){let t={title:"",access:0,status:0};return globalThis.Object.defineProperty(t,Le,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.title=e.string();break;case 2:i.ownerId=e.string();break;case 3:i.access=e.int32();break;case 4:i.status=e.int32();break;case 5:i.file=or.internalBinaryRead(e,e.uint32(),n,i.file);break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.title!==""&&t.tag(1,U.LengthDelimited).string(e.title),e.ownerId!==void 0&&t.tag(2,U.LengthDelimited).string(e.ownerId),e.access!==0&&t.tag(3,U.Varint).int32(e.access),e.status!==0&&t.tag(4,U.Varint).int32(e.status),e.file&&or.internalBinaryWrite(e.file,t.tag(5,U.LengthDelimited).fork(),n).join();let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},u6=new Ute,jte=class extends Fe{constructor(){super("gooseai.UpdateProjectRequest",[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"owner_id",kind:"scalar",opt:!0,T:9},{no:3,name:"title",kind:"scalar",opt:!0,T:9},{no:4,name:"access",kind:"enum",opt:!0,T:()=>["gooseai.ProjectAccess",Yh,"PROJECT_ACCESS_"]},{no:5,name:"status",kind:"enum",opt:!0,T:()=>["gooseai.ProjectStatus",Xh,"PROJECT_STATUS_"]},{no:6,name:"file",kind:"message",T:()=>or}])}create(e){let t={id:""};return globalThis.Object.defineProperty(t,Le,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.id=e.string();break;case 2:i.ownerId=e.string();break;case 3:i.title=e.string();break;case 4:i.access=e.int32();break;case 5:i.status=e.int32();break;case 6:i.file=or.internalBinaryRead(e,e.uint32(),n,i.file);break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.id!==""&&t.tag(1,U.LengthDelimited).string(e.id),e.ownerId!==void 0&&t.tag(2,U.LengthDelimited).string(e.ownerId),e.title!==void 0&&t.tag(3,U.LengthDelimited).string(e.title),e.access!==void 0&&t.tag(4,U.Varint).int32(e.access),e.status!==void 0&&t.tag(5,U.Varint).int32(e.status),e.file&&or.internalBinaryWrite(e.file,t.tag(6,U.LengthDelimited).fork(),n).join();let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},c6=new jte,$te=class extends Fe{constructor(){super("gooseai.ListProjectRequest",[{no:1,name:"owner_id",kind:"scalar",opt:!0,T:9}])}create(e){let t={};return globalThis.Object.defineProperty(t,Le,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.ownerId=e.string();break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.ownerId!==void 0&&t.tag(1,U.LengthDelimited).string(e.ownerId);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},d6=new $te,Vte=class extends Fe{constructor(){super("gooseai.GetProjectRequest",[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"owner_id",kind:"scalar",opt:!0,T:9}])}create(e){let t={id:""};return globalThis.Object.defineProperty(t,Le,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.id=e.string();break;case 2:i.ownerId=e.string();break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.id!==""&&t.tag(1,U.LengthDelimited).string(e.id),e.ownerId!==void 0&&t.tag(2,U.LengthDelimited).string(e.ownerId);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},h6=new Vte,Wte=class extends Fe{constructor(){super("gooseai.DeleteProjectRequest",[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"owner_id",kind:"scalar",opt:!0,T:9}])}create(e){let t={id:""};return globalThis.Object.defineProperty(t,Le,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.id=e.string();break;case 2:i.ownerId=e.string();break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.id!==""&&t.tag(1,U.LengthDelimited).string(e.id),e.ownerId!==void 0&&t.tag(2,U.LengthDelimited).string(e.ownerId);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},f6=new Wte,Gte=class extends Fe{constructor(){super("gooseai.QueryAssetsRequest",[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"owner_id",kind:"scalar",opt:!0,T:9},{no:3,name:"since",kind:"scalar",opt:!0,T:4,L:0},{no:4,name:"until",kind:"scalar",opt:!0,T:4,L:0},{no:5,name:"limit",kind:"scalar",opt:!0,T:4,L:0},{no:6,name:"start_key",kind:"scalar",opt:!0,T:9},{no:7,name:"use",kind:"enum",repeat:1,T:()=>["gooseai.ProjectAssetUse",Ry,"PROJECT_ASSET_USE_"]},{no:8,name:"sort_dir",kind:"enum",T:()=>["gooseai.ProjectSortDir",pE,"PROJECT_SORT_DIR_"]},{no:9,name:"tags",kind:"map",K:9,V:{kind:"scalar",T:9}}])}create(e){let t={id:"",use:[],sortDir:0,tags:{}};return globalThis.Object.defineProperty(t,Le,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.id=e.string();break;case 2:i.ownerId=e.string();break;case 3:i.since=e.uint64().toBigInt();break;case 4:i.until=e.uint64().toBigInt();break;case 5:i.limit=e.uint64().toBigInt();break;case 6:i.startKey=e.string();break;case 7:if(o===U.LengthDelimited)for(let c=e.int32()+e.pos;e.pos<c;)i.use.push(e.int32());else i.use.push(e.int32());break;case 8:i.sortDir=e.int32();break;case 9:this.binaryReadMap9(i.tags,e,n);break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}binaryReadMap9(e,t,n){let r=t.uint32(),i=t.pos+r,a,s;for(;t.pos<i;){let[o,l]=t.tag();switch(o){case 1:a=t.string();break;case 2:s=t.string();break;default:throw new globalThis.Error("unknown map entry field for field gooseai.QueryAssetsRequest.tags")}}e[a??""]=s??""}internalBinaryWrite(e,t,n){if(e.id!==""&&t.tag(1,U.LengthDelimited).string(e.id),e.ownerId!==void 0&&t.tag(2,U.LengthDelimited).string(e.ownerId),e.since!==void 0&&t.tag(3,U.Varint).uint64(e.since),e.until!==void 0&&t.tag(4,U.Varint).uint64(e.until),e.limit!==void 0&&t.tag(5,U.Varint).uint64(e.limit),e.startKey!==void 0&&t.tag(6,U.LengthDelimited).string(e.startKey),e.use.length){t.tag(7,U.LengthDelimited).fork();for(let i=0;i<e.use.length;i++)t.int32(e.use[i]);t.join()}e.sortDir!==0&&t.tag(8,U.Varint).int32(e.sortDir);for(let i of Object.keys(e.tags))t.tag(9,U.LengthDelimited).fork().tag(1,U.LengthDelimited).string(i).tag(2,U.LengthDelimited).string(e.tags[i]).join();let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},p6=new Gte,Hte=class extends Fe{constructor(){super("gooseai.QueryAssetsResponse",[{no:1,name:"assets",kind:"message",repeat:1,T:()=>or},{no:2,name:"last_key",kind:"scalar",opt:!0,T:9}])}create(e){let t={assets:[]};return globalThis.Object.defineProperty(t,Le,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.assets.push(or.internalBinaryRead(e,e.uint32(),n));break;case 2:i.lastKey=e.string();break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){for(let i=0;i<e.assets.length;i++)or.internalBinaryWrite(e.assets[i],t.tag(1,U.LengthDelimited).fork(),n).join();e.lastKey!==void 0&&t.tag(2,U.LengthDelimited).string(e.lastKey);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},m6=new Hte,qte=class extends Fe{constructor(){super("gooseai.TagAssetsRequest",[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"owner_id",kind:"scalar",opt:!0,T:9},{no:3,name:"asset_ids",kind:"scalar",repeat:2,T:9},{no:4,name:"tags",kind:"map",K:9,V:{kind:"scalar",T:9}}])}create(e){let t={id:"",assetIds:[],tags:{}};return globalThis.Object.defineProperty(t,Le,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.id=e.string();break;case 2:i.ownerId=e.string();break;case 3:i.assetIds.push(e.string());break;case 4:this.binaryReadMap4(i.tags,e,n);break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}binaryReadMap4(e,t,n){let r=t.uint32(),i=t.pos+r,a,s;for(;t.pos<i;){let[o,l]=t.tag();switch(o){case 1:a=t.string();break;case 2:s=t.string();break;default:throw new globalThis.Error("unknown map entry field for field gooseai.TagAssetsRequest.tags")}}e[a??""]=s??""}internalBinaryWrite(e,t,n){e.id!==""&&t.tag(1,U.LengthDelimited).string(e.id),e.ownerId!==void 0&&t.tag(2,U.LengthDelimited).string(e.ownerId);for(let i=0;i<e.assetIds.length;i++)t.tag(3,U.LengthDelimited).string(e.assetIds[i]);for(let i of Object.keys(e.tags))t.tag(4,U.LengthDelimited).fork().tag(1,U.LengthDelimited).string(i).tag(2,U.LengthDelimited).string(e.tags[i]).join();let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},g6=new qte,Kte=class extends Fe{constructor(){super("gooseai.TagAssetsResponse",[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"owner_id",kind:"scalar",T:9},{no:3,name:"asset_ids",kind:"scalar",repeat:2,T:9}])}create(e){let t={id:"",ownerId:"",assetIds:[]};return globalThis.Object.defineProperty(t,Le,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.id=e.string();break;case 2:i.ownerId=e.string();break;case 3:i.assetIds.push(e.string());break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.id!==""&&t.tag(1,U.LengthDelimited).string(e.id),e.ownerId!==""&&t.tag(2,U.LengthDelimited).string(e.ownerId);for(let i=0;i<e.assetIds.length;i++)t.tag(3,U.LengthDelimited).string(e.assetIds[i]);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},y6=new Kte,Yte=class extends Fe{constructor(){super("gooseai.UntagAssetsRequest",[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"owner_id",kind:"scalar",opt:!0,T:9},{no:3,name:"asset_ids",kind:"scalar",repeat:2,T:9},{no:4,name:"tag_keys",kind:"scalar",repeat:2,T:9}])}create(e){let t={id:"",assetIds:[],tagKeys:[]};return globalThis.Object.defineProperty(t,Le,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.id=e.string();break;case 2:i.ownerId=e.string();break;case 3:i.assetIds.push(e.string());break;case 4:i.tagKeys.push(e.string());break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.id!==""&&t.tag(1,U.LengthDelimited).string(e.id),e.ownerId!==void 0&&t.tag(2,U.LengthDelimited).string(e.ownerId);for(let i=0;i<e.assetIds.length;i++)t.tag(3,U.LengthDelimited).string(e.assetIds[i]);for(let i=0;i<e.tagKeys.length;i++)t.tag(4,U.LengthDelimited).string(e.tagKeys[i]);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},v6=new Yte,Xte=class extends Fe{constructor(){super("gooseai.UntagAssetsResponse",[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"owner_id",kind:"scalar",T:9},{no:3,name:"asset_ids",kind:"scalar",repeat:2,T:9}])}create(e){let t={id:"",ownerId:"",assetIds:[]};return globalThis.Object.defineProperty(t,Le,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.id=e.string();break;case 2:i.ownerId=e.string();break;case 3:i.assetIds.push(e.string());break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.id!==""&&t.tag(1,U.LengthDelimited).string(e.id),e.ownerId!==""&&t.tag(2,U.LengthDelimited).string(e.ownerId);for(let i=0;i<e.assetIds.length;i++)t.tag(3,U.LengthDelimited).string(e.assetIds[i]);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},w6=new Xte,Qte=class extends Fe{constructor(){super("gooseai.DeleteAssetsRequest",[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"owner_id",kind:"scalar",opt:!0,T:9},{no:3,name:"asset_ids",kind:"scalar",repeat:2,T:9}])}create(e){let t={id:"",assetIds:[]};return globalThis.Object.defineProperty(t,Le,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.id=e.string();break;case 2:i.ownerId=e.string();break;case 3:i.assetIds.push(e.string());break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.id!==""&&t.tag(1,U.LengthDelimited).string(e.id),e.ownerId!==void 0&&t.tag(2,U.LengthDelimited).string(e.ownerId);for(let i=0;i<e.assetIds.length;i++)t.tag(3,U.LengthDelimited).string(e.assetIds[i]);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},b6=new Qte,Zte=class extends Fe{constructor(){super("gooseai.DeleteAssetsResponse",[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"owner_id",kind:"scalar",T:9},{no:3,name:"asset_ids",kind:"scalar",repeat:2,T:9}])}create(e){let t={id:"",ownerId:"",assetIds:[]};return globalThis.Object.defineProperty(t,Le,{enumerable:!1,value:this}),e!==void 0&&De(this,t,e),t}internalBinaryRead(e,t,n,r){let i=r??this.create(),a=e.pos+t;for(;e.pos<a;){let[s,o]=e.tag();switch(s){case 1:i.id=e.string();break;case 2:i.ownerId=e.string();break;case 3:i.assetIds.push(e.string());break;default:let l=n.readUnknownField;if(l==="throw")throw new globalThis.Error(`Unknown field ${s} (wire type ${o}) for ${this.typeName}`);let u=e.skip(o);l!==!1&&(l===!0?oe.onRead:l)(this.typeName,i,s,o,u)}}return i}internalBinaryWrite(e,t,n){e.id!==""&&t.tag(1,U.LengthDelimited).string(e.id),e.ownerId!==""&&t.tag(2,U.LengthDelimited).string(e.ownerId);for(let i=0;i<e.assetIds.length;i++)t.tag(3,U.LengthDelimited).string(e.assetIds[i]);let r=n.writeUnknownFields;return r!==!1&&(r==!0?oe.onWrite:r)(this.typeName,e,t),t}},x6=new Zte,Wm=new _y("gooseai.ProjectService",[{name:"Create",options:{},I:u6,O:zl},{name:"Update",options:{},I:c6,O:zl},{name:"List",serverStreaming:!0,options:{},I:d6,O:zl},{name:"Get",options:{},I:h6,O:zl},{name:"Delete",options:{},I:f6,O:zl},{name:"TagAssets",options:{},I:g6,O:y6},{name:"UntagAssets",options:{},I:v6,O:w6},{name:"QueryAssets",options:{},I:p6,O:m6},{name:"DeleteAssets",options:{},I:b6,O:x6}]),Jte=class{constructor(e){Gn(this,"typeName",Wm.typeName);Gn(this,"methods",Wm.methods);Gn(this,"options",Wm.options);this._transport=e}create(e,t){let n=this.methods[0],r=this._transport.mergeOptions(t);return hi("unary",this._transport,n,r,e)}update(e,t){let n=this.methods[1],r=this._transport.mergeOptions(t);return hi("unary",this._transport,n,r,e)}list(e,t){let n=this.methods[2],r=this._transport.mergeOptions(t);return hi("serverStreaming",this._transport,n,r,e)}get(e,t){let n=this.methods[3],r=this._transport.mergeOptions(t);return hi("unary",this._transport,n,r,e)}delete(e,t){let n=this.methods[4],r=this._transport.mergeOptions(t);return hi("unary",this._transport,n,r,e)}tagAssets(e,t){let n=this.methods[5],r=this._transport.mergeOptions(t);return hi("unary",this._transport,n,r,e)}untagAssets(e,t){let n=this.methods[6],r=this._transport.mergeOptions(t);return hi("unary",this._transport,n,r,e)}queryAssets(e,t){let n=this.methods[7],r=this._transport.mergeOptions(t);return hi("unary",this._transport,n,r,e)}deleteAssets(e,t){let n=this.methods[8],r=this._transport.mergeOptions(t);return hi("unary",this._transport,n,r,e)}},j4=()=>4,$4=e=>({prompts:[{text:e,weight:1},{text:"",weight:-.75}],model:"stable-diffusion-xl-beta-v2-2-2",sampler:{id:"0",name:"DDIM"},style:"enhance",width:512,height:512,cfgScale:7,steps:50}),ene=nee(({context:e,set:t})=>{let n=r=>{if(!r)return{createStableDiffusionImages:void 0,getStableDiffusionExistingImages:void 0,getStableDiffusionModels:void 0,deleteStableDiffusionImages:void 0,getStatus:()=>({indicator:"error",text:"Missing API key"})};let i=new eee({baseUrl:"https://grpc.stability.ai",meta:{Authorization:`Bearer ${r}`,"stability-client-id":"StableStudio","stability-client-version":e.getGitHash()}}),a=new Fte(i),s=new Kee(i),o=new Jte(i);return{createStableDiffusionImages:async l=>{let u=l?.count??j4(),c=$4(e.getStableDiffusionRandomPrompt()),h={...c,...l?.input},p=h.width??c.width,m=h.height??c.height,g=h.prompts?.map(({text:_=e.getStableDiffusionRandomPrompt(),weight:A})=>rn.Prompt.create({prompt:{oneofKind:"text",text:_},parameters:{weight:A}}))??[];h.maskImage?.blob&&g.push(rn.Prompt.create({parameters:{init:!1,weight:1},prompt:{oneofKind:"artifact",artifact:rn.Artifact.create({type:rn.ArtifactType.ARTIFACT_MASK,mime:"image/png",data:{oneofKind:"binary",binary:new Uint8Array(await h.maskImage.blob.arrayBuffer())}})}})),h.initialImage?.blob&&g.push(rn.Prompt.create({parameters:{init:!0,weight:h.initialImage.weight},prompt:{oneofKind:"artifact",artifact:rn.Artifact.create({type:rn.ArtifactType.ARTIFACT_IMAGE,mime:"image/png",data:{oneofKind:"binary",binary:new Uint8Array(await h.initialImage.blob.arrayBuffer())}})}})),console.log(h.sampler.id?parseInt(h.sampler.id):0);let y=rn.ImageParameters.create({width:BigInt(p),height:BigInt(m),steps:BigInt(h.steps),samples:BigInt(u),seed:Array.from({length:u},()=>h.seed??0),transform:rn.TransformType.create({type:{oneofKind:"diffusion",diffusion:h.sampler.id?parseInt(h.sampler.id):0}}),parameters:[rn.StepParameter.create({sampler:rn.SamplerParameters.create({cfgScale:h.cfgScale}),scaledStep:0,schedule:rn.ScheduleParameters.create({start:h.initialImage?1-(h.initialImage.weight??0):1})})]}),b=(h.style||h.width!==h.height)&&{extras:Oa.fromJson({$IPC:{preset:h.style,...h.width!==h.height&&{mode:"multistage"}}})},w=a.chainGenerate({requestId:"",stage:[{id:"Main",request:rn.Request.create({prompt:g,engineId:h.model,requestedType:rn.ArtifactType.ARTIFACT_IMAGE,params:{oneofKind:"image",image:y},...b}),onStatus:[{target:"Asset",reason:[],action:[rn.StageAction.PASS,rn.StageAction.RETURN]}]},{id:"Asset",request:rn.Request.create({engineId:"asset-service",params:{oneofKind:"asset",asset:{projectId:"",action:rn.AssetAction.ASSET_PUT,use:rn.AssetUse.OUTPUT}}}),onStatus:[{action:[rn.StageAction.RETURN],reason:[]}]}]}),x,k=[];for await(let _ of w.responses)for(let A of _.artifacts){if(A.type===rn.ArtifactType.ARTIFACT_TEXT&&A.finishReason===rn.FinishReason.FILTER)throw new Bt("Banned word detected!","BANNED_TERM");A.type===rn.ArtifactType.ARTIFACT_IMAGE&&A.data.oneofKind==="binary"&&(x=_.requestId,k.push({input:{...h,seed:A.seed},id:A.uuid,blob:new Blob([A.data.binary],{type:"image/png"})}))}return x?{id:x,images:k}:void 0},getStableDiffusionExistingImages:async l=>{let{limit:u,exclusiveStartImageID:c}={limit:25,...l};if(u<=0)return[];let{response:h}=await o.queryAssets({id:"",limit:BigInt(u),startKey:c,use:[Ex.ProjectAssetUse.OUTPUT],sortDir:Ex.ProjectSortDir.DESC,tags:{}}),p=h.assets.reduce((m,g)=>{if(!g.request||g.request.params.oneofKind!=="image")return m;let y=g.request.prompt.reduce((G,M)=>M.prompt.oneofKind!=="artifact"||M.prompt.artifact.data.oneofKind!=="text"?G:[...G,{text:M.prompt.artifact.data.text,weight:M.parameters?.weight??1}],[]);if(y.length===0)return m;let b=g.request.requestId.split(":")[0];if(!b)return m;let w=g.id,x=new Date(Number(g.createdAt)*1e3),k=g.request.engineId,_=Gm(g.request.extras?.fields).$IPC?.preset,A=g.request.params.image.width?Number(g.request.params.image.width):void 0,P=g.request.params.image.height?Number(g.request.params.image.height):void 0,N=g.request.params.image.parameters.reduce((G,M)=>M.sampler?.cfgScale?Number(M.sampler.cfgScale):void 0,void 0),B=g.request.params.image.steps?Number(g.request.params.image.steps):void 0,j=g.request.params.image.seed[0]?Number(g.request.params.image.seed[0]):void 0,W={prompts:y,model:k,style:_,width:A,height:P,cfgScale:N,steps:B,seed:j},K=g.uri?.replace("https://object.lga1.coreweave.com/stability-staging-assets","https://staging-cdn.stability.ai/assets")?.replace("https://object.lga1.coreweave.com/stability-assets","https://cdn.stability.ai/assets"),z={id:w,createdAt:x,input:W,blob:fetch(K).then(G=>G.blob())};return{...m,[b]:{...m[b],...c===w&&{exclusiveStartImageID:w},images:[...m[b]?.images??[],z],id:b}}},{});return Promise.all(Object.values(p).map(async({id:m,images:g})=>({id:m,images:await Promise.all(g?.map(async({blob:y,...b})=>({...b,blob:await y}))),exclusiveStartImageID:g?.[g.length-1]?.id})))},getStableDiffusionModels:async()=>(await(await s.listEngines({})).response.engine).filter(l=>l.type===1&&l.ready),deleteStableDiffusionImages:async l=>{let u=l?.imageIDs;u&&await o.deleteAssets({id:"",assetIds:u})},getStatus:()=>({indicator:"success",text:"Ready"})}};return{...n(localStorage.getItem("stability-apiKey")??void 0),getStableDiffusionSamplers:()=>[{id:"0",name:"DDIM"},{id:"1",name:"DDPM"},{id:"2",name:"K Euler"},{id:"3",name:"K Euler Ancestral"},{id:"4",name:"K Heun"},{id:"5",name:"K DPM 2"},{id:"6",name:"K DPM 2 Ancestral"},{id:"7",name:"K LMS"},{id:"8",name:"K DPM++ 2S Ancestral"},{id:"9",name:"K DPM++ 2M"},{id:"10",name:"K DPM++ SDE"}],getStableDiffusionStyles:()=>[{id:"enhance",name:"Enhance",image:"https://dreamstudio.ai/presets/enhance.png"},{id:"anime",name:"Anime",image:"https://dreamstudio.ai/presets/anime.png"},{id:"photographic",name:"Photographic",image:"https://dreamstudio.ai/presets/photographic.png"},{id:"digital-art",name:"Digital art",image:"https://dreamstudio.ai/presets/digital-art.png"},{id:"comic-book",name:"Comic book",image:"https://dreamstudio.ai/presets/comic-book.png"},{id:"fantasy-art",name:"Fantasy art",image:"https://dreamstudio.ai/presets/fantasy-art.png"},{id:"analog-film",name:"Analog film",image:"https://dreamstudio.ai/presets/analog-film.png"},{id:"neon-punk",name:"Neon punk",image:"https://dreamstudio.ai/presets/neon-punk.png"},{id:"isometric",name:"Isometric",image:"https://dreamstudio.ai/presets/isometric.png"},{id:"low-poly",name:"Low poly",image:"https://dreamstudio.ai/presets/low-poly.png"},{id:"origami",name:"Origami",image:"https://dreamstudio.ai/presets/origami.png"},{id:"line-art",name:"Line art",image:"https://dreamstudio.ai/presets/line-art.png"},{id:"modeling-compound",name:"Craft clay",image:"https://dreamstudio.ai/presets/modeling-compound.png"},{id:"cinematic",name:"Cinematic",image:"https://dreamstudio.ai/presets/cinematic.png"},{id:"3d-model",name:"3D model",image:"https://dreamstudio.ai/presets/3d-model.png"},{id:"pixel-art",name:"Pixel art",image:"https://dreamstudio.ai/presets/pixel-art.png"}],getStableDiffusionDefaultCount:j4,getStableDiffusionDefaultInput:()=>$4(e.getStableDiffusionRandomPrompt()),settings:{apiKey:{type:"string",title:"API key",description:"You can find your Stability API key at https://dreamstudio.ai/account",placeholder:"sk-...",required:!0,password:!0,value:localStorage.getItem("stability-apiKey")??""}},setSetting:(r,i)=>{t(({settings:a})=>({settings:{...a,[r]:{...a[r],value:i}}})),r==="apiKey"&&typeof i=="string"&&(localStorage.setItem("stability-apiKey",i),t(a=>({...a,...n(i)})))},manifest:{author:"Stability AI",description:tne,name:"Stability AI",license:"MIT",link:"https://stability.ai",version:"0.0.0",icon:"https://stability.ai/favicon.ico"}}});function Gm(e){if(e){if(e.kind?.oneofKind==="structValue")return Gm(e.kind.structValue.fields);if(e.kind?.oneofKind==="listValue")return e.listValue.values.map(Gm);if(e.kind?.oneofKind==="numberValue")return Number(e.kind.numberValue);if(e.kind?.oneofKind==="stringValue")return e.kind.stringValue;if(e.kind?.oneofKind==="boolValue")return e.kind.boolValue;if(e.kind?.oneofKind===void 0)return{...Object.keys(e).reduce((t,n)=>({...t,[n]:Gm(e[n])}),{})}}}var tne=`
# Welcome to StableStudio!

## [ README](https://github.com/Stability-AI/StableStudio)  [ Discord](https://discord.com/channels/1002292111942635562/1108055793674227782)  [ DreamStudio](https://dreamstudio.ai)  [ Discussion](https://github.com/Stability-AI/StableStudio/discussions)

# Setup

To get started, you'll need to sign up for a [DreamStudio](https://dreamstudio.ai) account.

Once you're logged in, head to the [account page](https://dreamstudio.ai/account).

You should see a section called \`API keys\`...
![](/media/api_keys_screenshot.png)

If you don't already have a key, you can create one via the plus button...
![](/media/create_api_key_screenshot.png)

You can copy your API key by clicking the copy button...
![](/media/copy_api_key_screenshot.png)

You'll be asked to accept the terms of service.

Now, paste the key into the field below...

The plugin status should change to \`Ready\` once everything is working.
`;const nne=Object.freeze(Object.defineProperty({__proto__:null,createPlugin:ene},Symbol.toStringTag,{value:"Module"}));var V4=e=>{let t,n=new Set,r=(s,o)=>{let l=typeof s=="function"?s(t):s;if(!Object.is(l,t)){let u=t;t=o??typeof l!="object"?l:Object.assign({},t,l),n.forEach(c=>c(t,u))}},i=()=>t,a={setState:r,getState:i,subscribe:s=>(n.add(s),()=>n.delete(s)),destroy:()=>{({VITE_GIT_HASH:"76772d7b9a4e6d87bd87c26665f7ab74cd40f2cd",BASE_URL:"/extensions/omni-extension-stability/",MODE:"preview",DEV:!1,PROD:!0,SSR:!1}&&"preview")!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}};return t=e(r,i,a),a},rne=e=>e?V4(e):V4,ine=e=>t=>rne((n,r)=>e({set:n,get:r,context:t}));function Vw(e,t=""){return fetch(`data:${t};base64,${e}`).then(n=>n.blob())}function W4(e){return new Promise((t,n)=>{let r=new FileReader;r.onloadend=()=>t(r.result),r.onerror=n,r.readAsDataURL(e)})}async function ane(e){return await(await fetch(`${e}/sdapi/v1/options`,{method:"GET",headers:{"Content-Type":"application/json"}})).json()}async function sne(e,t){return await(await fetch(`${e}/sdapi/v1/options`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).json()}async function one(e,t){let n=(await(await fetch(`${e}/sdapi/v1/png-info`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({image:t})})).json()).info.split(`
`),r={};if(n.length===0)return r;r.prompt=n[0];let i=1;return n.length===3&&(r.nagtivePrompt=n[1].split(":")[1].trim(),i=2),n[i].split(",").map(a=>{let s=a.trim().split(":");r[s[0]]=s[1].trim()}),r}async function lne(e){let t=Promise.race([fetch(`${e}/StableStudio/get-generated-images`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({limit:1})}),new Promise((n,r)=>setTimeout(()=>r(new Error("Request timed out")),1e3))]);try{return await t,t.ok}catch{return!1}}async function une(e,t=!1,n){let{sampler:r,prompts:i,initialImage:a,maskImage:s,width:o,height:l,steps:u}=e?.input??{},c={seed:e?.input?.seed===0?-1:e?.input?.seed,cfgScale:e?.input?.cfgScale??7};if(t?(c.upscaling_resize_w=o??512,c.upscaling_resize_h=l??512,c.upscaler_1=n):(c.width=o??512,c.height=l??512,c.sampler_name=r?.name??"",c.sampler_index=r?.name??"",c.prompt=i?.find(h=>(h.text&&(h.weight??0)>0)??0>0)?.text??"",c.negative_prompt=i?.find(h=>(h.text&&(h.weight??0)<0)??0<0)?.text??"",c.steps=u??20,c.batch_size=e?.count,c.save_images=!0),a?.weight&&!t&&(c.denoising_strength=1-a.weight),a?.blob){let h=await W4(a?.blob);t?c.image=h.split(",")[1]:c.init_images=[h.split(",")[1]]}if(s?.blob){let h=await W4(s?.blob);c.mask=h.split(",")[1],c.inpainting_mask_invert=1,c.inpainting_fill=1,c.inpaint_full_res=!1}return c}var cne={name:"stable-diffusion-webui",author:"Terry Jia",link:"https://github.com/jtydhr88",icon:`${window.location.origin}/DummyImage.png`,version:"0.0.0",license:"MIT",description:"This plugin uses [`stable-diffusion-webui`](https://github.com/AUTOMATIC1111/stable-diffusion-webui) as its back-end for inference"},G4=[{label:"None",value:"None"},{label:"Lanczos",value:"Lanczos"},{label:"Nearest",value:"Nearest"},{label:"ESRGAN_4x",value:"ESRGAN_4x"},{label:"LDSR",value:"LDSR"},{label:"R-ESRGAN 4x+",value:"R-ESRGAN 4x+"},{label:"R-ESRGAN 4x+ Anime6B",value:"R-ESRGAN 4x+ Anime6B"},{label:"ScuNET GAN",value:"ScuNET GAN"},{label:"ScuNET PSNR",value:"ScuNET PSNR"},{label:"SwinIR_4x",value:"SwinIR_4x"}],dne=(e,t)=>{let n=t;return e&&(n=Number(e)),n},hne=()=>4,fne=ine(({set:e,get:t})=>{let n=i=>({createStableDiffusionImages:async a=>{if(!a)throw new Error("options is required");let s=await ane(i),{model:o,sampler:l,initialImage:u}=a?.input??{};a.count=a?.count??hne(),l?.name&&localStorage.setItem("webui-saved-sampler",l.name),o&&localStorage.setItem("webui-saved-model",o);let c=a?.input?.initialImage?.weight===1&&o==="esrgan-v1-x2plus";o&&o!==s.sd_model_checkpoint&&!c&&(localStorage.setItem("webui-saved-model",o),(await sne(i,{sd_model_checkpoint:o})).ok&&console.log("applied model"));let h=await une(a,c,t().settings.upscaler.value),p=await(await fetch(u?c?`${i}/sdapi/v1/extra-single-image`:`${i}/sdapi/v1/img2img`:`${i}/sdapi/v1/txt2img`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(h)})).json(),m=[],g=new Date;if(c){let y=await Vw(p.image,"image/jpeg"),b={id:`${Math.random()*1e7}`,createdAt:g,blob:y,input:{model:o??""}};m.push(b)}else{let y=p.images.length>h.batch_size?1:0;for(let b=y;b<p.images.length;b++){let w=await Vw(p.images[b],"image/jpeg"),x={id:`${Math.random()*1e7}`,createdAt:g,blob:w,input:{prompts:a?.input?.prompts??[],steps:a?.input?.steps??0,seed:p.images[b].seed,model:o??"",width:a?.input?.width??512,height:a?.input?.height??512,cfgScale:a?.input?.cfgScale??7,sampler:l??{id:"",name:""}}};m.push(x)}}return{id:`${Math.random()*1e7}`,images:m}},getStableDiffusionModels:async()=>(await(await fetch(`${i}/sdapi/v1/sd-models`)).json()).map(a=>({id:a.title,name:a.model_name})),getStatus:async()=>{let a=await fetch(`${i}/sdapi/v1/options`),s=await lne(`${i}`);return a.ok?{indicator:s?"success":"info",text:`Ready ${s?"with":"without"} history plugin`}:{indicator:"error",text:"unable to connect webui on "+i}}}),r=localStorage.getItem("webui-host-url");return(!r||r==="")&&(r="http://127.0.0.1:7861"),{...n(r),getStableDiffusionDefaultCount:()=>4,getStableDiffusionDefaultInput:()=>({steps:20,sampler:{id:localStorage.getItem("webui-saved-sampler")??"",name:localStorage.getItem("webui-saved-sampler")??""},model:localStorage.getItem("webui-saved-model")??""}),getStableDiffusionSamplers:async()=>(await(await fetch(`${r}/sdapi/v1/samplers`)).json()).map(i=>({id:i.name,name:i.name})),getStableDiffusionExistingImages:async()=>{let i=await fetch(`${r}/StableStudio/get-generated-images`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({limit:t().settings.historyImagesCount.value})});i.ok||console.warn("unable to get existing data from webui");let a=await i.json(),s=[];for(let o=0;o<a.length;o++){let l=await one(r,a[o].content),u=await Vw(a[o].content,"image/jpeg"),c=a[o].create_date*1e3,h=new Date(c),p={id:a[o].image_name,createdAt:h,blob:u,input:{prompts:[{text:l.prompt,weight:l["CFG scale"]}],style:"",steps:Number(l.Steps)??-1,seed:Number(l.Seed)??-1,model:l.Model??"",width:a[o].width,height:a[o].height}};s.push(p)}return[{id:`${Math.random()*1e7}`,images:s}]},settings:{baseUrl:{type:"string",title:"Host URL",placeholder:"http://127.0.0.1:7861",value:localStorage.getItem("webui-host-url")??"",description:"The URL of the `stable-diffusion-webui` host, usually http://127.0.0.1:7861"},upscaler:{type:"string",title:"Upscaler 1",options:G4,value:localStorage.getItem("upscaler1")??G4[0].value,description:"Select the upscaler used when downloading images at more than 1x size"},historyImagesCount:{type:"number",title:"History image count",description:"How many images should be fetched from local history?",min:0,max:50,step:1,variant:"slider",value:dne(localStorage.getItem("historyImagesCount"),20)}},setSetting:(i,a)=>{e(({settings:s})=>({settings:{...s,[i]:{...s[i],value:a}}})),i==="baseUrl"&&typeof a=="string"?(localStorage.setItem("webui-host-url",a),e(s=>({...s,...n(a)}))):i==="upscaler"&&typeof a=="string"?localStorage.setItem("upscaler1",a):i==="historyImagesCount"&&typeof a=="number"&&localStorage.setItem("historyImagesCount",a.toString())},manifest:cne}});const pne=Object.freeze(Object.defineProperty({__proto__:null,createPlugin:fne},Symbol.toStringTag,{value:"Module"}));function mne(e,t){var n=Object.setPrototypeOf;n?n(e,t):e.__proto__=t}function gne(e,t){t===void 0&&(t=e.constructor);var n=Error.captureStackTrace;n&&n(e,t)}var yne=function(){var e=function(n,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(i[s]=a[s])},e(n,r)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),vne=function(e){yne(t,e);function t(n,r){var i=this.constructor,a=e.call(this,n,r)||this;return Object.defineProperty(a,"name",{value:i.name,enumerable:!1,configurable:!0}),mne(a,i.prototype),gne(a),a}return t}(Error),Vo;(e=>{const t={VITE_GIT_HASH:"76772d7b9a4e6d87bd87c26665f7ab74cd40f2cd",VITE_USE_EXAMPLE_PLUGIN:{}.VITE_USE_EXAMPLE_PLUGIN??"false",VITE_USE_WEBUI_PLUGIN:{}.VITE_USE_WEBUI_PLUGIN??"false"};function n(a){return t[`VITE_${a}`]}e.get=n;class r extends vne{constructor(s){s.map(o=>`\`${o}\` is \`undefined\`!`),super(s.join(`
`))}}e.MissingVariablesError=r;function i({children:a}){return useEffect(()=>{const s=Object.entries(t).filter(([,o])=>`${o??""}`=="").map(([o])=>o);if(s[0])throw new e.MissingVariablesError(s)},[]),C(rt,{children:a})}e.Provider=i})(Vo||(Vo={}));var Nn;(e=>{e.get=()=>{const{rootPlugin:n,activePluginID:r,plugins:i}=ws.use.getState();return(r?i[r]?.plugin:n).getState()};function t(n=r=>r){const r=ws.use(({rootPlugin:i,activePluginID:a,plugins:s})=>a&&s[a]?.plugin?s[a].plugin:i);return et.useStore(r,n)}e.use=t,e.useUnload=()=>useCallback(n=>{ws.use.getState().setPlugins(({[n]:r,...i})=>i),ws.use.getState().setActivePluginID()},[]),e.useSetup=()=>{const[n,r]=useState(void 0),[i,a]=useState(!1),s=useCallback(async o=>{try{a(!0);const u=(await uJ(()=>import(o),[])).createPlugin({getGitHash:()=>Vo.get("GIT_HASH"),getStableDiffusionRandomPrompt:()=>re.Image.Prompt.Random.get()}),c=ID.create();return ws.use.getState().setPlugins(h=>({...h,[c]:{enabled:!0,index:Object.keys(h).length,plugin:u}})),ws.use.getState().setActivePluginID(c),a(!1),u}catch(l){a(!1),r(l instanceof Error?l:new Error("Failed to load plugin"));return}},[]);return{error:n,setError:r,isLoading:i,loadFromURL:s,getFromURL:doNothing}}})(Nn||(Nn={}));var ws;(e=>{e.use=et.create(t=>{const{createPlugin:n}=Vo.get("USE_EXAMPLE_PLUGIN")==="true"?fJ:Vo.get("USE_WEBUI_PLUGIN")==="true"?pne:nne;return{rootPlugin:n({getGitHash:()=>Vo.get("GIT_HASH"),getStableDiffusionRandomPrompt:()=>re.Image.Prompt.Random.get()}),setActivePluginID:r=>t({activePluginID:r}),plugins:{},setPlugins:r=>t(typeof r=="function"?({plugins:i})=>({plugins:r(i)}):{plugins:r})}})})(ws||(ws={}));function wne({id:e,noTitle:t,noBrand:n,disabled:r,onIdleClick:i,onClick:a,children:s,...o}){const l=re.Image.Create.useIsEnabled(),{input:u}=re.Image.Input.use(e),c=useCallback(p=>{a?.(p),i?.(p)},[i,a]),h=useMemo(()=>u&&re.Image.Model.StableDiffusionV1.validate(u),[u]);return u?C(H.Button,{size:"lg",color:n?"zinc":"brand",icon:H.Icon.Dream,disabled:r||!l||!h,onClick:c,...o,children:s??(!t&&C(rt,{children:"Dream"}))}):null}var Tx;(e=>{e.Button=wne;let t;(r=>{const o=sJ(1,500,!0);r.wait=()=>o(()=>Promise.resolve())})(t||(t={})),e.execute=async({count:r=re.Image.Count.preset(),input:i,onStarted:a=doNothing,onException:s=doNothing,onSuccess:o=doNothing,onFinished:l=doNothing})=>{const{createStableDiffusionImages:u}=Nn.get();try{if(!u)throw new Error("Plugin not found");n.set(new Date),a(),await t.wait();const c=await re.Image.Input.resizeInit(i),h=await re.Image.Input.toInput(c?{...i,init:{base64:c,weight:i.init?.weight??1,mask:i.init?.mask??!1}}:i);re.Image.Input.isUpscaling(i)||(h.height=Math.ceil((h.height??512)/64)*64,h.width=Math.ceil((h.width??512)/64)*64);const p=[],m=await u({input:h,count:r});if(m instanceof Error)throw m;if(!m||!m?.images||m?.images?.length<=0)throw new Error;const g={};for(const y of m.images){const b=ID.create(),w={...re.Image.Input.initial(b),...i,seed:y.input?.seed??i.seed,id:b},x=await bne(y,w);x&&(p.push(x),g[b]=w)}return re.Image.Inputs.set({...re.Image.Inputs.get(),...g}),o(p),l(p),p}catch(c){const h=re.Image.Exception.create(c);return s(h),l(h),h}},e.use=()=>{const r=re.Image.Exception.Snackbar.use();return useCallback(async({inputID:i,onStarted:a=doNothing,onException:s=doNothing,onSuccess:o=doNothing,onFinished:l=doNothing,modifiers:u={}})=>{let c=re.Image.Input.get(i);if(!c)return;c={...c,...u};const h=re.Image.Output.requested(i,u);return(0,e.execute)({count:u.count??re.Image.Count.get(),input:c,onStarted:()=>{re.Image.Output.set(h),a(h)},onException:p=>{r(p),s(p),re.Image.Output.clear(h.id)},onSuccess:p=>{p.forEach(re.Image.add),o(p)},onFinished:p=>{re.Image.Output.received(h.id,p),l(p)}})},[r])},e.useIsEnabled=()=>Nn.use(({createStableDiffusionImages:r})=>!!r);let n;(r=>{r.get=()=>i.get().latest,r.set=a=>i.get().setLatest(a),r.use=()=>i.use(({latest:a})=>a,et.shallow);let i;(a=>{const s=et.create(o=>({setLatest:l=>o({latest:l})}));a.get=()=>s.getState(),a.use=s})(i||(i={}))})(n=e.Latest||(e.Latest={}))})(Tx||(Tx={}));function bne(e,t){return new Promise(n=>{const r=e.id,i=e.blob;if(!i||!r)return n();const a=document.createElement("canvas");a.width=t.width,a.height=t.height;const s=a.getContext("2d"),o=new window.Image;o.src=URL.createObjectURL(i),o.onload=()=>{s.drawImage(o,0,0,t.width,t.height,0,0,t.width,t.height),a.toBlob(l=>{if(l){const u=URL.createObjectURL(l);n({id:r,inputID:t.id,created:new Date,src:u,finishReason:0})}})}})}function bh(){const{image:e,setImage:t,fileName:n,setFileName:r,upscale:i,setUpscale:a}=bh.State.use(),s=re.Image.Session.useUpscale(e),[o,l]=useState(!1),u=re.Image.Download.use(e),c=e&&re.Image.Input.get(e.inputID),h=re.Image.Input.isUpscaling(c||{});useEffect(()=>{e&&(c&&r(re.Image.Download.fileName(c)),a(h))},[h,e,c,r,a]);const p=useCallback(async()=>{if(!e)return;l(!0);const g=await s();if(l(!1),Array.isArray(g))return g[0]},[s,e]),m=i&&!h;return C(H.Modal,{modalName:"Download",open:!!e,onClose:()=>t(),children:e&&ne(H.Modal.Panel,{className:"flex w-[25rem] grow",children:[C(H.Modal.TopBar,{onClose:()=>t(),children:C(H.Modal.Title,{className:"text-lg",children:"Download"})}),ne("div",{className:"flex flex-col gap-3 p-2",children:[ne("div",{className:"flex items-center justify-between",children:[ne("div",{className:"flex flex-col gap-1",children:[C(H.Label,{className:"mb-0 ml-0",children:"File name"}),C(H.Input,{fullWidth:!0,onFocus:g=>{const y=g.target.value,b=y.slice(y.lastIndexOf("."));g.target.setSelectionRange(0,y.length-b.length)},placeholder:"File name",value:n,onChange:r})]}),ne("div",{className:"flex flex-col gap-1",children:[C(H.Label,{className:"mb-0 ml-0",children:"Upscale"}),C(H.Dropdown,{fullWidth:!0,className:"mx-0",options:[{label:"1x",value:"1x"},{label:"2x",value:"2x"}],value:i?"2x":"1x",onChange:g=>a(g.value==="2x"),disabled:h})]})]}),C(H.Button,{fullWidth:!0,size:"lg",color:"brand",icon:H.Icon.Download,loading:o,badgeRight:m&&C(H.Badge,{color:"brand",children:"0.2"}),onClick:()=>{!e||!c||(m?p().then(g=>{g&&u(g),t()}):(u(),t()))},children:o?"Upscaling...":m?"Upscale and download":"Download"})]})]})})}(e=>{(t=>{t.use=et.create(n=>({setImage:r=>n(i=>({...i,image:r})),setFileName:r=>n(i=>({...i,fileName:r})),setUpscale:r=>n(i=>({...i,upscale:r})),upscale:!1}))})(e.State||(e.State={}))})(bh||(bh={}));var _x;(e=>{e.Modal=bh,e.fileName=t=>{const r=(t.prompts.map(({text:s})=>s).join(" ")??"").slice(0,50),i=t.model.replace("stable-diffusion-","").replace("stable-","");return`${t.seed}_${r}_${i}.png`},e.execute=async(t,n,r)=>{const i=await re.Image.blobURL(t);if(!i)return;const a=document.createElement("a");a.href=i,a.download=r??(0,e.fileName)(n),a.click()},e.use=t=>{const{image:n,fileName:r,setImage:i}=bh.State.use();return useCallback(async a=>{if(a){const o=re.Image.Input.get(a.inputID);if(o)return(0,e.execute)(a,o)}if(!t)return;const s=re.Image.Input.get(t.inputID);s&&(t===n?await(0,e.execute)(t,s,r):i(t))},[r,t,n,i])}})(_x||(_x={}));class xne extends Error{constructor(t,n="UNKNOWN",r){super(t),this.name="RpcError",Object.setPrototypeOf(this,new.target.prototype),this.code=n,this.meta=r??{}}toString(){const t=[this.name+": "+this.message];this.code&&(t.push(""),t.push("Code: "+this.code)),this.serviceName&&this.methodName&&t.push("Method: "+this.serviceName+"/"+this.methodName);let n=Object.entries(this.meta);if(n.length){t.push(""),t.push("Meta:");for(let[r,i]of n)t.push(`  ${r}: ${i}`)}return t.join(`
`)}}var Ix;(e=>{e.use=()=>{const{enqueueSnackbar:t}=H.Snackbar.use();return useCallback(n=>t(n.description,{variant:"error"}),[t])}})(Ix||(Ix={}));var Px;(e=>{e.Snackbar=Ix;const t="Something went wrong on our end, please try again later";function n(o){if(!o&&typeof o!="object")return!1;const l=o;return l.cause instanceof Error&&(l.status===void 0||typeof l.status=="string")&&typeof l.description=="string"}e.is=n;function r(o={}){if(console.error(o),o instanceof xne||o instanceof Error&&o.name==="RpcError"){const u=o;return{cause:u,description:i(u),status:a(u)?"BANNED_TERM":s(u)?"OUT_OF_CREDITS":u.code}}const l=o instanceof Error?o:new Error(toJSON(o));return{cause:l,description:l.message}}e.create=r;function i(o){switch(!0){case o.message.includes("Completion canceled by user."):return"Canceled";case o.message.includes("Unable to remove the only API key remaining."):return"Sorry, you can't delete your only API key";case o.message.includes("Unable to get organization for request."):return"We couldn't find the organization you're asking for";case s(o):return"Not enough credits";case a(o):return"Something isn't quite right with your prompts";case o.message.includes("Unable to get user for request."):return"We couldn't find the user you're asking for";case o.message.includes("Unable to locate request organization."):return"We couldn't find the organization you're asking for ";case o.message.includes("Error filtering prompts."):return"Something isn't quite right with your prompts";case o.message.includes("Invalid prompts detected"):return"Something isn't quite right with your prompts";case o.message.includes("no prompts provided"):return"You have to provide at least one prompt";case o.message.includes("Unable to create a new billing ticket for this request."):return"We couldn't create a charge for some reason";case o.message.includes("cannot use empty Id for project file"):return"You have to specify a project";case o.message.includes("Incorrect time range provided."):return"Something was wrong with the times you provided";case o.message.includes("must provide image parameters"):return"Something isn't right with the image you provided";case o.message.includes("cannot create project with deleted status"):return"That project was already deleted";case o.message.includes("Incorrect amount value."):return"You can't charge less than $0.00";case o.message.includes('API key with ID "'):return"We couldn't find the API key you're asking for";case o.message.includes('Unable to find organization with ID "'):return"We couldn't find the organization you're asking for";case o.message.includes("No auto-charge intent."):return"You aren't set up for auto-charging";case o.message.includes("You do not have permission to access this resource."):return"You don't the right permissions";case o.message.includes("EmailNotVerifiedMessage"):return"You still need to verify your email address";case o.message.includes("user is not a member of the requested organization"):return"You aren't a member of that organization";case o.message.includes("You have insufficient privileges to access this resource."):return"You don't have the right permissions";case o.message.includes("You have too many API keys."):return"There are too many API keys";case o.message.includes("Unable to set default organization."):return"We couldn't set your default organization";case o.message.includes("Unable to update client settings."):return"We couldn't update your settings";case o.message.includes("Unable to connect to the prompt filter requested"):return"We couldn't properly filter your prompt";case o.message.includes("Unable to generate cost env for this request."):return"We couldn't generate a cost estimate for your request";case o.message.includes("Unable to connect to the engine requested"):return"Something's wrong with the model your're trying to use";case o.message.includes("Unable to connect to the classifier requested"):return"We couldn't use the classifier you're asking for";case o.message.includes("An unexpected server error occurred."):return t;case o.message.includes("Unable to create a new API key."):return"We couldn't create an API key for some reason";case o.message.includes("Unable to delete the API key."):return"We couldn't delete the API key for some reason";case o.message.includes("Unable to create an auto-charge intent:"):return"We couldn't set up auto-charge for some reason";case o.message.includes("Unable to get auto-charge intent."):return"We couldn't get your auto-charge settings";case o.message.includes("Unable to create a checkout session for this charge."):return"We couldn't create a charge for some reason";case o.message.includes("Unable to get charges."):return"We couldn't get your charges";case o.message.includes("Unable to delete account, contact support"):return"We couldn't delete your account, please contact support";case o.message.includes("image dimensions must be multiples of 64"):return"We somehow sent an image with the wrong dimensions";default:return t}}function a(o){return o.code==="BANNED_TERM"}e.isBannedTermError=a;function s(o){return o.message.includes("does not have enough balance")}e.isOutOfCreditsError=s})(Px||(Px={}));var xh;(e=>{e.useImage=()=>Od.use(({image:t})=>t),e.useStart=()=>{const t=Od.use(({setImage:n})=>n);return useCallback(n=>t(n),[t])},e.useStop=()=>{const t=Od.use(({setImage:n})=>n);return useCallback(n=>t(void 0),[t])}})(xh||(xh={}));var Od;(e=>{e.use=et.create(t=>({image:void 0,setImage:n=>t({image:n})}))})(Od||(Od={}));function mE({image:e,src:t,onLoadingChange:n,onClick:r,className:i}){const a=useRef(null),s=xh.useStart(),o=xh.useStop(),[l,u]=useState(!0),c=t??e?.src;return useEffect(()=>{!a.current?.complete&&u(!0)},[c]),useEffect(()=>{n?.(l)},[l,n]),c?C("img",{src:c,onDragStart:()=>s(e),onDragEnd:()=>o(e),onClick:r,ref:h=>{a.current=h,h&&(h.onload=()=>u(!1))},className:classes("h-full w-full object-cover opacity-0 duration-500",!l&&"opacity-100",i)}):null}mE.Dragging=xh;/**
 * react-virtual
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function i0(){return i0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i0.apply(this,arguments)}/**
 * virtual-core
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function a0(){return a0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a0.apply(this,arguments)}/**
 * virtual-core
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ll(e,t,n){var r,i=(r=n.initialDeps)!=null?r:[],a;return function(){var s;n.key&&n.debug!=null&&n.debug()&&(s=Date.now());var o=e(),l=o.length!==i.length||o.some(function(g,y){return i[y]!==g});if(!l)return a;i=o;var u;if(n.key&&n.debug!=null&&n.debug()&&(u=Date.now()),a=t.apply(void 0,o),n.key&&n.debug!=null&&n.debug()){var c=Math.round((Date.now()-s)*100)/100,h=Math.round((Date.now()-u)*100)/100,p=h/16,m=function(y,b){for(y=String(y);y.length<b;)y=" "+y;return y};console.info("%c "+m(h,5)+" /"+m(c,5)+" ms",`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(`+Math.max(0,Math.min(120-120*p,120))+"deg 100% 31%);",n?.key)}return n==null||n.onChange==null||n.onChange(a),a}}function Ww(e,t){if(e===void 0)throw new Error("Unexpected undefined"+(t?": "+t:""));return e}var kne=function(t,n){return Math.abs(t-n)<1};/**
 * virtual-core
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Sne=function(t){return t},Cne=function(t){for(var n=Math.max(t.startIndex-t.overscan,0),r=Math.min(t.endIndex+t.overscan,t.count-1),i=[],a=n;a<=r;a++)i.push(a);return i},Ene=function(t,n){var r=t.scrollElement;if(r){var i=function(o){var l=o.width,u=o.height;n({width:Math.round(l),height:Math.round(u)})};i(r.getBoundingClientRect());var a=new ResizeObserver(function(s){var o=s[0];if(o!=null&&o.borderBoxSize){var l=o.borderBoxSize[0];if(l){i({width:l.inlineSize,height:l.blockSize});return}}i(r.getBoundingClientRect())});return a.observe(r,{box:"border-box"}),function(){a.unobserve(r)}}},Tne=function(t,n){var r=t.scrollElement;if(r){var i=function(){n(r[t.options.horizontal?"scrollLeft":"scrollTop"])};return i(),r.addEventListener("scroll",i,{passive:!0}),function(){r.removeEventListener("scroll",i)}}},_ne=function(t,n,r){if(n!=null&&n.borderBoxSize){var i=n.borderBoxSize[0];if(i){var a=Math.round(i[r.options.horizontal?"inlineSize":"blockSize"]);return a}}return Math.round(t.getBoundingClientRect()[r.options.horizontal?"width":"height"])},Ine=function(t,n,r){var i,a,s=n.adjustments,o=s===void 0?0:s,l=n.behavior,u=t+o;(i=r.scrollElement)==null||i.scrollTo==null||i.scrollTo((a={},a[r.options.horizontal?"left":"top"]=u,a.behavior=l,a))},Pne=function(t){var n=this;this.unsubs=[],this.scrollElement=null,this.isScrolling=!1,this.isScrollingTimeoutId=null,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollDirection=null,this.scrollAdjustments=0,this.measureElementCache=new Map,this.observer=function(){var r=null,i=function(){return r||(typeof ResizeObserver<"u"?r=new ResizeObserver(function(s){s.forEach(function(o){n._measureElement(o.target,o)})}):null)};return{disconnect:function(){var s;return(s=i())==null?void 0:s.disconnect()},observe:function(s){var o;return(o=i())==null?void 0:o.observe(s,{box:"border-box"})},unobserve:function(s){var o;return(o=i())==null?void 0:o.unobserve(s)}}}(),this.range={startIndex:0,endIndex:0},this.setOptions=function(r){Object.entries(r).forEach(function(i){var a=i[0],s=i[1];typeof s>"u"&&delete r[a]}),n.options=a0({debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:Sne,rangeExtractor:Cne,onChange:function(){},measureElement:_ne,initialRect:{width:0,height:0},scrollMargin:0,scrollingDelay:150,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1},r)},this.notify=function(){n.options.onChange==null||n.options.onChange(n)},this.cleanup=function(){n.unsubs.filter(Boolean).forEach(function(r){return r()}),n.unsubs=[],n.scrollElement=null},this._didMount=function(){return n.measureElementCache.forEach(n.observer.observe),function(){n.observer.disconnect(),n.cleanup()}},this._willUpdate=function(){var r=n.options.getScrollElement();n.scrollElement!==r&&(n.cleanup(),n.scrollElement=r,n._scrollToOffset(n.scrollOffset,{adjustments:void 0,behavior:void 0}),n.unsubs.push(n.options.observeElementRect(n,function(i){var a=n.scrollRect;n.scrollRect=i,(n.options.horizontal?i.width!==a.width:i.height!==a.height)&&n.maybeNotify()})),n.unsubs.push(n.options.observeElementOffset(n,function(i){n.scrollAdjustments=0,n.scrollOffset!==i&&(n.isScrollingTimeoutId!==null&&(clearTimeout(n.isScrollingTimeoutId),n.isScrollingTimeoutId=null),n.isScrolling=!0,n.scrollDirection=n.scrollOffset<i?"forward":"backward",n.scrollOffset=i,n.maybeNotify(),n.isScrollingTimeoutId=setTimeout(function(){n.isScrollingTimeoutId=null,n.isScrolling=!1,n.scrollDirection=null,n.maybeNotify()},n.options.scrollingDelay))})))},this.getSize=function(){return n.scrollRect[n.options.horizontal?"width":"height"]},this.memoOptions=Ll(function(){return[n.options.count,n.options.paddingStart,n.options.scrollMargin,n.options.getItemKey]},function(r,i,a,s){return n.pendingMeasuredCacheIndexes=[],{count:r,paddingStart:i,scrollMargin:a,getItemKey:s}},{key:!1}),this.getFurthestMeasurement=function(r,i){for(var a=new Map,s=new Map,o=i-1;o>=0;o--){var l=r[o];if(!a.has(l.lane)){var u=s.get(l.lane);if(u==null||l.end>u.end?s.set(l.lane,l):l.end<u.end&&a.set(l.lane,!0),a.size===n.options.lanes)break}}return s.size===n.options.lanes?Array.from(s.values()).sort(function(c,h){return c.end-h.end})[0]:void 0},this.getMeasurements=Ll(function(){return[n.memoOptions(),n.itemSizeCache]},function(r,i){var a=r.count,s=r.paddingStart,o=r.scrollMargin,l=r.getItemKey,u=n.pendingMeasuredCacheIndexes.length>0?Math.min.apply(Math,n.pendingMeasuredCacheIndexes):0;n.pendingMeasuredCacheIndexes=[];for(var c=n.measurementsCache.slice(0,u),h=u;h<a;h++){var p=l(h),m=n.options.lanes===1?c[h-1]:n.getFurthestMeasurement(c,h),g=m?m.end:s+o,y=i.get(p),b=typeof y=="number"?y:n.options.estimateSize(h),w=g+b,x=m?m.lane:h%n.options.lanes;c[h]={index:h,start:g,size:b,end:w,key:p,lane:x}}return n.measurementsCache=c,c},{key:!1,debug:function(){return n.options.debug}}),this.calculateRange=Ll(function(){return[n.getMeasurements(),n.getSize(),n.scrollOffset]},function(r,i,a){return n.range=Ane({measurements:r,outerSize:i,scrollOffset:a})},{key:!1,debug:function(){return n.options.debug}}),this.maybeNotify=Ll(function(){var r=n.calculateRange();return[r.startIndex,r.endIndex,n.isScrolling]},function(){n.notify()},{key:!1,debug:function(){return n.options.debug},initialDeps:[this.range.startIndex,this.range.endIndex,this.isScrolling]}),this.getIndexes=Ll(function(){return[n.options.rangeExtractor,n.calculateRange(),n.options.overscan,n.options.count]},function(r,i,a,s){return r(a0({},i,{overscan:a,count:s}))},{key:!1,debug:function(){return n.options.debug}}),this.indexFromElement=function(r){var i=n.options.indexAttribute,a=r.getAttribute(i);return a?parseInt(a,10):(console.warn("Missing attribute name '"+i+"={index}' on measured element."),-1)},this._measureElement=function(r,i){var a,s=n.indexFromElement(r),o=n.measurementsCache[s];if(o){var l=n.measureElementCache.get(o.key);if(!r.isConnected){n.observer.unobserve(r),r===l&&n.measureElementCache.delete(o.key);return}l!==r&&(l&&n.observer.unobserve(l),n.observer.observe(r),n.measureElementCache.set(o.key,r));var u=n.options.measureElement(r,i,n),c=(a=n.itemSizeCache.get(o.key))!=null?a:o.size,h=u-c;h!==0&&(o.start<n.scrollOffset&&n._scrollToOffset(n.scrollOffset,{adjustments:n.scrollAdjustments+=h,behavior:void 0}),n.pendingMeasuredCacheIndexes.push(s),n.itemSizeCache=new Map(n.itemSizeCache.set(o.key,u)),n.notify())}},this.measureElement=function(r){r&&n._measureElement(r,void 0)},this.getVirtualItems=Ll(function(){return[n.getIndexes(),n.getMeasurements()]},function(r,i){for(var a=[],s=0,o=r.length;s<o;s++){var l=r[s],u=i[l];a.push(u)}return a},{key:!1,debug:function(){return n.options.debug}}),this.getVirtualItemForOffset=function(r){var i=n.getMeasurements();return Ww(i[k6(0,i.length-1,function(a){return Ww(i[a]).start},r)])},this.getOffsetForAlignment=function(r,i){var a=n.getSize();i==="auto"&&(r<=n.scrollOffset?i="start":r>=n.scrollOffset+a?i="end":i="start"),i==="start"?r=r:i==="end"?r=r-a:i==="center"&&(r=r-a/2);var s=n.options.horizontal?"scrollWidth":"scrollHeight",o=n.scrollElement?"document"in n.scrollElement?n.scrollElement.document.documentElement[s]:n.scrollElement[s]:0,l=o-n.getSize();return Math.max(Math.min(l,r),0)},this.getOffsetForIndex=function(r,i){i===void 0&&(i="auto"),r=Math.max(0,Math.min(r,n.options.count-1));var a=Ww(n.getMeasurements()[r]);if(i==="auto")if(a.end>=n.scrollOffset+n.getSize()-n.options.scrollPaddingEnd)i="end";else if(a.start<=n.scrollOffset+n.options.scrollPaddingStart)i="start";else return[n.scrollOffset,i];var s=i==="end"?a.end+n.options.scrollPaddingEnd:a.start-n.options.scrollPaddingStart;return[n.getOffsetForAlignment(s,i),i]},this.isDynamicMode=function(){return n.measureElementCache.size>0},this.cancelScrollToIndex=function(){n.scrollToIndexTimeoutId!==null&&(clearTimeout(n.scrollToIndexTimeoutId),n.scrollToIndexTimeoutId=null)},this.scrollToOffset=function(r,i){var a=i===void 0?{}:i,s=a.align,o=s===void 0?"start":s,l=a.behavior;n.cancelScrollToIndex(),l==="smooth"&&n.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),n._scrollToOffset(n.getOffsetForAlignment(r,o),{adjustments:void 0,behavior:l})},this.scrollToIndex=function(r,i){var a=i===void 0?{}:i,s=a.align,o=s===void 0?"auto":s,l=a.behavior;r=Math.max(0,Math.min(r,n.options.count-1)),n.cancelScrollToIndex(),l==="smooth"&&n.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");var u=n.getOffsetForIndex(r,o),c=u[0],h=u[1];n._scrollToOffset(c,{adjustments:void 0,behavior:l}),l!=="smooth"&&n.isDynamicMode()&&(n.scrollToIndexTimeoutId=setTimeout(function(){n.scrollToIndexTimeoutId=null;var p=n.measureElementCache.has(n.options.getItemKey(r));if(p){var m=n.getOffsetForIndex(r,h),g=m[0];kne(g,n.scrollOffset)||n.scrollToIndex(r,{align:h,behavior:l})}else n.scrollToIndex(r,{align:h,behavior:l})}))},this.scrollBy=function(r,i){var a=i===void 0?{}:i,s=a.behavior;n.cancelScrollToIndex(),s==="smooth"&&n.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),n._scrollToOffset(n.scrollOffset+r,{adjustments:void 0,behavior:s})},this.getTotalSize=function(){var r;return(((r=n.getMeasurements()[n.options.count-1])==null?void 0:r.end)||n.options.paddingStart)-n.options.scrollMargin+n.options.paddingEnd},this._scrollToOffset=function(r,i){var a=i.adjustments,s=i.behavior;n.options.scrollToFn(r,{behavior:s,adjustments:a},n)},this.measure=function(){n.itemSizeCache=new Map,n.notify()},this.setOptions(t),this.scrollRect=this.options.initialRect,this.scrollOffset=this.options.initialOffset,this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(function(r){n.itemSizeCache.set(r.key,r.size)}),this.maybeNotify()},k6=function(t,n,r,i){for(;t<=n;){var a=(t+n)/2|0,s=r(a);if(s<i)t=a+1;else if(s>i)n=a-1;else return a}return t>0?t-1:0};function Ane(e){for(var t=e.measurements,n=e.outerSize,r=e.scrollOffset,i=t.length-1,a=function(u){return t[u].start},s=k6(0,i,a,r),o=s;o<i&&t[o].end<r+n;)o++;return{startIndex:s,endIndex:o}}/**
 * react-virtual
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Rne=typeof document<"u"?Y.useLayoutEffect:Y.useEffect;function Dne(e){var t=Y.useReducer(function(){return{}},{})[1],n=i0({},e,{onChange:function(s){t(),e.onChange==null||e.onChange(s)}}),r=Y.useState(function(){return new Pne(n)}),i=r[0];return i.setOptions(n),Y.useEffect(function(){return i._didMount()},[]),Rne(function(){return i._willUpdate()}),i}function Nne(e){return Dne(i0({observeElementRect:Ene,observeElementOffset:Tne,scrollToFn:Ine},e))}class ic{constructor(){this.listeners=[],this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.push(t),this.onSubscribe(),()=>{this.listeners=this.listeners.filter(n=>n!==t),this.onUnsubscribe()}}hasListeners(){return this.listeners.length>0}onSubscribe(){}onUnsubscribe(){}}const kh=typeof window>"u"||"Deno"in window;function fi(){}function Mne(e,t){return typeof e=="function"?e(t):e}function Ax(e){return typeof e=="number"&&e>=0&&e!==1/0}function S6(e,t){return Math.max(e+(t||0)-Date.now(),0)}function ru(e,t,n){return Qh(e)?typeof t=="function"?{...n,queryKey:e,queryFn:t}:{...t,queryKey:e}:e}function One(e,t,n){return Qh(e)?typeof t=="function"?{...n,mutationKey:e,mutationFn:t}:{...t,mutationKey:e}:typeof e=="function"?{...t,mutationFn:e}:{...e}}function bs(e,t,n){return Qh(e)?[{...t,queryKey:e},n]:[e||{},t]}function H4(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:a,queryKey:s,stale:o}=e;if(Qh(s)){if(r){if(t.queryHash!==gE(s,t.options))return!1}else if(!s0(t.queryKey,s))return!1}if(n!=="all"){const l=t.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||typeof i<"u"&&i!==t.state.fetchStatus||a&&!a(t))}function q4(e,t){const{exact:n,fetching:r,predicate:i,mutationKey:a}=e;if(Qh(a)){if(!t.options.mutationKey)return!1;if(n){if(Do(t.options.mutationKey)!==Do(a))return!1}else if(!s0(t.options.mutationKey,a))return!1}return!(typeof r=="boolean"&&t.state.status==="loading"!==r||i&&!i(t))}function gE(e,t){return(t?.queryKeyHashFn||Do)(e)}function Do(e){return JSON.stringify(e,(t,n)=>Dx(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function s0(e,t){return C6(e,t)}function C6(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!C6(e[n],t[n])):!1}function E6(e,t){if(e===t)return e;const n=K4(e)&&K4(t);if(n||Dx(e)&&Dx(t)){const r=n?e.length:Object.keys(e).length,i=n?t:Object.keys(t),a=i.length,s=n?[]:{};let o=0;for(let l=0;l<a;l++){const u=n?l:i[l];s[u]=E6(e[u],t[u]),s[u]===e[u]&&o++}return r===a&&o===r?e:s}return t}function Rx(e,t){if(e&&!t||t&&!e)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function K4(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Dx(e){if(!Y4(e))return!1;const t=e.constructor;if(typeof t>"u")return!0;const n=t.prototype;return!(!Y4(n)||!n.hasOwnProperty("isPrototypeOf"))}function Y4(e){return Object.prototype.toString.call(e)==="[object Object]"}function Qh(e){return Array.isArray(e)}function T6(e){return new Promise(t=>{setTimeout(t,e)})}function X4(e){T6(0).then(e)}function Lne(){if(typeof AbortController=="function")return new AbortController}function Nx(e,t,n){return n.isDataEqual!=null&&n.isDataEqual(e,t)?e:typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?E6(e,t):t}class Fne extends ic{constructor(){super(),this.setup=t=>{if(!kh&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),window.addEventListener("focus",n,!1),()=>{window.removeEventListener("visibilitychange",n),window.removeEventListener("focus",n)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var t;(t=this.cleanup)==null||t.call(this),this.cleanup=void 0}}setEventListener(t){var n;this.setup=t,(n=this.cleanup)==null||n.call(this),this.cleanup=t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()})}setFocused(t){this.focused=t,t&&this.onFocus()}onFocus(){this.listeners.forEach(t=>{t()})}isFocused(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)}}const o0=new Fne;class Bne extends ic{constructor(){super(),this.setup=t=>{if(!kh&&window.addEventListener){const n=()=>t();return window.addEventListener("online",n,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",n)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var t;(t=this.cleanup)==null||t.call(this),this.cleanup=void 0}}setEventListener(t){var n;this.setup=t,(n=this.cleanup)==null||n.call(this),this.cleanup=t(r=>{typeof r=="boolean"?this.setOnline(r):this.onOnline()})}setOnline(t){this.online=t,t&&this.onOnline()}onOnline(){this.listeners.forEach(t=>{t()})}isOnline(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine}}const l0=new Bne;function zne(e){return Math.min(1e3*2**e,3e4)}function Dy(e){return(e??"online")==="online"?l0.isOnline():!0}class _6{constructor(t){this.revert=t?.revert,this.silent=t?.silent}}function Hm(e){return e instanceof _6}function I6(e){let t=!1,n=0,r=!1,i,a,s;const o=new Promise((b,w)=>{a=b,s=w}),l=b=>{r||(m(new _6(b)),e.abort==null||e.abort())},u=()=>{t=!0},c=()=>{t=!1},h=()=>!o0.isFocused()||e.networkMode!=="always"&&!l0.isOnline(),p=b=>{r||(r=!0,e.onSuccess==null||e.onSuccess(b),i?.(),a(b))},m=b=>{r||(r=!0,e.onError==null||e.onError(b),i?.(),s(b))},g=()=>new Promise(b=>{i=w=>{const x=r||!h();return x&&b(w),x},e.onPause==null||e.onPause()}).then(()=>{i=void 0,r||e.onContinue==null||e.onContinue()}),y=()=>{if(r)return;let b;try{b=e.fn()}catch(w){b=Promise.reject(w)}Promise.resolve(b).then(p).catch(w=>{var x,k;if(r)return;const _=(x=e.retry)!=null?x:3,A=(k=e.retryDelay)!=null?k:zne,P=typeof A=="function"?A(n,w):A,N=_===!0||typeof _=="number"&&n<_||typeof _=="function"&&_(n,w);if(t||!N){m(w);return}n++,e.onFail==null||e.onFail(n,w),T6(P).then(()=>{if(h())return g()}).then(()=>{t?m(w):y()})})};return Dy(e.networkMode)?y():g().then(y),{promise:o,cancel:l,continue:()=>i?.()?o:Promise.resolve(),cancelRetry:u,continueRetry:c}}const yE=console;function Une(){let e=[],t=0,n=c=>{c()},r=c=>{c()};const i=c=>{let h;t++;try{h=c()}finally{t--,t||o()}return h},a=c=>{t?e.push(c):X4(()=>{n(c)})},s=c=>(...h)=>{a(()=>{c(...h)})},o=()=>{const c=e;e=[],c.length&&X4(()=>{r(()=>{c.forEach(h=>{n(h)})})})};return{batch:i,batchCalls:s,schedule:a,setNotifyFunction:c=>{n=c},setBatchNotifyFunction:c=>{r=c}}}const mn=Une();class P6{destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Ax(this.cacheTime)&&(this.gcTimeout=setTimeout(()=>{this.optionalRemove()},this.cacheTime))}updateCacheTime(t){this.cacheTime=Math.max(this.cacheTime||0,t??(kh?1/0:5*60*1e3))}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}let jne=class extends P6{constructor(t){super(),this.abortSignalConsumed=!1,this.defaultOptions=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.cache=t.cache,this.logger=t.logger||yE,this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.initialState=t.state||$ne(this.options),this.state=this.initialState,this.scheduleGc()}get meta(){return this.options.meta}setOptions(t){this.options={...this.defaultOptions,...t},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.cache.remove(this)}setData(t,n){const r=Nx(this.state.data,t,this.options);return this.dispatch({data:r,type:"success",dataUpdatedAt:n?.updatedAt,manual:n?.manual}),r}setState(t,n){this.dispatch({type:"setState",state:t,setStateOptions:n})}cancel(t){var n;const r=this.promise;return(n=this.retryer)==null||n.cancel(t),r?r.then(fi).catch(fi):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some(t=>t.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(t=>t.getCurrentResult().isStale)}isStaleByTime(t=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!S6(this.state.dataUpdatedAt,t)}onFocus(){var t;const n=this.observers.find(r=>r.shouldFetchOnWindowFocus());n&&n.refetch({cancelRefetch:!1}),(t=this.retryer)==null||t.continue()}onOnline(){var t;const n=this.observers.find(r=>r.shouldFetchOnReconnect());n&&n.refetch({cancelRefetch:!1}),(t=this.retryer)==null||t.continue()}addObserver(t){this.observers.indexOf(t)===-1&&(this.observers.push(t),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.indexOf(t)!==-1&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(t,n){var r,i;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&n!=null&&n.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var a;return(a=this.retryer)==null||a.continueRetry(),this.promise}}if(t&&this.setOptions(t),!this.options.queryFn){const m=this.observers.find(g=>g.options.queryFn);m&&this.setOptions(m.options)}Array.isArray(this.options.queryKey);const s=Lne(),o={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},l=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>{if(s)return this.abortSignalConsumed=!0,s.signal}})};l(o);const u=()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(o)):Promise.reject("Missing queryFn"),c={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:u};if(l(c),(r=this.options.behavior)==null||r.onFetch(c),this.revertState=this.state,this.state.fetchStatus==="idle"||this.state.fetchMeta!==((i=c.fetchOptions)==null?void 0:i.meta)){var h;this.dispatch({type:"fetch",meta:(h=c.fetchOptions)==null?void 0:h.meta})}const p=m=>{if(Hm(m)&&m.silent||this.dispatch({type:"error",error:m}),!Hm(m)){var g,y,b,w;(g=(y=this.cache.config).onError)==null||g.call(y,m,this),(b=(w=this.cache.config).onSettled)==null||b.call(w,this.state.data,m,this)}this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=I6({fn:c.fetchFn,abort:s?.abort.bind(s),onSuccess:m=>{var g,y,b,w;if(typeof m>"u"){p(new Error(this.queryHash+" data is undefined"));return}this.setData(m),(g=(y=this.cache.config).onSuccess)==null||g.call(y,m,this),(b=(w=this.cache.config).onSettled)==null||b.call(w,m,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:p,onFail:(m,g)=>{this.dispatch({type:"failed",failureCount:m,error:g})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(t){const n=r=>{var i,a;switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:(i=t.meta)!=null?i:null,fetchStatus:Dy(this.options.networkMode)?"fetching":"paused",...!r.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:(a=t.dataUpdatedAt)!=null?a:Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return Hm(s)&&s.revert&&this.revertState?{...this.revertState}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),mn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate(t)}),this.cache.notify({query:this,type:"updated",action:t})})}};function $ne(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=typeof t<"u",r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"loading",fetchStatus:"idle"}}class Vne extends ic{constructor(t){super(),this.config=t||{},this.queries=[],this.queriesMap={}}build(t,n,r){var i;const a=n.queryKey,s=(i=n.queryHash)!=null?i:gE(a,n);let o=this.get(s);return o||(o=new jne({cache:this,logger:t.getLogger(),queryKey:a,queryHash:s,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){this.queriesMap[t.queryHash]||(this.queriesMap[t.queryHash]=t,this.queries.push(t),this.notify({type:"added",query:t}))}remove(t){const n=this.queriesMap[t.queryHash];n&&(t.destroy(),this.queries=this.queries.filter(r=>r!==t),n===t&&delete this.queriesMap[t.queryHash],this.notify({type:"removed",query:t}))}clear(){mn.batch(()=>{this.queries.forEach(t=>{this.remove(t)})})}get(t){return this.queriesMap[t]}getAll(){return this.queries}find(t,n){const[r]=bs(t,n);return typeof r.exact>"u"&&(r.exact=!0),this.queries.find(i=>H4(r,i))}findAll(t,n){const[r]=bs(t,n);return Object.keys(r).length>0?this.queries.filter(i=>H4(r,i)):this.queries}notify(t){mn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){mn.batch(()=>{this.queries.forEach(t=>{t.onFocus()})})}onOnline(){mn.batch(()=>{this.queries.forEach(t=>{t.onOnline()})})}}class Wne extends P6{constructor(t){super(),this.defaultOptions=t.defaultOptions,this.mutationId=t.mutationId,this.mutationCache=t.mutationCache,this.logger=t.logger||yE,this.observers=[],this.state=t.state||A6(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options={...this.defaultOptions,...t},this.updateCacheTime(this.options.cacheTime)}get meta(){return this.options.meta}setState(t){this.dispatch({type:"setState",state:t})}addObserver(t){this.observers.indexOf(t)===-1&&(this.observers.push(t),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.observers=this.observers.filter(n=>n!==t),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.observers.length||(this.state.status==="loading"?this.scheduleGc():this.mutationCache.remove(this))}continue(){var t,n;return(t=(n=this.retryer)==null?void 0:n.continue())!=null?t:this.execute()}async execute(){const t=()=>{var N;return this.retryer=I6({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(B,j)=>{this.dispatch({type:"failed",failureCount:B,error:j})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:(N=this.options.retry)!=null?N:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise},n=this.state.status==="loading";try{var r,i,a,s,o,l,u,c;if(!n){var h,p,m,g;this.dispatch({type:"loading",variables:this.options.variables}),await((h=(p=this.mutationCache.config).onMutate)==null?void 0:h.call(p,this.state.variables,this));const B=await((m=(g=this.options).onMutate)==null?void 0:m.call(g,this.state.variables));B!==this.state.context&&this.dispatch({type:"loading",context:B,variables:this.state.variables})}const N=await t();return await((r=(i=this.mutationCache.config).onSuccess)==null?void 0:r.call(i,N,this.state.variables,this.state.context,this)),await((a=(s=this.options).onSuccess)==null?void 0:a.call(s,N,this.state.variables,this.state.context)),await((o=(l=this.mutationCache.config).onSettled)==null?void 0:o.call(l,N,null,this.state.variables,this.state.context,this)),await((u=(c=this.options).onSettled)==null?void 0:u.call(c,N,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:N}),N}catch(N){try{var y,b,w,x,k,_,A,P;throw await((y=(b=this.mutationCache.config).onError)==null?void 0:y.call(b,N,this.state.variables,this.state.context,this)),await((w=(x=this.options).onError)==null?void 0:w.call(x,N,this.state.variables,this.state.context)),await((k=(_=this.mutationCache.config).onSettled)==null?void 0:k.call(_,void 0,N,this.state.variables,this.state.context,this)),await((A=(P=this.options).onSettled)==null?void 0:A.call(P,void 0,N,this.state.variables,this.state.context)),N}finally{this.dispatch({type:"error",error:N})}}}dispatch(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"loading":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!Dy(this.options.networkMode),status:"loading",variables:t.variables};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"};case"setState":return{...r,...t.state}}};this.state=n(this.state),mn.batch(()=>{this.observers.forEach(r=>{r.onMutationUpdate(t)}),this.mutationCache.notify({mutation:this,type:"updated",action:t})})}}function A6(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0}}class Gne extends ic{constructor(t){super(),this.config=t||{},this.mutations=[],this.mutationId=0}build(t,n,r){const i=new Wne({mutationCache:this,logger:t.getLogger(),mutationId:++this.mutationId,options:t.defaultMutationOptions(n),state:r,defaultOptions:n.mutationKey?t.getMutationDefaults(n.mutationKey):void 0});return this.add(i),i}add(t){this.mutations.push(t),this.notify({type:"added",mutation:t})}remove(t){this.mutations=this.mutations.filter(n=>n!==t),this.notify({type:"removed",mutation:t})}clear(){mn.batch(()=>{this.mutations.forEach(t=>{this.remove(t)})})}getAll(){return this.mutations}find(t){return typeof t.exact>"u"&&(t.exact=!0),this.mutations.find(n=>q4(t,n))}findAll(t){return this.mutations.filter(n=>q4(t,n))}notify(t){mn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){var t;return this.resuming=((t=this.resuming)!=null?t:Promise.resolve()).then(()=>{const n=this.mutations.filter(r=>r.state.isPaused);return mn.batch(()=>n.reduce((r,i)=>r.then(()=>i.continue().catch(fi)),Promise.resolve()))}).then(()=>{this.resuming=void 0}),this.resuming}}function Mx(){return{onFetch:e=>{e.fetchFn=()=>{var t,n,r,i,a,s;const o=(t=e.fetchOptions)==null||(n=t.meta)==null?void 0:n.refetchPage,l=(r=e.fetchOptions)==null||(i=r.meta)==null?void 0:i.fetchMore,u=l?.pageParam,c=l?.direction==="forward",h=l?.direction==="backward",p=((a=e.state.data)==null?void 0:a.pages)||[],m=((s=e.state.data)==null?void 0:s.pageParams)||[];let g=m,y=!1;const b=P=>{Object.defineProperty(P,"signal",{enumerable:!0,get:()=>{var N;if((N=e.signal)!=null&&N.aborted)y=!0;else{var B;(B=e.signal)==null||B.addEventListener("abort",()=>{y=!0})}return e.signal}})},w=e.options.queryFn||(()=>Promise.reject("Missing queryFn")),x=(P,N,B,j)=>(g=j?[N,...g]:[...g,N],j?[B,...P]:[...P,B]),k=(P,N,B,j)=>{if(y)return Promise.reject("Cancelled");if(typeof B>"u"&&!N&&P.length)return Promise.resolve(P);const W={queryKey:e.queryKey,pageParam:B,meta:e.options.meta};b(W);const K=w(W);return Promise.resolve(K).then(G=>x(P,B,G,j))};let _;if(!p.length)_=k([]);else if(c){const P=typeof u<"u",N=P?u:Ox(e.options,p);_=k(p,P,N)}else if(h){const P=typeof u<"u",N=P?u:R6(e.options,p);_=k(p,P,N,!0)}else{g=[];const P=typeof e.options.getNextPageParam>"u";_=(o&&p[0]?o(p[0],0,p):!0)?k([],P,m[0]):Promise.resolve(x([],m[0],p[0]));for(let B=1;B<p.length;B++)_=_.then(j=>{if(o&&p[B]?o(p[B],B,p):!0){const K=P?m[B]:Ox(e.options,j);return k(j,P,K)}return Promise.resolve(x(j,m[B],p[B]))})}return _.then(P=>({pages:P,pageParams:g}))}}}}function Ox(e,t){return e.getNextPageParam==null?void 0:e.getNextPageParam(t[t.length-1],t)}function R6(e,t){return e.getPreviousPageParam==null?void 0:e.getPreviousPageParam(t[0],t)}function Hne(e,t){if(e.getNextPageParam&&Array.isArray(t)){const n=Ox(e,t);return typeof n<"u"&&n!==null&&n!==!1}}function qne(e,t){if(e.getPreviousPageParam&&Array.isArray(t)){const n=R6(e,t);return typeof n<"u"&&n!==null&&n!==!1}}class Kne{constructor(t={}){this.queryCache=t.queryCache||new Vne,this.mutationCache=t.mutationCache||new Gne,this.logger=t.logger||yE,this.defaultOptions=t.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}mount(){this.mountCount++,this.mountCount===1&&(this.unsubscribeFocus=o0.subscribe(()=>{o0.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())}),this.unsubscribeOnline=l0.subscribe(()=>{l0.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())}))}unmount(){var t,n;this.mountCount--,this.mountCount===0&&((t=this.unsubscribeFocus)==null||t.call(this),this.unsubscribeFocus=void 0,(n=this.unsubscribeOnline)==null||n.call(this),this.unsubscribeOnline=void 0)}isFetching(t,n){const[r]=bs(t,n);return r.fetchStatus="fetching",this.queryCache.findAll(r).length}isMutating(t){return this.mutationCache.findAll({...t,fetching:!0}).length}getQueryData(t,n){var r;return(r=this.queryCache.find(t,n))==null?void 0:r.state.data}ensureQueryData(t,n,r){const i=ru(t,n,r),a=this.getQueryData(i.queryKey);return a?Promise.resolve(a):this.fetchQuery(i)}getQueriesData(t){return this.getQueryCache().findAll(t).map(({queryKey:n,state:r})=>{const i=r.data;return[n,i]})}setQueryData(t,n,r){const i=this.queryCache.find(t),a=i?.state.data,s=Mne(n,a);if(typeof s>"u")return;const o=ru(t),l=this.defaultQueryOptions(o);return this.queryCache.build(this,l).setData(s,{...r,manual:!0})}setQueriesData(t,n,r){return mn.batch(()=>this.getQueryCache().findAll(t).map(({queryKey:i})=>[i,this.setQueryData(i,n,r)]))}getQueryState(t,n){var r;return(r=this.queryCache.find(t,n))==null?void 0:r.state}removeQueries(t,n){const[r]=bs(t,n),i=this.queryCache;mn.batch(()=>{i.findAll(r).forEach(a=>{i.remove(a)})})}resetQueries(t,n,r){const[i,a]=bs(t,n,r),s=this.queryCache,o={type:"active",...i};return mn.batch(()=>(s.findAll(i).forEach(l=>{l.reset()}),this.refetchQueries(o,a)))}cancelQueries(t,n,r){const[i,a={}]=bs(t,n,r);typeof a.revert>"u"&&(a.revert=!0);const s=mn.batch(()=>this.queryCache.findAll(i).map(o=>o.cancel(a)));return Promise.all(s).then(fi).catch(fi)}invalidateQueries(t,n,r){const[i,a]=bs(t,n,r);return mn.batch(()=>{var s,o;if(this.queryCache.findAll(i).forEach(u=>{u.invalidate()}),i.refetchType==="none")return Promise.resolve();const l={...i,type:(s=(o=i.refetchType)!=null?o:i.type)!=null?s:"active"};return this.refetchQueries(l,a)})}refetchQueries(t,n,r){const[i,a]=bs(t,n,r),s=mn.batch(()=>this.queryCache.findAll(i).filter(l=>!l.isDisabled()).map(l=>{var u;return l.fetch(void 0,{...a,cancelRefetch:(u=a?.cancelRefetch)!=null?u:!0,meta:{refetchPage:i.refetchPage}})}));let o=Promise.all(s).then(fi);return a!=null&&a.throwOnError||(o=o.catch(fi)),o}fetchQuery(t,n,r){const i=ru(t,n,r),a=this.defaultQueryOptions(i);typeof a.retry>"u"&&(a.retry=!1);const s=this.queryCache.build(this,a);return s.isStaleByTime(a.staleTime)?s.fetch(a):Promise.resolve(s.state.data)}prefetchQuery(t,n,r){return this.fetchQuery(t,n,r).then(fi).catch(fi)}fetchInfiniteQuery(t,n,r){const i=ru(t,n,r);return i.behavior=Mx(),this.fetchQuery(i)}prefetchInfiniteQuery(t,n,r){return this.fetchInfiniteQuery(t,n,r).then(fi).catch(fi)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(t){this.defaultOptions=t}setQueryDefaults(t,n){const r=this.queryDefaults.find(i=>Do(t)===Do(i.queryKey));r?r.defaultOptions=n:this.queryDefaults.push({queryKey:t,defaultOptions:n})}getQueryDefaults(t){if(!t)return;const n=this.queryDefaults.find(r=>s0(t,r.queryKey));return n?.defaultOptions}setMutationDefaults(t,n){const r=this.mutationDefaults.find(i=>Do(t)===Do(i.mutationKey));r?r.defaultOptions=n:this.mutationDefaults.push({mutationKey:t,defaultOptions:n})}getMutationDefaults(t){if(!t)return;const n=this.mutationDefaults.find(r=>s0(t,r.mutationKey));return n?.defaultOptions}defaultQueryOptions(t){if(t!=null&&t._defaulted)return t;const n={...this.defaultOptions.queries,...this.getQueryDefaults(t?.queryKey),...t,_defaulted:!0};return!n.queryHash&&n.queryKey&&(n.queryHash=gE(n.queryKey,n)),typeof n.refetchOnReconnect>"u"&&(n.refetchOnReconnect=n.networkMode!=="always"),typeof n.useErrorBoundary>"u"&&(n.useErrorBoundary=!!n.suspense),n}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...this.defaultOptions.mutations,...this.getMutationDefaults(t?.mutationKey),...t,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}}class D6 extends ic{constructor(t,n){super(),this.client=t,this.options=n,this.trackedProps=new Set,this.selectError=null,this.bindMethods(),this.setOptions(n)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.length===1&&(this.currentQuery.addObserver(this),Q4(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.listeners.length||this.destroy()}shouldFetchOnReconnect(){return Lx(this.currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Lx(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=[],this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}setOptions(t,n){const r=this.options,i=this.currentQuery;if(this.options=this.client.defaultQueryOptions(t),Rx(r,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=r.queryKey),this.updateQuery();const a=this.hasListeners();a&&Z4(this.currentQuery,i,this.options,r)&&this.executeFetch(),this.updateResult(n),a&&(this.currentQuery!==i||this.options.enabled!==r.enabled||this.options.staleTime!==r.staleTime)&&this.updateStaleTimeout();const s=this.computeRefetchInterval();a&&(this.currentQuery!==i||this.options.enabled!==r.enabled||s!==this.currentRefetchInterval)&&this.updateRefetchInterval(s)}getOptimisticResult(t){const n=this.client.getQueryCache().build(this.client,t);return this.createResult(n,t)}getCurrentResult(){return this.currentResult}trackResult(t){const n={};return Object.keys(t).forEach(r=>{Object.defineProperty(n,r,{configurable:!1,enumerable:!0,get:()=>(this.trackedProps.add(r),t[r])})}),n}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch({refetchPage:t,...n}={}){return this.fetch({...n,meta:{refetchPage:t}})}fetchOptimistic(t){const n=this.client.defaultQueryOptions(t),r=this.client.getQueryCache().build(this.client,n);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,n))}fetch(t){var n;return this.executeFetch({...t,cancelRefetch:(n=t.cancelRefetch)!=null?n:!0}).then(()=>(this.updateResult(),this.currentResult))}executeFetch(t){this.updateQuery();let n=this.currentQuery.fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(fi)),n}updateStaleTimeout(){if(this.clearStaleTimeout(),kh||this.currentResult.isStale||!Ax(this.options.staleTime))return;const n=S6(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},n)}computeRefetchInterval(){var t;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(t=this.options.refetchInterval)!=null?t:!1}updateRefetchInterval(t){this.clearRefetchInterval(),this.currentRefetchInterval=t,!(kh||this.options.enabled===!1||!Ax(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||o0.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearStaleTimeout(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}clearRefetchInterval(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}createResult(t,n){const r=this.currentQuery,i=this.options,a=this.currentResult,s=this.currentResultState,o=this.currentResultOptions,l=t!==r,u=l?t.state:this.currentQueryInitialState,c=l?this.currentResult:this.previousQueryResult,{state:h}=t;let{dataUpdatedAt:p,error:m,errorUpdatedAt:g,fetchStatus:y,status:b}=h,w=!1,x=!1,k;if(n._optimisticResults){const B=this.hasListeners(),j=!B&&Q4(t,n),W=B&&Z4(t,r,n,i);(j||W)&&(y=Dy(t.options.networkMode)?"fetching":"paused",p||(b="loading")),n._optimisticResults==="isRestoring"&&(y="idle")}if(n.keepPreviousData&&!h.dataUpdatedAt&&c!=null&&c.isSuccess&&b!=="error")k=c.data,p=c.dataUpdatedAt,b=c.status,w=!0;else if(n.select&&typeof h.data<"u")if(a&&h.data===s?.data&&n.select===this.selectFn)k=this.selectResult;else try{this.selectFn=n.select,k=n.select(h.data),k=Nx(a?.data,k,n),this.selectResult=k,this.selectError=null}catch(B){this.selectError=B}else k=h.data;if(typeof n.placeholderData<"u"&&typeof k>"u"&&b==="loading"){let B;if(a!=null&&a.isPlaceholderData&&n.placeholderData===o?.placeholderData)B=a.data;else if(B=typeof n.placeholderData=="function"?n.placeholderData():n.placeholderData,n.select&&typeof B<"u")try{B=n.select(B),this.selectError=null}catch(j){this.selectError=j}typeof B<"u"&&(b="success",k=Nx(a?.data,B,n),x=!0)}this.selectError&&(m=this.selectError,k=this.selectResult,g=Date.now(),b="error");const _=y==="fetching",A=b==="loading",P=b==="error";return{status:b,fetchStatus:y,isLoading:A,isSuccess:b==="success",isError:P,isInitialLoading:A&&_,data:k,dataUpdatedAt:p,error:m,errorUpdatedAt:g,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:_,isRefetching:_&&!A,isLoadingError:P&&h.dataUpdatedAt===0,isPaused:y==="paused",isPlaceholderData:x,isPreviousData:w,isRefetchError:P&&h.dataUpdatedAt!==0,isStale:vE(t,n),refetch:this.refetch,remove:this.remove}}updateResult(t){const n=this.currentResult,r=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,Rx(r,n))return;this.currentResult=r;const i={cache:!0},a=()=>{if(!n)return!0;const{notifyOnChangeProps:s}=this.options;if(s==="all"||!s&&!this.trackedProps.size)return!0;const o=new Set(s??this.trackedProps);return this.options.useErrorBoundary&&o.add("error"),Object.keys(this.currentResult).some(l=>{const u=l;return this.currentResult[u]!==n[u]&&o.has(u)})};t?.listeners!==!1&&a()&&(i.listeners=!0),this.notify({...i,...t})}updateQuery(){const t=this.client.getQueryCache().build(this.client,this.options);if(t===this.currentQuery)return;const n=this.currentQuery;this.currentQuery=t,this.currentQueryInitialState=t.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(n?.removeObserver(this),t.addObserver(this))}onQueryUpdate(t){const n={};t.type==="success"?n.onSuccess=!t.manual:t.type==="error"&&!Hm(t.error)&&(n.onError=!0),this.updateResult(n),this.hasListeners()&&this.updateTimers()}notify(t){mn.batch(()=>{if(t.onSuccess){var n,r,i,a;(n=(r=this.options).onSuccess)==null||n.call(r,this.currentResult.data),(i=(a=this.options).onSettled)==null||i.call(a,this.currentResult.data,null)}else if(t.onError){var s,o,l,u;(s=(o=this.options).onError)==null||s.call(o,this.currentResult.error),(l=(u=this.options).onSettled)==null||l.call(u,void 0,this.currentResult.error)}t.listeners&&this.listeners.forEach(c=>{c(this.currentResult)}),t.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function Yne(e,t){return t.enabled!==!1&&!e.state.dataUpdatedAt&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Q4(e,t){return Yne(e,t)||e.state.dataUpdatedAt>0&&Lx(e,t,t.refetchOnMount)}function Lx(e,t,n){if(t.enabled!==!1){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&vE(e,t)}return!1}function Z4(e,t,n,r){return n.enabled!==!1&&(e!==t||r.enabled===!1)&&(!n.suspense||e.state.status!=="error")&&vE(e,n)}function vE(e,t){return e.isStaleByTime(t.staleTime)}class Xne extends D6{constructor(t,n){super(t,n)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(t,n){super.setOptions({...t,behavior:Mx()},n)}getOptimisticResult(t){return t.behavior=Mx(),super.getOptimisticResult(t)}fetchNextPage({pageParam:t,...n}={}){return this.fetch({...n,meta:{fetchMore:{direction:"forward",pageParam:t}}})}fetchPreviousPage({pageParam:t,...n}={}){return this.fetch({...n,meta:{fetchMore:{direction:"backward",pageParam:t}}})}createResult(t,n){var r,i,a,s,o,l;const{state:u}=t,c=super.createResult(t,n),{isFetching:h,isRefetching:p}=c,m=h&&((r=u.fetchMeta)==null||(i=r.fetchMore)==null?void 0:i.direction)==="forward",g=h&&((a=u.fetchMeta)==null||(s=a.fetchMore)==null?void 0:s.direction)==="backward";return{...c,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:Hne(n,(o=u.data)==null?void 0:o.pages),hasPreviousPage:qne(n,(l=u.data)==null?void 0:l.pages),isFetchingNextPage:m,isFetchingPreviousPage:g,isRefetching:p&&!m&&!g}}}let Qne=class extends ic{constructor(t,n){super(),this.client=t,this.setOptions(n),this.bindMethods(),this.updateResult()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var n;const r=this.options;this.options=this.client.defaultMutationOptions(t),Rx(r,this.options)||this.client.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.currentMutation,observer:this}),(n=this.currentMutation)==null||n.setOptions(this.options)}onUnsubscribe(){if(!this.listeners.length){var t;(t=this.currentMutation)==null||t.removeObserver(this)}}onMutationUpdate(t){this.updateResult();const n={listeners:!0};t.type==="success"?n.onSuccess=!0:t.type==="error"&&(n.onError=!0),this.notify(n)}getCurrentResult(){return this.currentResult}reset(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})}mutate(t,n){return this.mutateOptions=n,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,{...this.options,variables:typeof t<"u"?t:this.options.variables}),this.currentMutation.addObserver(this),this.currentMutation.execute()}updateResult(){const t=this.currentMutation?this.currentMutation.state:A6(),n={...t,isLoading:t.status==="loading",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset};this.currentResult=n}notify(t){mn.batch(()=>{if(this.mutateOptions&&this.hasListeners()){if(t.onSuccess){var n,r,i,a;(n=(r=this.mutateOptions).onSuccess)==null||n.call(r,this.currentResult.data,this.currentResult.variables,this.currentResult.context),(i=(a=this.mutateOptions).onSettled)==null||i.call(a,this.currentResult.data,null,this.currentResult.variables,this.currentResult.context)}else if(t.onError){var s,o,l,u;(s=(o=this.mutateOptions).onError)==null||s.call(o,this.currentResult.error,this.currentResult.variables,this.currentResult.context),(l=(u=this.mutateOptions).onSettled)==null||l.call(u,void 0,this.currentResult.error,this.currentResult.variables,this.currentResult.context)}}t.listeners&&this.listeners.forEach(c=>{c(this.currentResult)})})}};const N6=pN.useSyncExternalStore,J4=Y.createContext(void 0),M6=Y.createContext(!1);function O6(e,t){return e||(t&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=J4),window.ReactQueryClientContext):J4)}const wE=({context:e}={})=>{const t=Y.useContext(O6(e,Y.useContext(M6)));if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Zne=({client:e,children:t,context:n,contextSharing:r=!1})=>{Y.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]);const i=O6(n,r);return Y.createElement(M6.Provider,{value:!n&&r},Y.createElement(i.Provider,{value:e},t))},L6=Y.createContext(!1),Jne=()=>Y.useContext(L6);L6.Provider;function ere(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}const tre=Y.createContext(ere()),nre=()=>Y.useContext(tre);function F6(e,t){return typeof e=="function"?e(...t):!!e}const rre=(e,t)=>{(e.suspense||e.useErrorBoundary)&&(t.isReset()||(e.retryOnMount=!1))},ire=e=>{Y.useEffect(()=>{e.clearReset()},[e])},are=({result:e,errorResetBoundary:t,useErrorBoundary:n,query:r})=>e.isError&&!t.isReset()&&!e.isFetching&&F6(n,[e.error,r]),sre=e=>{e.suspense&&typeof e.staleTime!="number"&&(e.staleTime=1e3)},ore=(e,t)=>e.isLoading&&e.isFetching&&!t,lre=(e,t,n)=>e?.suspense&&ore(t,n),ure=(e,t,n)=>t.fetchOptimistic(e).then(({data:r})=>{e.onSuccess==null||e.onSuccess(r),e.onSettled==null||e.onSettled(r,null)}).catch(r=>{n.clearReset(),e.onError==null||e.onError(r),e.onSettled==null||e.onSettled(void 0,r)});function B6(e,t){const n=wE({context:e.context}),r=Jne(),i=nre(),a=n.defaultQueryOptions(e);a._optimisticResults=r?"isRestoring":"optimistic",a.onError&&(a.onError=mn.batchCalls(a.onError)),a.onSuccess&&(a.onSuccess=mn.batchCalls(a.onSuccess)),a.onSettled&&(a.onSettled=mn.batchCalls(a.onSettled)),sre(a),rre(a,i),ire(i);const[s]=Y.useState(()=>new t(n,a)),o=s.getOptimisticResult(a);if(N6(Y.useCallback(l=>r?()=>{}:s.subscribe(mn.batchCalls(l)),[s,r]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),Y.useEffect(()=>{s.setOptions(a,{listeners:!1})},[a,s]),lre(a,o,r))throw ure(a,s,i);if(are({result:o,errorResetBoundary:i,useErrorBoundary:a.useErrorBoundary,query:s.getCurrentQuery()}))throw o.error;return a.notifyOnChangeProps?o:s.trackResult(o)}function bE(e,t,n){const r=ru(e,t,n);return B6(r,D6)}function cre(e,t,n){const r=One(e,t,n),i=wE({context:r.context}),[a]=Y.useState(()=>new Qne(i,r));Y.useEffect(()=>{a.setOptions(r)},[a,r]);const s=N6(Y.useCallback(l=>a.subscribe(mn.batchCalls(l)),[a]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),o=Y.useCallback((l,u)=>{a.mutate(l,u).catch(dre)},[a]);if(s.error&&F6(a.options.useErrorBoundary,[s.error]))throw s.error;return{...s,mutate:o,mutateAsync:s.mutate}}function dre(){}function hre(e,t,n){const r=ru(e,t,n);return B6(r,Xne)}function fre({variant:e,deleteTooltip:t,className:n,images:r,outline:i}){const[a,s]=useState(!1),o=re.Images.Delete.use(),l=re.Images.Delete.useIsEnabled();return useMemo(()=>l?a?ne("div",{className:classes("-py-1 rounded bg-black/75 px-1",n),children:[C(re.Image.Controls.Button,{alwaysShow:e==="group",name:t??"Delete image",icon:u=>C(H.Icon.Check,{...u,className:classes(u.className,"h-6 w-6 origin-center scale-[0.9] text-red-500/75 opacity-100 hover:text-red-500/100")}),onClick:()=>{o.mutate(r),s(!1)},transparent:!0,noBg:!0}),C(re.Image.Controls.Button,{name:"Cancel",onClick:()=>s(!1),icon:u=>C(H.Icon.X,{...u,className:classes(u.className,"opacity-100")}),transparent:!0,noBg:!0})]}):C(re.Image.Controls.Button,{name:t??"Delete image",icon:H.Icon.Trash,onClick:()=>s(!0),transparent:!i,outline:i,noBg:i}):null,[a,n,e,t,i,o,r])}var Fx;(e=>{e.Button=fre,e.use=()=>{const t=Nn.use(({deleteStableDiffusionImages:r})=>r),n=wE();return cre(async r=>{if(t)return re.Image.Output.remove(r),n.setQueryData(["Generation.Images.use","defaultProject","descending"],i=>({pages:i?.pages.map(a=>({...a,data:a.data.filter(s=>!r.includes(s.id??""))}))??[],pageParams:i?.pageParams??[]})),t({imageIDs:r})})},e.useIsEnabled=()=>Nn.use(({deleteStableDiffusionImages:t})=>!!t)})(Fx||(Fx={}));var z6={exports:{}};(function(e,t){(function(n,r){r()})(jr,function(){function n(u,c){return typeof c>"u"?c={autoBom:!1}:typeof c!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),c={autoBom:!c}),c.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(u.type)?new Blob(["\uFEFF",u],{type:u.type}):u}function r(u,c,h){var p=new XMLHttpRequest;p.open("GET",u),p.responseType="blob",p.onload=function(){l(p.response,c,h)},p.onerror=function(){console.error("could not download file")},p.send()}function i(u){var c=new XMLHttpRequest;c.open("HEAD",u,!1);try{c.send()}catch{}return 200<=c.status&&299>=c.status}function a(u){try{u.dispatchEvent(new MouseEvent("click"))}catch{var c=document.createEvent("MouseEvents");c.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),u.dispatchEvent(c)}}var s=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof jr=="object"&&jr.global===jr?jr:void 0,o=s.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=s.saveAs||(typeof window!="object"||window!==s?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(u,c,h){var p=s.URL||s.webkitURL,m=document.createElement("a");c=c||u.name||"download",m.download=c,m.rel="noopener",typeof u=="string"?(m.href=u,m.origin===location.origin?a(m):i(m.href)?r(u,c,h):a(m,m.target="_blank")):(m.href=p.createObjectURL(u),setTimeout(function(){p.revokeObjectURL(m.href)},4e4),setTimeout(function(){a(m)},0))}:"msSaveOrOpenBlob"in navigator?function(u,c,h){if(c=c||u.name||"download",typeof u!="string")navigator.msSaveOrOpenBlob(n(u,h),c);else if(i(u))r(u,c,h);else{var p=document.createElement("a");p.href=u,p.target="_blank",setTimeout(function(){a(p)})}}:function(u,c,h,p){if(p=p||open("","_blank"),p&&(p.document.title=p.document.body.innerText="downloading..."),typeof u=="string")return r(u,c,h);var m=u.type==="application/octet-stream",g=/constructor/i.test(s.HTMLElement)||s.safari,y=/CriOS\/[\d]+/.test(navigator.userAgent);if((y||m&&g||o)&&typeof FileReader<"u"){var b=new FileReader;b.onloadend=function(){var k=b.result;k=y?k:k.replace(/^data:[^;]*;/,"data:attachment/file;"),p?p.location.href=k:location=k,p=null},b.readAsDataURL(u)}else{var w=s.URL||s.webkitURL,x=w.createObjectURL(u);p?p.location=x:location.href=x,p=null,setTimeout(function(){w.revokeObjectURL(x)},4e4)}});s.saveAs=l.saveAs=l,e.exports=l})})(z6);var pre=z6.exports;function Hp(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var U6={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(e,t){(function(n){e.exports=n()})(function(){return function n(r,i,a){function s(u,c){if(!i[u]){if(!r[u]){var h=typeof Hp=="function"&&Hp;if(!c&&h)return h(u,!0);if(o)return o(u,!0);var p=new Error("Cannot find module '"+u+"'");throw p.code="MODULE_NOT_FOUND",p}var m=i[u]={exports:{}};r[u][0].call(m.exports,function(g){var y=r[u][1][g];return s(y||g)},m,m.exports,n,r,i,a)}return i[u].exports}for(var o=typeof Hp=="function"&&Hp,l=0;l<a.length;l++)s(a[l]);return s}({1:[function(n,r,i){var a=n("./utils"),s=n("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(l){for(var u,c,h,p,m,g,y,b=[],w=0,x=l.length,k=x,_=a.getTypeOf(l)!=="string";w<l.length;)k=x-w,h=_?(u=l[w++],c=w<x?l[w++]:0,w<x?l[w++]:0):(u=l.charCodeAt(w++),c=w<x?l.charCodeAt(w++):0,w<x?l.charCodeAt(w++):0),p=u>>2,m=(3&u)<<4|c>>4,g=1<k?(15&c)<<2|h>>6:64,y=2<k?63&h:64,b.push(o.charAt(p)+o.charAt(m)+o.charAt(g)+o.charAt(y));return b.join("")},i.decode=function(l){var u,c,h,p,m,g,y=0,b=0,w="data:";if(l.substr(0,w.length)===w)throw new Error("Invalid base64 input, it looks like a data url.");var x,k=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===o.charAt(64)&&k--,l.charAt(l.length-2)===o.charAt(64)&&k--,k%1!=0)throw new Error("Invalid base64 input, bad content length.");for(x=s.uint8array?new Uint8Array(0|k):new Array(0|k);y<l.length;)u=o.indexOf(l.charAt(y++))<<2|(p=o.indexOf(l.charAt(y++)))>>4,c=(15&p)<<4|(m=o.indexOf(l.charAt(y++)))>>2,h=(3&m)<<6|(g=o.indexOf(l.charAt(y++))),x[b++]=u,m!==64&&(x[b++]=c),g!==64&&(x[b++]=h);return x}},{"./support":30,"./utils":32}],2:[function(n,r,i){var a=n("./external"),s=n("./stream/DataWorker"),o=n("./stream/Crc32Probe"),l=n("./stream/DataLengthProbe");function u(c,h,p,m,g){this.compressedSize=c,this.uncompressedSize=h,this.crc32=p,this.compression=m,this.compressedContent=g}u.prototype={getContentWorker:function(){var c=new s(a.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),h=this;return c.on("end",function(){if(this.streamInfo.data_length!==h.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),c},getCompressedWorker:function(){return new s(a.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},u.createWorkerFrom=function(c,h,p){return c.pipe(new o).pipe(new l("uncompressedSize")).pipe(h.compressWorker(p)).pipe(new l("compressedSize")).withStreamInfo("compression",h)},r.exports=u},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,i){var a=n("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new a("STORE compression")},uncompressWorker:function(){return new a("STORE decompression")}},i.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,i){var a=n("./utils"),s=function(){for(var o,l=[],u=0;u<256;u++){o=u;for(var c=0;c<8;c++)o=1&o?3988292384^o>>>1:o>>>1;l[u]=o}return l}();r.exports=function(o,l){return o!==void 0&&o.length?a.getTypeOf(o)!=="string"?function(u,c,h,p){var m=s,g=p+h;u^=-1;for(var y=p;y<g;y++)u=u>>>8^m[255&(u^c[y])];return-1^u}(0|l,o,o.length,0):function(u,c,h,p){var m=s,g=p+h;u^=-1;for(var y=p;y<g;y++)u=u>>>8^m[255&(u^c.charCodeAt(y))];return-1^u}(0|l,o,o.length,0):0}},{"./utils":32}],5:[function(n,r,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(n,r,i){var a=null;a=typeof Promise<"u"?Promise:n("lie"),r.exports={Promise:a}},{lie:37}],7:[function(n,r,i){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",s=n("pako"),o=n("./utils"),l=n("./stream/GenericWorker"),u=a?"uint8array":"array";function c(h,p){l.call(this,"FlateWorker/"+h),this._pako=null,this._pakoAction=h,this._pakoOptions=p,this.meta={}}i.magic="\b\0",o.inherits(c,l),c.prototype.processChunk=function(h){this.meta=h.meta,this._pako===null&&this._createPako(),this._pako.push(o.transformTo(u,h.data),!1)},c.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},c.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},c.prototype._createPako=function(){this._pako=new s[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var h=this;this._pako.onData=function(p){h.push({data:p,meta:h.meta})}},i.compressWorker=function(h){return new c("Deflate",h)},i.uncompressWorker=function(){return new c("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,i){function a(m,g){var y,b="";for(y=0;y<g;y++)b+=String.fromCharCode(255&m),m>>>=8;return b}function s(m,g,y,b,w,x){var k,_,A=m.file,P=m.compression,N=x!==u.utf8encode,B=o.transformTo("string",x(A.name)),j=o.transformTo("string",u.utf8encode(A.name)),W=A.comment,K=o.transformTo("string",x(W)),z=o.transformTo("string",u.utf8encode(W)),G=j.length!==A.name.length,M=z.length!==W.length,te="",X="",ue="",de=A.dir,ae=A.date,pe={crc32:0,compressedSize:0,uncompressedSize:0};g&&!y||(pe.crc32=m.crc32,pe.compressedSize=m.compressedSize,pe.uncompressedSize=m.uncompressedSize);var F=0;g&&(F|=8),N||!G&&!M||(F|=2048);var O=0,Ee=0;de&&(O|=16),w==="UNIX"?(Ee=798,O|=function(Te,Xe){var ft=Te;return Te||(ft=Xe?16893:33204),(65535&ft)<<16}(A.unixPermissions,de)):(Ee=20,O|=function(Te){return 63&(Te||0)}(A.dosPermissions)),k=ae.getUTCHours(),k<<=6,k|=ae.getUTCMinutes(),k<<=5,k|=ae.getUTCSeconds()/2,_=ae.getUTCFullYear()-1980,_<<=4,_|=ae.getUTCMonth()+1,_<<=5,_|=ae.getUTCDate(),G&&(X=a(1,1)+a(c(B),4)+j,te+="up"+a(X.length,2)+X),M&&(ue=a(1,1)+a(c(K),4)+z,te+="uc"+a(ue.length,2)+ue);var Ce="";return Ce+=`
\0`,Ce+=a(F,2),Ce+=P.magic,Ce+=a(k,2),Ce+=a(_,2),Ce+=a(pe.crc32,4),Ce+=a(pe.compressedSize,4),Ce+=a(pe.uncompressedSize,4),Ce+=a(B.length,2),Ce+=a(te.length,2),{fileRecord:h.LOCAL_FILE_HEADER+Ce+B+te,dirRecord:h.CENTRAL_FILE_HEADER+a(Ee,2)+Ce+a(K.length,2)+"\0\0\0\0"+a(O,4)+a(b,4)+B+te+K}}var o=n("../utils"),l=n("../stream/GenericWorker"),u=n("../utf8"),c=n("../crc32"),h=n("../signature");function p(m,g,y,b){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=g,this.zipPlatform=y,this.encodeFileName=b,this.streamFiles=m,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(p,l),p.prototype.push=function(m){var g=m.meta.percent||0,y=this.entriesCount,b=this._sources.length;this.accumulate?this.contentBuffer.push(m):(this.bytesWritten+=m.data.length,l.prototype.push.call(this,{data:m.data,meta:{currentFile:this.currentFile,percent:y?(g+100*(y-b-1))/y:100}}))},p.prototype.openedSource=function(m){this.currentSourceOffset=this.bytesWritten,this.currentFile=m.file.name;var g=this.streamFiles&&!m.file.dir;if(g){var y=s(m,g,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:y.fileRecord,meta:{percent:0}})}else this.accumulate=!0},p.prototype.closedSource=function(m){this.accumulate=!1;var g=this.streamFiles&&!m.file.dir,y=s(m,g,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(y.dirRecord),g)this.push({data:function(b){return h.DATA_DESCRIPTOR+a(b.crc32,4)+a(b.compressedSize,4)+a(b.uncompressedSize,4)}(m),meta:{percent:100}});else for(this.push({data:y.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},p.prototype.flush=function(){for(var m=this.bytesWritten,g=0;g<this.dirRecords.length;g++)this.push({data:this.dirRecords[g],meta:{percent:100}});var y=this.bytesWritten-m,b=function(w,x,k,_,A){var P=o.transformTo("string",A(_));return h.CENTRAL_DIRECTORY_END+"\0\0\0\0"+a(w,2)+a(w,2)+a(x,4)+a(k,4)+a(P.length,2)+P}(this.dirRecords.length,y,m,this.zipComment,this.encodeFileName);this.push({data:b,meta:{percent:100}})},p.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},p.prototype.registerPrevious=function(m){this._sources.push(m);var g=this;return m.on("data",function(y){g.processChunk(y)}),m.on("end",function(){g.closedSource(g.previous.streamInfo),g._sources.length?g.prepareNextSource():g.end()}),m.on("error",function(y){g.error(y)}),this},p.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},p.prototype.error=function(m){var g=this._sources;if(!l.prototype.error.call(this,m))return!1;for(var y=0;y<g.length;y++)try{g[y].error(m)}catch{}return!0},p.prototype.lock=function(){l.prototype.lock.call(this);for(var m=this._sources,g=0;g<m.length;g++)m[g].lock()},r.exports=p},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,i){var a=n("../compressions"),s=n("./ZipFileWorker");i.generateWorker=function(o,l,u){var c=new s(l.streamFiles,u,l.platform,l.encodeFileName),h=0;try{o.forEach(function(p,m){h++;var g=function(x,k){var _=x||k,A=a[_];if(!A)throw new Error(_+" is not a valid compression method !");return A}(m.options.compression,l.compression),y=m.options.compressionOptions||l.compressionOptions||{},b=m.dir,w=m.date;m._compressWorker(g,y).withStreamInfo("file",{name:p,dir:b,date:w,comment:m.comment||"",unixPermissions:m.unixPermissions,dosPermissions:m.dosPermissions}).pipe(c)}),c.entriesCount=h}catch(p){c.error(p)}return c}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,i){function a(){if(!(this instanceof a))return new a;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var s=new a;for(var o in this)typeof this[o]!="function"&&(s[o]=this[o]);return s}}(a.prototype=n("./object")).loadAsync=n("./load"),a.support=n("./support"),a.defaults=n("./defaults"),a.version="3.10.1",a.loadAsync=function(s,o){return new a().loadAsync(s,o)},a.external=n("./external"),r.exports=a},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,i){var a=n("./utils"),s=n("./external"),o=n("./utf8"),l=n("./zipEntries"),u=n("./stream/Crc32Probe"),c=n("./nodejsUtils");function h(p){return new s.Promise(function(m,g){var y=p.decompressed.getContentWorker().pipe(new u);y.on("error",function(b){g(b)}).on("end",function(){y.streamInfo.crc32!==p.decompressed.crc32?g(new Error("Corrupted zip : CRC32 mismatch")):m()}).resume()})}r.exports=function(p,m){var g=this;return m=a.extend(m||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),c.isNode&&c.isStream(p)?s.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):a.prepareContent("the loaded zip file",p,!0,m.optimizedBinaryString,m.base64).then(function(y){var b=new l(m);return b.load(y),b}).then(function(y){var b=[s.Promise.resolve(y)],w=y.files;if(m.checkCRC32)for(var x=0;x<w.length;x++)b.push(h(w[x]));return s.Promise.all(b)}).then(function(y){for(var b=y.shift(),w=b.files,x=0;x<w.length;x++){var k=w[x],_=k.fileNameStr,A=a.resolve(k.fileNameStr);g.file(A,k.decompressed,{binary:!0,optimizedBinaryString:!0,date:k.date,dir:k.dir,comment:k.fileCommentStr.length?k.fileCommentStr:null,unixPermissions:k.unixPermissions,dosPermissions:k.dosPermissions,createFolders:m.createFolders}),k.dir||(g.file(A).unsafeOriginalName=_)}return b.zipComment.length&&(g.comment=b.zipComment),g})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,i){var a=n("../utils"),s=n("../stream/GenericWorker");function o(l,u){s.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(u)}a.inherits(o,s),o.prototype._bindStream=function(l){var u=this;(this._stream=l).pause(),l.on("data",function(c){u.push({data:c,meta:{percent:0}})}).on("error",function(c){u.isPaused?this.generatedError=c:u.error(c)}).on("end",function(){u.isPaused?u._upstreamEnded=!0:u.end()})},o.prototype.pause=function(){return!!s.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,i){var a=n("readable-stream").Readable;function s(o,l,u){a.call(this,l),this._helper=o;var c=this;o.on("data",function(h,p){c.push(h)||c._helper.pause(),u&&u(p)}).on("error",function(h){c.emit("error",h)}).on("end",function(){c.push(null)})}n("../utils").inherits(s,a),s.prototype._read=function(){this._helper.resume()},r.exports=s},{"../utils":32,"readable-stream":16}],14:[function(n,r,i){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(a,s){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(a,s);if(typeof a=="number")throw new Error('The "data" argument must not be a number');return new Buffer(a,s)},allocBuffer:function(a){if(Buffer.alloc)return Buffer.alloc(a);var s=new Buffer(a);return s.fill(0),s},isBuffer:function(a){return Buffer.isBuffer(a)},isStream:function(a){return a&&typeof a.on=="function"&&typeof a.pause=="function"&&typeof a.resume=="function"}}},{}],15:[function(n,r,i){function a(A,P,N){var B,j=o.getTypeOf(P),W=o.extend(N||{},c);W.date=W.date||new Date,W.compression!==null&&(W.compression=W.compression.toUpperCase()),typeof W.unixPermissions=="string"&&(W.unixPermissions=parseInt(W.unixPermissions,8)),W.unixPermissions&&16384&W.unixPermissions&&(W.dir=!0),W.dosPermissions&&16&W.dosPermissions&&(W.dir=!0),W.dir&&(A=w(A)),W.createFolders&&(B=b(A))&&x.call(this,B,!0);var K=j==="string"&&W.binary===!1&&W.base64===!1;N&&N.binary!==void 0||(W.binary=!K),(P instanceof h&&P.uncompressedSize===0||W.dir||!P||P.length===0)&&(W.base64=!1,W.binary=!0,P="",W.compression="STORE",j="string");var z=null;z=P instanceof h||P instanceof l?P:g.isNode&&g.isStream(P)?new y(A,P):o.prepareContent(A,P,W.binary,W.optimizedBinaryString,W.base64);var G=new p(A,z,W);this.files[A]=G}var s=n("./utf8"),o=n("./utils"),l=n("./stream/GenericWorker"),u=n("./stream/StreamHelper"),c=n("./defaults"),h=n("./compressedObject"),p=n("./zipObject"),m=n("./generate"),g=n("./nodejsUtils"),y=n("./nodejs/NodejsStreamInputAdapter"),b=function(A){A.slice(-1)==="/"&&(A=A.substring(0,A.length-1));var P=A.lastIndexOf("/");return 0<P?A.substring(0,P):""},w=function(A){return A.slice(-1)!=="/"&&(A+="/"),A},x=function(A,P){return P=P!==void 0?P:c.createFolders,A=w(A),this.files[A]||a.call(this,A,null,{dir:!0,createFolders:P}),this.files[A]};function k(A){return Object.prototype.toString.call(A)==="[object RegExp]"}var _={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(A){var P,N,B;for(P in this.files)B=this.files[P],(N=P.slice(this.root.length,P.length))&&P.slice(0,this.root.length)===this.root&&A(N,B)},filter:function(A){var P=[];return this.forEach(function(N,B){A(N,B)&&P.push(B)}),P},file:function(A,P,N){if(arguments.length!==1)return A=this.root+A,a.call(this,A,P,N),this;if(k(A)){var B=A;return this.filter(function(W,K){return!K.dir&&B.test(W)})}var j=this.files[this.root+A];return j&&!j.dir?j:null},folder:function(A){if(!A)return this;if(k(A))return this.filter(function(j,W){return W.dir&&A.test(j)});var P=this.root+A,N=x.call(this,P),B=this.clone();return B.root=N.name,B},remove:function(A){A=this.root+A;var P=this.files[A];if(P||(A.slice(-1)!=="/"&&(A+="/"),P=this.files[A]),P&&!P.dir)delete this.files[A];else for(var N=this.filter(function(j,W){return W.name.slice(0,A.length)===A}),B=0;B<N.length;B++)delete this.files[N[B].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(A){var P,N={};try{if((N=o.extend(A||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:s.utf8encode})).type=N.type.toLowerCase(),N.compression=N.compression.toUpperCase(),N.type==="binarystring"&&(N.type="string"),!N.type)throw new Error("No output type specified.");o.checkSupport(N.type),N.platform!=="darwin"&&N.platform!=="freebsd"&&N.platform!=="linux"&&N.platform!=="sunos"||(N.platform="UNIX"),N.platform==="win32"&&(N.platform="DOS");var B=N.comment||this.comment||"";P=m.generateWorker(this,N,B)}catch(j){(P=new l("error")).error(j)}return new u(P,N.type||"string",N.mimeType)},generateAsync:function(A,P){return this.generateInternalStream(A).accumulate(P)},generateNodeStream:function(A,P){return(A=A||{}).type||(A.type="nodebuffer"),this.generateInternalStream(A).toNodejsStream(P)}};r.exports=_},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,i){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,i){var a=n("./DataReader");function s(o){a.call(this,o);for(var l=0;l<this.data.length;l++)o[l]=255&o[l]}n("../utils").inherits(s,a),s.prototype.byteAt=function(o){return this.data[this.zero+o]},s.prototype.lastIndexOfSignature=function(o){for(var l=o.charCodeAt(0),u=o.charCodeAt(1),c=o.charCodeAt(2),h=o.charCodeAt(3),p=this.length-4;0<=p;--p)if(this.data[p]===l&&this.data[p+1]===u&&this.data[p+2]===c&&this.data[p+3]===h)return p-this.zero;return-1},s.prototype.readAndCheckSignature=function(o){var l=o.charCodeAt(0),u=o.charCodeAt(1),c=o.charCodeAt(2),h=o.charCodeAt(3),p=this.readData(4);return l===p[0]&&u===p[1]&&c===p[2]&&h===p[3]},s.prototype.readData=function(o){if(this.checkOffset(o),o===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=s},{"../utils":32,"./DataReader":18}],18:[function(n,r,i){var a=n("../utils");function s(o){this.data=o,this.length=o.length,this.index=0,this.zero=0}s.prototype={checkOffset:function(o){this.checkIndex(this.index+o)},checkIndex:function(o){if(this.length<this.zero+o||o<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+o+"). Corrupted zip ?")},setIndex:function(o){this.checkIndex(o),this.index=o},skip:function(o){this.setIndex(this.index+o)},byteAt:function(){},readInt:function(o){var l,u=0;for(this.checkOffset(o),l=this.index+o-1;l>=this.index;l--)u=(u<<8)+this.byteAt(l);return this.index+=o,u},readString:function(o){return a.transformTo("string",this.readData(o))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var o=this.readInt(4);return new Date(Date.UTC(1980+(o>>25&127),(o>>21&15)-1,o>>16&31,o>>11&31,o>>5&63,(31&o)<<1))}},r.exports=s},{"../utils":32}],19:[function(n,r,i){var a=n("./Uint8ArrayReader");function s(o){a.call(this,o)}n("../utils").inherits(s,a),s.prototype.readData=function(o){this.checkOffset(o);var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=s},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,i){var a=n("./DataReader");function s(o){a.call(this,o)}n("../utils").inherits(s,a),s.prototype.byteAt=function(o){return this.data.charCodeAt(this.zero+o)},s.prototype.lastIndexOfSignature=function(o){return this.data.lastIndexOf(o)-this.zero},s.prototype.readAndCheckSignature=function(o){return o===this.readData(4)},s.prototype.readData=function(o){this.checkOffset(o);var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=s},{"../utils":32,"./DataReader":18}],21:[function(n,r,i){var a=n("./ArrayReader");function s(o){a.call(this,o)}n("../utils").inherits(s,a),s.prototype.readData=function(o){if(this.checkOffset(o),o===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},r.exports=s},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,i){var a=n("../utils"),s=n("../support"),o=n("./ArrayReader"),l=n("./StringReader"),u=n("./NodeBufferReader"),c=n("./Uint8ArrayReader");r.exports=function(h){var p=a.getTypeOf(h);return a.checkSupport(p),p!=="string"||s.uint8array?p==="nodebuffer"?new u(h):s.uint8array?new c(a.transformTo("uint8array",h)):new o(a.transformTo("array",h)):new l(h)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,i){var a=n("./GenericWorker"),s=n("../utils");function o(l){a.call(this,"ConvertWorker to "+l),this.destType=l}s.inherits(o,a),o.prototype.processChunk=function(l){this.push({data:s.transformTo(this.destType,l.data),meta:l.meta})},r.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,i){var a=n("./GenericWorker"),s=n("../crc32");function o(){a.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(o,a),o.prototype.processChunk=function(l){this.streamInfo.crc32=s(l.data,this.streamInfo.crc32||0),this.push(l)},r.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,i){var a=n("../utils"),s=n("./GenericWorker");function o(l){s.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}a.inherits(o,s),o.prototype.processChunk=function(l){if(l){var u=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=u+l.data.length}s.prototype.processChunk.call(this,l)},r.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,i){var a=n("../utils"),s=n("./GenericWorker");function o(l){s.call(this,"DataWorker");var u=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(c){u.dataIsReady=!0,u.data=c,u.max=c&&c.length||0,u.type=a.getTypeOf(c),u.isPaused||u._tickAndRepeat()},function(c){u.error(c)})}a.inherits(o,s),o.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,a.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(a.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,u=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,u);break;case"uint8array":l=this.data.subarray(this.index,u);break;case"array":case"nodebuffer":l=this.data.slice(this.index,u)}return this.index=u,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,i){function a(s){this.name=s||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}a.prototype={push:function(s){this.emit("data",s)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(s){this.emit("error",s)}return!0},error:function(s){return!this.isFinished&&(this.isPaused?this.generatedError=s:(this.isFinished=!0,this.emit("error",s),this.previous&&this.previous.error(s),this.cleanUp()),!0)},on:function(s,o){return this._listeners[s].push(o),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(s,o){if(this._listeners[s])for(var l=0;l<this._listeners[s].length;l++)this._listeners[s][l].call(this,o)},pipe:function(s){return s.registerPrevious(this)},registerPrevious:function(s){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=s.streamInfo,this.mergeStreamInfo(),this.previous=s;var o=this;return s.on("data",function(l){o.processChunk(l)}),s.on("end",function(){o.end()}),s.on("error",function(l){o.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var s=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),s=!0),this.previous&&this.previous.resume(),!s},flush:function(){},processChunk:function(s){this.push(s)},withStreamInfo:function(s,o){return this.extraStreamInfo[s]=o,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var s in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,s)&&(this.streamInfo[s]=this.extraStreamInfo[s])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var s="Worker "+this.name;return this.previous?this.previous+" -> "+s:s}},r.exports=a},{}],29:[function(n,r,i){var a=n("../utils"),s=n("./ConvertWorker"),o=n("./GenericWorker"),l=n("../base64"),u=n("../support"),c=n("../external"),h=null;if(u.nodestream)try{h=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function p(g,y){return new c.Promise(function(b,w){var x=[],k=g._internalType,_=g._outputType,A=g._mimeType;g.on("data",function(P,N){x.push(P),y&&y(N)}).on("error",function(P){x=[],w(P)}).on("end",function(){try{var P=function(N,B,j){switch(N){case"blob":return a.newBlob(a.transformTo("arraybuffer",B),j);case"base64":return l.encode(B);default:return a.transformTo(N,B)}}(_,function(N,B){var j,W=0,K=null,z=0;for(j=0;j<B.length;j++)z+=B[j].length;switch(N){case"string":return B.join("");case"array":return Array.prototype.concat.apply([],B);case"uint8array":for(K=new Uint8Array(z),j=0;j<B.length;j++)K.set(B[j],W),W+=B[j].length;return K;case"nodebuffer":return Buffer.concat(B);default:throw new Error("concat : unsupported type '"+N+"'")}}(k,x),A);b(P)}catch(N){w(N)}x=[]}).resume()})}function m(g,y,b){var w=y;switch(y){case"blob":case"arraybuffer":w="uint8array";break;case"base64":w="string"}try{this._internalType=w,this._outputType=y,this._mimeType=b,a.checkSupport(w),this._worker=g.pipe(new s(w)),g.lock()}catch(x){this._worker=new o("error"),this._worker.error(x)}}m.prototype={accumulate:function(g){return p(this,g)},on:function(g,y){var b=this;return g==="data"?this._worker.on(g,function(w){y.call(b,w.data,w.meta)}):this._worker.on(g,function(){a.delay(y,arguments,b)}),this},resume:function(){return a.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(g){if(a.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new h(this,{objectMode:this._outputType!=="nodebuffer"},g)}},r.exports=m},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var a=new ArrayBuffer(0);try{i.blob=new Blob([a],{type:"application/zip"}).size===0}catch{try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);s.append(a),i.blob=s.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!n("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,i){for(var a=n("./utils"),s=n("./support"),o=n("./nodejsUtils"),l=n("./stream/GenericWorker"),u=new Array(256),c=0;c<256;c++)u[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;u[254]=u[254]=1;function h(){l.call(this,"utf-8 decode"),this.leftOver=null}function p(){l.call(this,"utf-8 encode")}i.utf8encode=function(m){return s.nodebuffer?o.newBufferFrom(m,"utf-8"):function(g){var y,b,w,x,k,_=g.length,A=0;for(x=0;x<_;x++)(64512&(b=g.charCodeAt(x)))==55296&&x+1<_&&(64512&(w=g.charCodeAt(x+1)))==56320&&(b=65536+(b-55296<<10)+(w-56320),x++),A+=b<128?1:b<2048?2:b<65536?3:4;for(y=s.uint8array?new Uint8Array(A):new Array(A),x=k=0;k<A;x++)(64512&(b=g.charCodeAt(x)))==55296&&x+1<_&&(64512&(w=g.charCodeAt(x+1)))==56320&&(b=65536+(b-55296<<10)+(w-56320),x++),b<128?y[k++]=b:(b<2048?y[k++]=192|b>>>6:(b<65536?y[k++]=224|b>>>12:(y[k++]=240|b>>>18,y[k++]=128|b>>>12&63),y[k++]=128|b>>>6&63),y[k++]=128|63&b);return y}(m)},i.utf8decode=function(m){return s.nodebuffer?a.transformTo("nodebuffer",m).toString("utf-8"):function(g){var y,b,w,x,k=g.length,_=new Array(2*k);for(y=b=0;y<k;)if((w=g[y++])<128)_[b++]=w;else if(4<(x=u[w]))_[b++]=65533,y+=x-1;else{for(w&=x===2?31:x===3?15:7;1<x&&y<k;)w=w<<6|63&g[y++],x--;1<x?_[b++]=65533:w<65536?_[b++]=w:(w-=65536,_[b++]=55296|w>>10&1023,_[b++]=56320|1023&w)}return _.length!==b&&(_.subarray?_=_.subarray(0,b):_.length=b),a.applyFromCharCode(_)}(m=a.transformTo(s.uint8array?"uint8array":"array",m))},a.inherits(h,l),h.prototype.processChunk=function(m){var g=a.transformTo(s.uint8array?"uint8array":"array",m.data);if(this.leftOver&&this.leftOver.length){if(s.uint8array){var y=g;(g=new Uint8Array(y.length+this.leftOver.length)).set(this.leftOver,0),g.set(y,this.leftOver.length)}else g=this.leftOver.concat(g);this.leftOver=null}var b=function(x,k){var _;for((k=k||x.length)>x.length&&(k=x.length),_=k-1;0<=_&&(192&x[_])==128;)_--;return _<0||_===0?k:_+u[x[_]]>k?_:k}(g),w=g;b!==g.length&&(s.uint8array?(w=g.subarray(0,b),this.leftOver=g.subarray(b,g.length)):(w=g.slice(0,b),this.leftOver=g.slice(b,g.length))),this.push({data:i.utf8decode(w),meta:m.meta})},h.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=h,a.inherits(p,l),p.prototype.processChunk=function(m){this.push({data:i.utf8encode(m.data),meta:m.meta})},i.Utf8EncodeWorker=p},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,i){var a=n("./support"),s=n("./base64"),o=n("./nodejsUtils"),l=n("./external");function u(y){return y}function c(y,b){for(var w=0;w<y.length;++w)b[w]=255&y.charCodeAt(w);return b}n("setimmediate"),i.newBlob=function(y,b){i.checkSupport("blob");try{return new Blob([y],{type:b})}catch{try{var w=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return w.append(y),w.getBlob(b)}catch{throw new Error("Bug : can't construct the Blob.")}}};var h={stringifyByChunk:function(y,b,w){var x=[],k=0,_=y.length;if(_<=w)return String.fromCharCode.apply(null,y);for(;k<_;)b==="array"||b==="nodebuffer"?x.push(String.fromCharCode.apply(null,y.slice(k,Math.min(k+w,_)))):x.push(String.fromCharCode.apply(null,y.subarray(k,Math.min(k+w,_)))),k+=w;return x.join("")},stringifyByChar:function(y){for(var b="",w=0;w<y.length;w++)b+=String.fromCharCode(y[w]);return b},applyCanBeUsed:{uint8array:function(){try{return a.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return a.nodebuffer&&String.fromCharCode.apply(null,o.allocBuffer(1)).length===1}catch{return!1}}()}};function p(y){var b=65536,w=i.getTypeOf(y),x=!0;if(w==="uint8array"?x=h.applyCanBeUsed.uint8array:w==="nodebuffer"&&(x=h.applyCanBeUsed.nodebuffer),x)for(;1<b;)try{return h.stringifyByChunk(y,w,b)}catch{b=Math.floor(b/2)}return h.stringifyByChar(y)}function m(y,b){for(var w=0;w<y.length;w++)b[w]=y[w];return b}i.applyFromCharCode=p;var g={};g.string={string:u,array:function(y){return c(y,new Array(y.length))},arraybuffer:function(y){return g.string.uint8array(y).buffer},uint8array:function(y){return c(y,new Uint8Array(y.length))},nodebuffer:function(y){return c(y,o.allocBuffer(y.length))}},g.array={string:p,array:u,arraybuffer:function(y){return new Uint8Array(y).buffer},uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return o.newBufferFrom(y)}},g.arraybuffer={string:function(y){return p(new Uint8Array(y))},array:function(y){return m(new Uint8Array(y),new Array(y.byteLength))},arraybuffer:u,uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return o.newBufferFrom(new Uint8Array(y))}},g.uint8array={string:p,array:function(y){return m(y,new Array(y.length))},arraybuffer:function(y){return y.buffer},uint8array:u,nodebuffer:function(y){return o.newBufferFrom(y)}},g.nodebuffer={string:p,array:function(y){return m(y,new Array(y.length))},arraybuffer:function(y){return g.nodebuffer.uint8array(y).buffer},uint8array:function(y){return m(y,new Uint8Array(y.length))},nodebuffer:u},i.transformTo=function(y,b){if(b=b||"",!y)return b;i.checkSupport(y);var w=i.getTypeOf(b);return g[w][y](b)},i.resolve=function(y){for(var b=y.split("/"),w=[],x=0;x<b.length;x++){var k=b[x];k==="."||k===""&&x!==0&&x!==b.length-1||(k===".."?w.pop():w.push(k))}return w.join("/")},i.getTypeOf=function(y){return typeof y=="string"?"string":Object.prototype.toString.call(y)==="[object Array]"?"array":a.nodebuffer&&o.isBuffer(y)?"nodebuffer":a.uint8array&&y instanceof Uint8Array?"uint8array":a.arraybuffer&&y instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(y){if(!a[y.toLowerCase()])throw new Error(y+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(y){var b,w,x="";for(w=0;w<(y||"").length;w++)x+="\\x"+((b=y.charCodeAt(w))<16?"0":"")+b.toString(16).toUpperCase();return x},i.delay=function(y,b,w){setImmediate(function(){y.apply(w||null,b||[])})},i.inherits=function(y,b){function w(){}w.prototype=b.prototype,y.prototype=new w},i.extend=function(){var y,b,w={};for(y=0;y<arguments.length;y++)for(b in arguments[y])Object.prototype.hasOwnProperty.call(arguments[y],b)&&w[b]===void 0&&(w[b]=arguments[y][b]);return w},i.prepareContent=function(y,b,w,x,k){return l.Promise.resolve(b).then(function(_){return a.blob&&(_ instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(_))!==-1)&&typeof FileReader<"u"?new l.Promise(function(A,P){var N=new FileReader;N.onload=function(B){A(B.target.result)},N.onerror=function(B){P(B.target.error)},N.readAsArrayBuffer(_)}):_}).then(function(_){var A=i.getTypeOf(_);return A?(A==="arraybuffer"?_=i.transformTo("uint8array",_):A==="string"&&(k?_=s.decode(_):w&&x!==!0&&(_=function(P){return c(P,a.uint8array?new Uint8Array(P.length):new Array(P.length))}(_))),_):l.Promise.reject(new Error("Can't read the data of '"+y+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,r,i){var a=n("./reader/readerFor"),s=n("./utils"),o=n("./signature"),l=n("./zipEntry"),u=n("./support");function c(h){this.files=[],this.loadOptions=h}c.prototype={checkSignature:function(h){if(!this.reader.readAndCheckSignature(h)){this.reader.index-=4;var p=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+s.pretty(p)+", expected "+s.pretty(h)+")")}},isSignature:function(h,p){var m=this.reader.index;this.reader.setIndex(h);var g=this.reader.readString(4)===p;return this.reader.setIndex(m),g},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var h=this.reader.readData(this.zipCommentLength),p=u.uint8array?"uint8array":"array",m=s.transformTo(p,h);this.zipComment=this.loadOptions.decodeFileName(m)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var h,p,m,g=this.zip64EndOfCentralSize-44;0<g;)h=this.reader.readInt(2),p=this.reader.readInt(4),m=this.reader.readData(p),this.zip64ExtensibleData[h]={id:h,length:p,value:m}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var h,p;for(h=0;h<this.files.length;h++)p=this.files[h],this.reader.setIndex(p.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),p.readLocalPart(this.reader),p.handleUTF8(),p.processAttributes()},readCentralDir:function(){var h;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(h=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(h);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var h=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(h<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(h);var p=h;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,(h=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(h),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var m=this.centralDirOffset+this.centralDirSize;this.zip64&&(m+=20,m+=12+this.zip64EndOfCentralSize);var g=p-m;if(0<g)this.isSignature(p,o.CENTRAL_FILE_HEADER)||(this.reader.zero=g);else if(g<0)throw new Error("Corrupted zip: missing "+Math.abs(g)+" bytes.")},prepareReader:function(h){this.reader=a(h)},load:function(h){this.prepareReader(h),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=c},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,r,i){var a=n("./reader/readerFor"),s=n("./utils"),o=n("./compressedObject"),l=n("./crc32"),u=n("./utf8"),c=n("./compressions"),h=n("./support");function p(m,g){this.options=m,this.loadOptions=g}p.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(m){var g,y;if(m.skip(22),this.fileNameLength=m.readInt(2),y=m.readInt(2),this.fileName=m.readData(this.fileNameLength),m.skip(y),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((g=function(b){for(var w in c)if(Object.prototype.hasOwnProperty.call(c,w)&&c[w].magic===b)return c[w];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,g,m.readData(this.compressedSize))},readCentralPart:function(m){this.versionMadeBy=m.readInt(2),m.skip(2),this.bitFlag=m.readInt(2),this.compressionMethod=m.readString(2),this.date=m.readDate(),this.crc32=m.readInt(4),this.compressedSize=m.readInt(4),this.uncompressedSize=m.readInt(4);var g=m.readInt(2);if(this.extraFieldsLength=m.readInt(2),this.fileCommentLength=m.readInt(2),this.diskNumberStart=m.readInt(2),this.internalFileAttributes=m.readInt(2),this.externalFileAttributes=m.readInt(4),this.localHeaderOffset=m.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");m.skip(g),this.readExtraFields(m),this.parseZIP64ExtraField(m),this.fileComment=m.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var m=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),m==0&&(this.dosPermissions=63&this.externalFileAttributes),m==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var m=a(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=m.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=m.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=m.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=m.readInt(4))}},readExtraFields:function(m){var g,y,b,w=m.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});m.index+4<w;)g=m.readInt(2),y=m.readInt(2),b=m.readData(y),this.extraFields[g]={id:g,length:y,value:b};m.setIndex(w)},handleUTF8:function(){var m=h.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var g=this.findExtraFieldUnicodePath();if(g!==null)this.fileNameStr=g;else{var y=s.transformTo(m,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(y)}var b=this.findExtraFieldUnicodeComment();if(b!==null)this.fileCommentStr=b;else{var w=s.transformTo(m,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(w)}}},findExtraFieldUnicodePath:function(){var m=this.extraFields[28789];if(m){var g=a(m.value);return g.readInt(1)!==1||l(this.fileName)!==g.readInt(4)?null:u.utf8decode(g.readData(m.length-5))}return null},findExtraFieldUnicodeComment:function(){var m=this.extraFields[25461];if(m){var g=a(m.value);return g.readInt(1)!==1||l(this.fileComment)!==g.readInt(4)?null:u.utf8decode(g.readData(m.length-5))}return null}},r.exports=p},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,i){function a(g,y,b){this.name=g,this.dir=b.dir,this.date=b.date,this.comment=b.comment,this.unixPermissions=b.unixPermissions,this.dosPermissions=b.dosPermissions,this._data=y,this._dataBinary=b.binary,this.options={compression:b.compression,compressionOptions:b.compressionOptions}}var s=n("./stream/StreamHelper"),o=n("./stream/DataWorker"),l=n("./utf8"),u=n("./compressedObject"),c=n("./stream/GenericWorker");a.prototype={internalStream:function(g){var y=null,b="string";try{if(!g)throw new Error("No output type specified.");var w=(b=g.toLowerCase())==="string"||b==="text";b!=="binarystring"&&b!=="text"||(b="string"),y=this._decompressWorker();var x=!this._dataBinary;x&&!w&&(y=y.pipe(new l.Utf8EncodeWorker)),!x&&w&&(y=y.pipe(new l.Utf8DecodeWorker))}catch(k){(y=new c("error")).error(k)}return new s(y,b,"")},async:function(g,y){return this.internalStream(g).accumulate(y)},nodeStream:function(g,y){return this.internalStream(g||"nodebuffer").toNodejsStream(y)},_compressWorker:function(g,y){if(this._data instanceof u&&this._data.compression.magic===g.magic)return this._data.getCompressedWorker();var b=this._decompressWorker();return this._dataBinary||(b=b.pipe(new l.Utf8EncodeWorker)),u.createWorkerFrom(b,g,y)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof c?this._data:new o(this._data)}};for(var h=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],p=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},m=0;m<h.length;m++)a.prototype[h[m]]=p;r.exports=a},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,i){(function(a){var s,o,l=a.MutationObserver||a.WebKitMutationObserver;if(l){var u=0,c=new l(g),h=a.document.createTextNode("");c.observe(h,{characterData:!0}),s=function(){h.data=u=++u%2}}else if(a.setImmediate||a.MessageChannel===void 0)s="document"in a&&"onreadystatechange"in a.document.createElement("script")?function(){var y=a.document.createElement("script");y.onreadystatechange=function(){g(),y.onreadystatechange=null,y.parentNode.removeChild(y),y=null},a.document.documentElement.appendChild(y)}:function(){setTimeout(g,0)};else{var p=new a.MessageChannel;p.port1.onmessage=g,s=function(){p.port2.postMessage(0)}}var m=[];function g(){var y,b;o=!0;for(var w=m.length;w;){for(b=m,m=[],y=-1;++y<w;)b[y]();w=m.length}o=!1}r.exports=function(y){m.push(y)!==1||o||s()}}).call(this,typeof jr<"u"?jr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,r,i){var a=n("immediate");function s(){}var o={},l=["REJECTED"],u=["FULFILLED"],c=["PENDING"];function h(w){if(typeof w!="function")throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,w!==s&&y(this,w)}function p(w,x,k){this.promise=w,typeof x=="function"&&(this.onFulfilled=x,this.callFulfilled=this.otherCallFulfilled),typeof k=="function"&&(this.onRejected=k,this.callRejected=this.otherCallRejected)}function m(w,x,k){a(function(){var _;try{_=x(k)}catch(A){return o.reject(w,A)}_===w?o.reject(w,new TypeError("Cannot resolve promise with itself")):o.resolve(w,_)})}function g(w){var x=w&&w.then;if(w&&(typeof w=="object"||typeof w=="function")&&typeof x=="function")return function(){x.apply(w,arguments)}}function y(w,x){var k=!1;function _(N){k||(k=!0,o.reject(w,N))}function A(N){k||(k=!0,o.resolve(w,N))}var P=b(function(){x(A,_)});P.status==="error"&&_(P.value)}function b(w,x){var k={};try{k.value=w(x),k.status="success"}catch(_){k.status="error",k.value=_}return k}(r.exports=h).prototype.finally=function(w){if(typeof w!="function")return this;var x=this.constructor;return this.then(function(k){return x.resolve(w()).then(function(){return k})},function(k){return x.resolve(w()).then(function(){throw k})})},h.prototype.catch=function(w){return this.then(null,w)},h.prototype.then=function(w,x){if(typeof w!="function"&&this.state===u||typeof x!="function"&&this.state===l)return this;var k=new this.constructor(s);return this.state!==c?m(k,this.state===u?w:x,this.outcome):this.queue.push(new p(k,w,x)),k},p.prototype.callFulfilled=function(w){o.resolve(this.promise,w)},p.prototype.otherCallFulfilled=function(w){m(this.promise,this.onFulfilled,w)},p.prototype.callRejected=function(w){o.reject(this.promise,w)},p.prototype.otherCallRejected=function(w){m(this.promise,this.onRejected,w)},o.resolve=function(w,x){var k=b(g,x);if(k.status==="error")return o.reject(w,k.value);var _=k.value;if(_)y(w,_);else{w.state=u,w.outcome=x;for(var A=-1,P=w.queue.length;++A<P;)w.queue[A].callFulfilled(x)}return w},o.reject=function(w,x){w.state=l,w.outcome=x;for(var k=-1,_=w.queue.length;++k<_;)w.queue[k].callRejected(x);return w},h.resolve=function(w){return w instanceof this?w:o.resolve(new this(s),w)},h.reject=function(w){var x=new this(s);return o.reject(x,w)},h.all=function(w){var x=this;if(Object.prototype.toString.call(w)!=="[object Array]")return this.reject(new TypeError("must be an array"));var k=w.length,_=!1;if(!k)return this.resolve([]);for(var A=new Array(k),P=0,N=-1,B=new this(s);++N<k;)j(w[N],N);return B;function j(W,K){x.resolve(W).then(function(z){A[K]=z,++P!==k||_||(_=!0,o.resolve(B,A))},function(z){_||(_=!0,o.reject(B,z))})}},h.race=function(w){var x=this;if(Object.prototype.toString.call(w)!=="[object Array]")return this.reject(new TypeError("must be an array"));var k=w.length,_=!1;if(!k)return this.resolve([]);for(var A=-1,P=new this(s);++A<k;)N=w[A],x.resolve(N).then(function(B){_||(_=!0,o.resolve(P,B))},function(B){_||(_=!0,o.reject(P,B))});var N;return P}},{immediate:36}],38:[function(n,r,i){var a={};(0,n("./lib/utils/common").assign)(a,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=a},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,i){var a=n("./zlib/deflate"),s=n("./utils/common"),o=n("./utils/strings"),l=n("./zlib/messages"),u=n("./zlib/zstream"),c=Object.prototype.toString,h=0,p=-1,m=0,g=8;function y(w){if(!(this instanceof y))return new y(w);this.options=s.assign({level:p,method:g,chunkSize:16384,windowBits:15,memLevel:8,strategy:m,to:""},w||{});var x=this.options;x.raw&&0<x.windowBits?x.windowBits=-x.windowBits:x.gzip&&0<x.windowBits&&x.windowBits<16&&(x.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var k=a.deflateInit2(this.strm,x.level,x.method,x.windowBits,x.memLevel,x.strategy);if(k!==h)throw new Error(l[k]);if(x.header&&a.deflateSetHeader(this.strm,x.header),x.dictionary){var _;if(_=typeof x.dictionary=="string"?o.string2buf(x.dictionary):c.call(x.dictionary)==="[object ArrayBuffer]"?new Uint8Array(x.dictionary):x.dictionary,(k=a.deflateSetDictionary(this.strm,_))!==h)throw new Error(l[k]);this._dict_set=!0}}function b(w,x){var k=new y(x);if(k.push(w,!0),k.err)throw k.msg||l[k.err];return k.result}y.prototype.push=function(w,x){var k,_,A=this.strm,P=this.options.chunkSize;if(this.ended)return!1;_=x===~~x?x:x===!0?4:0,typeof w=="string"?A.input=o.string2buf(w):c.call(w)==="[object ArrayBuffer]"?A.input=new Uint8Array(w):A.input=w,A.next_in=0,A.avail_in=A.input.length;do{if(A.avail_out===0&&(A.output=new s.Buf8(P),A.next_out=0,A.avail_out=P),(k=a.deflate(A,_))!==1&&k!==h)return this.onEnd(k),!(this.ended=!0);A.avail_out!==0&&(A.avail_in!==0||_!==4&&_!==2)||(this.options.to==="string"?this.onData(o.buf2binstring(s.shrinkBuf(A.output,A.next_out))):this.onData(s.shrinkBuf(A.output,A.next_out)))}while((0<A.avail_in||A.avail_out===0)&&k!==1);return _===4?(k=a.deflateEnd(this.strm),this.onEnd(k),this.ended=!0,k===h):_!==2||(this.onEnd(h),!(A.avail_out=0))},y.prototype.onData=function(w){this.chunks.push(w)},y.prototype.onEnd=function(w){w===h&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=w,this.msg=this.strm.msg},i.Deflate=y,i.deflate=b,i.deflateRaw=function(w,x){return(x=x||{}).raw=!0,b(w,x)},i.gzip=function(w,x){return(x=x||{}).gzip=!0,b(w,x)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,i){var a=n("./zlib/inflate"),s=n("./utils/common"),o=n("./utils/strings"),l=n("./zlib/constants"),u=n("./zlib/messages"),c=n("./zlib/zstream"),h=n("./zlib/gzheader"),p=Object.prototype.toString;function m(y){if(!(this instanceof m))return new m(y);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},y||{});var b=this.options;b.raw&&0<=b.windowBits&&b.windowBits<16&&(b.windowBits=-b.windowBits,b.windowBits===0&&(b.windowBits=-15)),!(0<=b.windowBits&&b.windowBits<16)||y&&y.windowBits||(b.windowBits+=32),15<b.windowBits&&b.windowBits<48&&!(15&b.windowBits)&&(b.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var w=a.inflateInit2(this.strm,b.windowBits);if(w!==l.Z_OK)throw new Error(u[w]);this.header=new h,a.inflateGetHeader(this.strm,this.header)}function g(y,b){var w=new m(b);if(w.push(y,!0),w.err)throw w.msg||u[w.err];return w.result}m.prototype.push=function(y,b){var w,x,k,_,A,P,N=this.strm,B=this.options.chunkSize,j=this.options.dictionary,W=!1;if(this.ended)return!1;x=b===~~b?b:b===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof y=="string"?N.input=o.binstring2buf(y):p.call(y)==="[object ArrayBuffer]"?N.input=new Uint8Array(y):N.input=y,N.next_in=0,N.avail_in=N.input.length;do{if(N.avail_out===0&&(N.output=new s.Buf8(B),N.next_out=0,N.avail_out=B),(w=a.inflate(N,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&j&&(P=typeof j=="string"?o.string2buf(j):p.call(j)==="[object ArrayBuffer]"?new Uint8Array(j):j,w=a.inflateSetDictionary(this.strm,P)),w===l.Z_BUF_ERROR&&W===!0&&(w=l.Z_OK,W=!1),w!==l.Z_STREAM_END&&w!==l.Z_OK)return this.onEnd(w),!(this.ended=!0);N.next_out&&(N.avail_out!==0&&w!==l.Z_STREAM_END&&(N.avail_in!==0||x!==l.Z_FINISH&&x!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(k=o.utf8border(N.output,N.next_out),_=N.next_out-k,A=o.buf2string(N.output,k),N.next_out=_,N.avail_out=B-_,_&&s.arraySet(N.output,N.output,k,_,0),this.onData(A)):this.onData(s.shrinkBuf(N.output,N.next_out)))),N.avail_in===0&&N.avail_out===0&&(W=!0)}while((0<N.avail_in||N.avail_out===0)&&w!==l.Z_STREAM_END);return w===l.Z_STREAM_END&&(x=l.Z_FINISH),x===l.Z_FINISH?(w=a.inflateEnd(this.strm),this.onEnd(w),this.ended=!0,w===l.Z_OK):x!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(N.avail_out=0))},m.prototype.onData=function(y){this.chunks.push(y)},m.prototype.onEnd=function(y){y===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=y,this.msg=this.strm.msg},i.Inflate=m,i.inflate=g,i.inflateRaw=function(y,b){return(b=b||{}).raw=!0,g(y,b)},i.ungzip=g},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,i){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(l){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var c=u.shift();if(c){if(typeof c!="object")throw new TypeError(c+"must be non-object");for(var h in c)c.hasOwnProperty(h)&&(l[h]=c[h])}}return l},i.shrinkBuf=function(l,u){return l.length===u?l:l.subarray?l.subarray(0,u):(l.length=u,l)};var s={arraySet:function(l,u,c,h,p){if(u.subarray&&l.subarray)l.set(u.subarray(c,c+h),p);else for(var m=0;m<h;m++)l[p+m]=u[c+m]},flattenChunks:function(l){var u,c,h,p,m,g;for(u=h=0,c=l.length;u<c;u++)h+=l[u].length;for(g=new Uint8Array(h),u=p=0,c=l.length;u<c;u++)m=l[u],g.set(m,p),p+=m.length;return g}},o={arraySet:function(l,u,c,h,p){for(var m=0;m<h;m++)l[p+m]=u[c+m]},flattenChunks:function(l){return[].concat.apply([],l)}};i.setTyped=function(l){l?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,s)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,o))},i.setTyped(a)},{}],42:[function(n,r,i){var a=n("./common"),s=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch{s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o=!1}for(var l=new a.Buf8(256),u=0;u<256;u++)l[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function c(h,p){if(p<65537&&(h.subarray&&o||!h.subarray&&s))return String.fromCharCode.apply(null,a.shrinkBuf(h,p));for(var m="",g=0;g<p;g++)m+=String.fromCharCode(h[g]);return m}l[254]=l[254]=1,i.string2buf=function(h){var p,m,g,y,b,w=h.length,x=0;for(y=0;y<w;y++)(64512&(m=h.charCodeAt(y)))==55296&&y+1<w&&(64512&(g=h.charCodeAt(y+1)))==56320&&(m=65536+(m-55296<<10)+(g-56320),y++),x+=m<128?1:m<2048?2:m<65536?3:4;for(p=new a.Buf8(x),y=b=0;b<x;y++)(64512&(m=h.charCodeAt(y)))==55296&&y+1<w&&(64512&(g=h.charCodeAt(y+1)))==56320&&(m=65536+(m-55296<<10)+(g-56320),y++),m<128?p[b++]=m:(m<2048?p[b++]=192|m>>>6:(m<65536?p[b++]=224|m>>>12:(p[b++]=240|m>>>18,p[b++]=128|m>>>12&63),p[b++]=128|m>>>6&63),p[b++]=128|63&m);return p},i.buf2binstring=function(h){return c(h,h.length)},i.binstring2buf=function(h){for(var p=new a.Buf8(h.length),m=0,g=p.length;m<g;m++)p[m]=h.charCodeAt(m);return p},i.buf2string=function(h,p){var m,g,y,b,w=p||h.length,x=new Array(2*w);for(m=g=0;m<w;)if((y=h[m++])<128)x[g++]=y;else if(4<(b=l[y]))x[g++]=65533,m+=b-1;else{for(y&=b===2?31:b===3?15:7;1<b&&m<w;)y=y<<6|63&h[m++],b--;1<b?x[g++]=65533:y<65536?x[g++]=y:(y-=65536,x[g++]=55296|y>>10&1023,x[g++]=56320|1023&y)}return c(x,g)},i.utf8border=function(h,p){var m;for((p=p||h.length)>h.length&&(p=h.length),m=p-1;0<=m&&(192&h[m])==128;)m--;return m<0||m===0?p:m+l[h[m]]>p?m:p}},{"./common":41}],43:[function(n,r,i){r.exports=function(a,s,o,l){for(var u=65535&a|0,c=a>>>16&65535|0,h=0;o!==0;){for(o-=h=2e3<o?2e3:o;c=c+(u=u+s[l++]|0)|0,--h;);u%=65521,c%=65521}return u|c<<16|0}},{}],44:[function(n,r,i){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,i){var a=function(){for(var s,o=[],l=0;l<256;l++){s=l;for(var u=0;u<8;u++)s=1&s?3988292384^s>>>1:s>>>1;o[l]=s}return o}();r.exports=function(s,o,l,u){var c=a,h=u+l;s^=-1;for(var p=u;p<h;p++)s=s>>>8^c[255&(s^o[p])];return-1^s}},{}],46:[function(n,r,i){var a,s=n("../utils/common"),o=n("./trees"),l=n("./adler32"),u=n("./crc32"),c=n("./messages"),h=0,p=4,m=0,g=-2,y=-1,b=4,w=2,x=8,k=9,_=286,A=30,P=19,N=2*_+1,B=15,j=3,W=258,K=W+j+1,z=42,G=113,M=1,te=2,X=3,ue=4;function de(L,be){return L.msg=c[be],be}function ae(L){return(L<<1)-(4<L?9:0)}function pe(L){for(var be=L.length;0<=--be;)L[be]=0}function F(L){var be=L.state,ve=be.pending;ve>L.avail_out&&(ve=L.avail_out),ve!==0&&(s.arraySet(L.output,be.pending_buf,be.pending_out,ve,L.next_out),L.next_out+=ve,be.pending_out+=ve,L.total_out+=ve,L.avail_out-=ve,be.pending-=ve,be.pending===0&&(be.pending_out=0))}function O(L,be){o._tr_flush_block(L,0<=L.block_start?L.block_start:-1,L.strstart-L.block_start,be),L.block_start=L.strstart,F(L.strm)}function Ee(L,be){L.pending_buf[L.pending++]=be}function Ce(L,be){L.pending_buf[L.pending++]=be>>>8&255,L.pending_buf[L.pending++]=255&be}function Te(L,be){var ve,Q,q=L.max_chain_length,se=L.strstart,xe=L.prev_length,Se=L.nice_match,he=L.strstart>L.w_size-K?L.strstart-(L.w_size-K):0,Pe=L.window,Be=L.w_mask,_e=L.prev,Ke=L.strstart+W,D=Pe[se+xe-1],E=Pe[se+xe];L.prev_length>=L.good_match&&(q>>=2),Se>L.lookahead&&(Se=L.lookahead);do if(Pe[(ve=be)+xe]===E&&Pe[ve+xe-1]===D&&Pe[ve]===Pe[se]&&Pe[++ve]===Pe[se+1]){se+=2,ve++;do;while(Pe[++se]===Pe[++ve]&&Pe[++se]===Pe[++ve]&&Pe[++se]===Pe[++ve]&&Pe[++se]===Pe[++ve]&&Pe[++se]===Pe[++ve]&&Pe[++se]===Pe[++ve]&&Pe[++se]===Pe[++ve]&&Pe[++se]===Pe[++ve]&&se<Ke);if(Q=W-(Ke-se),se=Ke-W,xe<Q){if(L.match_start=be,Se<=(xe=Q))break;D=Pe[se+xe-1],E=Pe[se+xe]}}while((be=_e[be&Be])>he&&--q!=0);return xe<=L.lookahead?xe:L.lookahead}function Xe(L){var be,ve,Q,q,se,xe,Se,he,Pe,Be,_e=L.w_size;do{if(q=L.window_size-L.lookahead-L.strstart,L.strstart>=_e+(_e-K)){for(s.arraySet(L.window,L.window,_e,_e,0),L.match_start-=_e,L.strstart-=_e,L.block_start-=_e,be=ve=L.hash_size;Q=L.head[--be],L.head[be]=_e<=Q?Q-_e:0,--ve;);for(be=ve=_e;Q=L.prev[--be],L.prev[be]=_e<=Q?Q-_e:0,--ve;);q+=_e}if(L.strm.avail_in===0)break;if(xe=L.strm,Se=L.window,he=L.strstart+L.lookahead,Pe=q,Be=void 0,Be=xe.avail_in,Pe<Be&&(Be=Pe),ve=Be===0?0:(xe.avail_in-=Be,s.arraySet(Se,xe.input,xe.next_in,Be,he),xe.state.wrap===1?xe.adler=l(xe.adler,Se,Be,he):xe.state.wrap===2&&(xe.adler=u(xe.adler,Se,Be,he)),xe.next_in+=Be,xe.total_in+=Be,Be),L.lookahead+=ve,L.lookahead+L.insert>=j)for(se=L.strstart-L.insert,L.ins_h=L.window[se],L.ins_h=(L.ins_h<<L.hash_shift^L.window[se+1])&L.hash_mask;L.insert&&(L.ins_h=(L.ins_h<<L.hash_shift^L.window[se+j-1])&L.hash_mask,L.prev[se&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=se,se++,L.insert--,!(L.lookahead+L.insert<j)););}while(L.lookahead<K&&L.strm.avail_in!==0)}function ft(L,be){for(var ve,Q;;){if(L.lookahead<K){if(Xe(L),L.lookahead<K&&be===h)return M;if(L.lookahead===0)break}if(ve=0,L.lookahead>=j&&(L.ins_h=(L.ins_h<<L.hash_shift^L.window[L.strstart+j-1])&L.hash_mask,ve=L.prev[L.strstart&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=L.strstart),ve!==0&&L.strstart-ve<=L.w_size-K&&(L.match_length=Te(L,ve)),L.match_length>=j)if(Q=o._tr_tally(L,L.strstart-L.match_start,L.match_length-j),L.lookahead-=L.match_length,L.match_length<=L.max_lazy_match&&L.lookahead>=j){for(L.match_length--;L.strstart++,L.ins_h=(L.ins_h<<L.hash_shift^L.window[L.strstart+j-1])&L.hash_mask,ve=L.prev[L.strstart&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=L.strstart,--L.match_length!=0;);L.strstart++}else L.strstart+=L.match_length,L.match_length=0,L.ins_h=L.window[L.strstart],L.ins_h=(L.ins_h<<L.hash_shift^L.window[L.strstart+1])&L.hash_mask;else Q=o._tr_tally(L,0,L.window[L.strstart]),L.lookahead--,L.strstart++;if(Q&&(O(L,!1),L.strm.avail_out===0))return M}return L.insert=L.strstart<j-1?L.strstart:j-1,be===p?(O(L,!0),L.strm.avail_out===0?X:ue):L.last_lit&&(O(L,!1),L.strm.avail_out===0)?M:te}function Ze(L,be){for(var ve,Q,q;;){if(L.lookahead<K){if(Xe(L),L.lookahead<K&&be===h)return M;if(L.lookahead===0)break}if(ve=0,L.lookahead>=j&&(L.ins_h=(L.ins_h<<L.hash_shift^L.window[L.strstart+j-1])&L.hash_mask,ve=L.prev[L.strstart&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=L.strstart),L.prev_length=L.match_length,L.prev_match=L.match_start,L.match_length=j-1,ve!==0&&L.prev_length<L.max_lazy_match&&L.strstart-ve<=L.w_size-K&&(L.match_length=Te(L,ve),L.match_length<=5&&(L.strategy===1||L.match_length===j&&4096<L.strstart-L.match_start)&&(L.match_length=j-1)),L.prev_length>=j&&L.match_length<=L.prev_length){for(q=L.strstart+L.lookahead-j,Q=o._tr_tally(L,L.strstart-1-L.prev_match,L.prev_length-j),L.lookahead-=L.prev_length-1,L.prev_length-=2;++L.strstart<=q&&(L.ins_h=(L.ins_h<<L.hash_shift^L.window[L.strstart+j-1])&L.hash_mask,ve=L.prev[L.strstart&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=L.strstart),--L.prev_length!=0;);if(L.match_available=0,L.match_length=j-1,L.strstart++,Q&&(O(L,!1),L.strm.avail_out===0))return M}else if(L.match_available){if((Q=o._tr_tally(L,0,L.window[L.strstart-1]))&&O(L,!1),L.strstart++,L.lookahead--,L.strm.avail_out===0)return M}else L.match_available=1,L.strstart++,L.lookahead--}return L.match_available&&(Q=o._tr_tally(L,0,L.window[L.strstart-1]),L.match_available=0),L.insert=L.strstart<j-1?L.strstart:j-1,be===p?(O(L,!0),L.strm.avail_out===0?X:ue):L.last_lit&&(O(L,!1),L.strm.avail_out===0)?M:te}function at(L,be,ve,Q,q){this.good_length=L,this.max_lazy=be,this.nice_length=ve,this.max_chain=Q,this.func=q}function kt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=x,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(2*N),this.dyn_dtree=new s.Buf16(2*(2*A+1)),this.bl_tree=new s.Buf16(2*(2*P+1)),pe(this.dyn_ltree),pe(this.dyn_dtree),pe(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(B+1),this.heap=new s.Buf16(2*_+1),pe(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*_+1),pe(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ct(L){var be;return L&&L.state?(L.total_in=L.total_out=0,L.data_type=w,(be=L.state).pending=0,be.pending_out=0,be.wrap<0&&(be.wrap=-be.wrap),be.status=be.wrap?z:G,L.adler=be.wrap===2?0:1,be.last_flush=h,o._tr_init(be),m):de(L,g)}function yn(L){var be=ct(L);return be===m&&function(ve){ve.window_size=2*ve.w_size,pe(ve.head),ve.max_lazy_match=a[ve.level].max_lazy,ve.good_match=a[ve.level].good_length,ve.nice_match=a[ve.level].nice_length,ve.max_chain_length=a[ve.level].max_chain,ve.strstart=0,ve.block_start=0,ve.lookahead=0,ve.insert=0,ve.match_length=ve.prev_length=j-1,ve.match_available=0,ve.ins_h=0}(L.state),be}function St(L,be,ve,Q,q,se){if(!L)return g;var xe=1;if(be===y&&(be=6),Q<0?(xe=0,Q=-Q):15<Q&&(xe=2,Q-=16),q<1||k<q||ve!==x||Q<8||15<Q||be<0||9<be||se<0||b<se)return de(L,g);Q===8&&(Q=9);var Se=new kt;return(L.state=Se).strm=L,Se.wrap=xe,Se.gzhead=null,Se.w_bits=Q,Se.w_size=1<<Se.w_bits,Se.w_mask=Se.w_size-1,Se.hash_bits=q+7,Se.hash_size=1<<Se.hash_bits,Se.hash_mask=Se.hash_size-1,Se.hash_shift=~~((Se.hash_bits+j-1)/j),Se.window=new s.Buf8(2*Se.w_size),Se.head=new s.Buf16(Se.hash_size),Se.prev=new s.Buf16(Se.w_size),Se.lit_bufsize=1<<q+6,Se.pending_buf_size=4*Se.lit_bufsize,Se.pending_buf=new s.Buf8(Se.pending_buf_size),Se.d_buf=1*Se.lit_bufsize,Se.l_buf=3*Se.lit_bufsize,Se.level=be,Se.strategy=se,Se.method=ve,yn(L)}a=[new at(0,0,0,0,function(L,be){var ve=65535;for(ve>L.pending_buf_size-5&&(ve=L.pending_buf_size-5);;){if(L.lookahead<=1){if(Xe(L),L.lookahead===0&&be===h)return M;if(L.lookahead===0)break}L.strstart+=L.lookahead,L.lookahead=0;var Q=L.block_start+ve;if((L.strstart===0||L.strstart>=Q)&&(L.lookahead=L.strstart-Q,L.strstart=Q,O(L,!1),L.strm.avail_out===0)||L.strstart-L.block_start>=L.w_size-K&&(O(L,!1),L.strm.avail_out===0))return M}return L.insert=0,be===p?(O(L,!0),L.strm.avail_out===0?X:ue):(L.strstart>L.block_start&&(O(L,!1),L.strm.avail_out),M)}),new at(4,4,8,4,ft),new at(4,5,16,8,ft),new at(4,6,32,32,ft),new at(4,4,16,16,Ze),new at(8,16,32,32,Ze),new at(8,16,128,128,Ze),new at(8,32,128,256,Ze),new at(32,128,258,1024,Ze),new at(32,258,258,4096,Ze)],i.deflateInit=function(L,be){return St(L,be,x,15,8,0)},i.deflateInit2=St,i.deflateReset=yn,i.deflateResetKeep=ct,i.deflateSetHeader=function(L,be){return L&&L.state?L.state.wrap!==2?g:(L.state.gzhead=be,m):g},i.deflate=function(L,be){var ve,Q,q,se;if(!L||!L.state||5<be||be<0)return L?de(L,g):g;if(Q=L.state,!L.output||!L.input&&L.avail_in!==0||Q.status===666&&be!==p)return de(L,L.avail_out===0?-5:g);if(Q.strm=L,ve=Q.last_flush,Q.last_flush=be,Q.status===z)if(Q.wrap===2)L.adler=0,Ee(Q,31),Ee(Q,139),Ee(Q,8),Q.gzhead?(Ee(Q,(Q.gzhead.text?1:0)+(Q.gzhead.hcrc?2:0)+(Q.gzhead.extra?4:0)+(Q.gzhead.name?8:0)+(Q.gzhead.comment?16:0)),Ee(Q,255&Q.gzhead.time),Ee(Q,Q.gzhead.time>>8&255),Ee(Q,Q.gzhead.time>>16&255),Ee(Q,Q.gzhead.time>>24&255),Ee(Q,Q.level===9?2:2<=Q.strategy||Q.level<2?4:0),Ee(Q,255&Q.gzhead.os),Q.gzhead.extra&&Q.gzhead.extra.length&&(Ee(Q,255&Q.gzhead.extra.length),Ee(Q,Q.gzhead.extra.length>>8&255)),Q.gzhead.hcrc&&(L.adler=u(L.adler,Q.pending_buf,Q.pending,0)),Q.gzindex=0,Q.status=69):(Ee(Q,0),Ee(Q,0),Ee(Q,0),Ee(Q,0),Ee(Q,0),Ee(Q,Q.level===9?2:2<=Q.strategy||Q.level<2?4:0),Ee(Q,3),Q.status=G);else{var xe=x+(Q.w_bits-8<<4)<<8;xe|=(2<=Q.strategy||Q.level<2?0:Q.level<6?1:Q.level===6?2:3)<<6,Q.strstart!==0&&(xe|=32),xe+=31-xe%31,Q.status=G,Ce(Q,xe),Q.strstart!==0&&(Ce(Q,L.adler>>>16),Ce(Q,65535&L.adler)),L.adler=1}if(Q.status===69)if(Q.gzhead.extra){for(q=Q.pending;Q.gzindex<(65535&Q.gzhead.extra.length)&&(Q.pending!==Q.pending_buf_size||(Q.gzhead.hcrc&&Q.pending>q&&(L.adler=u(L.adler,Q.pending_buf,Q.pending-q,q)),F(L),q=Q.pending,Q.pending!==Q.pending_buf_size));)Ee(Q,255&Q.gzhead.extra[Q.gzindex]),Q.gzindex++;Q.gzhead.hcrc&&Q.pending>q&&(L.adler=u(L.adler,Q.pending_buf,Q.pending-q,q)),Q.gzindex===Q.gzhead.extra.length&&(Q.gzindex=0,Q.status=73)}else Q.status=73;if(Q.status===73)if(Q.gzhead.name){q=Q.pending;do{if(Q.pending===Q.pending_buf_size&&(Q.gzhead.hcrc&&Q.pending>q&&(L.adler=u(L.adler,Q.pending_buf,Q.pending-q,q)),F(L),q=Q.pending,Q.pending===Q.pending_buf_size)){se=1;break}se=Q.gzindex<Q.gzhead.name.length?255&Q.gzhead.name.charCodeAt(Q.gzindex++):0,Ee(Q,se)}while(se!==0);Q.gzhead.hcrc&&Q.pending>q&&(L.adler=u(L.adler,Q.pending_buf,Q.pending-q,q)),se===0&&(Q.gzindex=0,Q.status=91)}else Q.status=91;if(Q.status===91)if(Q.gzhead.comment){q=Q.pending;do{if(Q.pending===Q.pending_buf_size&&(Q.gzhead.hcrc&&Q.pending>q&&(L.adler=u(L.adler,Q.pending_buf,Q.pending-q,q)),F(L),q=Q.pending,Q.pending===Q.pending_buf_size)){se=1;break}se=Q.gzindex<Q.gzhead.comment.length?255&Q.gzhead.comment.charCodeAt(Q.gzindex++):0,Ee(Q,se)}while(se!==0);Q.gzhead.hcrc&&Q.pending>q&&(L.adler=u(L.adler,Q.pending_buf,Q.pending-q,q)),se===0&&(Q.status=103)}else Q.status=103;if(Q.status===103&&(Q.gzhead.hcrc?(Q.pending+2>Q.pending_buf_size&&F(L),Q.pending+2<=Q.pending_buf_size&&(Ee(Q,255&L.adler),Ee(Q,L.adler>>8&255),L.adler=0,Q.status=G)):Q.status=G),Q.pending!==0){if(F(L),L.avail_out===0)return Q.last_flush=-1,m}else if(L.avail_in===0&&ae(be)<=ae(ve)&&be!==p)return de(L,-5);if(Q.status===666&&L.avail_in!==0)return de(L,-5);if(L.avail_in!==0||Q.lookahead!==0||be!==h&&Q.status!==666){var Se=Q.strategy===2?function(he,Pe){for(var Be;;){if(he.lookahead===0&&(Xe(he),he.lookahead===0)){if(Pe===h)return M;break}if(he.match_length=0,Be=o._tr_tally(he,0,he.window[he.strstart]),he.lookahead--,he.strstart++,Be&&(O(he,!1),he.strm.avail_out===0))return M}return he.insert=0,Pe===p?(O(he,!0),he.strm.avail_out===0?X:ue):he.last_lit&&(O(he,!1),he.strm.avail_out===0)?M:te}(Q,be):Q.strategy===3?function(he,Pe){for(var Be,_e,Ke,D,E=he.window;;){if(he.lookahead<=W){if(Xe(he),he.lookahead<=W&&Pe===h)return M;if(he.lookahead===0)break}if(he.match_length=0,he.lookahead>=j&&0<he.strstart&&(_e=E[Ke=he.strstart-1])===E[++Ke]&&_e===E[++Ke]&&_e===E[++Ke]){D=he.strstart+W;do;while(_e===E[++Ke]&&_e===E[++Ke]&&_e===E[++Ke]&&_e===E[++Ke]&&_e===E[++Ke]&&_e===E[++Ke]&&_e===E[++Ke]&&_e===E[++Ke]&&Ke<D);he.match_length=W-(D-Ke),he.match_length>he.lookahead&&(he.match_length=he.lookahead)}if(he.match_length>=j?(Be=o._tr_tally(he,1,he.match_length-j),he.lookahead-=he.match_length,he.strstart+=he.match_length,he.match_length=0):(Be=o._tr_tally(he,0,he.window[he.strstart]),he.lookahead--,he.strstart++),Be&&(O(he,!1),he.strm.avail_out===0))return M}return he.insert=0,Pe===p?(O(he,!0),he.strm.avail_out===0?X:ue):he.last_lit&&(O(he,!1),he.strm.avail_out===0)?M:te}(Q,be):a[Q.level].func(Q,be);if(Se!==X&&Se!==ue||(Q.status=666),Se===M||Se===X)return L.avail_out===0&&(Q.last_flush=-1),m;if(Se===te&&(be===1?o._tr_align(Q):be!==5&&(o._tr_stored_block(Q,0,0,!1),be===3&&(pe(Q.head),Q.lookahead===0&&(Q.strstart=0,Q.block_start=0,Q.insert=0))),F(L),L.avail_out===0))return Q.last_flush=-1,m}return be!==p?m:Q.wrap<=0?1:(Q.wrap===2?(Ee(Q,255&L.adler),Ee(Q,L.adler>>8&255),Ee(Q,L.adler>>16&255),Ee(Q,L.adler>>24&255),Ee(Q,255&L.total_in),Ee(Q,L.total_in>>8&255),Ee(Q,L.total_in>>16&255),Ee(Q,L.total_in>>24&255)):(Ce(Q,L.adler>>>16),Ce(Q,65535&L.adler)),F(L),0<Q.wrap&&(Q.wrap=-Q.wrap),Q.pending!==0?m:1)},i.deflateEnd=function(L){var be;return L&&L.state?(be=L.state.status)!==z&&be!==69&&be!==73&&be!==91&&be!==103&&be!==G&&be!==666?de(L,g):(L.state=null,be===G?de(L,-3):m):g},i.deflateSetDictionary=function(L,be){var ve,Q,q,se,xe,Se,he,Pe,Be=be.length;if(!L||!L.state||(se=(ve=L.state).wrap)===2||se===1&&ve.status!==z||ve.lookahead)return g;for(se===1&&(L.adler=l(L.adler,be,Be,0)),ve.wrap=0,Be>=ve.w_size&&(se===0&&(pe(ve.head),ve.strstart=0,ve.block_start=0,ve.insert=0),Pe=new s.Buf8(ve.w_size),s.arraySet(Pe,be,Be-ve.w_size,ve.w_size,0),be=Pe,Be=ve.w_size),xe=L.avail_in,Se=L.next_in,he=L.input,L.avail_in=Be,L.next_in=0,L.input=be,Xe(ve);ve.lookahead>=j;){for(Q=ve.strstart,q=ve.lookahead-(j-1);ve.ins_h=(ve.ins_h<<ve.hash_shift^ve.window[Q+j-1])&ve.hash_mask,ve.prev[Q&ve.w_mask]=ve.head[ve.ins_h],ve.head[ve.ins_h]=Q,Q++,--q;);ve.strstart=Q,ve.lookahead=j-1,Xe(ve)}return ve.strstart+=ve.lookahead,ve.block_start=ve.strstart,ve.insert=ve.lookahead,ve.lookahead=0,ve.match_length=ve.prev_length=j-1,ve.match_available=0,L.next_in=Se,L.input=he,L.avail_in=xe,ve.wrap=se,m},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,i){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,i){r.exports=function(a,s){var o,l,u,c,h,p,m,g,y,b,w,x,k,_,A,P,N,B,j,W,K,z,G,M,te;o=a.state,l=a.next_in,M=a.input,u=l+(a.avail_in-5),c=a.next_out,te=a.output,h=c-(s-a.avail_out),p=c+(a.avail_out-257),m=o.dmax,g=o.wsize,y=o.whave,b=o.wnext,w=o.window,x=o.hold,k=o.bits,_=o.lencode,A=o.distcode,P=(1<<o.lenbits)-1,N=(1<<o.distbits)-1;e:do{k<15&&(x+=M[l++]<<k,k+=8,x+=M[l++]<<k,k+=8),B=_[x&P];t:for(;;){if(x>>>=j=B>>>24,k-=j,(j=B>>>16&255)===0)te[c++]=65535&B;else{if(!(16&j)){if(!(64&j)){B=_[(65535&B)+(x&(1<<j)-1)];continue t}if(32&j){o.mode=12;break e}a.msg="invalid literal/length code",o.mode=30;break e}W=65535&B,(j&=15)&&(k<j&&(x+=M[l++]<<k,k+=8),W+=x&(1<<j)-1,x>>>=j,k-=j),k<15&&(x+=M[l++]<<k,k+=8,x+=M[l++]<<k,k+=8),B=A[x&N];n:for(;;){if(x>>>=j=B>>>24,k-=j,!(16&(j=B>>>16&255))){if(!(64&j)){B=A[(65535&B)+(x&(1<<j)-1)];continue n}a.msg="invalid distance code",o.mode=30;break e}if(K=65535&B,k<(j&=15)&&(x+=M[l++]<<k,(k+=8)<j&&(x+=M[l++]<<k,k+=8)),m<(K+=x&(1<<j)-1)){a.msg="invalid distance too far back",o.mode=30;break e}if(x>>>=j,k-=j,(j=c-h)<K){if(y<(j=K-j)&&o.sane){a.msg="invalid distance too far back",o.mode=30;break e}if(G=w,(z=0)===b){if(z+=g-j,j<W){for(W-=j;te[c++]=w[z++],--j;);z=c-K,G=te}}else if(b<j){if(z+=g+b-j,(j-=b)<W){for(W-=j;te[c++]=w[z++],--j;);if(z=0,b<W){for(W-=j=b;te[c++]=w[z++],--j;);z=c-K,G=te}}}else if(z+=b-j,j<W){for(W-=j;te[c++]=w[z++],--j;);z=c-K,G=te}for(;2<W;)te[c++]=G[z++],te[c++]=G[z++],te[c++]=G[z++],W-=3;W&&(te[c++]=G[z++],1<W&&(te[c++]=G[z++]))}else{for(z=c-K;te[c++]=te[z++],te[c++]=te[z++],te[c++]=te[z++],2<(W-=3););W&&(te[c++]=te[z++],1<W&&(te[c++]=te[z++]))}break}}break}}while(l<u&&c<p);l-=W=k>>3,x&=(1<<(k-=W<<3))-1,a.next_in=l,a.next_out=c,a.avail_in=l<u?u-l+5:5-(l-u),a.avail_out=c<p?p-c+257:257-(c-p),o.hold=x,o.bits=k}},{}],49:[function(n,r,i){var a=n("../utils/common"),s=n("./adler32"),o=n("./crc32"),l=n("./inffast"),u=n("./inftrees"),c=1,h=2,p=0,m=-2,g=1,y=852,b=592;function w(z){return(z>>>24&255)+(z>>>8&65280)+((65280&z)<<8)+((255&z)<<24)}function x(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new a.Buf16(320),this.work=new a.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function k(z){var G;return z&&z.state?(G=z.state,z.total_in=z.total_out=G.total=0,z.msg="",G.wrap&&(z.adler=1&G.wrap),G.mode=g,G.last=0,G.havedict=0,G.dmax=32768,G.head=null,G.hold=0,G.bits=0,G.lencode=G.lendyn=new a.Buf32(y),G.distcode=G.distdyn=new a.Buf32(b),G.sane=1,G.back=-1,p):m}function _(z){var G;return z&&z.state?((G=z.state).wsize=0,G.whave=0,G.wnext=0,k(z)):m}function A(z,G){var M,te;return z&&z.state?(te=z.state,G<0?(M=0,G=-G):(M=1+(G>>4),G<48&&(G&=15)),G&&(G<8||15<G)?m:(te.window!==null&&te.wbits!==G&&(te.window=null),te.wrap=M,te.wbits=G,_(z))):m}function P(z,G){var M,te;return z?(te=new x,(z.state=te).window=null,(M=A(z,G))!==p&&(z.state=null),M):m}var N,B,j=!0;function W(z){if(j){var G;for(N=new a.Buf32(512),B=new a.Buf32(32),G=0;G<144;)z.lens[G++]=8;for(;G<256;)z.lens[G++]=9;for(;G<280;)z.lens[G++]=7;for(;G<288;)z.lens[G++]=8;for(u(c,z.lens,0,288,N,0,z.work,{bits:9}),G=0;G<32;)z.lens[G++]=5;u(h,z.lens,0,32,B,0,z.work,{bits:5}),j=!1}z.lencode=N,z.lenbits=9,z.distcode=B,z.distbits=5}function K(z,G,M,te){var X,ue=z.state;return ue.window===null&&(ue.wsize=1<<ue.wbits,ue.wnext=0,ue.whave=0,ue.window=new a.Buf8(ue.wsize)),te>=ue.wsize?(a.arraySet(ue.window,G,M-ue.wsize,ue.wsize,0),ue.wnext=0,ue.whave=ue.wsize):(te<(X=ue.wsize-ue.wnext)&&(X=te),a.arraySet(ue.window,G,M-te,X,ue.wnext),(te-=X)?(a.arraySet(ue.window,G,M-te,te,0),ue.wnext=te,ue.whave=ue.wsize):(ue.wnext+=X,ue.wnext===ue.wsize&&(ue.wnext=0),ue.whave<ue.wsize&&(ue.whave+=X))),0}i.inflateReset=_,i.inflateReset2=A,i.inflateResetKeep=k,i.inflateInit=function(z){return P(z,15)},i.inflateInit2=P,i.inflate=function(z,G){var M,te,X,ue,de,ae,pe,F,O,Ee,Ce,Te,Xe,ft,Ze,at,kt,ct,yn,St,L,be,ve,Q,q=0,se=new a.Buf8(4),xe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!z||!z.state||!z.output||!z.input&&z.avail_in!==0)return m;(M=z.state).mode===12&&(M.mode=13),de=z.next_out,X=z.output,pe=z.avail_out,ue=z.next_in,te=z.input,ae=z.avail_in,F=M.hold,O=M.bits,Ee=ae,Ce=pe,be=p;e:for(;;)switch(M.mode){case g:if(M.wrap===0){M.mode=13;break}for(;O<16;){if(ae===0)break e;ae--,F+=te[ue++]<<O,O+=8}if(2&M.wrap&&F===35615){se[M.check=0]=255&F,se[1]=F>>>8&255,M.check=o(M.check,se,2,0),O=F=0,M.mode=2;break}if(M.flags=0,M.head&&(M.head.done=!1),!(1&M.wrap)||(((255&F)<<8)+(F>>8))%31){z.msg="incorrect header check",M.mode=30;break}if((15&F)!=8){z.msg="unknown compression method",M.mode=30;break}if(O-=4,L=8+(15&(F>>>=4)),M.wbits===0)M.wbits=L;else if(L>M.wbits){z.msg="invalid window size",M.mode=30;break}M.dmax=1<<L,z.adler=M.check=1,M.mode=512&F?10:12,O=F=0;break;case 2:for(;O<16;){if(ae===0)break e;ae--,F+=te[ue++]<<O,O+=8}if(M.flags=F,(255&M.flags)!=8){z.msg="unknown compression method",M.mode=30;break}if(57344&M.flags){z.msg="unknown header flags set",M.mode=30;break}M.head&&(M.head.text=F>>8&1),512&M.flags&&(se[0]=255&F,se[1]=F>>>8&255,M.check=o(M.check,se,2,0)),O=F=0,M.mode=3;case 3:for(;O<32;){if(ae===0)break e;ae--,F+=te[ue++]<<O,O+=8}M.head&&(M.head.time=F),512&M.flags&&(se[0]=255&F,se[1]=F>>>8&255,se[2]=F>>>16&255,se[3]=F>>>24&255,M.check=o(M.check,se,4,0)),O=F=0,M.mode=4;case 4:for(;O<16;){if(ae===0)break e;ae--,F+=te[ue++]<<O,O+=8}M.head&&(M.head.xflags=255&F,M.head.os=F>>8),512&M.flags&&(se[0]=255&F,se[1]=F>>>8&255,M.check=o(M.check,se,2,0)),O=F=0,M.mode=5;case 5:if(1024&M.flags){for(;O<16;){if(ae===0)break e;ae--,F+=te[ue++]<<O,O+=8}M.length=F,M.head&&(M.head.extra_len=F),512&M.flags&&(se[0]=255&F,se[1]=F>>>8&255,M.check=o(M.check,se,2,0)),O=F=0}else M.head&&(M.head.extra=null);M.mode=6;case 6:if(1024&M.flags&&(ae<(Te=M.length)&&(Te=ae),Te&&(M.head&&(L=M.head.extra_len-M.length,M.head.extra||(M.head.extra=new Array(M.head.extra_len)),a.arraySet(M.head.extra,te,ue,Te,L)),512&M.flags&&(M.check=o(M.check,te,Te,ue)),ae-=Te,ue+=Te,M.length-=Te),M.length))break e;M.length=0,M.mode=7;case 7:if(2048&M.flags){if(ae===0)break e;for(Te=0;L=te[ue+Te++],M.head&&L&&M.length<65536&&(M.head.name+=String.fromCharCode(L)),L&&Te<ae;);if(512&M.flags&&(M.check=o(M.check,te,Te,ue)),ae-=Te,ue+=Te,L)break e}else M.head&&(M.head.name=null);M.length=0,M.mode=8;case 8:if(4096&M.flags){if(ae===0)break e;for(Te=0;L=te[ue+Te++],M.head&&L&&M.length<65536&&(M.head.comment+=String.fromCharCode(L)),L&&Te<ae;);if(512&M.flags&&(M.check=o(M.check,te,Te,ue)),ae-=Te,ue+=Te,L)break e}else M.head&&(M.head.comment=null);M.mode=9;case 9:if(512&M.flags){for(;O<16;){if(ae===0)break e;ae--,F+=te[ue++]<<O,O+=8}if(F!==(65535&M.check)){z.msg="header crc mismatch",M.mode=30;break}O=F=0}M.head&&(M.head.hcrc=M.flags>>9&1,M.head.done=!0),z.adler=M.check=0,M.mode=12;break;case 10:for(;O<32;){if(ae===0)break e;ae--,F+=te[ue++]<<O,O+=8}z.adler=M.check=w(F),O=F=0,M.mode=11;case 11:if(M.havedict===0)return z.next_out=de,z.avail_out=pe,z.next_in=ue,z.avail_in=ae,M.hold=F,M.bits=O,2;z.adler=M.check=1,M.mode=12;case 12:if(G===5||G===6)break e;case 13:if(M.last){F>>>=7&O,O-=7&O,M.mode=27;break}for(;O<3;){if(ae===0)break e;ae--,F+=te[ue++]<<O,O+=8}switch(M.last=1&F,O-=1,3&(F>>>=1)){case 0:M.mode=14;break;case 1:if(W(M),M.mode=20,G!==6)break;F>>>=2,O-=2;break e;case 2:M.mode=17;break;case 3:z.msg="invalid block type",M.mode=30}F>>>=2,O-=2;break;case 14:for(F>>>=7&O,O-=7&O;O<32;){if(ae===0)break e;ae--,F+=te[ue++]<<O,O+=8}if((65535&F)!=(F>>>16^65535)){z.msg="invalid stored block lengths",M.mode=30;break}if(M.length=65535&F,O=F=0,M.mode=15,G===6)break e;case 15:M.mode=16;case 16:if(Te=M.length){if(ae<Te&&(Te=ae),pe<Te&&(Te=pe),Te===0)break e;a.arraySet(X,te,ue,Te,de),ae-=Te,ue+=Te,pe-=Te,de+=Te,M.length-=Te;break}M.mode=12;break;case 17:for(;O<14;){if(ae===0)break e;ae--,F+=te[ue++]<<O,O+=8}if(M.nlen=257+(31&F),F>>>=5,O-=5,M.ndist=1+(31&F),F>>>=5,O-=5,M.ncode=4+(15&F),F>>>=4,O-=4,286<M.nlen||30<M.ndist){z.msg="too many length or distance symbols",M.mode=30;break}M.have=0,M.mode=18;case 18:for(;M.have<M.ncode;){for(;O<3;){if(ae===0)break e;ae--,F+=te[ue++]<<O,O+=8}M.lens[xe[M.have++]]=7&F,F>>>=3,O-=3}for(;M.have<19;)M.lens[xe[M.have++]]=0;if(M.lencode=M.lendyn,M.lenbits=7,ve={bits:M.lenbits},be=u(0,M.lens,0,19,M.lencode,0,M.work,ve),M.lenbits=ve.bits,be){z.msg="invalid code lengths set",M.mode=30;break}M.have=0,M.mode=19;case 19:for(;M.have<M.nlen+M.ndist;){for(;at=(q=M.lencode[F&(1<<M.lenbits)-1])>>>16&255,kt=65535&q,!((Ze=q>>>24)<=O);){if(ae===0)break e;ae--,F+=te[ue++]<<O,O+=8}if(kt<16)F>>>=Ze,O-=Ze,M.lens[M.have++]=kt;else{if(kt===16){for(Q=Ze+2;O<Q;){if(ae===0)break e;ae--,F+=te[ue++]<<O,O+=8}if(F>>>=Ze,O-=Ze,M.have===0){z.msg="invalid bit length repeat",M.mode=30;break}L=M.lens[M.have-1],Te=3+(3&F),F>>>=2,O-=2}else if(kt===17){for(Q=Ze+3;O<Q;){if(ae===0)break e;ae--,F+=te[ue++]<<O,O+=8}O-=Ze,L=0,Te=3+(7&(F>>>=Ze)),F>>>=3,O-=3}else{for(Q=Ze+7;O<Q;){if(ae===0)break e;ae--,F+=te[ue++]<<O,O+=8}O-=Ze,L=0,Te=11+(127&(F>>>=Ze)),F>>>=7,O-=7}if(M.have+Te>M.nlen+M.ndist){z.msg="invalid bit length repeat",M.mode=30;break}for(;Te--;)M.lens[M.have++]=L}}if(M.mode===30)break;if(M.lens[256]===0){z.msg="invalid code -- missing end-of-block",M.mode=30;break}if(M.lenbits=9,ve={bits:M.lenbits},be=u(c,M.lens,0,M.nlen,M.lencode,0,M.work,ve),M.lenbits=ve.bits,be){z.msg="invalid literal/lengths set",M.mode=30;break}if(M.distbits=6,M.distcode=M.distdyn,ve={bits:M.distbits},be=u(h,M.lens,M.nlen,M.ndist,M.distcode,0,M.work,ve),M.distbits=ve.bits,be){z.msg="invalid distances set",M.mode=30;break}if(M.mode=20,G===6)break e;case 20:M.mode=21;case 21:if(6<=ae&&258<=pe){z.next_out=de,z.avail_out=pe,z.next_in=ue,z.avail_in=ae,M.hold=F,M.bits=O,l(z,Ce),de=z.next_out,X=z.output,pe=z.avail_out,ue=z.next_in,te=z.input,ae=z.avail_in,F=M.hold,O=M.bits,M.mode===12&&(M.back=-1);break}for(M.back=0;at=(q=M.lencode[F&(1<<M.lenbits)-1])>>>16&255,kt=65535&q,!((Ze=q>>>24)<=O);){if(ae===0)break e;ae--,F+=te[ue++]<<O,O+=8}if(at&&!(240&at)){for(ct=Ze,yn=at,St=kt;at=(q=M.lencode[St+((F&(1<<ct+yn)-1)>>ct)])>>>16&255,kt=65535&q,!(ct+(Ze=q>>>24)<=O);){if(ae===0)break e;ae--,F+=te[ue++]<<O,O+=8}F>>>=ct,O-=ct,M.back+=ct}if(F>>>=Ze,O-=Ze,M.back+=Ze,M.length=kt,at===0){M.mode=26;break}if(32&at){M.back=-1,M.mode=12;break}if(64&at){z.msg="invalid literal/length code",M.mode=30;break}M.extra=15&at,M.mode=22;case 22:if(M.extra){for(Q=M.extra;O<Q;){if(ae===0)break e;ae--,F+=te[ue++]<<O,O+=8}M.length+=F&(1<<M.extra)-1,F>>>=M.extra,O-=M.extra,M.back+=M.extra}M.was=M.length,M.mode=23;case 23:for(;at=(q=M.distcode[F&(1<<M.distbits)-1])>>>16&255,kt=65535&q,!((Ze=q>>>24)<=O);){if(ae===0)break e;ae--,F+=te[ue++]<<O,O+=8}if(!(240&at)){for(ct=Ze,yn=at,St=kt;at=(q=M.distcode[St+((F&(1<<ct+yn)-1)>>ct)])>>>16&255,kt=65535&q,!(ct+(Ze=q>>>24)<=O);){if(ae===0)break e;ae--,F+=te[ue++]<<O,O+=8}F>>>=ct,O-=ct,M.back+=ct}if(F>>>=Ze,O-=Ze,M.back+=Ze,64&at){z.msg="invalid distance code",M.mode=30;break}M.offset=kt,M.extra=15&at,M.mode=24;case 24:if(M.extra){for(Q=M.extra;O<Q;){if(ae===0)break e;ae--,F+=te[ue++]<<O,O+=8}M.offset+=F&(1<<M.extra)-1,F>>>=M.extra,O-=M.extra,M.back+=M.extra}if(M.offset>M.dmax){z.msg="invalid distance too far back",M.mode=30;break}M.mode=25;case 25:if(pe===0)break e;if(Te=Ce-pe,M.offset>Te){if((Te=M.offset-Te)>M.whave&&M.sane){z.msg="invalid distance too far back",M.mode=30;break}Xe=Te>M.wnext?(Te-=M.wnext,M.wsize-Te):M.wnext-Te,Te>M.length&&(Te=M.length),ft=M.window}else ft=X,Xe=de-M.offset,Te=M.length;for(pe<Te&&(Te=pe),pe-=Te,M.length-=Te;X[de++]=ft[Xe++],--Te;);M.length===0&&(M.mode=21);break;case 26:if(pe===0)break e;X[de++]=M.length,pe--,M.mode=21;break;case 27:if(M.wrap){for(;O<32;){if(ae===0)break e;ae--,F|=te[ue++]<<O,O+=8}if(Ce-=pe,z.total_out+=Ce,M.total+=Ce,Ce&&(z.adler=M.check=M.flags?o(M.check,X,Ce,de-Ce):s(M.check,X,Ce,de-Ce)),Ce=pe,(M.flags?F:w(F))!==M.check){z.msg="incorrect data check",M.mode=30;break}O=F=0}M.mode=28;case 28:if(M.wrap&&M.flags){for(;O<32;){if(ae===0)break e;ae--,F+=te[ue++]<<O,O+=8}if(F!==(4294967295&M.total)){z.msg="incorrect length check",M.mode=30;break}O=F=0}M.mode=29;case 29:be=1;break e;case 30:be=-3;break e;case 31:return-4;case 32:default:return m}return z.next_out=de,z.avail_out=pe,z.next_in=ue,z.avail_in=ae,M.hold=F,M.bits=O,(M.wsize||Ce!==z.avail_out&&M.mode<30&&(M.mode<27||G!==4))&&K(z,z.output,z.next_out,Ce-z.avail_out)?(M.mode=31,-4):(Ee-=z.avail_in,Ce-=z.avail_out,z.total_in+=Ee,z.total_out+=Ce,M.total+=Ce,M.wrap&&Ce&&(z.adler=M.check=M.flags?o(M.check,X,Ce,z.next_out-Ce):s(M.check,X,Ce,z.next_out-Ce)),z.data_type=M.bits+(M.last?64:0)+(M.mode===12?128:0)+(M.mode===20||M.mode===15?256:0),(Ee==0&&Ce===0||G===4)&&be===p&&(be=-5),be)},i.inflateEnd=function(z){if(!z||!z.state)return m;var G=z.state;return G.window&&(G.window=null),z.state=null,p},i.inflateGetHeader=function(z,G){var M;return z&&z.state&&2&(M=z.state).wrap?((M.head=G).done=!1,p):m},i.inflateSetDictionary=function(z,G){var M,te=G.length;return z&&z.state?(M=z.state).wrap!==0&&M.mode!==11?m:M.mode===11&&s(1,G,te,0)!==M.check?-3:K(z,G,te,te)?(M.mode=31,-4):(M.havedict=1,p):m},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,i){var a=n("../utils/common"),s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(c,h,p,m,g,y,b,w){var x,k,_,A,P,N,B,j,W,K=w.bits,z=0,G=0,M=0,te=0,X=0,ue=0,de=0,ae=0,pe=0,F=0,O=null,Ee=0,Ce=new a.Buf16(16),Te=new a.Buf16(16),Xe=null,ft=0;for(z=0;z<=15;z++)Ce[z]=0;for(G=0;G<m;G++)Ce[h[p+G]]++;for(X=K,te=15;1<=te&&Ce[te]===0;te--);if(te<X&&(X=te),te===0)return g[y++]=20971520,g[y++]=20971520,w.bits=1,0;for(M=1;M<te&&Ce[M]===0;M++);for(X<M&&(X=M),z=ae=1;z<=15;z++)if(ae<<=1,(ae-=Ce[z])<0)return-1;if(0<ae&&(c===0||te!==1))return-1;for(Te[1]=0,z=1;z<15;z++)Te[z+1]=Te[z]+Ce[z];for(G=0;G<m;G++)h[p+G]!==0&&(b[Te[h[p+G]]++]=G);if(N=c===0?(O=Xe=b,19):c===1?(O=s,Ee-=257,Xe=o,ft-=257,256):(O=l,Xe=u,-1),z=M,P=y,de=G=F=0,_=-1,A=(pe=1<<(ue=X))-1,c===1&&852<pe||c===2&&592<pe)return 1;for(;;){for(B=z-de,W=b[G]<N?(j=0,b[G]):b[G]>N?(j=Xe[ft+b[G]],O[Ee+b[G]]):(j=96,0),x=1<<z-de,M=k=1<<ue;g[P+(F>>de)+(k-=x)]=B<<24|j<<16|W|0,k!==0;);for(x=1<<z-1;F&x;)x>>=1;if(x!==0?(F&=x-1,F+=x):F=0,G++,--Ce[z]==0){if(z===te)break;z=h[p+b[G]]}if(X<z&&(F&A)!==_){for(de===0&&(de=X),P+=M,ae=1<<(ue=z-de);ue+de<te&&!((ae-=Ce[ue+de])<=0);)ue++,ae<<=1;if(pe+=1<<ue,c===1&&852<pe||c===2&&592<pe)return 1;g[_=F&A]=X<<24|ue<<16|P-y|0}}return F!==0&&(g[P+F]=z-de<<24|64<<16|0),w.bits=X,0}},{"../utils/common":41}],51:[function(n,r,i){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,i){var a=n("../utils/common"),s=0,o=1;function l(q){for(var se=q.length;0<=--se;)q[se]=0}var u=0,c=29,h=256,p=h+1+c,m=30,g=19,y=2*p+1,b=15,w=16,x=7,k=256,_=16,A=17,P=18,N=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],B=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],j=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],W=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],K=new Array(2*(p+2));l(K);var z=new Array(2*m);l(z);var G=new Array(512);l(G);var M=new Array(256);l(M);var te=new Array(c);l(te);var X,ue,de,ae=new Array(m);function pe(q,se,xe,Se,he){this.static_tree=q,this.extra_bits=se,this.extra_base=xe,this.elems=Se,this.max_length=he,this.has_stree=q&&q.length}function F(q,se){this.dyn_tree=q,this.max_code=0,this.stat_desc=se}function O(q){return q<256?G[q]:G[256+(q>>>7)]}function Ee(q,se){q.pending_buf[q.pending++]=255&se,q.pending_buf[q.pending++]=se>>>8&255}function Ce(q,se,xe){q.bi_valid>w-xe?(q.bi_buf|=se<<q.bi_valid&65535,Ee(q,q.bi_buf),q.bi_buf=se>>w-q.bi_valid,q.bi_valid+=xe-w):(q.bi_buf|=se<<q.bi_valid&65535,q.bi_valid+=xe)}function Te(q,se,xe){Ce(q,xe[2*se],xe[2*se+1])}function Xe(q,se){for(var xe=0;xe|=1&q,q>>>=1,xe<<=1,0<--se;);return xe>>>1}function ft(q,se,xe){var Se,he,Pe=new Array(b+1),Be=0;for(Se=1;Se<=b;Se++)Pe[Se]=Be=Be+xe[Se-1]<<1;for(he=0;he<=se;he++){var _e=q[2*he+1];_e!==0&&(q[2*he]=Xe(Pe[_e]++,_e))}}function Ze(q){var se;for(se=0;se<p;se++)q.dyn_ltree[2*se]=0;for(se=0;se<m;se++)q.dyn_dtree[2*se]=0;for(se=0;se<g;se++)q.bl_tree[2*se]=0;q.dyn_ltree[2*k]=1,q.opt_len=q.static_len=0,q.last_lit=q.matches=0}function at(q){8<q.bi_valid?Ee(q,q.bi_buf):0<q.bi_valid&&(q.pending_buf[q.pending++]=q.bi_buf),q.bi_buf=0,q.bi_valid=0}function kt(q,se,xe,Se){var he=2*se,Pe=2*xe;return q[he]<q[Pe]||q[he]===q[Pe]&&Se[se]<=Se[xe]}function ct(q,se,xe){for(var Se=q.heap[xe],he=xe<<1;he<=q.heap_len&&(he<q.heap_len&&kt(se,q.heap[he+1],q.heap[he],q.depth)&&he++,!kt(se,Se,q.heap[he],q.depth));)q.heap[xe]=q.heap[he],xe=he,he<<=1;q.heap[xe]=Se}function yn(q,se,xe){var Se,he,Pe,Be,_e=0;if(q.last_lit!==0)for(;Se=q.pending_buf[q.d_buf+2*_e]<<8|q.pending_buf[q.d_buf+2*_e+1],he=q.pending_buf[q.l_buf+_e],_e++,Se===0?Te(q,he,se):(Te(q,(Pe=M[he])+h+1,se),(Be=N[Pe])!==0&&Ce(q,he-=te[Pe],Be),Te(q,Pe=O(--Se),xe),(Be=B[Pe])!==0&&Ce(q,Se-=ae[Pe],Be)),_e<q.last_lit;);Te(q,k,se)}function St(q,se){var xe,Se,he,Pe=se.dyn_tree,Be=se.stat_desc.static_tree,_e=se.stat_desc.has_stree,Ke=se.stat_desc.elems,D=-1;for(q.heap_len=0,q.heap_max=y,xe=0;xe<Ke;xe++)Pe[2*xe]!==0?(q.heap[++q.heap_len]=D=xe,q.depth[xe]=0):Pe[2*xe+1]=0;for(;q.heap_len<2;)Pe[2*(he=q.heap[++q.heap_len]=D<2?++D:0)]=1,q.depth[he]=0,q.opt_len--,_e&&(q.static_len-=Be[2*he+1]);for(se.max_code=D,xe=q.heap_len>>1;1<=xe;xe--)ct(q,Pe,xe);for(he=Ke;xe=q.heap[1],q.heap[1]=q.heap[q.heap_len--],ct(q,Pe,1),Se=q.heap[1],q.heap[--q.heap_max]=xe,q.heap[--q.heap_max]=Se,Pe[2*he]=Pe[2*xe]+Pe[2*Se],q.depth[he]=(q.depth[xe]>=q.depth[Se]?q.depth[xe]:q.depth[Se])+1,Pe[2*xe+1]=Pe[2*Se+1]=he,q.heap[1]=he++,ct(q,Pe,1),2<=q.heap_len;);q.heap[--q.heap_max]=q.heap[1],function(E,I){var $,J,fe,me,Qe,xt,ut=I.dyn_tree,nt=I.max_code,wt=I.stat_desc.static_tree,Lr=I.stat_desc.has_stree,qy=I.stat_desc.extra_bits,nf=I.stat_desc.extra_base,Js=I.stat_desc.max_length,dl=0;for(me=0;me<=b;me++)E.bl_count[me]=0;for(ut[2*E.heap[E.heap_max]+1]=0,$=E.heap_max+1;$<y;$++)Js<(me=ut[2*ut[2*(J=E.heap[$])+1]+1]+1)&&(me=Js,dl++),ut[2*J+1]=me,nt<J||(E.bl_count[me]++,Qe=0,nf<=J&&(Qe=qy[J-nf]),xt=ut[2*J],E.opt_len+=xt*(me+Qe),Lr&&(E.static_len+=xt*(wt[2*J+1]+Qe)));if(dl!==0){do{for(me=Js-1;E.bl_count[me]===0;)me--;E.bl_count[me]--,E.bl_count[me+1]+=2,E.bl_count[Js]--,dl-=2}while(0<dl);for(me=Js;me!==0;me--)for(J=E.bl_count[me];J!==0;)nt<(fe=E.heap[--$])||(ut[2*fe+1]!==me&&(E.opt_len+=(me-ut[2*fe+1])*ut[2*fe],ut[2*fe+1]=me),J--)}}(q,se),ft(Pe,D,q.bl_count)}function L(q,se,xe){var Se,he,Pe=-1,Be=se[1],_e=0,Ke=7,D=4;for(Be===0&&(Ke=138,D=3),se[2*(xe+1)+1]=65535,Se=0;Se<=xe;Se++)he=Be,Be=se[2*(Se+1)+1],++_e<Ke&&he===Be||(_e<D?q.bl_tree[2*he]+=_e:he!==0?(he!==Pe&&q.bl_tree[2*he]++,q.bl_tree[2*_]++):_e<=10?q.bl_tree[2*A]++:q.bl_tree[2*P]++,Pe=he,D=(_e=0)===Be?(Ke=138,3):he===Be?(Ke=6,3):(Ke=7,4))}function be(q,se,xe){var Se,he,Pe=-1,Be=se[1],_e=0,Ke=7,D=4;for(Be===0&&(Ke=138,D=3),Se=0;Se<=xe;Se++)if(he=Be,Be=se[2*(Se+1)+1],!(++_e<Ke&&he===Be)){if(_e<D)for(;Te(q,he,q.bl_tree),--_e!=0;);else he!==0?(he!==Pe&&(Te(q,he,q.bl_tree),_e--),Te(q,_,q.bl_tree),Ce(q,_e-3,2)):_e<=10?(Te(q,A,q.bl_tree),Ce(q,_e-3,3)):(Te(q,P,q.bl_tree),Ce(q,_e-11,7));Pe=he,D=(_e=0)===Be?(Ke=138,3):he===Be?(Ke=6,3):(Ke=7,4)}}l(ae);var ve=!1;function Q(q,se,xe,Se){Ce(q,(u<<1)+(Se?1:0),3),function(he,Pe,Be,_e){at(he),_e&&(Ee(he,Be),Ee(he,~Be)),a.arraySet(he.pending_buf,he.window,Pe,Be,he.pending),he.pending+=Be}(q,se,xe,!0)}i._tr_init=function(q){ve||(function(){var se,xe,Se,he,Pe,Be=new Array(b+1);for(he=Se=0;he<c-1;he++)for(te[he]=Se,se=0;se<1<<N[he];se++)M[Se++]=he;for(M[Se-1]=he,he=Pe=0;he<16;he++)for(ae[he]=Pe,se=0;se<1<<B[he];se++)G[Pe++]=he;for(Pe>>=7;he<m;he++)for(ae[he]=Pe<<7,se=0;se<1<<B[he]-7;se++)G[256+Pe++]=he;for(xe=0;xe<=b;xe++)Be[xe]=0;for(se=0;se<=143;)K[2*se+1]=8,se++,Be[8]++;for(;se<=255;)K[2*se+1]=9,se++,Be[9]++;for(;se<=279;)K[2*se+1]=7,se++,Be[7]++;for(;se<=287;)K[2*se+1]=8,se++,Be[8]++;for(ft(K,p+1,Be),se=0;se<m;se++)z[2*se+1]=5,z[2*se]=Xe(se,5);X=new pe(K,N,h+1,p,b),ue=new pe(z,B,0,m,b),de=new pe(new Array(0),j,0,g,x)}(),ve=!0),q.l_desc=new F(q.dyn_ltree,X),q.d_desc=new F(q.dyn_dtree,ue),q.bl_desc=new F(q.bl_tree,de),q.bi_buf=0,q.bi_valid=0,Ze(q)},i._tr_stored_block=Q,i._tr_flush_block=function(q,se,xe,Se){var he,Pe,Be=0;0<q.level?(q.strm.data_type===2&&(q.strm.data_type=function(_e){var Ke,D=4093624447;for(Ke=0;Ke<=31;Ke++,D>>>=1)if(1&D&&_e.dyn_ltree[2*Ke]!==0)return s;if(_e.dyn_ltree[18]!==0||_e.dyn_ltree[20]!==0||_e.dyn_ltree[26]!==0)return o;for(Ke=32;Ke<h;Ke++)if(_e.dyn_ltree[2*Ke]!==0)return o;return s}(q)),St(q,q.l_desc),St(q,q.d_desc),Be=function(_e){var Ke;for(L(_e,_e.dyn_ltree,_e.l_desc.max_code),L(_e,_e.dyn_dtree,_e.d_desc.max_code),St(_e,_e.bl_desc),Ke=g-1;3<=Ke&&_e.bl_tree[2*W[Ke]+1]===0;Ke--);return _e.opt_len+=3*(Ke+1)+5+5+4,Ke}(q),he=q.opt_len+3+7>>>3,(Pe=q.static_len+3+7>>>3)<=he&&(he=Pe)):he=Pe=xe+5,xe+4<=he&&se!==-1?Q(q,se,xe,Se):q.strategy===4||Pe===he?(Ce(q,2+(Se?1:0),3),yn(q,K,z)):(Ce(q,4+(Se?1:0),3),function(_e,Ke,D,E){var I;for(Ce(_e,Ke-257,5),Ce(_e,D-1,5),Ce(_e,E-4,4),I=0;I<E;I++)Ce(_e,_e.bl_tree[2*W[I]+1],3);be(_e,_e.dyn_ltree,Ke-1),be(_e,_e.dyn_dtree,D-1)}(q,q.l_desc.max_code+1,q.d_desc.max_code+1,Be+1),yn(q,q.dyn_ltree,q.dyn_dtree)),Ze(q),Se&&at(q)},i._tr_tally=function(q,se,xe){return q.pending_buf[q.d_buf+2*q.last_lit]=se>>>8&255,q.pending_buf[q.d_buf+2*q.last_lit+1]=255&se,q.pending_buf[q.l_buf+q.last_lit]=255&xe,q.last_lit++,se===0?q.dyn_ltree[2*xe]++:(q.matches++,se--,q.dyn_ltree[2*(M[xe]+h+1)]++,q.dyn_dtree[2*O(se)]++),q.last_lit===q.lit_bufsize-1},i._tr_align=function(q){Ce(q,2,3),Te(q,k,K),function(se){se.bi_valid===16?(Ee(se,se.bi_buf),se.bi_buf=0,se.bi_valid=0):8<=se.bi_valid&&(se.pending_buf[se.pending++]=255&se.bi_buf,se.bi_buf>>=8,se.bi_valid-=8)}(q)}},{"../utils/common":41}],53:[function(n,r,i){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,i){(function(a){(function(s,o){if(!s.setImmediate){var l,u,c,h,p=1,m={},g=!1,y=s.document,b=Object.getPrototypeOf&&Object.getPrototypeOf(s);b=b&&b.setTimeout?b:s,l={}.toString.call(s.process)==="[object process]"?function(_){process.nextTick(function(){x(_)})}:function(){if(s.postMessage&&!s.importScripts){var _=!0,A=s.onmessage;return s.onmessage=function(){_=!1},s.postMessage("","*"),s.onmessage=A,_}}()?(h="setImmediate$"+Math.random()+"$",s.addEventListener?s.addEventListener("message",k,!1):s.attachEvent("onmessage",k),function(_){s.postMessage(h+_,"*")}):s.MessageChannel?((c=new MessageChannel).port1.onmessage=function(_){x(_.data)},function(_){c.port2.postMessage(_)}):y&&"onreadystatechange"in y.createElement("script")?(u=y.documentElement,function(_){var A=y.createElement("script");A.onreadystatechange=function(){x(_),A.onreadystatechange=null,u.removeChild(A),A=null},u.appendChild(A)}):function(_){setTimeout(x,0,_)},b.setImmediate=function(_){typeof _!="function"&&(_=new Function(""+_));for(var A=new Array(arguments.length-1),P=0;P<A.length;P++)A[P]=arguments[P+1];var N={callback:_,args:A};return m[p]=N,l(p),p++},b.clearImmediate=w}function w(_){delete m[_]}function x(_){if(g)setTimeout(x,0,_);else{var A=m[_];if(A){g=!0;try{(function(P){var N=P.callback,B=P.args;switch(B.length){case 0:N();break;case 1:N(B[0]);break;case 2:N(B[0],B[1]);break;case 3:N(B[0],B[1],B[2]);break;default:N.apply(o,B)}})(A)}finally{w(_),g=!1}}}}function k(_){_.source===s&&typeof _.data=="string"&&_.data.indexOf(h)===0&&x(+_.data.slice(h.length))}})(typeof self>"u"?a===void 0?this:a:self)}).call(this,typeof jr<"u"?jr:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(U6);var mre=U6.exports;const gre=Gi(mre);var Bx;(e=>{function t({images:n=[],...r}){const[i,a]=useState(!1),s=(0,e.use)();return n[0]?ne(H.Button,{...r,icon:H.Icon.Download,loading:i,onClick:()=>{a(!0),s(n,()=>a(!1))},children:["Download",ne("span",{className:"opacity-muted",children:["(",n.length,")"]})]}):null}e.Button=t,e.use=()=>{const[n]=re.Image.Inputs.use();return useCallback(async(r,i)=>{if(!r[0])return;const a=new gre;let s=0;for(const c of r){const h=c?.src;if(!h)return;const m=await(await fetch(h)).blob(),g=n[c.inputID];if(!g)continue;const y=re.Image.Download.fileName(g).replace(".png",`_${s}.png`);a.file(y,m,{binary:!0}),s++}const l=`DreamStudio_${new Date().toISOString().slice(0,10)}.zip`,u=await a.generateAsync({type:"blob"});pre.saveAs(u,l),i?.()},[])}})(Bx||(Bx={}));var zx;(e=>{e.Zip=Bx,e.execute=async t=>t.forEach(n=>{const r=re.Image.Input.get(n.inputID);r&&re.Image.Download.execute(n,r)}),e.use=t=>useCallback(()=>(0,e.execute)(t),[t])})(zx||(zx={}));function u0(){const e=u0.useClose(),{image:t,open:n,setImage:r}=Sh.use(({image:i,open:a,setImage:s})=>({image:i,open:a,setImage:s}),et.shallow);return C(H.Modal,{modalName:"Images",open:n,onClose:e,children:ne(H.Modal.Panel,{className:"flex h-full w-full grow overflow-hidden overflow-y-auto sm:max-h-[calc(100vh-5rem)] sm:max-w-[calc(100vw-5rem)]",children:[C(H.Modal.TopBar,{onClose:e}),C(re.Image.Modal.Content,{image:t,setImage:r,onClose:e})]})})}(e=>{e.useClose=()=>{const{setOpen:t,setImage:n}=Sh.use(({setOpen:r,setImage:i})=>({setOpen:r,setImage:i}),et.shallow);return useCallback(()=>{t(!1),n()},[t,n])},e.useOpen=()=>{const{setOpen:t,setImage:n}=Sh.use(({setOpen:r,setImage:i})=>({setOpen:r,setImage:i}),et.shallow);return useCallback(r=>{n(r),t(!0)},[t,n])}})(u0||(u0={}));var Sh;(e=>{e.use=et.create(t=>({open:!1,setOpen:n=>t({open:n}),setImage:n=>t({image:n})}))})(Sh||(Sh={}));var Uu;(e=>{const t=()=>50;e.initial=(n=new Date)=>({forward:!1,limit:t()}),e.next=n=>({...n,forward:!0}),e.previous=n=>({...n,forward:!1})})(Uu||(Uu={}));BigInt.prototype.toJSON=function(){return this.toString()};var Ux;(e=>{e.use=t=>{const n=useMemo(()=>Uu.next(Uu.initial()),[]),r=Nn.use(({getStableDiffusionExistingImages:i})=>i);return useMemo(()=>{if(r)return async i=>{const a=i?.pageParam??n,s=await r({limit:a.limit,exclusiveStartImageID:a.stopID});if(!s)return{forward:!1,limit:25,data:[]};const o={},l=[],u=[];for(const c of s){let h=ID.create();for(const p of c.images??[]){const m={...re.Image.Input.initial(ID.create()),...p.input&&{prompts:p.input.prompts,model:p.input.model,height:p.input.height,width:p.input.width,seed:p.input.seed,steps:p.input.steps,strength:p.input.initialImage?.weight??1,cfgScale:p.input.cfgScale,extras:{$IPC:{preset:p.input.style}}}};o[m.id]=m,h=m.id,l.push({id:p.id,inputID:m.id,created:p.createdAt,finishReason:0,src:p.blob?URL.createObjectURL(p.blob):void 0})}u.push({count:c.images?.length??0,id:c.id,imageIDs:c.images?.map(p=>p.id)??[],inputID:h,completedAt:c.images?.find(p=>p.createdAt)?.createdAt})}return re.Images.add(l),re.Image.Inputs.set(c=>({...c,...o})),re.Image.Outputs.set(u),{...a,stopID:s[0]?.exclusiveStartImageID,data:l}}},[r,n])}})(Ux||(Ux={}));var jx;(e=>{e.use=()=>{const t=Ux.use();return hre({enabled:!!t,queryKey:["Generation.Images.Query.use"],queryFn:t,staleTime:1/0,cacheTime:1/0,getNextPageParam:n=>n.stopID?Uu.next(n):void 0,getPreviousPageParam:n=>n.stopID?Uu.previous(n):void 0,select:useCallback(n=>({pages:[...n.pages].reverse(),pageParams:[...n.pageParams].reverse()}),[])})}})(jx||(jx={}));function yre({onScrollToTop:e,onScrollBack:t,showTop:n,showBottom:r,outputs:i}){const[a,s]=useState(i[0]?.id),o=useMemo(()=>{if(!a)return[];const l=i.findIndex(u=>u.id===a);return i.slice(0,l)},[a,i]);return useEffect(()=>{n&&s(i[0]?.id)},[n]),ne(Wh,{children:[n&&C("div",{className:"absolute top-0 z-[999] my-3 flex w-full justify-center px-3",children:ne(Ar.div,{onClick:e,className:"bg-brand-500 hover:bg-brand-400 group pointer-events-auto flex h-[2.5rem] cursor-pointer select-none items-center justify-between gap-2 rounded-lg py-1.5 px-3 backdrop-blur-lg transition-colors duration-100",initial:{y:-50},animate:{opacity:1,y:0},exit:{opacity:0},children:[C(H.Icon.ChevronUp,{size:18,className:"-mr-1"}),C("h1",{children:"Scroll to top"}),o.length>0&&ne("div",{className:"ml-1 flex items-center",children:[o.sort((l,u)=>(u.requestedAt??u.completedAt??0).valueOf()-(l.requestedAt??l.completedAt??0).valueOf()).slice(0,3).map((l,u)=>C(vre,{output:l,index:u},l.id)),o.length>3&&ne("div",{className:"relative ml-1",children:[ne("h1",{className:"absolute left-0 top-[50%] ml-1 -translate-y-1/2",children:["+",o.length-3]}),ne("h1",{className:"ml-1 font-mono opacity-0",children:["+",o.length-3]})]})]})]})},"top"),r&&C("div",{className:"absolute bottom-0 z-[999] my-3 flex w-full justify-center px-3",children:ne(Ar.div,{onClick:t,className:"group pointer-events-auto flex h-[2.5rem] cursor-pointer select-none items-center justify-between gap-2 rounded-lg bg-zinc-900/75 py-1.5 px-3 backdrop-blur-lg transition-colors duration-100 hover:bg-zinc-900",initial:{y:50},animate:{opacity:1,y:0},exit:{opacity:0},children:[C(H.Icon.ChevronDown,{size:18,className:"-mr-1"}),C("h1",{children:"Scroll back"})]})},"bottom")]})}function vre({output:e,index:t}){const r=re.Images.useFromIDs(...e.imageIDs)[0];return C("div",{className:"ring-brand-500 group-hover:ring-brand-400 overflow-hidden rounded-md ring-[3px] duration-100",style:{marginLeft:-4,zIndex:999-t},children:C(re.Image,{className:"pointer-events-none",hideControls:!0,width:24,height:24,image:r})})}var iu;(e=>{const t=et.create(n=>({images:{},addImages:r=>n(i=>({images:{...i.images,...r.reduce((a,s)=>({...a,[s.id]:s}),{})}}))}));e.get=t.getState,e.use=t})(iu||(iu={}));function Ch({className:e}){const n=re.Image.Create.Latest.use()?0:1,r=re.Image.Outputs.use(),i=r.length+n,{isFetching:a,fetchPreviousPage:s,hasPreviousPage:o}=jx.use(),l=useRef(null),u=useRef(0),c=useRef(-1),h=useRef(!1),p=useRef({});useLayoutEffect(()=>{u.current=l.current?.offsetTop??0},[]);const m=Nne({getScrollElement:()=>l.current,estimateSize:k=>p.current[k]??400,count:i,scrollMargin:u.current,paddingEnd:40,overscan:4}),g=m.getVirtualItems(),y=useMemo(()=>(g[0]?.index??0)>3&&c.current===-1,[g]),b=useCallback(()=>{c.current=m.scrollOffset??0,m.scrollToOffset(0,{behavior:"smooth"})},[m]),w=useCallback(()=>{h.current=!0,m.scrollToOffset(c.current,{behavior:"smooth",align:"start"})},[m]);useEffect(()=>{c.current!==-1&&h.current&&(m.scrollToOffset(c.current),c.current===m.scrollOffset&&(c.current=-1,h.current=!1))},[g,m]),useEffect(()=>{y&&(c.current=-1)},[y]),useEffect(()=>{const k=g[g.length-1]?.index;k&&k>=r.length-10&&!a&&o&&s()},[g,r.length,o,a,s]);const x=useMemo(()=>g.map(k=>{const _=k.index===0&&!!n,A=r[k.index-n]?.id;if(!A&&!_)return null;const P=_?re.Image.Outputs.nextID():A;return C(Ar.div,{"data-index":k.index,ref:N=>{m.measureElement(N),N&&(p.current[k.index]=N.getBoundingClientRect().height)},layoutId:P,layout:"preserve-aspect",className:classes("relative flex flex-col gap-4",k.index===i-1&&"pb-12"),initial:{opacity:0,y:-300},animate:{opacity:1,y:0},exit:{opacity:0},transition:{type:"spring",stiffness:500,damping:50,mass:2},children:C(re.Image.Output,{placeholder:_,divider:k.index!==0,outputID:A})},P)}),[m,g,n,r]);return ne(rt,{children:[C(re.Images.Modal,{}),C(re.Images.Scroll,{onScrollToTop:b,onScrollBack:w,showTop:y,showBottom:c.current!==-1,outputs:r}),C("div",{ref:l,className:classes("relative flex grow flex-col gap-4 overflow-y-auto p-6 dark:bg-zinc-800",e),children:C("div",{className:"relative w-full",style:{height:m.getTotalSize()},children:C("div",{className:"absolute top-0 left-0 w-full",style:{transform:`translateY(${(g[0]?.start??0)-m.options.scrollMargin}px)`},children:x})})})]})}(e=>{e.Delete=Fx,e.Download=zx,e.Modal=u0,e.State=iu,e.Scroll=yre,e.add=t=>iu.get().addImages(t),e.use=()=>iu.use(({images:t})=>Object.values(t),et.shallow),e.useFromIDs=(...t)=>iu.use(({images:n})=>t.filter(r=>r!==void 0).map(r=>n[r]).filter(r=>r!==void 0),et.shallow)})(Ch||(Ch={}));var $x;(e=>{function t({id:n}){const{setInput:r,importInit:i,input:a}=re.Image.Input.use(n),[s,o]=useState(!1),l=re.Image.HTMLElement.Dragging.useImage(),u=re.Image.Session.useSetLastStrength(),c=re.Image.Session.useSetInitialImage(),h=useMemo(()=>!!a?.init||!!l,[a?.init,l]),p=useMemo(()=>a?.width&&a?.height?a.width/a.height:1,[a]),m=useMemo(()=>({onDragOver:g=>{g.preventDefault(),o(!0)},onDragLeave:g=>{g.preventDefault(),o(!1)},onDrop:g=>{g.preventDefault(),o(!1);const y=g.dataTransfer?.files[0],b=y&&URL.createObjectURL(y);c(b??l)}}),[c,l]);return a?C(Dt.Sidebar.Section,{divider:!0,collapsable:!0,padding:"sm",title:a.init?"Image":"Upload image",defaultExpanded:h,button:g=>a.init?C(H.Button,{...g,icon:H.Icon.Trash,onClick:()=>{r(y=>{y.init=null})}}):C(H.Button,{...g,icon:H.Icon.Upload,onClick:i}),children:C("div",{className:"flex flex-col",children:C("div",{className:"flex flex-col overflow-hidden rounded border border-zinc-700 bg-zinc-800 p-2",children:a.init&&!s?ne(rt,{children:[ne("div",{onClick:i,...m,className:"hover:opacity-muted group relative flex aspect-square max-h-[140px] cursor-pointer items-center justify-center overflow-hidden rounded bg-black/20",children:[C("div",{className:"relative h-full max-h-[140px] overflow-hidden",style:{aspectRatio:p,background:"hsl(0, 0%, 50%)","--blur":`${Math.pow(1-a.strength,8)*50+(1-a.strength)*3}px`},css:css`
                      &::after {
                        content: "";
                        position: absolute;
                        top: 0;
                        left: 0;
                        width: 100%;
                        height: 100%;
                        backdrop-filter: blur(var(--blur));
                      }
                    `,children:C("img",{src:"base64"in a.init?a.init.base64:a.init.src,id:"init-img",className:"absolute h-full w-full object-cover",style:{aspectRatio:p}})}),C(H.Icon.Upload,{className:"absolute top-1/2 left-1/2 z-10 hidden -translate-x-1/2 -translate-y-1/2 transform text-white mix-blend-overlay group-hover:block",size:24})]}),C("div",{className:"mt-2",children:C(H.Slider,{value:a.strength*100,min:0,max:100,step:1,percentage:!0,title:"Image strength",onChange:g=>{const y=g/100;u(y),r(b=>{b.strength=g/100})}})})]}):C("div",{className:classes("group flex cursor-pointer flex-col items-center justify-center gap-4 rounded bg-zinc-800 py-4 px-3 text-center"),...m,onClick:i,children:s?ne(rt,{children:[C(H.Icon.Upload,{size:28,className:"pointer-events-none"}),C("h3",{className:"pointer-events-none",children:"Drop image here to create variations"})]}):ne(rt,{children:[C(H.Icon.Upload,{size:28,className:"opacity-75 duration-100 group-hover:opacity-100"}),C("h3",{className:"opacity-75 duration-100 group-hover:opacity-100",children:"Upload an image to create variations"})]})})})})}):null}e.Section=t})($x||($x={}));var Vx;(e=>{e.Sidebar=$x})(Vx||(Vx={}));const wre=x8(vj);var xE=Object.defineProperty,bre=Object.getOwnPropertyDescriptor,xre=Object.getOwnPropertyNames,kre=Object.prototype.hasOwnProperty,Sre=(e,t)=>{for(var n in t)xE(e,n,{get:t[n],enumerable:!0})},Cre=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of xre(t))!kre.call(e,i)&&i!==n&&xE(e,i,{get:()=>t[i],enumerable:!(r=bre(t,i))||r.enumerable});return e},Ere=e=>Cre(xE({},"__esModule",{value:!0}),e),j6={};Sre(j6,{temporal:()=>Are});var Tre=Ere(j6),_re=wre,Ire=(e,t,n,{equality:r,onSave:i,limit:a,pastStates:s=[],futureStates:o=[]}={})=>(0,_re.createStore)((l,u)=>({pastStates:s,futureStates:o,undo:(c=1)=>{const h=u().pastStates.slice(),p=u().futureStates.slice();if(h.length!==0){for(let m=0;m<c;m++){const g=h.pop();g&&(p.push(n(t())),e(g))}l({pastStates:h,futureStates:p})}},redo:(c=1)=>{const h=u().pastStates.slice(),p=u().futureStates.slice();if(p.length!==0){for(let m=0;m<c;m++){const g=p.pop();g&&(h.push(n(t())),e(g))}l({pastStates:h,futureStates:p})}},clear:()=>{l({pastStates:[],futureStates:[]})},trackingStatus:"tracking",pause:()=>{l({trackingStatus:"paused"})},resume:()=>{l({trackingStatus:"tracking"})},setOnSave:c=>{l({__onSave:c})},__onSave:i,__handleSet:c=>{const h=u().trackingStatus,p=u().__onSave,m=u().pastStates.slice(),g=n(t());h==="tracking"&&!r?.(g,c)&&(a&&m.length>=a&&m.shift(),m.push(c),p?.(c,g),l({pastStates:m,futureStates:[]}))}})),Pre=(e,{partialize:t=i=>i,handleSet:n=i=>i,...r}={})=>(a,s,o)=>{o.temporal=Ire(a,s,t,r);const l=n(o.temporal.getState().__handleSet),u=o.setState;return o.setState=(c,h)=>{const p=t(s());u(c,h),l(p)},e((c,h)=>{const p=t(s());a(c,h),l(p)},s,o)},Are=Pre,Wx;(e=>{e.use=()=>{const{undo:t,redo:n}=ju.use();Ye.use(useMemo(()=>({name:["History","Undo"],keys:["Meta","z"],icon:H.Icon.Undo,action:()=>t()}),[t])),Ye.use(useMemo(()=>({name:["History","Redo"],keys:["Meta","Shift","z"],icon:H.Icon.Redo,action:()=>n()}),[n]))}})(Wx||(Wx={}));var ju;(e=>{e.Shortcuts=Wx,e.use=()=>{const{undo:n,redo:r}=xs.use.temporal.getState();return useMemo(()=>({undo:n,redo:r}),[n,r])};function t(n){const r=ID.create(),i=()=>xs.use.getState().trackedStates[r],a=c=>xs.use.getState().setTrackedState(r,c),s=c=>xs.use.subscribe(({trackedStates:h},p)=>c(h[r],p.trackedStates[r])),o=()=>xs.use.temporal.getState().clear(),l=()=>xs.use.getState().setTrackedState(r,n(a)),u={setState:a,getState:i,subscribe:s};return l(),o(),Bh(u)}e.create=t})(ju||(ju={}));var xs;(e=>{e.use=Bh(Tre.temporal(t=>({trackedStates:{},setTrackedState:(n,r)=>t(({trackedStates:i})=>{const a=i[n],s=typeof a=="object"?a:{},o=typeof r=="function"?r(a):r;return{trackedStates:{...i,[n]:{...s,...o}}}})}),{limit:1e3,handleSet:t=>throttle(t,1e3)}))})(xs||(xs={}));var Es;(e=>{e.get=()=>t.use.getState().inputs,e.set=(...n)=>t.use.getState().setInputs(...n),e.copy=(n,r)=>(0,e.set)(i=>{const a=i[n];return{...i,...a&&{[r]:{...a,id:r}}}}),e.use=()=>{const n=t.use(({inputs:r})=>r,et.shallow);return React.useMemo(()=>[n,e.set],[n])},e.useFromIDs=(...n)=>t.use(({inputs:r})=>n.map(i=>r[i]),et.shallow);let t;(n=>{n.use=ju.create(r=>({inputs:{},setInputs:i=>r(({inputs:a})=>({inputs:typeof i=="function"?i(a):i}))}))})(t=e.State||(e.State={}))})(Es||(Es={}));var c0;(e=>{e.Image=Vx,e.upscaleEngines=["esrgan-v1-x2plus","stable-diffusion-x2-latent-upscaler","stable-diffusion-x4-latent-upscaler"],e.initial=i=>re.Image.Model.StableDiffusionV1.Input.initial(i),e.promptText=i=>i.prompts.map(a=>a.text).join(" "),e.isUpscaling=i=>e.upscaleEngines.includes(i.model),e.get=i=>Es.get()[i],e.set=(i,a)=>Es.set(s=>({...s,[i]:copy(s[i]??(0,e.initial)(i),a)}));function t(i){const a=Es.State.use(({inputs:p})=>{if(!i)return;const m=p[i]??(0,e.initial)(i);return p[i]||Es.set(g=>({...g,[i]:m})),m},et.shallow),s=useCallback(p=>Es.set(m=>i!==void 0&&a!==void 0?{...m,[i]:copy(a,p)}:m),[i,a]),o=useCallback((p=0)=>s(m=>{const g=m.prompts[p];g&&(m.prompts[p]={...g,text:re.Image.Prompt.Random.get()})}),[s]),l=useCallback(()=>s(p=>{p.prompts.push({weight:1})}),[s]),u=useCallback((p,m)=>s(g=>{const y=g.prompts[p],b=g.prompts[m];y===void 0||b===void 0||(g.prompts[p]=b,g.prompts[m]=y)}),[s]),c=useCallback((p=0)=>s(m=>{m.prompts.splice(p,1)}),[s]),h=useCallback(()=>{const p=document.createElement("input");p.type="file",p.accept="image/*",p.onchange=async()=>{const m=p.files?.[0];if(!m)return;const g=URL.createObjectURL(m);s(y=>{y.init={src:g,mask:!1,weight:1}})},p.click()},[s]);return useMemo(()=>({input:a,setInput:s,shuffle:o,addPrompt:l,swapPrompts:u,deletePrompt:c,importInit:h}),[a,s,o,l,u,c,h])}e.use=t,e.resizeInit=async i=>{if(!i.init)return;let a="";const s=re.Image.Input.isUpscaling(i);if("base64"in i.init)a=i.init.base64;else if(i.init.src.startsWith("blob:"))a=i.init.src;else{const y=await fetch(i.init.src);a=URL.createObjectURL(await y.blob())}const o=new window.Image;o.src=a,await new Promise(y=>{o.onload=y});const l=document.createElement("canvas");l.width=s?o.width:Math.ceil(i.width/64)*64,l.height=s?o.height:Math.ceil(i.height/64)*64;const u=l.getContext("2d");if(!u)return;if(u.fillStyle="#333",u.fillRect(0,0,l.width,l.height),s)return u.drawImage(o,0,0,l.width,l.height),console.log({width:l.width,height:l.height}),l.toDataURL("image/png");const c=Math.max(i.width/o.width,i.height/o.height),h=o.width*c,p=o.height*c,m=(i.width-h)/2,g=(i.height-p)/2;return u.drawImage(o,m,g,h,p),l.toDataURL("image/png")};async function n(i){const a={sampler:i.sampler,cfgScale:i.cfgScale,height:i.height,width:i.width,model:i.model,seed:i.seed,steps:i.steps,style:i.extras?.$IPC?.preset};return a.prompts=(0,e.isUpscaling)(i)?[]:i.prompts.filter(s=>s.text&&s.weight),i.mask&&(a.maskImage={blob:await r("base64"in i.mask?i.mask.base64:i.mask.src),weight:1}),i.init&&(a.initialImage={blob:await r("base64"in i.init?i.init.base64:i.init.src),weight:i.strength}),(0,e.isUpscaling)(i)||(a.height=i.height),a}e.toInput=n;async function r(i){if(i.startsWith("http")||i.startsWith("blob"))return(await fetch(i)).blob();{const a=window.Buffer.from(i.split(";base64,").pop(),"base64");return new Blob([a])}}})(c0||(c0={}));function $6({image:e,setImage:t,onClose:n}){const[r,i]=useState(!0),a=re.Images.use(),{input:s}=re.Image.Input.use(e?.inputID),o=re.Image.Models.useAreEnabled(),l=re.Image.Styles.useAreEnabled(),u=re.Image.Style.useFromID(s?.extras?.$IPC?.preset),c=re.Image.Session.useCreateVariations(e),h=re.Image.Session.useSetInitialImage(),p=ee.Import.use(e),m=re.Image.Download.use(e);useEffect(()=>{if(e?.src){const k=new Image;k.src=e.src,k.onload=()=>i(!1),i(!0)}},[e?.src]);const g=useMemo(()=>a.findIndex(k=>k.src===e?.src),[e?.src,a]),y=useCallback(()=>{if(g>-1){const k=g-1;a[k]&&t(a[k])}},[g,a,t]),b=useCallback(()=>{if(g>-1){const k=g+1;a[k]&&t(a[k])}},[g,a,t]);Ye.use(useMemo(()=>({name:["Navigate","Previous Image"],keys:["ArrowLeft"],action:y}),[y])),Ye.use(useMemo(()=>({name:["Navigate","Next Image"],keys:["ArrowRight"],action:b}),[b]));const w=useMemo(()=>{if(s?.width&&s?.height){const k=(N,B)=>B?k(B,N%B):N,_=k(s.width,s.height),A=s.width/_,P=s.height/_;return`${A} : ${P}`}return""},[s?.width,s?.height]),x=useCallback(()=>{n?.(),c()},[n,c]);return!e||!s?null:ne("div",{className:"flex max-h-screen min-h-0 w-fit flex-col gap-4 overflow-y-auto p-4 sm:flex-row",children:[ne("div",{className:"group relative flex aspect-square shrink-0 grow flex-col justify-center overflow-hidden rounded bg-black/75 sm:min-h-0 sm:shrink sm:basis-0",children:[C("img",{src:e.src,className:classes("h-full w-full grow basis-0 object-contain duration-100 sm:h-[999999px] sm:min-h-0 sm:w-[999999px]",r?"opacity-0":"opacity-100")}),r&&C("div",{className:"absolute inset-0 flex items-center justify-center",children:C(H.Loading.Spinner,{className:"h-10 w-10"})}),a.length>0&&ne("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-between p-2 opacity-0 duration-100 group-hover:opacity-100",children:[C(H.Button,{className:"pointer-events-auto",icon:H.Icon.ChevronLeft,disabled:r||g<=0,onClick:y}),C(H.Button,{className:"pointer-events-auto",icon:H.Icon.ChevronRight,disabled:r||g===-1||g===a.length-1,onClick:b})]})]}),ne("div",{className:"flex min-h-0 shrink-0 flex-col gap-4 overflow-y-auto overflow-x-hidden sm:max-w-[22rem]",children:[C("div",{className:"flex flex-col gap-4 border-b border-zinc-800 pb-4",children:s.prompts.filter(k=>k.text).map((k,_)=>"text"in k&&k.text&&s&&ne("div",{className:"flex flex-col gap-2",children:[C("h1",{className:"opacity-muted select-none",children:s.prompts.length>1?k.weight>0?`Prompt ${_+1}`:"Negative prompt":"Prompt"}),C("p",{children:k.text})]},_))}),C("div",{className:"flex items-center justify-between gap-4 border-b border-zinc-800 pb-4",children:ne("div",{className:"flex flex-row items-center gap-1",children:[C(re.Image.Variations.Create.Button,{outline:!0,id:s.id,onClick:x,className:"shrink-0",noTitle:!0}),C(H.Button,{outline:!0,icon:H.Icon.Edit,label:"Edit image",onClick:p}),C(H.Button,{outline:!0,icon:H.Icon.Image,disabled:r,label:"Set as init image",onClick:()=>{h(e.src),n?.()}}),C(re.Image.Prompt.Reuse.Button,{inputID:s.id,onClick:n}),C(H.Button,{outline:!0,icon:H.Icon.Download,disabled:r,label:"Download",onClick:()=>m()})]})}),(o&&s.model||l&&u)&&ne("div",{className:"flex flex-wrap gap-1",children:[o&&s.model&&C(eP,{children:s.model}),l&&u&&ne(eP,{className:"flex items-center gap-1",children:[u.image&&C("img",{src:u.image,className:"h-4 w-4 rounded",alt:u.name}),C("h1",{children:u.name})]})]}),ne("div",{className:"grid grid-cols-2 gap-4",children:[C(qc,{name:"Ratio",value:w}),C(qc,{name:"Size",value:`${s.width}  ${s.height}`}),!re.Image.Input.isUpscaling(s)&&ne(rt,{children:[s.cfgScale&&C(qc,{name:"Prompt strength",value:s.cfgScale?.toString()}),s.seed&&C(qc,{name:"Seed",value:s.seed?.toString()}),C(qc,{name:"Steps",value:s.steps.toString()})]})]})]})]})}function qc({name:e,value:t,className:n}){return ne("h1",{className:classes("flex flex-row items-center gap-2",n),children:[typeof e=="string"?C("span",{className:"opacity-muted select-none",children:e}):e,C("span",{className:"text-white/90",children:t})]})}function eP({children:e,className:t}){return C("span",{className:classes("w-fit rounded border border-zinc-800 px-1.5 py-0.5 text-sm",t),children:e})}function d0(){const[e,t]=d0.useImage();return C(H.Modal,{modalName:"Image",open:!!e,onClose:()=>t(),children:e&&ne(H.Modal.Panel,{className:"flex h-full min-h-0 w-full overflow-y-auto sm:max-h-[calc(100vh-5rem)] sm:max-w-[calc(100vw-5rem)] sm:grow",children:[C(H.Modal.TopBar,{onClose:()=>t()}),C($6,{image:e,setImage:t,onClose:()=>t()})]})})}(e=>{e.Content=$6,e.useImage=()=>t.use(({image:n,setImage:r})=>[n,r],et.shallow);let t;(n=>{n.use=et.create(r=>({setImage:i=>r(a=>({...a,image:i}))}))})(t||(t={}))})(d0||(d0={}));function Rre({id:e,className:t}){const{setInput:n,input:r}=re.Image.Input.use(e),{data:i,isLoading:a}=re.Image.Models.use(),s=useCallback(l=>{n(u=>{console.log("model",l),u.model=l})},[n]),o=useMemo(()=>[...(i??[]).map(({id:l,name:u})=>({value:l,name:l==="stable-diffusion-xl-v2-2"?ne(rt,{children:["SDXL",C(H.New,{children:"Preview"})]}):l==="stable-diffusion-xl-beta-v2-2-2"?ne(rt,{children:["SDXL Beta",C(H.New,{children:"Preview"})]}):l==="stable-diffusion-xl-tiling-v2-2"?ne(rt,{children:["SDXL Tiling",C(H.New,{children:"Preview"})]}):u}))],[i]);return r?C(H.Popout,{title:"Model",label:"Model",placeholder:a?"Loading...":"Select a Model",value:r.model,className:t,onClick:s,options:o,anchor:"bottom",children:!i&&C("div",{className:"flex flex-col items-center justify-center px-16 py-32",children:C("div",{className:"text-muted-white pb-3",children:"Loading models..."})})}):null}var Gx;(e=>{(t=>{t.initialWithStyle=n=>re.Image.Style.apply({input:(0,t.initial)(n)}),t.initial=n=>{const r=Nn.get().getStableDiffusionDefaultInput?.(),i=r?.prompts?.map(({text:a,weight:s})=>({text:a??re.Image.Prompt.Random.get(),weight:s??1}));return{id:n,prompts:i??[{text:re.Image.Prompt.Random.get(),weight:1},{text:"",weight:-.75}],model:r?.model??"stable-diffusion-xl-beta-v2-2-2",sampler:r?.sampler??{id:"0",name:"DDIM"},height:r?.width??512,width:r?.height??512,steps:r?.steps??50,seed:r?.seed??0,guidance:!1,strength:1,mask:null,init:null,extras:{$IPC:{preset:"enhance"}}}}})(e.Input||(e.Input={})),e.price=t=>{if(re.Image.Input.isUpscaling(t))return .2;const{steps:n,width:r,height:i}=t;return t.model.includes("-xl-")?(r*i-169527)*n/30*54e-9*100:(r*i-169527)*n/30*216e-10*100},e.baseResolution=t=>{if(t.includes("512"))return 512;if(t.includes("768"))return 768;switch(t){case"stable-diffusion-v1-5":return 512;case"stable-diffusion-v1-4":return 512}return 512},e.validate=({height:t,width:n,steps:r,mask:i,init:a,prompts:s})=>t>0&&t<=2048&&n>0&&n<=2048&&r>0&&r<=150&&(i===null||i.mask)&&(a===null||!a.mask)&&(i&&a||!i)&&s.filter(({weight:o,text:l})=>o>0&&l&&l!=="").length>0&&(s.filter(({text:o})=>o&&o.length>0).length>0||a!==null)})(Gx||(Gx={}));var Hx;(e=>{e.use=()=>{const t=Nn.use(({getStableDiffusionModels:n})=>n);return bE({enabled:!!t,queryKey:["Generation.Image.Models.use"],queryFn:async()=>await t?.()??[]})},e.useAreEnabled=()=>Nn.use(({getStableDiffusionModels:t})=>!!t)})(Hx||(Hx={}));var qx;(e=>{e.StableDiffusionV1=Gx,e.Dropdown=Rre})(qx||(qx={}));function Eh(e){return Eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eh(e)}function ar(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function bt(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function yt(e){bt(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||Eh(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Dre(e,t){bt(2,arguments);var n=yt(e),r=ar(t);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function Nre(e,t){bt(2,arguments);var n=yt(e),r=ar(t);if(isNaN(r))return new Date(NaN);if(!r)return n;var i=n.getDate(),a=new Date(n.getTime());a.setMonth(n.getMonth()+r+1,0);var s=a.getDate();return i>=s?a:(n.setFullYear(a.getFullYear(),a.getMonth(),i),n)}function Kc(e,t){if(bt(2,arguments),!t||Eh(t)!=="object")return new Date(NaN);var n=t.years?ar(t.years):0,r=t.months?ar(t.months):0,i=t.weeks?ar(t.weeks):0,a=t.days?ar(t.days):0,s=t.hours?ar(t.hours):0,o=t.minutes?ar(t.minutes):0,l=t.seconds?ar(t.seconds):0,u=yt(e),c=r||n?Nre(u,r+n*12):u,h=a||i?Dre(c,a+i*7):c,p=o+s*60,m=l+p*60,g=m*1e3,y=new Date(h.getTime()+g);return y}function Mre(e,t){bt(2,arguments);var n=yt(e).getTime(),r=ar(t);return new Date(n+r)}var Ore={};function Zh(){return Ore}function Th(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function tP(e){bt(1,arguments);var t=yt(e);return t.setHours(0,0,0,0),t}var Lre=864e5;function Fre(e,t){bt(2,arguments);var n=tP(e),r=tP(t),i=n.getTime()-Th(n),a=r.getTime()-Th(r);return Math.round((i-a)/Lre)}function Wo(e,t){bt(2,arguments);var n=yt(e),r=yt(t),i=n.getTime()-r.getTime();return i<0?-1:i>0?1:i}var Bre=6e4,zre=36e5;function Ure(e){return bt(1,arguments),e instanceof Date||Eh(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function jre(e){if(bt(1,arguments),!Ure(e)&&typeof e!="number")return!1;var t=yt(e);return!isNaN(Number(t))}function $re(e,t){bt(2,arguments);var n=yt(e),r=yt(t),i=n.getFullYear()-r.getFullYear(),a=n.getMonth()-r.getMonth();return i*12+a}function Vre(e,t){bt(2,arguments);var n=yt(e),r=yt(t);return n.getFullYear()-r.getFullYear()}function nP(e,t){var n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function Wre(e,t){bt(2,arguments);var n=yt(e),r=yt(t),i=nP(n,r),a=Math.abs(Fre(n,r));n.setDate(n.getDate()-i*a);var s=+(nP(n,r)===-i),o=i*(a-s);return o===0?0:o}function kE(e,t){return bt(2,arguments),yt(e).getTime()-yt(t).getTime()}var rP={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},Gre="trunc";function SE(e){return e?rP[e]:rP[Gre]}function Hre(e,t,n){bt(2,arguments);var r=kE(e,t)/zre;return SE(n?.roundingMethod)(r)}function qre(e,t,n){bt(2,arguments);var r=kE(e,t)/Bre;return SE(n?.roundingMethod)(r)}function Kre(e){bt(1,arguments);var t=yt(e);return t.setHours(23,59,59,999),t}function Yre(e){bt(1,arguments);var t=yt(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function Xre(e){bt(1,arguments);var t=yt(e);return Kre(t).getTime()===Yre(t).getTime()}function V6(e,t){bt(2,arguments);var n=yt(e),r=yt(t),i=Wo(n,r),a=Math.abs($re(n,r)),s;if(a<1)s=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-i*a);var o=Wo(n,r)===-i;Xre(yt(e))&&a===1&&Wo(e,r)===1&&(o=!1),s=i*(a-Number(o))}return s===0?0:s}function W6(e,t,n){bt(2,arguments);var r=kE(e,t)/1e3;return SE(n?.roundingMethod)(r)}function Qre(e,t){bt(2,arguments);var n=yt(e),r=yt(t),i=Wo(n,r),a=Math.abs(Vre(n,r));n.setFullYear(1584),r.setFullYear(1584);var s=Wo(n,r)===-i,o=i*(a-Number(s));return o===0?0:o}function Zre(e,t){bt(2,arguments);var n=ar(t);return Mre(e,-n)}var Jre=864e5;function eie(e){bt(1,arguments);var t=yt(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),i=n-r;return Math.floor(i/Jre)+1}function h0(e){bt(1,arguments);var t=1,n=yt(e),r=n.getUTCDay(),i=(r<t?7:0)+r-t;return n.setUTCDate(n.getUTCDate()-i),n.setUTCHours(0,0,0,0),n}function G6(e){bt(1,arguments);var t=yt(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=h0(r),a=new Date(0);a.setUTCFullYear(n,0,4),a.setUTCHours(0,0,0,0);var s=h0(a);return t.getTime()>=i.getTime()?n+1:t.getTime()>=s.getTime()?n:n-1}function tie(e){bt(1,arguments);var t=G6(e),n=new Date(0);n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0);var r=h0(n);return r}var nie=6048e5;function rie(e){bt(1,arguments);var t=yt(e),n=h0(t).getTime()-tie(t).getTime();return Math.round(n/nie)+1}function f0(e,t){var n,r,i,a,s,o,l,u;bt(1,arguments);var c=Zh(),h=ar((n=(r=(i=(a=t?.weekStartsOn)!==null&&a!==void 0?a:t==null||(s=t.locale)===null||s===void 0||(o=s.options)===null||o===void 0?void 0:o.weekStartsOn)!==null&&i!==void 0?i:c.weekStartsOn)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=yt(e),m=p.getUTCDay(),g=(m<h?7:0)+m-h;return p.setUTCDate(p.getUTCDate()-g),p.setUTCHours(0,0,0,0),p}function H6(e,t){var n,r,i,a,s,o,l,u;bt(1,arguments);var c=yt(e),h=c.getUTCFullYear(),p=Zh(),m=ar((n=(r=(i=(a=t?.firstWeekContainsDate)!==null&&a!==void 0?a:t==null||(s=t.locale)===null||s===void 0||(o=s.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&i!==void 0?i:p.firstWeekContainsDate)!==null&&r!==void 0?r:(l=p.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(m>=1&&m<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var g=new Date(0);g.setUTCFullYear(h+1,0,m),g.setUTCHours(0,0,0,0);var y=f0(g,t),b=new Date(0);b.setUTCFullYear(h,0,m),b.setUTCHours(0,0,0,0);var w=f0(b,t);return c.getTime()>=y.getTime()?h+1:c.getTime()>=w.getTime()?h:h-1}function iie(e,t){var n,r,i,a,s,o,l,u;bt(1,arguments);var c=Zh(),h=ar((n=(r=(i=(a=t?.firstWeekContainsDate)!==null&&a!==void 0?a:t==null||(s=t.locale)===null||s===void 0||(o=s.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&i!==void 0?i:c.firstWeekContainsDate)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),p=H6(e,t),m=new Date(0);m.setUTCFullYear(p,0,h),m.setUTCHours(0,0,0,0);var g=f0(m,t);return g}var aie=6048e5;function sie(e,t){bt(1,arguments);var n=yt(e),r=f0(n,t).getTime()-iie(n,t).getTime();return Math.round(r/aie)+1}function Mt(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}var oie={y:function(t,n){var r=t.getUTCFullYear(),i=r>0?r:1-r;return Mt(n==="yy"?i%100:i,n.length)},M:function(t,n){var r=t.getUTCMonth();return n==="M"?String(r+1):Mt(r+1,2)},d:function(t,n){return Mt(t.getUTCDate(),n.length)},a:function(t,n){var r=t.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(t,n){return Mt(t.getUTCHours()%12||12,n.length)},H:function(t,n){return Mt(t.getUTCHours(),n.length)},m:function(t,n){return Mt(t.getUTCMinutes(),n.length)},s:function(t,n){return Mt(t.getUTCSeconds(),n.length)},S:function(t,n){var r=n.length,i=t.getUTCMilliseconds(),a=Math.floor(i*Math.pow(10,r-3));return Mt(a,n.length)}};const us=oie;var Fl={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},lie={G:function(t,n,r){var i=t.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(i,{width:"abbreviated"});case"GGGGG":return r.era(i,{width:"narrow"});case"GGGG":default:return r.era(i,{width:"wide"})}},y:function(t,n,r){if(n==="yo"){var i=t.getUTCFullYear(),a=i>0?i:1-i;return r.ordinalNumber(a,{unit:"year"})}return us.y(t,n)},Y:function(t,n,r,i){var a=H6(t,i),s=a>0?a:1-a;if(n==="YY"){var o=s%100;return Mt(o,2)}return n==="Yo"?r.ordinalNumber(s,{unit:"year"}):Mt(s,n.length)},R:function(t,n){var r=G6(t);return Mt(r,n.length)},u:function(t,n){var r=t.getUTCFullYear();return Mt(r,n.length)},Q:function(t,n,r){var i=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"Q":return String(i);case"QQ":return Mt(i,2);case"Qo":return r.ordinalNumber(i,{unit:"quarter"});case"QQQ":return r.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(i,{width:"wide",context:"formatting"})}},q:function(t,n,r){var i=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"q":return String(i);case"qq":return Mt(i,2);case"qo":return r.ordinalNumber(i,{unit:"quarter"});case"qqq":return r.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(i,{width:"wide",context:"standalone"})}},M:function(t,n,r){var i=t.getUTCMonth();switch(n){case"M":case"MM":return us.M(t,n);case"Mo":return r.ordinalNumber(i+1,{unit:"month"});case"MMM":return r.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(i,{width:"wide",context:"formatting"})}},L:function(t,n,r){var i=t.getUTCMonth();switch(n){case"L":return String(i+1);case"LL":return Mt(i+1,2);case"Lo":return r.ordinalNumber(i+1,{unit:"month"});case"LLL":return r.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(i,{width:"wide",context:"standalone"})}},w:function(t,n,r,i){var a=sie(t,i);return n==="wo"?r.ordinalNumber(a,{unit:"week"}):Mt(a,n.length)},I:function(t,n,r){var i=rie(t);return n==="Io"?r.ordinalNumber(i,{unit:"week"}):Mt(i,n.length)},d:function(t,n,r){return n==="do"?r.ordinalNumber(t.getUTCDate(),{unit:"date"}):us.d(t,n)},D:function(t,n,r){var i=eie(t);return n==="Do"?r.ordinalNumber(i,{unit:"dayOfYear"}):Mt(i,n.length)},E:function(t,n,r){var i=t.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(i,{width:"short",context:"formatting"});case"EEEE":default:return r.day(i,{width:"wide",context:"formatting"})}},e:function(t,n,r,i){var a=t.getUTCDay(),s=(a-i.weekStartsOn+8)%7||7;switch(n){case"e":return String(s);case"ee":return Mt(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(t,n,r,i){var a=t.getUTCDay(),s=(a-i.weekStartsOn+8)%7||7;switch(n){case"c":return String(s);case"cc":return Mt(s,n.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(t,n,r){var i=t.getUTCDay(),a=i===0?7:i;switch(n){case"i":return String(a);case"ii":return Mt(a,n.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(i,{width:"short",context:"formatting"});case"iiii":default:return r.day(i,{width:"wide",context:"formatting"})}},a:function(t,n,r){var i=t.getUTCHours(),a=i/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,n,r){var i=t.getUTCHours(),a;switch(i===12?a=Fl.noon:i===0?a=Fl.midnight:a=i/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,n,r){var i=t.getUTCHours(),a;switch(i>=17?a=Fl.evening:i>=12?a=Fl.afternoon:i>=4?a=Fl.morning:a=Fl.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,n,r){if(n==="ho"){var i=t.getUTCHours()%12;return i===0&&(i=12),r.ordinalNumber(i,{unit:"hour"})}return us.h(t,n)},H:function(t,n,r){return n==="Ho"?r.ordinalNumber(t.getUTCHours(),{unit:"hour"}):us.H(t,n)},K:function(t,n,r){var i=t.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(i,{unit:"hour"}):Mt(i,n.length)},k:function(t,n,r){var i=t.getUTCHours();return i===0&&(i=24),n==="ko"?r.ordinalNumber(i,{unit:"hour"}):Mt(i,n.length)},m:function(t,n,r){return n==="mo"?r.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):us.m(t,n)},s:function(t,n,r){return n==="so"?r.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):us.s(t,n)},S:function(t,n){return us.S(t,n)},X:function(t,n,r,i){var a=i._originalDate||t,s=a.getTimezoneOffset();if(s===0)return"Z";switch(n){case"X":return aP(s);case"XXXX":case"XX":return So(s);case"XXXXX":case"XXX":default:return So(s,":")}},x:function(t,n,r,i){var a=i._originalDate||t,s=a.getTimezoneOffset();switch(n){case"x":return aP(s);case"xxxx":case"xx":return So(s);case"xxxxx":case"xxx":default:return So(s,":")}},O:function(t,n,r,i){var a=i._originalDate||t,s=a.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+iP(s,":");case"OOOO":default:return"GMT"+So(s,":")}},z:function(t,n,r,i){var a=i._originalDate||t,s=a.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+iP(s,":");case"zzzz":default:return"GMT"+So(s,":")}},t:function(t,n,r,i){var a=i._originalDate||t,s=Math.floor(a.getTime()/1e3);return Mt(s,n.length)},T:function(t,n,r,i){var a=i._originalDate||t,s=a.getTime();return Mt(s,n.length)}};function iP(e,t){var n=e>0?"-":"+",r=Math.abs(e),i=Math.floor(r/60),a=r%60;if(a===0)return n+String(i);var s=t||"";return n+String(i)+s+Mt(a,2)}function aP(e,t){if(e%60===0){var n=e>0?"-":"+";return n+Mt(Math.abs(e)/60,2)}return So(e,t)}function So(e,t){var n=t||"",r=e>0?"-":"+",i=Math.abs(e),a=Mt(Math.floor(i/60),2),s=Mt(i%60,2);return r+a+n+s}const uie=lie;var sP=function(t,n){switch(t){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},q6=function(t,n){switch(t){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},cie=function(t,n){var r=t.match(/(P+)(p+)?/)||[],i=r[1],a=r[2];if(!a)return sP(t,n);var s;switch(i){case"P":s=n.dateTime({width:"short"});break;case"PP":s=n.dateTime({width:"medium"});break;case"PPP":s=n.dateTime({width:"long"});break;case"PPPP":default:s=n.dateTime({width:"full"});break}return s.replace("{{date}}",sP(i,n)).replace("{{time}}",q6(a,n))},die={p:q6,P:cie};const hie=die;var fie=["D","DD"],pie=["YY","YYYY"];function mie(e){return fie.indexOf(e)!==-1}function gie(e){return pie.indexOf(e)!==-1}function oP(e,t,n){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var yie={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},vie=function(t,n,r){var i,a=yie[t];return typeof a=="string"?i=a:n===1?i=a.one:i=a.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+i:i+" ago":i};const wie=vie;function Gw(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth,r=e.formats[n]||e.formats[e.defaultWidth];return r}}var bie={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},xie={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},kie={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Sie={date:Gw({formats:bie,defaultWidth:"full"}),time:Gw({formats:xie,defaultWidth:"full"}),dateTime:Gw({formats:kie,defaultWidth:"full"})};const Cie=Sie;var Eie={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Tie=function(t,n,r,i){return Eie[t]};const _ie=Tie;function Yc(e){return function(t,n){var r=n!=null&&n.context?String(n.context):"standalone",i;if(r==="formatting"&&e.formattingValues){var a=e.defaultFormattingWidth||e.defaultWidth,s=n!=null&&n.width?String(n.width):a;i=e.formattingValues[s]||e.formattingValues[a]}else{var o=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;i=e.values[l]||e.values[o]}var u=e.argumentCallback?e.argumentCallback(t):t;return i[u]}}var Iie={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Pie={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Aie={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Rie={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Die={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Nie={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Mie=function(t,n){var r=Number(t),i=r%100;if(i>20||i<10)switch(i%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Oie={ordinalNumber:Mie,era:Yc({values:Iie,defaultWidth:"wide"}),quarter:Yc({values:Pie,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:Yc({values:Aie,defaultWidth:"wide"}),day:Yc({values:Rie,defaultWidth:"wide"}),dayPeriod:Yc({values:Die,defaultWidth:"wide",formattingValues:Nie,defaultFormattingWidth:"wide"})};const Lie=Oie;function Xc(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;var s=a[0],o=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(o)?Bie(o,function(h){return h.test(s)}):Fie(o,function(h){return h.test(s)}),u;u=e.valueCallback?e.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;var c=t.slice(s.length);return{value:u,rest:c}}}function Fie(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function Bie(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}function zie(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.match(e.matchPattern);if(!r)return null;var i=r[0],a=t.match(e.parsePattern);if(!a)return null;var s=e.valueCallback?e.valueCallback(a[0]):a[0];s=n.valueCallback?n.valueCallback(s):s;var o=t.slice(i.length);return{value:s,rest:o}}}var Uie=/^(\d+)(th|st|nd|rd)?/i,jie=/\d+/i,$ie={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Vie={any:[/^b/i,/^(a|c)/i]},Wie={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Gie={any:[/1/i,/2/i,/3/i,/4/i]},Hie={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},qie={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Kie={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Yie={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Xie={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Qie={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Zie={ordinalNumber:zie({matchPattern:Uie,parsePattern:jie,valueCallback:function(t){return parseInt(t,10)}}),era:Xc({matchPatterns:$ie,defaultMatchWidth:"wide",parsePatterns:Vie,defaultParseWidth:"any"}),quarter:Xc({matchPatterns:Wie,defaultMatchWidth:"wide",parsePatterns:Gie,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Xc({matchPatterns:Hie,defaultMatchWidth:"wide",parsePatterns:qie,defaultParseWidth:"any"}),day:Xc({matchPatterns:Kie,defaultMatchWidth:"wide",parsePatterns:Yie,defaultParseWidth:"any"}),dayPeriod:Xc({matchPatterns:Xie,defaultMatchWidth:"any",parsePatterns:Qie,defaultParseWidth:"any"})};const Jie=Zie;var eae={code:"en-US",formatDistance:wie,formatLong:Cie,formatRelative:_ie,localize:Lie,match:Jie,options:{weekStartsOn:0,firstWeekContainsDate:1}};const K6=eae;var tae=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,nae=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,rae=/^'([^]*?)'?$/,iae=/''/g,aae=/[a-zA-Z]/;function sae(e,t,n){var r,i,a,s,o,l,u,c,h,p,m,g,y,b,w,x,k,_;bt(2,arguments);var A=String(t),P=Zh(),N=(r=(i=n?.locale)!==null&&i!==void 0?i:P.locale)!==null&&r!==void 0?r:K6,B=ar((a=(s=(o=(l=n?.firstWeekContainsDate)!==null&&l!==void 0?l:n==null||(u=n.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&o!==void 0?o:P.firstWeekContainsDate)!==null&&s!==void 0?s:(h=P.locale)===null||h===void 0||(p=h.options)===null||p===void 0?void 0:p.firstWeekContainsDate)!==null&&a!==void 0?a:1);if(!(B>=1&&B<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var j=ar((m=(g=(y=(b=n?.weekStartsOn)!==null&&b!==void 0?b:n==null||(w=n.locale)===null||w===void 0||(x=w.options)===null||x===void 0?void 0:x.weekStartsOn)!==null&&y!==void 0?y:P.weekStartsOn)!==null&&g!==void 0?g:(k=P.locale)===null||k===void 0||(_=k.options)===null||_===void 0?void 0:_.weekStartsOn)!==null&&m!==void 0?m:0);if(!(j>=0&&j<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!N.localize)throw new RangeError("locale must contain localize property");if(!N.formatLong)throw new RangeError("locale must contain formatLong property");var W=yt(e);if(!jre(W))throw new RangeError("Invalid time value");var K=Th(W),z=Zre(W,K),G={firstWeekContainsDate:B,weekStartsOn:j,locale:N,_originalDate:W},M=A.match(nae).map(function(te){var X=te[0];if(X==="p"||X==="P"){var ue=hie[X];return ue(te,N.formatLong)}return te}).join("").match(tae).map(function(te){if(te==="''")return"'";var X=te[0];if(X==="'")return oae(te);var ue=uie[X];if(ue)return!(n!=null&&n.useAdditionalWeekYearTokens)&&gie(te)&&oP(te,t,String(e)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&mie(te)&&oP(te,t,String(e)),ue(z,te,N.localize,G);if(X.match(aae))throw new RangeError("Format string contains an unescaped latin alphabet character `"+X+"`");return te}).join("");return M}function oae(e){var t=e.match(rae);return t?t[1].replace(iae,"'"):e}function Y6(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function lae(e){return Y6({},e)}var lP=1440,uae=2520,Hw=43200,cae=86400;function dae(e,t,n){var r,i;bt(2,arguments);var a=Zh(),s=(r=(i=n?.locale)!==null&&i!==void 0?i:a.locale)!==null&&r!==void 0?r:K6;if(!s.formatDistance)throw new RangeError("locale must contain formatDistance property");var o=Wo(e,t);if(isNaN(o))throw new RangeError("Invalid time value");var l=Y6(lae(n),{addSuffix:!!n?.addSuffix,comparison:o}),u,c;o>0?(u=yt(t),c=yt(e)):(u=yt(e),c=yt(t));var h=W6(c,u),p=(Th(c)-Th(u))/1e3,m=Math.round((h-p)/60),g;if(m<2)return n!=null&&n.includeSeconds?h<5?s.formatDistance("lessThanXSeconds",5,l):h<10?s.formatDistance("lessThanXSeconds",10,l):h<20?s.formatDistance("lessThanXSeconds",20,l):h<40?s.formatDistance("halfAMinute",0,l):h<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):m===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",m,l);if(m<45)return s.formatDistance("xMinutes",m,l);if(m<90)return s.formatDistance("aboutXHours",1,l);if(m<lP){var y=Math.round(m/60);return s.formatDistance("aboutXHours",y,l)}else{if(m<uae)return s.formatDistance("xDays",1,l);if(m<Hw){var b=Math.round(m/lP);return s.formatDistance("xDays",b,l)}else if(m<cae)return g=Math.round(m/Hw),s.formatDistance("aboutXMonths",g,l)}if(g=V6(c,u),g<12){var w=Math.round(m/Hw);return s.formatDistance("xMonths",w,l)}else{var x=g%12,k=Math.floor(g/12);return x<3?s.formatDistance("aboutXYears",k,l):x<9?s.formatDistance("overXYears",k,l):s.formatDistance("almostXYears",k+1,l)}}function hae(e){bt(1,arguments);var t=yt(e.start),n=yt(e.end);if(isNaN(t.getTime()))throw new RangeError("Start Date is invalid");if(isNaN(n.getTime()))throw new RangeError("End Date is invalid");var r={};r.years=Math.abs(Qre(n,t));var i=Wo(n,t),a=Kc(t,{years:i*r.years});r.months=Math.abs(V6(n,a));var s=Kc(a,{months:i*r.months});r.days=Math.abs(Wre(n,s));var o=Kc(s,{days:i*r.days});r.hours=Math.abs(Hre(n,o));var l=Kc(o,{hours:i*r.hours});r.minutes=Math.abs(qre(n,l));var u=Kc(l,{minutes:i*r.minutes});return r.seconds=Math.abs(W6(n,u)),r}function fae({dateTime:e}){const[t,n]=React.useState(()=>new Date);return useEffect(()=>{const r=setInterval(()=>n(new Date),1e4);return()=>clearInterval(r)}),useMemo(()=>{const r=()=>e?(hae({start:e,end:t}).days??0>0?sae(e,"LLL d, p"):dae(e,new Date,{addSuffix:!0})).replace("about ",""):void 0;return C(H.Divider,{className:"mb-2 mt-4",children:r()})},[e,t])}var _r;(e=>{const t=et.create((n,r)=>({outputs:{},setOutputs:i=>n(a=>({outputs:{...a.outputs,...i.reduce((s,o)=>({...s,[o.id]:o}),{})}})),nextID:ID.create(),requested:(i,a)=>{const s=r().nextID,o={id:s,inputID:i,requestedAt:new Date,completedAt:void 0,count:a?.count??re.Image.Count.get(),imageIDs:[]};return n(l=>({nextID:ID.create(),outputs:{...l.outputs,[s]:o}})),re.Image.Input.set(i,l=>({...l,...a})),o},remove:i=>{n(a=>{const s={...a.outputs};return Object.values(s).filter(o=>o.imageIDs.length>0).forEach(o=>{o.imageIDs=o.imageIDs.filter(l=>!i.includes(l)),o.count=o.imageIDs.length,o.imageIDs.length===0?delete s[o.id]:s[o.id]=o}),{...a,outputs:s}})},received:(i,a)=>n(s=>{const o=s.outputs[i];return{outputs:{...s.outputs,...o&&{[i]:{...o,completedAt:new Date,imageIDs:[],...re.Image.Exception.is(a)?{exception:a}:{imageIDs:a.map(l=>l.id)}}}}}}),clear:i=>n(a=>{const s={...a.outputs};return delete s[i],{...a,outputs:s}})}));e.use=t,e.get=t.getState})(_r||(_r={}));var Kx;(e=>{e.set=t=>_r.get().setOutputs(t),e.nextID=()=>_r.get().nextID,e.use=()=>_r.use(({outputs:t})=>Object.values(t).sort((n,r)=>n.requestedAt&&r.requestedAt?r.requestedAt.valueOf()-n.requestedAt.valueOf():n.requestedAt?-1:r.requestedAt?1:n.completedAt&&r.completedAt?r.completedAt.valueOf()-n.completedAt.valueOf():n.completedAt?-1:r.completedAt?1:0)),e.useIsGenerating=()=>_r.use(({outputs:t})=>Object.values(t).some(re.Image.Output.isGenerating),et.shallow)})(Kx||(Kx={}));function Yx({outputID:e,placeholder:t,divider:n}){const r=re.Image.Output.use(e),{input:i}=re.Image.Input.use(r?.inputID),a=re.Image.Output.useIsGenerating(e),s=!t&&a,o=re.Images.useFromIDs(...r?.imageIDs??[]),l=r?.completedAt??r?.requestedAt,u=re.Images.Download.use(o),[c]=re.Image.Count.use(),h=(t?c:r?.count)??0,p=useMemo(()=>Math.floor(Math.random()*re.Image.Prompt.Examples.images.length),[]),m=useMemo(()=>{const b=Array.from({length:h},(w,x)=>o[x]??{inputID:i?.id}).map((w,x,k)=>C(re.Image,{preserveAspectRatio:!0,placeholder:t,image:w,scale:1,example:re.Image.Prompt.Examples.images[(p+x)%re.Image.Prompt.Examples.images.length]},keys("image",k.length,k.length-x)));return C("div",{className:"grid grid-cols-2 gap-4 sm:grid-cols-1 md:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4",children:b})},[h,o,i?.id,t,p]),g=useMemo(()=>ne("div",{className:"grid grid-cols-3 place-items-end gap-2 overflow-hidden",children:[i?.id&&C(re.Image.Prompt,{readOnly:!0,allowUseAgain:!0,id:i.id,variant:"display",className:"col-span-2 w-full duration-150"}),!t&&!s&&ne("div",{className:"flex w-full flex-row items-center justify-end gap-2",children:[C(H.Tooltip,{content:`Download ${o.length} images`,children:C(H.Button,{outline:!0,className:"shrink-0",icon:H.Icon.Download,onClick:u})}),C(re.Images.Delete.Button,{deleteTooltip:`Delete ${o.length} images`,className:"shrink-0 bg-black/20",images:o.map(({id:y})=>y),outline:!0})]})]}),[i?.id,t,s,o,u]);return useMemo(()=>ne("div",{className:"flex flex-col gap-4",children:[n&&C(fae,{dateTime:l}),g,m]}),[n,l,g,m])}(e=>{e.set=t=>_r.get().setOutputs([t]),e.get=t=>_r.get().outputs[t],e.requested=_r.get().requested,e.received=_r.get().received,e.remove=_r.get().remove,e.clear=_r.get().clear,e.isGenerating=({requestedAt:t,completedAt:n,exception:r,imageIDs:i,count:a})=>t&&!n&&!r&&i.length!==a,e.use=t=>_r.use(({outputs:n})=>t?n[t]:void 0,et.shallow),e.useIsGenerating=t=>_r.use(({outputs:n})=>{if(!t)return!1;const r=n[t];return!!r&&(0,e.isGenerating)(r)},et.shallow)})(Yx||(Yx={}));var Xx;(e=>{e.images=[{src:"./examples/king.png",prompt:"Bronze statue of a king, with regal attire, a crown, and a stern expression, highly detailed, dramatic lighting, commanding presence"},{src:"./examples/aurora.png",prompt:"Aurora borealis, vibrant lights dancing in the night sky, ethereal, abstract, high detail, nature art"},{src:"./examples/cake.png",prompt:"Chocolate cake with rich, fudgy frosting and perfectly layered cake, garnished with fresh berries and drizzled with melted chocolate, decadent, sweet, high detail, food photography"},{src:"./examples/center.png",prompt:"Contemporary cultural center with a distinct form, featuring a vibrant public plaza and innovative exhibition spaces, futuristic, visually stunning, architectural drawings"},{src:"./examples/chili.png",prompt:"Bowl of hearty chili with tender chunks of beef, rich tomato sauce, and a mix of spices, topped with grated cheddar cheese and green onions, high detail, focused on texture and heat, comfort food, food photography"},{src:"./examples/dragon.png",prompt:"Majestic dragon, perched atop a cliff overlooking a fiery landscape, with smoke and ash rising into the air, intense, detailed, scales, dynamic, epic"},{src:"./examples/flowers.png",prompt:"Vibrant flower field in full bloom, surrounded by rolling hills and a brilliant blue sky, colorful, serene, high detail, spring landscape"},{src:"./examples/forest.png",prompt:"Oil painting of a enchanted forest, with glowing mushrooms, fireflies, and a unicorn, soft brushstrokes, pastel colors, dream-like atmosphere"},{src:"./examples/moon.png",prompt:"Ethereal aurora borealis over a snowy mountain range, with a full moon shining in the background, mystical, peaceful, serene, winter landscape, high detail"},{src:"./examples/motorcycle.png",prompt:"Vintage motorcycle with gleaming chrome and polished leather, captured in soft natural light with selective focus on the engine, classic, retro, detailed"},{src:"./examples/racecar.png",prompt:"Race car with sleek design, captured in a high speed motion blur, dramatic lighting and shallow depth of field, motorsports, adrenaline, studio lighting"},{src:"./examples/river.png",prompt:"Rushing rapids in a crystal clear river, surrounded by towering trees and lush vegetation, energetic, serene, high detail, river landscape"},{src:"./examples/robot.png",prompt:"Towering robot statue in a desolate wasteland, with dust storms and abandoned vehicles in the distance, mechanical, dystopian, high detail, post-apocalyptic landscape"},{src:"./examples/seascape.png",prompt:"Wooden sculpture of a seascape, with waves, boats, and sea creatures, intricate carving, textured surface, high-resolution, natural lighting"},{src:"./examples/spaceship.png",prompt:"Crashed spaceship in a dense forest, surrounded by tall trees and exotic vegetation, futuristic, detailed, high detail, sci-fi landscape"},{src:"./examples/sushi.png",prompt:"Platter of sushi rolls with colorful and flavorful ingredients, including avocado, tuna, salmon, and crab, arranged with precision and beauty, high resolution, Asian-style, focused on texture and color, food photography"},{src:"./examples/train.png",prompt:"Steam locomotive in a snowy mountain range, surrounded by tall peaks and crisp clear air, nostalgic, detailed, high detail, winter landscape"}]})(Xx||(Xx={}));var Qx;(e=>{e.get=(n=[],r=10)=>{const i=t[Math.floor(Math.random()*t.length)];return r>0&&n.find(a=>a===i)?(0,e.get)(n,r-1):i},e.is=n=>!!n&&t.includes(n);const t=["Stunning sunset over a futuristic city, with towering skyscrapers and flying vehicles, golden hour lighting and dramatic clouds, high detail, moody atmosphere","Mystical forest with glowing mushrooms and a babbling brook, surrounded by towering trees and shrouded in mist, ethereal, dreamlike, stylized","Majestic dragon, perched atop a cliff overlooking a fiery landscape, with smoke and ash rising into the air, intense, detailed, scales, dynamic, epic","Serene beach scene with crystal clear water and white sand, tropical palm trees swaying in the breeze, perfect paradise, seascape","Post-apocalyptic wasteland with rusted and abandoned vehicles, dust storms and towering dust clouds, gritty, dark, dramatic, apocalyptic, stylized","Mystical underwater world with vibrant coral and exotic sea creatures, sun beams shining through the water, mysterious, magical, otherworldly","Snowy winter wonderland with a lone cabin in the distance, surrounded by frosty trees and fresh snowfall, peaceful, serene, detailed, winter landscape","Mysterious and abandoned temple in the jungle, surrounded by lush vegetation and tall trees, atmospheric, ancient, moody","Vibrant and bustling city street with busy traffic, bright lights, and towering skyscrapers, chaotic, fast-paced, cityscape, high detail","Gothic cathedral in a stormy night, with lightning illuminating the sky and rain pouring down, dramatic, atmospheric, high detail, moody","Fantasy castle on a hilltop, surrounded by rolling hills and a beautiful sunset, magical, serene, high detail, romantic, stylized","Vast desert with sand dunes and a lone oasis in the distance, hot sun and clear blue sky, peaceful, serene, desertscape, high resolution","Ethereal aurora borealis over a snowy mountain range, with a full moon shining in the background, mystical, peaceful, serene, winter landscape, high detail","Giant robots fighting in a futuristic city, with buildings falling and explosions all around, intense, fast-paced, dramatic, stylized, futuristic","Medieval market square with vendors selling goods, colorful banners, and bustling crowds, lively, busy, historic, high detail, architectural","Abandoned prison on a cliff, with a stormy sea below, eerie, moody, atmospheric, architectural, stylized","Beautiful waterfall in a lush jungle, with sunlight shining through the trees, serene, peaceful, tropical, jungle landscape, high detail","Surreal carnival scene with bright lights, strange creatures, and a full moon, dreamlike, vibrant, stylized, surreal, high detail","Breathtaking mountain range with a clear river running through it, surrounded by tall trees and misty clouds, serene, peaceful, mountain landscape, high detail","Historic battlefield with armies clashing and smoke rising, intense, fast-paced, dramatic, historic, high detail","Enchanted forest with glowing fireflies and a babbling brook, surrounded by towering trees and shrouded in mist, magical, ethereal, dreamlike, stylized","Sunken ship in a vibrant coral reef, with schools of colorful fish swimming by, mysterious, magical, high detail","Futuristic city with towering skyscrapers and flying vehicles, set against a vibrant sunset, futuristic, serene, high detail","Volcanic island with a boiling crater and ash clouds rising into the air, intense, dramatic, natural disaster, high detail, volcanic landscape","Lonely lighthouse on a rocky coast during a storm, with waves crashing and lightning flashing, moody, atmospheric, seascape, high detail","Ruined castle on a cliff overlooking the sea, with a stormy sky and crashing waves, eerie, moody, atmospheric","Vibrant street fair with colorful stalls and bustling crowds, lively, busy, high detail","Mysterious underground cave with glowing crystals and an underground river, dark, mysterious, underground landscape, high detail","Glorious sunrise over a cityscape, with the city slowly coming to life and the sky turning orange and pink, serene, peaceful, cityscape, high detail","Breathtaking view of a snowy mountain range, with crisp clear air and a brilliant blue sky, serene, peaceful, majestic, high detail, winter landscape","Enchanting waterfall in a lush jungle, surrounded by exotic plants and wildlife, tranquil, serene, high detail, tropical landscape","Glowing aurora borealis over a frozen lake, with towering mountains in the distance, ethereal, magical, winter landscape, high detail","Rushing rapids in a crystal clear river, surrounded by towering trees and lush vegetation, energetic, serene, high detail, river landscape","Vibrant flower field in full bloom, surrounded by rolling hills and a brilliant blue sky, colorful, serene, high detail, spring landscape","Glimpses of a herd of wild elephants crossing a savanna, surrounded by tall grass and a brilliant orange sunset, majestic, peaceful, high detail, safari landscape","Tranquil pond surrounded by tall trees, with a beautiful lily pad garden and calm reflection of the sky, serene, peaceful, high detail, water landscape","Giant redwoods in a misty forest, with towering trees and lush vegetation, peaceful, serene, high detail, forest landscape","Breathtaking view of a desert landscape, with towering sand dunes and a brilliant blue sky, serene, vast, high detail, desert landscape","Stunning sunset over an ocean horizon, with orange and pink hues spreading across the sky, peaceful, serene, high detail, seascape","Massive airship floating above a sprawling metropolis, with towering skyscrapers and busy streets below, futuristic, detailed, high resolution, urban landscape","Steampunk submarine exploring a coral reef, surrounded by exotic sea creatures and vibrant coral, detailed, surreal, steampunk style","Medieval castle on a cliff, surrounded by a moat and rolling green hills, majestic, medieval, high detail","Towering robot statue in a desolate wasteland, with dust storms and abandoned vehicles in the distance, mechanical, dystopian, high detail, post-apocalyptic landscape","Massive statue of a dragon in a lush jungle, surrounded by exotic plants and tall trees, mysterious, ancient, high detail, tropical landscape","Ancient temple in a mountain range, surrounded by misty clouds and tall peaks, mysterious, ancient, high detail","Crashed spaceship in a dense forest, surrounded by tall trees and exotic vegetation, futuristic, detailed, high detail, sci-fi landscape","Lighthouse on a stormy beach, surrounded by crashing waves and dramatic clouds, intense, detailed, high detail, coastal landscape","Steam locomotive in a snowy mountain range, surrounded by tall peaks and crisp clear air, nostalgic, detailed, high detail, winter landscape","Old western town in the desert, surrounded by towering sand dunes and a brilliant blue sky, nostalgic, detailed, high detail, western landscape","Futuristic cyborg, sleek metal enhancements and glowing circuits, standing in high-tech laboratory, intense, detailed, high resolution, sci-fi portrait","Medieval knight, armor and shining sword, standing on battle-scarred battlefield, intense, detailed, high detail, portrait","Powerful sorceress, flowing robes and mystical staff, standing in dark and ominous forest, mysterious, detailed, high detail, fantasy portrait","Rogue adventurer, backpack and rugged appearance, standing in dense jungle, adventurous, detailed, high detail, portrait","Wise wizard, long beard and mysterious tome, standing in dimly lit library, wise, detailed, high detail, portrait","Daring astronaut, space suit and helmet, standing in front of futuristic spaceship, adventurous, detailed, high detail, portrait","Skilled archer, bow and quiver of arrows, standing in forest clearing, intense, detailed, high detail, portrait","Daring treasure hunter, map and compass, standing in desolate desert, adventurous, detailed, high detail, portrait","Cosmic swirl of stars and galaxies, swirling in endless black void, otherworldly, abstract, high detail, space","Psychedelic mandala of patterns and shapes, kaleidoscopic, trippy, detailed, abstract art","Fractal landscape of geometric shapes and patterns, complex, intricate, abstract, digital art","Glowing nebula of vibrant gas and dust, celestial, otherworldly, abstract, space art","Hypnotic vortex of swirling colors, intense, detailed, abstract, digital art","Aurora borealis, vibrant lights dancing in the night sky, ethereal, abstract, high detail, nature art","Phantasmagoric carnival, carnival attractions shifting and changing, dreamlike, abstract, high detail, surreal art","Radiant nebula, star clusters and gas clouds shining brightly, celestial, otherworldly, abstract, space art","Iconic Parisian street with quaint cafes and bistros, charming, romantic, high detail, cityscape","Golden hour New York City skyline, towering skyscrapers and bustling streets, iconic, dramatic","Beautiful Venice canals with gondolas and bridges, charming, romantic, high detail, cityscape","Majestic Machu Picchu, set against a backdrop of towering mountains, breathtaking, high detail, landscape","Breathtaking view of the Grand Canyon, vast and awe-inspiring, high detail, landscape","Charming Santorini island with pristine beaches and iconic white buildings, Mediterranean, high detail, seascape","The iconic Great Wall of China, stretching along the countryside, historical, high detail, landscape","Stunning view of the Sydney Opera House, with the harbor and cityscape in the background, iconic, high detail, cityscape","The stunning Taj Mahal, set against a backdrop of lush greenery, historic, high detail, landmark","Breathtaking view of the Serengeti with roaming wildlife, vast, high detail, nature landscape","Giant rubber duck floating in the ocean with a small island on its back, surrounded by tropical palm trees and crystal clear water, bright and sunny day, calm seas, vivid colors, cinematic lighting, high detail","Giant hamster wheel in the middle of a city, with skyscrapers and busy streets in the background, centralized, low details, stylized graphics, night time, lit up, neon lights, no shadows","Humongous teacup and saucer floating in the sky, surrounded by clouds and rainbows, abstract, surreal, dreamlike, stylized oil painting style, vivid colors, detailed, high resolution, wide angled, otherworldly, fantastic","Giant ice cream cone melting and creating a river through a city, with boats floating down it, dramatic, intense, chaotic, high detail, fast-paced, wide angled, aerial view, colorful, fun, stylized graphics","Giant snail racing a car, high speed, intense, dynamic, detailed, cartoon style, wide angled, overhead view, vibrant colors, whimsical, absurd, surreal, fun","A group of giant robots playing a game of soccer, intense, dynamic, high detail, 3D, stylized, futuristic, metallic, robots, absurd, fantastic, wide angled, overhead view, colorful, fun","A city built entirely out of food, colorful, detailed, stylized, fun, absurd, vivid, delicious, overhead view, centralized, wide angled, vibrant, fantastical","Giant fruit and vegetable parade, with various different fruits and vegetables marching down a city street, colorful, detailed, stylized, absurd, fun, vivid, delicious, overhead view, centralized, wide angled","Giant caterpillar riding a bicycle, surreal, absurd, whimsical, stylized, detailed, vivid, high resolution, centralized, overhead view, colorful, fun","A bustling city made entirely of candy, with gumdrop buildings and sugar-coated streets, bright colors, whimsical, playful, detailed","A floating city in the clouds, with airships docking at sky-high platforms and clouds serving as roads, futuristic, whimsical, high-altitude, detailed","An underground city, filled with steam-powered trains, strange creatures, and intricate tunnels and cave systems, dark, detailed, subterranean, steampunk","A jungle city, with vines and roots serving as roads and buildings made of leaves, colorful, detailed, natural, tropical","A city made of ice, with ice slides, frozen rivers, and snow-covered buildings, winter, magical, detailed, cold","A pirate port, with ships setting sail, blacksmiths crafting weapons, and treasure-filled caves, adventurous, detailed, historic, swashbuckling","A space station, with spaceships coming and going, astronauts on EVA missions, and maintenance robots hard at work, futuristic, high-tech, detailed, intergalactic","A dragon's lair, with dragons hoarding treasure, sleeping on piles of gold, and shooting fire from their nostrils, mythical, detailed, adventurous, fantastical","Bowl of steaming hot ramen with a perfect egg in the center, surrounded by thin slices of meat, green onions, and nori, with a flavorful broth and perfect noodles, high detail, focused on texture and steam","Delectable pizza with melted cheese, juicy tomato sauce, and an array of toppings including pepperoni, mushrooms, and black olives, served hot and fresh, high resolution, stylized, focused on ingredients and melted cheese","Sizzling hot sirloin steak with a perfect crust, seared to perfection and topped with herbs and spices, served with a side of roasted vegetables and mashed potatoes, juicy, delicious, high detail","Assorted fruit platter with ripe, juicy strawberries, sweet grapes, tangy citrus, and juicy watermelon, set on a bed of greens and accented with mint leaves, high resolution, vibrant, natural","Chocolate cake with rich, fudgy frosting and perfectly layered cake, garnished with fresh berries and drizzled with melted chocolate, decadent, sweet, high detail, food photography","Baked salmon fillet with a perfectly crispy skin and tender, flaky flesh, served with a side of steamed vegetables and quinoa, healthy, flavorful, high detail, food photography","Bowl of hearty chili with tender chunks of beef, rich tomato sauce, and a mix of spices, topped with grated cheddar cheese and green onions, high detail, focused on texture and heat, comfort food","Platter of sushi rolls with colorful and flavorful ingredients, including avocado, tuna, salmon, and crab, arranged with precision and beauty, high resolution, Asian-style, focused on texture and color","Stuffed bell peppers filled with tender ground beef, flavorful rice, and melted cheese, baked to perfection, juicy, flavorful, high detail, food photography","Tasty tacos filled with seasoned beef, fresh salsa, melted cheese, and crunchy lettuce, served on a warm corn tortilla, Mexican-style, high resolution, focused on texture and flavor, food photography","Contemporary living room with large windows overlooking a cityscape, neutral color palette, minimalistic design, sleek modern furniture, gallery wall of abstract art, warm lighting, high detail, open floor plan","Rustic kitchen with exposed brick wall, reclaimed wood cabinetry, large farmhouse sink, industrial lighting fixtures, antique baking tools on open shelving, cast iron cookware, vintage accents, warm and inviting, detailed textures","Luxurious bathroom with freestanding bathtub, rain shower, heated flooring, marble tiles, brass fixtures, floating vanity with double sink, elegant chandelier, high contrast lighting, spa-like atmosphere, high resolution","Elegant dining room with crystal chandelier, dark wood table, velvet upholstered chairs, large statement art piece, tall windows with lush garden view, sophisticated color scheme, detailed textures, candlelit ambiance","Industrial-style office with concrete floors, raw steel beams, large wooden desk, leather office chair, wall of bookshelves, minimalist design, warm lighting, high detail, organized and professional","Cozy bedroom with four-poster bed, plush bedding, soft lighting, large windows with natural light, statement wallpaper, decorative throw pillows, high resolution textures, intimate and relaxing","Glamorous dressing room with large mirror, Hollywood lights, plush velvet seating, glass shelves displaying designer shoes, hanging rods for clothes, detailed textures, high contrast lighting, organized and stylish","Modern nursery with minimalistic design, white crib, rocking chair, wall mounted bookshelves, abstract art, neutral color palette, warm lighting, high detail, cozy and inviting","Minimalistic home gym with rubber flooring, wall-mounted TV, weight bench, medicine ball, dumbbells, yoga mats, high-tech equipment, high detail, organized and efficient","Traditional library with floor-to-ceiling bookcases, rolling ladder, large wooden desk, leather armchair, antique rug, warm lighting, high resolution textures, intellectual and inviting atmosphere","Contemporary glass and steel building with sleek lines and an innovative facade, surrounded by an urban landscape, modern, high resolution","Sleek and modern shopping center with an emphasis on natural light, an open-air interior, and eco-friendly features, contemporary, high detail, architectural renderings","High-rise residential building with a unique form and facade, featuring terraces and stunning views, minimalist, high-end, architectural design","Contemporary office building with a focus on sustainability, including green roofs and walls, modern, cutting-edge, architectural illustration","Contemporary cultural center with a distinct form, featuring a vibrant public plaza and innovative exhibition spaces, futuristic, visually stunning, architectural drawings","Stylish and modern apartment building with a clean, minimalist design and a focus on natural light, contemporary, high-end, architectural rendering","Innovative mixed-use development featuring an interplay of form and function, with cutting-edge technology and sustainability features, contemporary, visually striking, architectural illustration","Stylish and contemporary hotel with a unique form and facade, featuring luxury amenities and stunning views, modern, visually stunning","Sleek and modern shopping mall with a focus on sustainable design, featuring natural light and innovative materials, contemporary, cutting-edge, architectural drawings","Innovative and contemporary transportation hub with a unique form, featuring cutting-edge technology and sustainable features, modern, visually stunning, architectural illustration","Race car with sleek design, captured in a high speed motion blur, dramatic lighting and shallow depth of field, motorsports, adrenaline, studio lighting","Vintage hot rod with custom flame paint job, captured in low key lighting with selective focus on the chrome details, classic car, retro, high resolution","Luxury sports car with aerodynamic curves, shot in a high contrast, high key lighting with shallow depth of field, exotic, detailed, sporty, studio lighting","Majestic yacht with sleek lines, captured in a serene sunset light, with a shallow depth of field, boating, lifestyle","Futuristic flying car with smooth lines, shot in a low light high contrast studio setting, science fiction, cutting edge, high detail, moody atmosphere","Sturdy pickup truck, captured in a dramatic golden hour light with deep shadows, off-roading, rugged, dramatic, high resolution","Vintage motorcycle with gleaming chrome and polished leather, captured in soft natural light with selective focus on the engine, classic, retro, detailed","Luxury sports car with aggressive lines, shot in a high contrast, high key lighting with shallow depth of field, detailed, sporty, sleek, studio lighting","Massive semi-truck with chrome details, captured in a high key lighting with shallow depth of field, transportation, commercial, detailed, high resolution","Vintage sports car with classic curves, captured in a moody, low key light with selective focus on the grille, classic, retro, moody, detailed","Oil painting of a bustling harbor town, with fishing boats, seagulls, and a lighthouse in the background, high contrast, dramatic lighting, heavily textured brushstrokes","Watercolor painting of a rolling countryside, with fields of flowers, a red barn, and a white picket fence, soft and delicate brushstrokes, pastel colors","Acrylic painting of a mountain landscape, with a stormy sky and a cabin nestled in the forest, high contrast, bold brushstrokes, high-resolution","Oil painting of a sunset over the ocean, with orange and pink hues, gently rolling waves, and palm trees, heavily textured brushstrokes, dramatic lighting","Pen and ink drawing of a cityscape, with tall skyscrapers and bustling city life, high-contrast, detailed linework, dramatic lighting","Oil painting of a enchanted forest, with glowing mushrooms, fireflies, and a unicorn, soft brushstrokes, pastel colors, dream-like atmosphere","Watercolor painting of a desert landscape, with sand dunes, mountains, and a blazing sun, soft and delicate brushstrokes, warm and vibrant colors","Acrylic painting of a futuristic city, with neon lights, advanced technology, and flying cars, bold brushstrokes, high-contrast, highly stylized","Oil painting of a tranquil lake surrounded by mountains, with a cabin on the shore, boats, and a sunset, heavily textured brushstrokes, warm and vibrant colors","Pen and ink drawing of a mystical underwater world, with schools of fish, coral reefs, and a mermaid, highly detailed linework, high-contrast, stylized","Watercolor painting of a rolling countryside, with fields of wheat, a red barn, and a white picket fence, soft and delicate brushstrokes, warm and vibrant colors","Bronze statue of a powerful warrior, with a sword in hand, chiseled muscles, and a determined expression, highly detailed, dramatic lighting, intense gaze","Marble statue of a serene goddess, with flowing robes, delicate features, and a tranquil expression, highly detailed, soft lighting, grace and beauty","Wooden sculpture of a majestic animal, with intricate carving, textured fur, and piercing eyes, highly detailed, natural lighting, raw and powerful","Stone statue of a mythological creature, with wings, horns, and a fierce expression, highly detailed, dramatic lighting, intense and otherworldly","Bronze statue of a philosopher, with a wise expression, long beard, and a tome, highly detailed, soft lighting, introspective gaze","Marble statue of a dancers, with fluid movements, intricate details, and grace, highly detailed, dramatic lighting, intense expression","Wooden sculpture of a seascape, with waves, boats, and sea creatures, intricate carving, textured surface, high-resolution, natural lighting","Bronze statue of a king, with regal attire, a crown, and a stern expression, highly detailed, dramatic lighting, commanding presence","Wooden sculpture of a tree, with intricate branches, textured bark, and a strong trunk, highly detailed, natural lighting, grounding presence"]})(Qx||(Qx={}));var p0;(e=>{function t({inputID:n,onClick:r,...i}){const{input:a}=re.Image.Input.use(n),s=useMemo(()=>`Reuse prompt${a?.prompts.length??0>1?"s":""}`,[a?.prompts.length]),o=useCallback(l=>{r?.(l),re.Image.Session.setCurrentInput(u=>{let c=re.Image.Input.get(n)?.prompts;c&&(c=c.filter(h=>h.text!==""),c.filter(h=>h.weight<0).length<=0&&c.push({text:"",weight:-.75}),u.prompts=c)})},[n,r]);return C(H.Button,{outline:!0,icon:H.Icon.ArrowLeftCircle,label:s,onClick:o,...i})}e.Button=t})(p0||(p0={}));var Zx;(e=>{function t({id:n}){const{input:r}=re.Image.Input.use(n);return r?C(Dt.Sidebar.Section,{divider:!0,defaultExpanded:!0,padding:"sm",children:C(re.Image.Prompts,{id:n})}):null}e.Section=t})(Zx||(Zx={}));function Jx({id:e}){const{input:t}=re.Image.Input.use(e);return t?C("div",{className:"flex w-full flex-col items-center gap-2",children:t.prompts.map((n,r)=>C(re.Image.Prompt,{id:e,index:r,variant:"advanced"},keys(r,t.prompts.length)))}):null}(e=>{e.random=(t,n=[],r=10,i=[])=>[re.Image.Prompt.Random.get(n,r),...i,...t<i.length?(0,e.random)(t-1,[...n,...i],r-1):[]]})(Jx||(Jx={}));function ek({id:e,index:t=0,variant:n="simple",allowUseAgain:r,className:i}){const{deletePrompt:a,shuffle:s,setInput:o,input:l}=re.Image.Input.use(e),u=l?.prompts[t]?.text,c=l?.prompts[t]?.weight??1,h=useMemo(()=>re.Image.Prompt.Random.is(u),[u]),[p,m]=useState(c>=0),g=useCallback(k=>o(_=>{_.prompts[t].text=k}),[o,t]),y=useCallback(k=>{const _=k.target.value.length;k.target.setSelectionRange(h?0:_,_)},[h]),b=useMemo(()=>C(H.Tooltip,{content:"Shuffle prompt",delay:500,children:C(H.Button,{transparent:!0,icon:H.Icon.Dices,onClick:()=>s(t),className:classes(l?.prompts.length===1&&"-mr-1","p-0")})}),[s,t,l?.prompts.length]),w=n==="display"?ne("div",{className:"flex flex-row items-center gap-3 truncate",children:[C("p",{className:"w-full truncate text-base",children:u}),l?.id&&r&&C(p0.Button,{inputID:l?.id})]}):C("div",{className:"flex flex-row",children:C(gC,{transparent:!0,autoSize:!0,className:"w-full px-0 py-0",placeholder:c>0?"What do you want to see?":"What do you want to avoid?",value:u,onChange:g,onFocus:y},keys(e,t))}),x=useMemo(()=>{const k=C(H.Button,{transparent:!0,icon:H.Icon.Trash,onClick:()=>a(t),className:"p-0 hover:text-red-500"});return C("div",{className:"flex flex-row items-center",children:l?.prompts.length===1?C(rt,{children:c>=0&&b}):ne(rt,{children:[c>=0&&b,n==="advanced"&&t>1&&k]})})},[l?.prompts.length,c,b,n,a,t]);return l?n==="display"?C("div",{className:classes("flex items-center justify-between gap-2 text-lg",i),children:w}):C("div",{className:classes("group flex w-full gap-1 rounded border border-zinc-700 px-3 py-2 dark:bg-zinc-800",i),children:ne("div",{className:"flex w-full flex-col gap-2",children:[l.prompts.length>1&&ne("div",{className:"flex select-none flex-row items-center",children:[C(H.Button,{className:"mr-auto p-0",transparent:!0,onClick:()=>m(!p),icon:k=>C(H.Icon.ChevronRight,{...k,className:classes(k.className,c>=0?"text-green-500":"text-red-500",p&&"rotate-90","p-0")}),children:C("h1",{className:"w-full font-light",children:(l.prompts[t]?.weight??0)>0?l.prompts.filter(k=>k.weight>0).length===1?"Prompt":`Prompt ${t+1}`:"Negative prompt"})}),C("div",{className:"pointer-events-none opacity-0 group-hover:pointer-events-auto group-hover:opacity-100",children:x})]}),p&&w]})}):null}(e=>{e.Random=Qx,e.Reuse=p0,e.Sidebar=Zx,e.Examples=Xx})(ek||(ek={}));function pae({id:e,className:t}){const{setInput:n,input:r}=re.Image.Input.use(e),{data:i}=re.Image.Samplers.use(),a=useMemo(()=>[...(i??[]).map(({id:o,name:l})=>({name:l,value:o}))],[i]),s=useCallback(o=>{n(l=>{l.sampler=i?.find(u=>u.id===o)})},[n,i]);return r?C(H.Popout,{title:"Sampler",label:"Sampler",placeholder:"Select a sampler",value:r.sampler?.id,className:t,onClick:s,options:a,anchor:"bottom",children:!i&&C("div",{className:"flex flex-col items-center justify-center px-16 py-32",children:C("div",{className:"text-muted-white pb-3",children:"Loading samplers..."})})}):null}var tk;(e=>{e.use=()=>{const t=Nn.use(({getStableDiffusionSamplers:n})=>n);return bE({enabled:!!t,queryKey:["Generation.Image.Samplers.use"],queryFn:async()=>await t?.()??[]})},e.useAreEnabled=()=>Nn.use(({getStableDiffusionModels:t})=>!!t)})(tk||(tk={}));var nk;(e=>{e.Dropdown=pae})(nk||(nk={}));var rk;(e=>{e.use=()=>{const{miniSearch:t,lastAdded:n}=m0.use(({miniSearch:h,lastAdded:p})=>({miniSearch:h,lastAdded:p})),[r,i]=useState(!1),[a,s]=useState([]),[o,l]=useState(void 0);useEffect(()=>i(!!o),[o]);const u=useCallback(h=>{const p=h===void 0||h===""?void 0:h;l(p),i(!!p),s([])},[l]),c=useCallback(()=>u(),[u]);return dh(()=>{if(!o)return s([]);s(t.search(o).map(({id:h})=>h)),i(!1)},250,[o,t,n]),useMemo(()=>({loading:r,matches:a,text:o,setText:u,clear:c}),[a,r,o,u,c])},e.useMakeSearchable=()=>{const[t]=re.Image.Inputs.use(),{miniSearch:n,setLastAdded:r}=m0.use(({miniSearch:i,setLastAdded:a})=>({miniSearch:i,setLastAdded:a}));return useCallback((...i)=>{const a=i.reduce((o,l)=>{if(!l.id)return o;const u=t[l.inputID]?.prompts.map(({text:c})=>c).join(" ");return u?[...o,{id:l.id,prompt:u}]:o},[]);if(!a.length)return;a.forEach(({id:o,prompt:l})=>{n.has(o)&&n.remove({id:o,prompt:l}),n.add({id:o,prompt:l})});const s=a[a.length-1]?.id;s&&r(s)},[t,n,r])}})(rk||(rk={}));var m0;(e=>{e.use=et.create(t=>({miniSearch:new CO({idField:"id",fields:["prompt"],storeFields:[]}),lastAdded:void 0,setLastAdded:n=>t({lastAdded:n})}))})(m0||(m0={}));var ik;(e=>{e.getCurrentInput=()=>re.Image.Input.get(ui.use.getState().currentInputID),e.setCurrentInput=t=>{const n=(0,e.getCurrentInput)()?.id;n&&re.Image.Input.set(n,t)},e.useCurrentInput=()=>{const t=ui.use(({currentInputID:n})=>n,et.shallow);return re.Image.Input.use(t)},e.useLastInput=()=>{const t=ui.use(({previousInputIDs:[n]})=>n);return re.Image.Input.use(t)},e.useInputIDs=()=>ui.use(({currentInputID:t,previousInputIDs:n})=>[t,...n],et.shallow),e.useReset=()=>ui.use(({reset:t})=>t),e.useImageFilter=()=>{const t=(0,e.useInputIDs)();return useCallback((n,r=!1)=>t.includes(n.inputID)!==r,[t])},e.useSetLastStrength=()=>ui.use(({setLastStrength:t})=>t),e.useSetInitialImage=()=>{const t=ui.use(({lastStrength:n})=>n);return useCallback(n=>{(0,e.setCurrentInput)(r=>{const i=typeof n=="string"?n:n?.src;i&&(r.strength=t,r.init={src:i,mask:!1,weight:1})})},[t])},e.useCreateDream=()=>{const t=re.Image.Create.use();return useCallback(async n=>{const r=(0,e.getCurrentInput)();if(r)return ui.get().newCurrentInput(),t({inputID:r.id,modifiers:n})},[t])},e.useCreateVariations=t=>{const n=(0,e.useCreateDream)();return useCallback(async()=>{if(!t)return;const{currentInputID:r,lastStrength:i,setVariationsSourceImage:a}=ui.get(),s=re.Image.Input.get(t.inputID);if(!s)return;const o=s.prompts.filter(l=>l.text!=="");return o.filter(l=>l.weight<0).length<=0&&o.push({text:"",weight:-.75}),a(t),re.Image.Input.set(r,()=>({...s,id:r,strength:i,prompts:o,seed:0,...t.src&&{init:{src:t.src,mask:!1,weight:1}}})),n()},[t,n])},e.useUpscale=t=>{const n=(0,e.useCreateDream)(),[r]=re.Image.Upscale.use();return useCallback(async()=>{if(!t)return;const{setVariationsSourceImage:i}=ui.get(),a=re.Image.Input.get(t.inputID);if(!a)return;i(t);const s=re.Image.Upscale.getScale(r);return n({prompts:a.prompts.filter(o=>o.text!==""),strength:1,width:a.width*s,height:a.height*s,count:1,model:r,...t.src&&{init:{src:t.src,mask:!1,weight:1}}})},[t,n,r])}})(ik||(ik={}));var ui;(e=>{e.get=()=>e.use.getState(),e.use=et.create(t=>{const n=()=>({currentInputID:ID.create(),newCurrentInput:()=>{const r=ID.create();return t(i=>(re.Image.Inputs.copy(i.currentInputID,r),{currentInputID:r,previousInputIDs:[i.currentInputID,...i.previousInputIDs]})),{newID:r}},generatingInputID:void 0,previousInputIDs:[],lastStrength:.35,setLastStrength:r=>t({lastStrength:r}),variationsSourceImage:void 0,setVariationsSourceImage:r=>t({variationsSourceImage:r}),reset:()=>t(n,!0)});return n()})})(ui||(ui={}));function mae({id:e,...t}){const{setInput:n,input:r}=re.Image.Input.use(e),i=re.Image.Models.useAreEnabled(),a=re.Image.Samplers.useAreEnabled(),s=useCallback(c=>{n(h=>{h.cfgScale=c})},[n]),o=useCallback(c=>{n(h=>{h.steps=c})},[n]),l=useCallback(c=>n(h=>{h.seed=c}),[n]),u=useCallback(c=>n(h=>{c===""&&(h.seed=0)}),[n]);return r?C(Dt.Sidebar.Section,{title:"Advanced",divider:!1,collapsable:!0,icon:c=>c.expanded?h=>C(H.Icon.EyeOff,{...h,className:classes(h.className,"ml-1")}):h=>C(H.Icon.Eye,{...h,className:classes(h.className,"ml-1")}),className:c=>c.expanded?"":"mb-2",...t,children:ne("div",{className:"flex flex-col gap-4",children:[ne("div",{className:"grid grid-cols-2 gap-8",children:[C(H.Tooltip,{delay:750,placement:"right",content:ne("h1",{children:["Prompt strength determines how much the",C("br",{})," final image will portray your prompts."]}),children:C(H.NumberInput,{icon:H.Icon.Scale,label:"Prompt strength",placeholder:"Auto",fullWidth:!0,number:!0,min:1,step:.1,max:30,value:r.cfgScale,onNumberChange:s})}),C(H.Tooltip,{delay:750,content:ne("h1",{children:["Generation steps is how many times the image ",C("br",{})," is sampled. More steps may be more accurate."]}),placement:"right",children:C(H.NumberInput,{icon:H.Icon.Steps,label:"Generation steps",fullWidth:!0,number:!0,min:10,step:1,max:150,value:r.steps,onNumberChange:o})})]}),C("div",{className:"flex flex-col gap-4",children:C("div",{className:"grid grid-cols-2 items-end gap-8",children:C(H.Tooltip,{delay:750,content:ne("h1",{children:["Seed determines the initial noise. Using the same seed with",C("br",{})," the same settings will create a very similar image."]}),placement:"right",children:C(H.NumberInput,{icon:H.Icon.Sprout,placeholder:"Auto",label:"Seed",fullWidth:!0,number:!0,min:1,step:1,max:4294967295,value:r.seed!==0?r.seed:"",onChange:u,onNumberChange:l,iconRight:c=>r.seed!==0?C(H.Tooltip,{content:"Clear Seed",children:C(H.Icon.X,{...c,className:classes(c.className,"cursor-pointer duration-100 hover:opacity-100"),onClick:()=>l(0)})}):null})})})}),i&&C("div",{className:"-mx-2",children:C(re.Image.Model.Dropdown,{id:e})}),a&&C("div",{className:"-mx-2",children:C(re.Image.Sampler.Dropdown,{id:e})})]})}):null}function g0(){const{input:e}=re.Image.Session.useCurrentInput(),t=re.Image.Session.useCreateDream(),n=qs();return e?.id?C(Dt.Sidebar.Tab.Set,{defaultActive:!0,name:"Generate",route:"/generate",position:"left",index:0,icon:H.Icon.Generate,enabled:n.pathname.startsWith("/generate")||n.pathname.startsWith("/edit"),bottom:C(Dt.Sidebar.Tab.Bottom,{children:C(re.Image.Create.Button,{id:e.id,onIdleClick:()=>t(),fullWidth:!0})}),children:C(g0.Tab,{id:e.id})}):null}(e=>{function t({id:n,variant:r="generate"}){const[i,a]=useState(!0),s=re.Image.Styles.useAreEnabled();return ne(rt,{children:[s&&C(Dt.Sidebar.Section,{divider:!0,defaultExpanded:!0,padding:"sm",children:C("div",{className:"flex flex-col gap-2",children:C(re.Image.Style.Dropdown,{id:n})})}),C(re.Image.Prompt.Sidebar.Section,{id:n}),r==="generate"&&C(re.Image.Input.Image.Sidebar.Section,{id:n}),C(Dt.Sidebar.Section,{divider:!1,collapsable:!0,defaultExpanded:!0,title:"Settings",onChange:a,children:ne("div",{className:"flex flex-col gap-4",children:[r==="generate"&&C(re.Image.Size,{id:n}),C(re.Image.Count.Slider,{})]})}),i&&C(mae,{id:n})]})}e.Tab=t})(g0||(g0={}));var ak;(e=>{e.useStyle=({scale:t=1,height:n=512,width:r=n,preserveAspectRatio:i})=>useMemo(()=>{if(i)return{aspectRatio:`${r} / ${n}`};const a=r/n,s=t*n,o=t*Math.max(Math.min(n*2,n*a),n*(3/5));return{width:o,height:s,flexBasis:o,maxWidth:1.5*o}},[t,r,n,i])})(ak||(ak={}));function y0({id:e,fullControl:t,toggleFullControl:n}){const{input:r}=re.Image.Input.use(e),{closest:i,ratios:a}=v0.use(e,t),[s,o]=React.useState(null),[l,u]=React.useState(!1),c=useCallback(h=>{s&&clearTimeout(s),e&&re.Image.Input.set(e,p=>{const m=a[h]?.input.width,g=a[h]?.input.height;m&&(p.width=m),g&&(p.height=g)}),o(setTimeout(()=>{o(null),u(!1)},500)),u(!0)},[e,a,s]);return useEffect(()=>{c(i?.index??0)},[r?.model]),!i||a.length<=1?null:ne(rt,{children:[ne("div",{className:"flex shrink flex-row items-center justify-between",onDoubleClick:n,children:[C("div",{className:"flex w-1/3 items-center justify-start",children:C(H.Icon.Rectangle,{className:"opacity-muted-extra w-[28px]"})}),C(H.Tooltip,{delay:500,content:`${r?.width}  ${r?.height}`,forceOpen:l,children:ne("h1",{className:"select-none",children:[i.width,C("span",{className:"opacity-muted",children:" : "}),i.height]})}),C("div",{className:"flex w-1/3 items-center justify-end",children:C(H.Icon.Rectangle,{className:"opacity-muted-extra w-[28px] rotate-90"})})]}),C(H.Slider,{noFill:!0,max:Math.max(2,a.length-1),value:a.length===1?1:i.index,onChange:c,disabled:a.length===1,className:classes(a.length===1&&"opacity-20")})]})}(e=>{e.toSize=({ratio:t,bounds:n,area:r})=>{if(!r){const o=t.width/t.height,l=n.length.min,u=o>=1?Math.max(l,Math.round(l*o)):l,c=o<1?Math.max(l,Math.round(l/o)):l;return{width:u,height:c}}const i=Math.sqrt(r),a=Math.sqrt(r),s=o=>({width:clamp(n.length.min,Math.round(i*o),n.length.max),height:clamp(n.length.min,Math.round(a*o),n.length.max),actual:i*o/(a*o)});return i<n.length.min&&a<n.length.min?s(Math.min(n.length.min/i,n.length.min/a)):i<n.length.min?s(n.length.min/i):a<n.length.min?s(n.length.min/a):s(1)}})(y0||(y0={}));var v0;(e=>{const t=[{width:1,height:1},{width:4,height:3},{width:3,height:2},{width:4,height:5},{width:16,height:9},{width:1.85,height:1},{width:7,height:4},{width:2,height:1},{width:3,height:1},{width:4,height:1}];e.use=(n,r=!1)=>{const{input:i}=re.Image.Input.use(n),a=re.Image.Size.Bounds.use(n),s=useMemo(()=>{if(!i?.width||!i?.height||!a)return[];const l=h=>({...h,input:y0.toSize({ratio:h,bounds:a,...r&&{area:i.width*i.height}})}),u=(r?t:t.slice(0,-2)).map(l).filter(({input:h})=>h.width*h.height<=a.area.max),c=u.map(({width:h,height:p,input:m})=>({width:p,height:h,input:{width:m.height,height:m.width}}));return[...u,...c.slice(1)].sort((h,p)=>p.width/p.height-h.width/h.height)},[r,a,i?.width,i?.height]);return{closest:useMemo(()=>{if(!i?.width||!i?.height||!s[0])return;const l=i.width/i.height;return s.reduce((u,c,h)=>{const p=Math.abs(l-c.width/c.height);return p<u.difference?{...c,index:h,difference:p}:u},{index:0,difference:1/0,...s[0]})},[s,i?.width,i?.height]),ratios:s}}})(v0||(v0={}));function _h({id:e}){const[t,n]=useState(!1),r=useCallback(()=>n(u=>!1),[]),{setInput:i,input:a}=re.Image.Input.use(e),s=_h.Bounds.use(e),o=useCallback(u=>{i(c=>{c.width=u})},[i]),l=useCallback(u=>{i(c=>{c.height=u})},[i]);return!s||!a?null:ne(rt,{children:[C(re.Image.Size.Ratio,{id:e,fullControl:t,toggleFullControl:r}),ne("div",{className:classes("hidden grid-cols-2 items-end gap-8",t&&"grid"),children:[C(H.Slider,{title:"Width",disabled:s.width.max===0,min:s.width.min,value:a.width,max:s.width.max,onChange:o}),C(H.Slider,{title:"Height",disabled:s.width.max===0,min:s.height.min,value:a.height,max:s.height.max,onChange:l})]})]})}(e=>{e.Display=ak,e.Ratio=y0,e.Ratios=v0,(t=>{t.get=n=>{if(!n?.model)return;if(n.model.includes("xl"))return{length:{min:512,max:896},area:{max:512*896},ratio:{min:.57,max:1.75},width:{min:512,max:896},height:{min:512,max:896}};const r=1024*1024,i=2048,a=re.Image.Model.StableDiffusionV1.baseResolution(n.model);return{length:{min:a,max:i},width:{min:a,max:r/n.height},height:{min:a,max:r/n.width},area:{min:a*a,max:r},ratio:{min:a/i,max:i/a}}},t.use=n=>{const{input:r}=re.Image.Input.use(n);return useMemo(()=>r&&(0,t.get)(r),[r])}})(e.Bounds||(e.Bounds={}))})(_h||(_h={}));function gae(){return ne("div",{className:"pointer-events-none absolute inset-0 flex flex-col items-center justify-center gap-1 bg-black/30",children:[C(H.Icon.AlertTriangle,{className:"text-red-500",size:48}),C("h1",{children:"Image was flagged as inappropriate"}),C("h2",{className:"text-sm opacity-75",children:"You have not been charged"})]})}function sk({showing:e,loading:t,variant:n,example:r,onClick:i,input:a}){return e?ne("div",{className:classes("pointer-events-none absolute flex h-full w-full items-center justify-center rounded-md border border-zinc-700 opacity-0 duration-150",(n!=="editor"||t)&&"bg-zinc-900/50",(n==="editor"||e)&&"opacity-100"),children:[n==="editor"&&C(H.Checkered,{className:"-z-[1] bg-fixed"}),r&&ne(rt,{children:[C("img",{className:classes("absolute h-full w-full object-cover opacity-25 duration-150",t&&"opacity-0"),src:r.src}),C("div",{className:classes("absolute bottom-0 left-0 right-0 truncate whitespace-nowrap p-3 italic text-white opacity-75 duration-150",t&&"opacity-0"),children:r.prompt})]}),n!=="editor"&&C("div",{className:"absolute flex h-full w-full items-center justify-center",children:i&&r&&!t&&a?C(re.Image.Create.Button,{id:a,icon:H.Icon.Dream,onIdleClick:i,className:"pointer-events-auto",children:"Try template"}):C(H.Logo,{className:classes("absolute h-12 w-12 opacity-50 duration-150",t&&"opacity-0",n==="small"&&"h-8 w-8")})}),C("div",{className:"absolute flex h-full w-full items-center justify-center",children:t&&C(H.Loading.Spinner,{className:classes(n==="small"?"h-1/2 w-1/2":"h-10 w-10")})})]}):null}(e=>{e.Filter=gae})(sk||(sk={}));var ok;(e=>{e.use=()=>{const t=Nn.use(({getStableDiffusionStyles:n})=>n);return bE({enabled:!!t,queryKey:["Generation.Image.Styles.use"],queryFn:async()=>await t?.()??[]})},e.useAreEnabled=()=>Nn.use(({getStableDiffusionStyles:t})=>!!t)})(ok||(ok={}));var lk;(e=>{e.apply=({input:n,styleID:r})=>({...n,extras:{...n.extras,$IPC:r?{preset:r}:void 0}}),e.isApplied=({input:n,preset:r})=>(n.extras?.$IPC?.preset??"none")===r.id,e.useFromID=n=>{const{data:r}=re.Image.Styles.use();return n?r?.find(i=>i.id===n):void 0};function t({className:n,id:r}){const{data:i}=re.Image.Styles.use(),{input:a,setInput:s}=re.Image.Input.use(r),o=useMemo(()=>[{value:"none",name:"Choose style"},...i?.map(l=>({value:l.id,name:l.name,image:l.image}))??[]],[i]);return C(H.Popout,{title:"Styles",label:"Style",options:o,value:a?.extras?.$IPC?.preset,placeholder:"Choose style",className:classes(n),onClick:l=>s(u=>(0,e.apply)({input:u,styleID:l}))})}e.Dropdown=t})(lk||(lk={}));function yae(){return null}var uk;(e=>{function t(n){return C(H.Tooltip,{placement:"top",content:C("div",{className:"-mr-1 flex flex-row items-center gap-2",children:C("p",{children:"Upscale image"})}),children:C(re.Image.Create.Button,{...n,noBadge:!0,size:"md",icon:H.Icon.Upscale,noTitle:!0})})}e.Button=t})(uk||(uk={}));var ck;(e=>{e.Create=uk})(ck||(ck={}));var w0;(e=>{e.preset=()=>"esrgan-v1-x2plus",e.getScale=t=>t.includes("x2")?2:t.includes("x4")?4:t.includes("x8")?8:1,e.get=()=>qw.getState().upscaler,e.set=t=>qw.getState().setUpscaler(t),e.use=()=>qw(({upscaler:t,setUpscaler:n})=>[t,n],et.shallow)})(w0||(w0={}));const qw=et.create(e=>({upscaler:w0.preset(),setUpscaler:t=>e({upscaler:t})}));var dk;(e=>{function t(n){return C("div",{className:"pointer-events-auto mr-auto flex flex-row items-center gap-1",children:C(H.Tooltip,{placement:"top",content:C("div",{className:"-mr-1 flex flex-row items-center gap-2",children:C("p",{children:"Generate variations"})}),children:C(re.Image.Create.Button,{...n,noBadge:!0,size:"md",icon:H.Icon.Variation,children:!n.noTitle&&C(rt,{children:"Variations"})})})})}e.Button=t})(dk||(dk={}));var hk;(e=>{e.Create=dk})(hk||(hk={}));function Ih({image:e,hideControls:t,placeholder:n,scale:r,preserveAspectRatio:i,width:a,height:s,onClick:o,className:l}){const{input:u}=c0.use(e?.inputID),c=_h.Display.useStyle({scale:r,preserveAspectRatio:i,width:a??u?.width,height:s??u?.height}),h=e?.src&&(c.width&&c.height?Ih.cropped(e.src,c.width,c.height):e.src),[p,m]=useState(!0),y=n||!h,b=useMemo(()=>u&&re.Image.Input.isUpscaling(u),[u]);useEffect(()=>m(!0),[e?.src]);const w=re.Images.Modal.useOpen(),x=useCallback(()=>{o?.(),!p&&e?.id&&w(e)},[o,e,p,w]),k=useMemo(()=>e?.id&&ne("div",{className:"absolute h-full w-full",children:[C(mE,{src:h,image:e,onClick:x,onLoadingChange:m}),b&&C("div",{className:"absolute bottom-3 left-3 flex items-end justify-end",children:ne(H.Badge,{className:"bg-zinc-800/50 backdrop-blur-md",children:["Upscaled ",u?.width,"x",u?.height]})})]}),[e,h,x,b,u?.width,u?.height]),_=useMemo(()=>e?.id&&!p&&!t&&C(Ey,{image:e}),[e,p,t]),A=useMemo(()=>C(Ih.SpecialEffects,{showing:y,loading:!n&&y,variant:(c.height??512)<48?"small":void 0}),[n,y,c.height]);return useMemo(()=>C("div",{style:c,className:classes("group relative shrink grow overflow-hidden rounded bg-zinc-900",l),children:ne("div",{className:classes("group relative h-full w-full overflow-hidden rounded-md shadow-md",!p&&"cursor-pointer",l),children:[k,_,A]})}),[c,l,p,k,_,A])}(e=>{e.ClipBoard=wx,e.Controls=Ey,e.Count=zu,e.Create=Tx,e.Download=_x,e.HTMLElement=mE,e.Input=c0,e.Inputs=Es,e.Modal=d0,e.Model=qx,e.Models=Hx,e.Output=Yx,e.Outputs=Kx,e.Style=lk,e.Styles=ok,e.Prompt=ek,e.Prompts=Jx,e.Sampler=nk,e.Samplers=tk,e.Search=rk,e.Session=ik,e.Sidebar=g0,e.Size=_h,e.SpecialEffects=sk,e.TopBar=yae,e.Variations=hk,e.Upscales=ck,e.Upscale=w0,e.Exception=Px,e.get=t=>Ch.State.use(({images:n})=>n[t]),e.add=t=>Ch.add([t]),e.cropped=(t,n,r)=>t.startsWith("blob:")?t:`${t}?resize&width=${n}&height=${r}&fit=cover`,e.blob=async t=>{const n=t?.src;return n?(await fetch(n)).blob():void 0},e.blobURL=async t=>{const n=await e.blob(t);return n&&URL.createObjectURL(n)}})(Ih||(Ih={}));function re(){const e=re.Image.Session.useCreateDream();return Ye.use(useMemo(()=>({name:["Generate"],keys:["Meta","Enter"],icon:H.Icon.Wand,action:()=>e(),options:{ignoredElementWhitelist:["INPUT","TEXTAREA"]}}),[e])),ne(rt,{children:[C(re.Image.TopBar,{}),C(re.Image.Modal,{}),C(re.Image.Download.Modal,{}),C("div",{className:"relative z-[1] flex h-full grow flex-col overflow-hidden bg-zinc-800",children:C(re.Images,{})})]})}(e=>{e.Image=Ih,e.Images=Ch})(re||(re={}));function vae({id:e,showHandles:t}){const{input:n}=re.Image.Input.use(e),r=ee.Selection.useSelected(e),[i]=ee.Entity.use(e),a=re.Image.Output.useIsGenerating(i?i?.outputID:void 0);return n?C(rt,{children:ne("div",{className:classes("pointer-events-none relative h-full w-full"),children:[C(re.Image.SpecialEffects,{showing:!0,variant:"editor",loading:a,border:r}),!r&&C("div",{className:"h-full w-full border-[2px] border-dashed border-white/50"}),C("div",{className:classes("relative h-full w-full opacity-0 duration-150",r&&!a&&"opacity-100"),children:r&&t&&!n.model.includes("xl")&&ne(rt,{children:[C(cs,{className:"top-0 left-0"}),C(cs,{className:"top-0 left-1/2"}),C(cs,{className:"top-0 left-full"}),C(cs,{className:"top-1/2 left-0"}),C(cs,{className:"top-1/2 left-full"}),C(cs,{className:"top-full left-0"}),C(cs,{className:"top-full left-1/2"}),C(cs,{className:"top-full left-full"})]})})]})}):null}function cs({className:e}){const t=ee.Entity.Handle.size();return C("div",{style:{width:t,height:t},className:classes("absolute z-[10] -translate-x-1/2 -translate-y-1/2 bg-white drop-shadow",e)})}var fk;(e=>{e.use=t=>{const n=ee.Entities.useFlatten(),r=ee.Entities.use(),[i,a]=ee.Entity.use(t),s=ee.Image.Create.use(),{autoFlatten:o}=ee.State.use();return useCallback(l=>{if(!i||!l.src)return;const u=re.Image.Input.get(l.inputID)?.prompts[0].text??"Image",c=r.filter(p=>p.type==="image"&&p.x<i.x+i.width&&p.x+p.width>i.x&&p.y<i.y+i.height&&p.y+p.height>i.y&&p.element?.src&&p.visible&&p.id!==t),h=new window.Image;h.src=l.src,h.onload=()=>{const p={element:h,width:h.width,height:h.height};c.length>=1&&o?(c.push({...ee.Image.preset(),index:r.length,x:i.x,y:i.y,width:i.width,height:i.height,original:p,element:h,title:u}),n(c)):s({title:u,x:i.x,y:i.y,width:i.width,height:i.height,original:p,element:h})},a(p=>{p.locked=!1,p.outputID=void 0,p.choicesPage=0})},[o,s,r,i,n,t,a])}})(fk||(fk={}));var pk;(e=>{e.use=()=>{const t=ee.Dream.Create.use();Ye.use(useMemo(()=>({name:["Dream","Create"],icon:H.Icon.Plus,keys:["Meta","d"],action:()=>t()}),[t]))}})(pk||(pk={}));var mk;(e=>{e.Shortcuts=pk,e.use=()=>{const[t,n]=re.Image.Inputs.use(),r=ee.Entities.use(),i=ee.Entities.useSet(),a=ee.Selection.useSelect(),s=ee.Camera.Center.useGet();return useCallback(o=>{const l=o?.dream?.id??ID.create(),u=o?.inputID?t[o.inputID]:void 0,c=s(),h=(g={...ee.Dream.preset(),...o?.dream,id:l,index:r.length},y=10)=>{if(y===0||o?.allowOverlap)return g;const b=c?{...g,x:c.x-g.width/2,y:c.y-g.height/2}:g,w=r.find(({x:k,y:_,width:A,height:P})=>b.x===k&&b.y===_&&b.width===A&&b.height===P),x=20;return w?h({...b,x:b.x+x*(Math.random()*2-1),y:b.y+x*(Math.random()*2-1)},y-1):b},p=h();p.height=u?.height??p.height,p.width=u?.width??p.width;const m={...re.Image.Input.initial(l),...u,id:l,seed:0};return n(g=>({...g,[l]:m})),i(g=>new Map(g).set(l,p)),a(l),p},[t,s,r,i,n,a])}})(mk||(mk={}));function X6({id:e}){const[t,n]=ee.Entity.use(e),r=ee.Selection.useSelected(e),i=ee.Dream.Choose.use(e),a=re.Image.Output.use(t?.outputID),s=a?.imageIDs.length??0,o=s>ee.Dream.Results.pageSize()-1?Math.ceil(s/ee.Dream.Results.pageSize()):s,l=t?.lastMode!=="txt2img"?s:o,u=t?.choicesPage??0,c=useCallback(g=>{n(y=>{y.choicesPage=g})},[n]),h=useCallback(()=>{n(g=>{g.outputID=void 0,g.locked=!1})},[n]),m=re.Images.useFromIDs(...a?.imageIDs??[])?.[u];return C("div",{className:classes("fixed left-[50%] bottom-6 z-[10] flex -translate-x-1/2 flex-row items-center justify-center gap-3 overflow-visible"),children:C(Wh,{children:l>1&&r&&C(Ar.div,{className:"border-brand-500 pointer-events-auto relative flex flex-col gap-3 rounded-md border-2 bg-zinc-50 p-2 text-black shadow-lg dark:bg-zinc-900 dark:text-white dark:shadow-none",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{type:"spring",stiffness:500,damping:30},children:ne("div",{className:"flex w-full flex-row gap-2",children:[C(H.Button,{color:"brand",size:"lg",onClick:()=>m?.src&&i(m),children:"Select"}),C(H.Button,{translucent:!0,className:"hover:bg-zinc-800",size:"lg",onClick:h,children:"Cancel"}),C("div",{className:"w-px grow bg-zinc-700"}),ne("div",{className:"flex flex-row items-center justify-between px-2 font-mono text-lg tracking-widest",children:[u+1,ne("span",{className:"opacity-75",children:["/",l]})]}),C(H.Button,{icon:H.Icon.ChevronLeft,onClick:()=>c(u>0?u-1:l-1),transparent:!0,size:"lg"}),C(H.Button,{icon:H.Icon.ChevronRight,onClick:()=>c(u>=l-1?0:u+1),transparent:!0,size:"lg"})]})})})})}var gk;(e=>{e.use=t=>{const n=re.Image.Create.use(),r=ee.Entities.use(),[i,a]=ee.Entity.use(t);return useCallback(()=>{if(!i||!re.Image.Input.get(t))return;a(l=>l.locked=!0);const o=ee.Canvas.Render.getGenerationMetadata(r.filter(l=>l.type==="image"&&l.visible).reverse(),i,1);re.Image.Input.set(t,l=>{l.init=o?.init?{base64:o.init,mask:!1,weight:1}:null,l.mask=o?.mask?{base64:o.mask,mask:!0,weight:1}:null}),n({inputID:t,modifiers:{strength:0},onStarted(l){l&&a(u=>{u.outputID=l.id})},onException(){a(l=>l.locked=!1)}})},[i,a,r,n,t])}})(gk||(gk={}));function uP({choice:e,onChoose:t,filtered:n}){const[r,i]=useState(e);return useEffect(()=>{const a=new Image;a.src=e,a.onload=()=>i(e)},[e]),ne("div",{className:"group relative z-[0] h-full w-full cursor-pointer select-none overflow-hidden",children:[ne("div",{className:"relative",children:[C("img",{src:r,className:"h-full w-full select-none object-cover"}),C("img",{src:r,className:"absolute top-0 left-0 h-full w-full select-none object-cover opacity-0 duration-150 group-hover:opacity-100",css:css`
            mask: linear-gradient(black 50%, transparent 90%);
            backdrop-filter: blur(20px);
          `}),n&&C(re.Image.SpecialEffects.Filter,{})]}),C("div",{className:"absolute bottom-0 left-0 right-0 flex items-center justify-center bg-gradient-to-t from-black/50 to-transparent pb-2 opacity-0 duration-150 group-hover:opacity-100",children:ne("div",{className:"pointer-events-auto flex flex-row items-center justify-center overflow-hidden rounded bg-zinc-50 text-black/75 text-opacity-50 dark:bg-zinc-800 dark:text-white/75",children:[C("button",{type:"button",onClick:t,className:"relative items-center px-2 py-2 hover:bg-black/10 dark:hover:bg-white/10",children:C(H.Icon.Check,{size:20})}),C("button",{type:"button",className:"relative items-center px-2 py-2 hover:bg-black/10 dark:hover:bg-white/10",onClick:()=>{const a=document.createElement("a");a.download="dream.png",a.href=e,a.click(),a.remove()},children:C(H.Icon.Download,{size:20})})]})})]},e)}function $u({id:e}){const[t]=ee.Entity.use(e),n=ee.Dream.Choose.use(e),r=re.Image.Output.use(t?.outputID),i=r&&t&&(r?.imageIDs?.length??0)>=$u.pageSize()&&t?.lastMode==="txt2img"?$u.pageSize():1,a=re.Images.useFromIDs(...r&&t?r?.imageIDs?.slice((t.choicesPage??0)*i,((t.choicesPage??0)+1)*i)??[]:[]),s=a[0];return!t||!s?null:a&&a.length===1&&s.src?C(uP,{choice:s.src,onChoose:()=>n(s),filtered:!1}):C("div",{className:classes("grid grid-cols-2 grid-rows-2 gap-2",a&&a.length>1&&"pointer-events-auto bg-zinc-300 p-2 dark:bg-zinc-900"),children:a&&a.filter(o=>o.src).map(o=>C(uP,{choice:o.src,onChoose:()=>n(o),filtered:!1},o.src))})}(e=>{e.pageSize=()=>4})($u||($u={}));var cP;(e=>{e.use=()=>ee.Entities.useType("dream")})(cP||(cP={}));function yk({id:e}){const[t,n]=useState({width:0,height:0}),{input:r}=re.Image.Input.use(e);return ne(ee.Entity,{id:e,showBorder:!1,showHandles:!1,onSizeChange:n,resizable:!1,sizeClamp:{min:{width:512,height:512},max:r?.model.includes("xl")?{width:512,height:512}:{width:1024,height:1024}},children:[ee.Floating.use({id:e,...t,content:C(vae,{id:e})}),ee.Floating.use({id:e+"pagination",...t,content:C(X6,{id:e})}),ee.Floating.use({id:e+"results",...t,content:C($u,{id:e})})]})}(e=>{e.Choose=fk,e.Create=mk,e.Pagination=X6,e.Render=gk,e.Results=$u,e.preset=()=>({id:ID.create(),type:"dream",x:0,y:0,width:512,height:512,locked:!1,visible:!0,outputID:void 0}),e.use=t=>ee.Entity.useType(t,"dream")})(yk||(yk={}));var vk;(e=>{function t(){const n=ee.Entities.use(),r=ee.Dream.Create.use(),i=ee.Entities.useDelete(),a=ee.Selection.use(),s=ee.Image.Import.useOpenFiles(),{dreams:o,images:l,selectedDreams:u,selectedImages:c}=useMemo(()=>{const h=n.filter(y=>y.type==="dream"),p=n.filter(y=>y.type==="image"),m=h.filter(y=>a.has(y.id)),g=p.filter(y=>a.has(y.id));return{dreams:h,images:p,selectedDreams:m,selectedImages:g}},[n,a]);return ne(rt,{children:[ne(Dt.Sidebar.Section,{collapsable:!0,divider:!0,defaultExpanded:!0,padding:"none",children:[ne("div",{className:"flex border-b border-zinc-800 py-2 pl-1",children:[C(H.Button,{transparent:!0,icon:H.Icon.Plus,onClick:()=>r()}),u.length>0&&o.length>0&&C(H.Button,{transparent:!0,label:"Delete selected",icon:H.Icon.Trash,onClick:()=>i(...u.map(h=>h.id))})]}),C("div",{className:"overflow-y-auto",children:useMemo(()=>o.length>0?o.flatMap(({id:h},p)=>[C(dP,{id:h,index:p,total:o.length},h)]):ne("div",{className:"my-12 select-none text-center text-gray-500",children:["You don't have any dreams yet",C("br",{}),C("span",{onClick:()=>r(),className:"text-brand-300 cursor-pointer hover:underline",children:"Create"}),"one to get started"]}),[r,o])})]}),ne(Dt.Sidebar.Section,{collapsable:!0,divider:!0,defaultExpanded:!0,padding:"none",children:[ne("div",{className:"flex border-b border-zinc-800 py-2 pl-1",children:[C(H.Button,{transparent:!0,icon:H.Icon.Upload,onClick:()=>s()}),c.length>0&&l.length>0&&C(H.Button,{transparent:!0,label:"Delete selected",icon:H.Icon.Trash,onClick:()=>i(...c.map(h=>h.id))})]}),C("div",{className:"overflow-y-auto",children:useMemo(()=>l.length>0?l.filter(h=>h.type==="image").flatMap(({id:h},p)=>[C(dP,{id:h,index:p,total:l.length},h)]):ne("div",{className:"my-12 select-none text-center text-gray-500",children:["You don't have any images yet",C("br",{}),"Generate or",C("span",{onClick:()=>s(),className:"text-brand-300 cursor-pointer hover:underline",children:"import"}),"some"]}),[l,s])})]})]})}e.Section=t})(vk||(vk={}));function dP({id:e,...t}){const n=ee.Camera.useSet(),r=ee.Entity.useTitle(e),[i]=ee.Entity.use(e),a=ee.Selection.useSelect(),s=ee.Selection.use(),o=useMemo(()=>s.has(e),[s,e]),l=useCallback(()=>{i&&(o||a(i.id),n(i))},[i,o,a,n]);return i?ne("div",{onClick:l,className:classes("group flex items-center gap-3 p-2",o?"bg-brand-700":"hover:bg-zinc-800/50"),children:[C(wae,{entity:i}),C("div",{className:"grow overflow-hidden",children:C("div",{className:"overflow-hidden overflow-ellipsis whitespace-nowrap",children:r})}),C(xae,{id:e,...t})]}):null}const wae=({entity:e})=>{const t=e.type==="image"&&e.element?.src;return ne("div",{className:"relative aspect-square h-8 w-8 shrink-0 overflow-hidden rounded-md shadow",children:[C(H.Checkered,{size:"sm"}),t&&C("div",{className:"absolute bottom-0 left-0 right-0 top-0",css:css`
            background-image: url(${t});
            background-size: cover;
            background-position: center;
          `}),ne("div",{className:"relative flex h-full w-full items-center justify-center",children:[!t&&C(H.Icon.Wand,{className:"h-6 w-6 text-zinc-400 dark:text-zinc-500"}),e&&e.type==="dream"&&C(bae,{id:e.id})]})]})};function bae({id:e}){return re.Image.Input.use(e),C(H.Loading.Rainbow,{showing:!1,className:"blur-[8px]"})}const xae=({id:e})=>{const t=ee.Entities.useDelete(),[n,r]=ee.Entity.use(e);return C("div",{className:"flex flex-col justify-between",children:useMemo(()=>{const i="hidden group-hover:block",a=C(H.Button,{transparent:!0,icon:n?.visible?H.Icon.Eye:H.Icon.EyeOff,className:i,onClick:l=>{l.stopPropagation(),r(u=>{u.visible=!u.visible})}}),s=C(H.Button,{transparent:!0,icon:n?.locked?H.Icon.Lock:H.Icon.Unlock,className:i,onClick:l=>{l.stopPropagation(),r(u=>{u.locked=!u.locked})}}),o=C(H.Button,{transparent:!0,icon:H.Icon.Trash,className:classes(i,"hover:text-red-500 dark:hover:text-red-500"),onClick:l=>{l.stopPropagation(),t(e)}});return ne("div",{className:"flex flex-row items-center gap-0.5",children:[a,s,o]})},[n?.visible,n?.locked,r,t,e])})};var wk;(e=>{e.use=(t,n=10)=>{const r=ee.Entities.use(),{allowSnapping:i}=ee.State.use(),[a,s]=useState([]),o=useMemo(()=>i?r.filter(c=>c.id!==t).flatMap(c=>{const{x:h,y:p,width:m,height:g}=c;return[{x:h+m/2,type:"center"},{y:p+g/2,type:"center"},{x:h+m,type:"end"},{y:p+g,type:"end"},{x:h,type:"origin"},{y:p,type:"origin"}]}):[],[i,r,t]),l=()=>i?C(rt,{children:a.map((c,h)=>{if("x"in c)return C($I,{points:[c.x,-999999,c.x,999999],strokeWidth:2,stroke:"red"},"x"+c.x+h);if("y"in c)return C($I,{points:[-999999,c.y,999999,c.y],strokeWidth:2,stroke:"red"},"y"+c.y+h)})}):null,u=useCallback(c=>{if(!i)return c;const h=[{x:c.x+c.width/2,type:"center"},{x:c.x+c.width,type:"end"},{x:c.x,type:"origin"},{y:c.y+c.height/2,type:"center"},{y:c.y+c.height,type:"end"},{y:c.y,type:"origin"}],p=o.flatMap(m=>h.filter(g=>"x"in m=="x"in g).map(g=>{const y="x"in m?"x":"y",b=Math.abs(m[y]-g[y]);return b<=n?{distance:b,line:m,type:g.type}:null})).filter(m=>m!==null).sort((m,g)=>(m?.distance??0)-(g?.distance??0));if(p.length>0){const m=p.find(y=>y&&"x"in(y?.line??{})),g=p.find(y=>y&&"y"in(y?.line??{}));return m&&"x"in m.line&&(m.type==="origin"?c.x=m.line.x:m.type==="center"?c.x=m.line.x-c.width/2:m.type==="end"&&(c.x=m.line.x-c.width)),g&&"y"in g.line&&(g.type==="origin"?c.y=g.line.y:g.type==="center"?c.y=g.line.y-c.height/2:g.type==="end"&&(c.y=g.line.y-c.height)),s([m?.line,g?.line].filter(y=>y!==void 0)),c}return s([]),c},[i,n,o]);return[l,u,s]}})(wk||(wk={}));function Ph(){const e=Ph.use();return useMemo(()=>ne(rt,{children:[ne(_g,{on:!0,children:[[...e.reverse()].filter(t=>t.type==="image"&&t.visible).map(t=>C(ee.Image,{id:t.id},t.id)),C(ee.Brush,{})]}),ne(_g,{on:!0,children:[[...e.reverse()].filter(t=>t.type==="dream"&&t.visible).map(t=>C(ee.Dream,{id:t.id},t.id)),C(ee.Brush,{})]})]}),[e])}const mo=ju.create(e=>({entities:new Map,setEntities:t=>e(({entities:n})=>({entities:typeof t=="function"?t(n):t}))}));(e=>{e.Sidebar=vk,e.Snapping=wk,e.get=()=>mo.getState().entities,e.set=t=>mo.getState().setEntities(t),e.useMap=()=>mo(({entities:t})=>t),e.use=()=>{const t=(0,e.useMap)();return useMemo(()=>[...t.values()].sort((n,r)=>r.index-n.index),[t])},e.useType=t=>{const n=(0,e.use)();return useMemo(()=>n.filter(r=>r.type===t),[n,t])},e.useSet=()=>{const{setEntities:t}=mo();return t},e.useSurroundingBox=()=>{const t=(0,e.use)();return useMemo(()=>Fu.surroundingBox(t),[t])},e.useDelete=()=>{const{setEntities:t}=mo(),n=ee.Selection.use(),r=ee.Selection.useSelect(),i=ee.Selection.useClear();return useCallback((...a)=>t(s=>{const o=[...s.values()],l=new Map;o.forEach(c=>{a.includes(c.id)||l.set(c.id,c)}),[...l.values()].forEach((c,h)=>l.set(c.id,{...c,index:h}));const u=Array.from(n).filter(c=>!a.includes(c));return u.length===0?i():r(u[0]??[],...u.slice(1)),l}),[t,n,i,r])},e.useFlatten=()=>{const t=ee.Image.Create.useFromURL(),n=(0,e.useDelete)();return useCallback(i=>{const a=ee.Canvas.Render.getBoundsOfImages(i),s=ee.Canvas.Render.createImageFromBox(a.x,a.y,a.width,a.height,i,1);return new Promise(o=>{s?.toBlob(async l=>{if(!l)return;const u=await t(URL.createObjectURL(l),{...ee.Image.preset(),x:a.x,y:a.y,width:a.width,height:a.height,title:"Flattened image"});return n(...i.map(({id:c})=>c)),o(u)})})},[t,n])},e.useDeleteEverything=()=>{const t=(0,e.use)(),n=(0,e.useDelete)();return useMemo(()=>t.length>=1?(r=()=>!0)=>n(...t.filter(r).map(({id:i})=>i)):void 0,[t,n])},e.useChangeOrder=()=>{const t=mo(),n=mo.setState;return useCallback(({id:r,direction:i})=>{const a=t.entities.get(r);if(!a)return;const s=a.index,o=i==="down"?Math.max(0,a.index-1):Math.min(t.entities.size-1,a.index+1);if(s===o)return;const l=[...t.entities.values()].find(c=>c.index===o);if(!l)return;const u=new Map(t.entities);u.set(a.id,{...a,index:o}),u.set(l.id,{...l,index:a.index}),n({entities:u})},[t,n])}})(Ph||(Ph={}));function b0({id:e,draggable:t=!0,selectable:n=!0,resizable:r=!0,showHandles:i=!0,showBorder:a=!0,onSizeChange:s,sizeClamp:o={min:{width:64,height:64},max:{width:8192,height:8192}},children:l}){const[u]=ee.Tool.Active.use(),c=ee.Camera.useSet(),[h,p]=ee.Entity.use(e),[m,g]=useState(!1),y=t&&!h?.locked&&u==="select",[b,w,x]=ee.Entities.Snapping.use(e),k=ee.Selection.useSelect(),_=ee.Selection.useSelected(e),A=ee.Selection.use(),P=n&&u==="select",N=useRef(null),B=useRef(null),j=Bu.useZoom();useEffect(()=>{h&&m&&(N.current?.stopDrag(),B.current?.stopTransform())},[j]);const[W,K]=useState(()=>{const O={width:h?.width??512,height:h?.height??512},Ee={x:h?.x??0,y:h?.y??0,...O};return s?.(O),Ee}),z=useCallback(O=>{const Ee=typeof O=="function"?O(W):O,Ce=Dd.Clamp.apply({width:Ee.width??W.width,height:Ee.height??W.height},o),Te={...W,...Ee,...Ce};return K(Te),s?.(Ce),Te},[W,o,s]),G=useCallback(O=>{if(O.evt.preventDefault(),O.cancelBubble=!["brush","export"].includes(u),_||!P)return;const Ee=O.evt.shiftKey?A:[];k(e,...Ee)},[u,_,P,A,k,e]),M=useCallback(()=>c(W),[W,c]),te=useCallback(O=>{O.evt.button===0&&(O.evt.preventDefault(),O.cancelBubble=!0)},[]),X=useCallback(O=>{const Ee=O.target.x(),Ce=O.target.y(),Te=Dd.Clamp.apply({width:W.width*O.target.scaleX(),height:W.height*O.target.scaleY()},{min:{width:64,height:64},max:{width:1024,height:1024}});O.target.size(Te),O.target.scale({x:1,y:1}),z({x:Ee,y:Ce,...Te}),!m&&g(!0)},[W.width,W.height,z,m]),ue=useCallback(O=>p(Ee=>{Ee.x=O.target.x(),Ee.y=O.target.y(),Ee.width=O.target.width(),Ee.height=O.target.height(),g(!1)}),[p]),de=useCallback(O=>{if(!y)return O.target.stopDrag();g(!0);for(const Ee of A){const Ce=N.current?.getStage()?.findOne(`#${Ee}`);Ce&&Ce!==O.target&&!Ce.isDragging()&&Ce.startDrag(O)}},[y,A]),ae=useCallback(O=>{const Ee=O.target.x(),Ce=O.target.y(),Te=w({...W,x:Ee,y:Ce});O.target.position({x:Te.x,y:Te.y}),z({...Te,width:W.width,height:W.height})},[W,z,w]),pe=useCallback(O=>{g(!1),p(Ee=>{Ee.x=O.target.x(),Ee.y=O.target.y()}),x([])},[p,x]);useEffect(()=>{m||K({x:h?.x??W.x,y:h?.y??W.y,width:h?.width??W.width,height:h?.height??W.height})},[h?.x,h?.y,h?.width,h?.height,K,W.x,W.y,W.width,W.height,m]),useEffect(()=>{!_||!B.current||!N.current||(B.current.nodes([N.current]),B.current.getLayer()?.batchDraw())},[_]);const F=useCallback((O,Ee)=>({...Ee,...Dd.Clamp.apply(Ee,{min:{width:64,height:64},max:{width:1024,height:1024}})}),[]);return h?ne(rt,{children:[ne(AW,{id:e,x:W.x,y:W.y,ref:N,draggable:t,onMouseDown:G,onDblClick:M,onDragStart:de,onDragMove:ae,onDragEnd:pe,onTransform:X,onTransformEnd:ue,children:[C(Ig,{x:0,y:0,width:W.width,height:W.height}),l]}),_&&!["brush","export"].includes(u)&&r&&C(NW,{...!y&&{enabledAnchors:[]},ref:B,boundBoxFunc:F,onMouseDown:te,anchorSize:b0.Handle.size(),anchorFill:i?"white":"transparent",anchorStroke:i?"white":"transparent",borderStroke:a?"white":"transparent",rotateEnabled:!1,flipEnabled:!1}),C(b,{})]}):null}(e=>{function t(r){const i=ee.Entities.useMap(),a=ee.Entities.useSet(),s=useMemo(()=>i.get(r),[r,i]),o=useCallback(l=>{a(u=>{const c=u.get(r);return c?new Map(u).set(r,copy(c,h=>void l(h))):u})},[r,a]);return[s,o]}e.use=t;function n(r,i){const[a,s]=ee.Entity.use(r);return useMemo(()=>{if(a&&a.type===i)return[a,s]},[i,a,s])}e.useType=n,e.useTitle=r=>{const{input:i}=re.Image.Input.use(r),[a]=ee.Entity.use(r);return useMemo(()=>a?.title??i?.prompts[0]?.text,[a?.title,i?.prompts])},(r=>{r.size=()=>12})(e.Handle||(e.Handle={})),(r=>{r.size=()=>2})(e.Border||(e.Border={}))})(b0||(b0={}));var Ld;(e=>{function t(){const{setOrigin:n,setSize:r}=ee.Canvas.ExportBox.useState(u=>({setOrigin:u.setOrigin,setSize:u.setSize})),[i,a]=useState(!1),s=ee.Entities.use(),o=ee.Canvas.use();function l(){if(!o||!o.current)return;const u=o.current.scaleX()||1,c=o.current.getPosition()||{x:0,y:0};return s.filter(h=>h.type==="image"&&h.visible&&h.x*u+c.x>=0&&h.y*u+c.y>=0&&h.x*u+h.width*u+c.x<=o.current.width()&&h.y*u+h.height*u+c.y<=o.current.height()).reverse()}return ne(rt,{children:[C(ee.Tool,{label:"Smart export",onMouseEnter:()=>{if(o&&o.current){const u=l();if(u&&u.length>0){const c=Fu.surroundingBox(u);c&&(n(()=>[c.x,c.y]),r(()=>[c.width,c.height]))}else a(!0)}},onMouseLeave:()=>{n(()=>null),r(()=>[0,0]),a(!1)},onClick:()=>{const u=l();if(u){const c=Fu.surroundingBox(u);if(c){const h=ee.Canvas.Render.createImageFromBox(c.x,c.y,c.width,c.height,u,1);if(h){const p=document.createElement("a");p.download="export.png",p.href=h.toDataURL("image/png"),p.click(),h.remove()}}}n(()=>null),r(()=>[0,0])},children:C(H.Icon.Download,{strokeWidth:1.5,size:22})}),C(Wh,{children:i&&C(Ar.div,{className:"pointer-events-none absolute inset-0 flex h-screen w-screen select-none items-center justify-center",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.05},children:C("div",{className:"rounded border border-zinc-700 bg-zinc-900 p-6",children:C("h1",{className:"opacity-muted text-lg font-light",children:"No images in view"})})})})]})}e.Tool=t,(n=>{n.use=()=>{Ye.use(useMemo(()=>({name:["Export","Everything"],icon:H.Icon.Download,keys:["Meta","e"],action:()=>alert("TODO: We need to refactor `Editor.Export.Everything`")}),[]))}})(e.Shortcuts||(e.Shortcuts={}))})(Ld||(Ld={}));var Fd;(e=>{function t(){return C(ee.Tool,{label:"Selection export",tool:"export",children:C(H.Icon.Camera,{strokeWidth:1.5,size:22})})}e.Tool=t,(n=>{n.use=()=>{const r=ee.Tool.Active.useSet();Ye.use(useMemo(()=>({name:["Export","Selection"],icon:H.Icon.Camera,keys:"c",action:()=>r("export")}),[r]))}})(e.Shortcuts||(e.Shortcuts={}))})(Fd||(Fd={}));var bk;(e=>{e.Everything=Ld,e.Selection=Fd;function t(){return ne(ee.Tool.Group,{children:[C(Fd.Tool,{}),C(Ld.Tool,{})]})}e.Tools=t,(n=>{n.use=()=>{Ld.Shortcuts.use(),Fd.Shortcuts.use()}})(e.Shortcuts||(e.Shortcuts={}))})(bk||(bk={}));function Ah(){const{elements:e}=Ah.useState(),t=ee.Canvas.useTriggerWheelEvent(),n=ee.Canvas.useTriggerMouseMoveEvent();return C("div",{className:"pointer-events-none absolute top-0 left-0 h-screen w-screen overflow-hidden",id:"floating-portal",onWheel:t,onMouseMove:r=>{n(r)},children:useMemo(()=>Object.entries(e).map(([r,{absolute:i,content:a,keepOnScreen:s}])=>C(kae,{id:r,absolute:i,content:a,keepOnScreen:s},r)),[e])})}function kae({id:e,absolute:t,content:n,keepOnScreen:r}){const i=useRef(null);return useEffect(()=>{if(r){const a=i.current;if(!a)return;const s=a.getBoundingClientRect().height,o=a.getBoundingClientRect().width,l=Math.min(Math.max(t.x,o),window.innerWidth-o-10),u=Math.min(Math.max(t.y,s),window.innerHeight-s-10);a.style.left=`${l}px`,a.style.top=`${u}px`}},[t,r]),C("div",{className:"absolute",style:{left:`${t.x}px`,top:`${t.y}px`,width:`${t.width}px`,height:`${t.height}px`},ref:i,children:n},e)}(e=>{e.useState=et.create(()=>({elements:{}}));function t({id:n,content:r,keepOnScreen:i,width:a=0,height:s=0,x:o=0,y:l=0}){const u=e.useState.setState,c=useCallback(p=>{u(m=>({...m,elements:{...m.elements,[n]:{absolute:p,content:r,keepOnScreen:i}}}))},[u,n,r,i]),h=useCallback((p,m)=>c({x:m.getAbsolutePosition().x,y:m.getAbsolutePosition().y,width:m.getAbsoluteScale().x*a,height:m.getAbsoluteScale().y*s}),[a,s,c]);return useEffect(()=>()=>u(p=>{const{[n]:m,...g}=p.elements;return{...p,elements:g}}),[n,u]),C(DW,{x:o,y:l,sceneFunc:h})}e.use=t})(Ah||(Ah={}));var xk;(e=>{e.use=()=>{const t=ee.Entities.use(),n=ee.Entities.useSet(),r=ee.Camera.Center.useGet();return useCallback(i=>{const a={...ee.Image.preset(),...i,index:t.length},s=r(),o={...a,x:a.x??(s?s.x-a.width/2:0),y:a.y??(s?s.y-a.height/2:0)};return n(l=>new Map(l).set(a.id,o)),o},[r,t.length,n])},e.useFromURL=()=>{const t=(0,e.use)();return useCallback(async(n,r)=>new Promise(i=>{const a=new Image;a.crossOrigin="anonymous",a.src=n,a.onload=()=>{const s={width:a.width,height:a.height};i(t({...r,...s,element:a,original:{...s,element:a}}))}}),[t])}})(xk||(xk={}));var kk;(e=>{e.useOnDrop=()=>{const t=ee.Canvas.use(),n=ee.Image.Create.useFromURL();return useCallback(async r=>{if(!t.current)return;r.preventDefault(),t.current.setPointersPositions(r);const i=t.current.getPointerPosition();if(!i)return;const a=t.current.scaleX(),s=t.current.position(),o=(i.x-s.x)/a,l=(i.y-s.y)/a;for(const u of r.dataTransfer.files){const c=URL.createObjectURL(u);n(c,{x:o,y:l,title:u.name??"Imported Image"})}},[t,n])},e.useOpenFiles=()=>{const t=ee.Camera.Center.useGet(),n=ee.Image.Create.useFromURL();return useCallback(()=>{const r=t();if(!r)return;const i=r.x,a=r.y,s=document.createElement("input");s.type="file",s.multiple=!0,s.accept="image/*",s.style.display="none",document.body.appendChild(s),s.click(),s.onchange=()=>{for(const o of s.files??[]){const l=URL.createObjectURL(o),u=new Image;u.src=l,u.onload=()=>{const c={x:u.width/2,y:u.height/2};n(l,{x:i-c.x,y:a-c.y,title:o.name??"Imported Image"})}}}},[n,t])}})(kk||(kk={}));var Sk;(e=>{function t({id:n}){const[r,i]=ee.Entity.use(n);return r?C(rt,{children:C(Dt.Sidebar.Section,{divider:!0,collapsable:!0,defaultExpanded:!0,title:"Transform",children:ne("div",{className:"flex flex-col gap-4",children:[ne("div",{className:"grid grid-cols-2 gap-8",children:[C(H.NumberInput,{icon:"X",fullWidth:!0,number:!0,round:!0,step:1,value:r?.x,onNumberChange:a=>i(s=>({...s,x:a}))}),C(H.NumberInput,{icon:"Y",fullWidth:!0,number:!0,round:!0,step:1,value:r?.y,onNumberChange:a=>i(s=>({...s,y:a}))})]}),C("div",{className:"flex flex-col gap-4",children:ne("div",{className:"grid grid-cols-2 gap-8",children:[C(H.NumberInput,{icon:"W",fullWidth:!0,number:!0,round:!0,step:1,value:r?.width,onNumberChange:a=>i(s=>({...s,width:a}))}),C(H.NumberInput,{icon:"H",fullWidth:!0,number:!0,round:!0,step:1,value:r?.height,onNumberChange:a=>i(s=>({...s,height:a}))})]})})]})})}):null}e.Tab=t})(Sk||(Sk={}));function Ck({id:e}){const[t]=ee.Entity.use(e),[{width:n,height:r},i]=useState({width:0,height:0});return C(ee.Entity,{id:e,onSizeChange:i,children:t&&C(Ig,{x:0,y:0,width:n,height:r,fillPatternRepeat:"no-repeat",fillPatternImage:t.element,fillPatternScale:{x:n/t.original.width,y:r/t.original.height}})})}(e=>{e.Create=xk,e.Import=kk,e.Sidebar=Sk,e.preset=()=>{const t={width:512,height:512};return{id:ID.create(),type:"image",visible:!0,locked:!1,x:0,y:0,...t,original:t}}})(Ck||(Ck={}));var Ek;(e=>{e.use=t=>{const n=Ga.useNavigate(),r=ee.Dream.Create.use(),i=ee.Image.Create.useFromURL();return useCallback(async()=>{if(!t?.src)return;const a=await i(t.src,{...t,title:re.Image.Input.get(t.inputID)?.prompts[0].text});r({inputID:t.inputID,dream:{x:a.x,y:a.y,width:a.width,height:a.height}}),n("/edit")},[t,i,r,n])}})(Ek||(Ek={}));function Tk({fixed:e=!1,left:t,right:n,children:r,className:i}){return C("div",{className:classes("pointer-events-none absolute bottom-2 flex flex-col justify-between gap-2",e?"top-0":"top-2",!e&&t&&"left-2",e&&"left-12",n&&"right-2",i),children:r})}(e=>{const t=et.create(()=>({topLeft:!1,topRight:!1,bottomLeft:!1,bottomRight:!1}));e.useExpanded=n=>{const r=t(),i=t.setState,a=useMemo(()=>r[n],[r,n]),s=useCallback(o=>i({[n]:o===void 0?!a:typeof o=="function"?o(a):o}),[n,a,i]);return[a,s]}})(Tk||(Tk={}));function Sae({visible:e=!0,position:t,icon:n,title:r,left:i,className:a,contentClassName:s,children:o,...l}){const[u,c]=ee.Panels.useExpanded(t),h=t=="bottomLeft"||t=="bottomRight",p=t==="topRight"||t==="bottomRight",m=ee.Canvas.useResize();useEffect(m,[u,m]);const g=useCallback(()=>l.onClick??c(k=>!k),[l.onClick,c]),y=useCallback(k=>C(H.Icon.ChevronUp,{className:classes(k.className,p?"-ml-0.5":"-mr-0.5",(h&&u||!h&&!u)&&"rotate-180")}),[h,u,p]),b=r&&o&&e&&ne("div",{className:"flex gap-2",children:[!u&&i,C(H.Button,{transparent:u,onClick:g,className:"shrink-0",iconLeft:p?n:y,iconRight:p?y:n,children:r})]}),w=C("div",{className:classes("flex items-center gap-2 px-2",p&&"justify-start"),children:l.bar}),x=ne("div",{className:"flex cursor-pointer",children:[p&&w,C("div",{onClick:()=>c(!1),className:classes("flex grow cursor-pointer",p&&"justify-end"),children:b}),!p&&w]});return ne("div",{className:classes("relative z-10 min-h-0",!e&&"hidden",!u&&(p?"self-end":"self-start"),a),children:[!h&&!u&&b,u&&o&&ne("div",{className:classes("pointer-events-auto flex h-full w-[500px] flex-col overflow-hidden rounded-md bg-zinc-50 text-neutral-700 shadow-2xl dark:bg-zinc-800 dark:text-white dark:shadow-none dark:ring-[1px] dark:ring-white/10",s),children:[u&&i&&C("div",{className:"absolute right-[100%] top-0 mr-2",children:i}),!h&&x,o,h&&x]}),h&&!u&&b]})}var _k;(e=>{e.use=()=>{const t=ee.Camera.Reset.use();return useCallback(()=>{t()},[t])}})(_k||(_k={}));var Ik;(e=>{e.use=()=>{const t=ee.Selection.use(),n=ee.Entities.useDelete(),r=ee.Tool.Active.useSet(),[i]=ee.Tool.Active.use(),a=useMemo(()=>`Selection (${t.size})`,[t.size]);Ye.Priority.use(useMemo(()=>({name:a,level:"high",enabled:t.size>0}),[a,t.size])),Ye.use(useMemo(()=>({name:"Select",icon:ee.Selection.Icon,keys:"v",action:()=>r("select")}),[r])),Ye.use(useMemo(()=>({name:[a,"Delete"],icon:H.Icon.Trash,keys:[["Backspace"],["Delete"]],action:()=>n(...t),enabled:t.size>0&&i==="select"}),[a,t,i,n]))}})(Ik||(Ik={}));var Pk;(e=>{e.Shortcuts=Ik;const t=et.create(()=>({selection:new Set}));e.use=()=>t(({selection:i})=>i),e.useSelect=()=>{const i=t.setState;return useCallback((a,...s)=>{const o=[...typeof a=="string"?[a]:a,...s];return i({selection:new Set(o)})},[i])},e.useSelected=i=>{const a=(0,e.use)();return useMemo(()=>a.has(i),[i,a])},e.useClear=()=>{const i=t.setState;return useCallback(()=>i({selection:new Set}),[i])},(i=>{i.use=a=>{const s=t(({selection:o})=>o);return useMemo(()=>{if(!(s.size!==1||a&&!s.has(a)))return a??[...s][0]},[a,s])},i.useSet=a=>{const s=t.setState;return useCallback(o=>{s(({selection:l})=>{const u=new Set(l),c=u.has(a);return(typeof o=="function"?o(c):o)?u.add(a):u.delete(a),{selection:u}})},[a,s])}})(e.OnlyOne||(e.OnlyOne={}));function n(){return C(ee.Tool,{label:"Select",tool:"select",children:C(r,{strokeWidth:1.5,size:22})})}e.Tool=n;function r(i){return C(H.Icon.Select,{...i})}e.Icon=r})(Pk||(Pk={}));var x0;(e=>{e.use=()=>{ju.Shortcuts.use(),ee.Dream.Create.Shortcuts.use(),ee.Brush.Shortcuts.use(),ee.Selection.Shortcuts.use(),ee.Export.Shortcuts.use(),ee.Camera.Shortcuts.use()}})(x0||(x0={}));const Kw=["You can drag and drop images into the editor to import them","Use the V key to switch to the select tool","Use the E key to switch to the eraser tool","Use the C key to switch to the snapshot tool","You can use the mouse wheel to zoom in and out","Try using multiple dreams to quickly switch between prompt and style presets","You can use the mouse wheel to zoom in and out","Hold shift to select multiple layers and move them together"];function Cae(){const e=Ga.useLocation(),t=ee.Selection.OnlyOne.use(),n=ee.Entities.useType("dream"),[r,i]=useState(""),a=ee.Dream.Render.use(r);useEffect(()=>{t&&i(t)},[t]);const s=useMemo(()=>n.filter(h=>h.id===t)[0]?.outputID,[n,t]),o=re.Image.Output.useIsGenerating(s),l=useMemo(()=>n.filter(({id:c})=>c===t).length>0,[n,t]),u=t&&C(Dt.Sidebar.Tab.Bottom,{children:C(re.Image.Create.Button,{id:r,onIdleClick:()=>a(),fullWidth:!0,disabled:!r||o||!(n.filter(c=>c.id===t).length>0),loading:o})});return ne(rt,{children:[ne(Dt.Sidebar.Tab.Set,{name:"Edit",position:"left",route:"/edit",icon:H.Icon.Edit,bottom:u,enabled:e.pathname.startsWith("/generate")||e.pathname.startsWith("/edit"),button:c=>C(Dt.Sidebar.Tab.Button,{...c,onClick:c.onClick,children:"Edit"}),children:[C(ee.Tool.Sidebar.Section,{}),l&&C(re.Image.Sidebar.Tab,{variant:"editor",id:r}),!l&&t&&C(ee.Image.Sidebar.Tab,{id:t}),!t&&C(Tae,{})]}),C(Dt.Sidebar.Tab.Set,{button:!1,route:"/edit",enabled:e.pathname.startsWith("/edit"),defaultActive:!0,name:"Layers",position:"right",icon:H.Icon.Layers,children:C(ee.Entities.Sidebar.Section,{})})]})}function Eae({name:e}){const{color:t,setColor:n,allowSnapping:r,setAllowSnapping:i,autoFlatten:a,setAutoFlatten:s}=ee.State.use(),o=useRef(null);return C(Dt.Sidebar.Section,{divider:!0,title:e||"Settings",defaultExpanded:!0,padding:"sm",children:ne("div",{className:"flex flex-col gap-2 overflow-hidden px-1 pb-2",children:[ne("div",{className:"flex items-center justify-between",children:[C(H.Tooltip,{placement:"right",content:"Snap layers to anchor points based on other layers.",children:C("h1",{className:"text-muted-white",children:"Snapping"})}),C(H.Checkbox,{value:r,onChange:i,labelLeft:!0,labelClassName:"text-muted-white mr-12"})]}),ne("div",{className:"flex items-center justify-between",children:[C(H.Tooltip,{placement:"right",content:"Automatically combine chosen images with existing overlapping images on the canvas.",children:C("h1",{className:"text-muted-white",children:"Auto flatten"})}),C(H.Checkbox,{value:a,onChange:s,labelLeft:!0,labelClassName:"text-muted-white mr-7"})]}),ne("div",{className:"flex items-center justify-between",children:[C(H.Tooltip,{placement:"right",content:"Change the background color for the canvas.",children:C("h1",{className:"text-muted-white",children:"Background fill"})}),ne("div",{className:"flex items-center gap-3",children:[C("div",{className:"relative aspect-square h-7 cursor-pointer rounded-md border border-zinc-800",style:{backgroundColor:`#${t}`},onMouseDown:()=>{o.current&&(o.current.focus(),o.current.click())},children:C("input",{ref:o,type:"color",className:"pointer-events-none absolute inset-0 opacity-0",value:`#${t}`,onChange:l=>{n(l.target.value.replace("#",""))}})}),C(H.NumberInput,{icon:"#",onChange:n,value:t})]})]})]})})}function Tae(){const e=ee.Dream.Create.use(),t=ee.Image.Import.useOpenFiles(),[n,r]=useState(Math.ceil(Math.random()*(Kw.length-1)));return ne(rt,{children:[C(Dt.Sidebar.Section,{divider:!0,title:"Add a dream",button:C(H.Button,{icon:H.Icon.Plus,onClick:()=>e(),transparent:!0})}),C(Dt.Sidebar.Section,{divider:!0,title:"Upload",button:C(H.Button,{icon:H.Icon.Upload,onClick:()=>t(),transparent:!0})}),C(Eae,{}),ne("div",{className:"absolute bottom-2 left-2 right-2 flex cursor-pointer select-none flex-col gap-2 justify-self-end rounded bg-zinc-800 p-2",onClick:()=>r(Math.ceil(Math.random()*(Kw.length-1))),children:[C("h1",{className:"text-sm",children:"Tip"}),C("h1",{className:"text-muted-white text-sm",children:Kw[n]})]})]})}function _ae(){const[e]=ee.Tool.Active.use(),{body:t}=useMemo(()=>{switch(e){case"brush":return{body:C(ee.Brush.Panel,{})};default:return{}}},[e]);return C(ee.Panels,{fixed:!0,className:"max-w-[300px]",children:C(ee.Panel,{position:"topLeft",title:C("span",{className:"capitalize",children:e}),contentClassName:"w-[300px]",children:t})})}var Ak;(e=>{function t(){const[n]=ee.Tool.Active.use();return useMemo(()=>{switch(n){case"brush":return C(ee.Brush.Sidebar.Section,{});default:return null}},[n])}e.Section=t})(Ak||(Ak={}));function Iae(){const[e]=Dt.Sidebar.use("left");return e.tab!=="Edit"?null:C(rt,{children:ne("div",{className:"flex h-full flex-row items-center gap-2",children:[ne(ee.Tool.Group,{children:[C(ee.Selection.Tool,{}),C(ee.Brush.Tool,{})]}),C("div",{className:"h-[75%] w-[2px] bg-zinc-700"}),C(ee.Export.Tools,{})]})})}function Rk({tool:e,label:t,active:n,onClick:r,onMouseEnter:i,onMouseLeave:a,children:s}){const[o,l]=ee.Tool.Active.use(),u=C("div",{className:"flex flex-col",children:C("div",{onClick:r??(()=>{e&&l(e)}),onMouseEnter:i,onMouseLeave:a,className:classes("m-0.5 flex h-10 w-10 cursor-pointer items-center justify-center rounded",n||e===o?"bg-brand-500":"hover:bg-zinc-700"),children:s})});return t?C(H.Tooltip,{content:t,placement:"bottom",delay:500,children:u}):u}(e=>{e.Panel=_ae,e.Sidebar=Ak;function t({children:n}){return C("div",{className:"pointer-events-auto z-10 flex flex-row",children:n})}e.Group=t,(n=>{const r=et.create(i=>({value:"select",set:a=>i({value:a})}));n.use=()=>[r().value,r().set],n.useSet=()=>r().set,n.useReset=()=>r().set("select")})(e.Active||(e.Active={}))})(Rk||(Rk={}));function Pae(){return C(Dt.TopBar.Center.Set,{children:C(ee.Tools,{})})}function ee(){x0.use();const e=ee.Dream.Create.use(),{color:t}=ee.State.use();return useEffect(()=>{ee.Entities.get().size>0||e()},[e]),useMemo(()=>ne(rt,{children:[C(Pae,{}),ne("div",{className:"relative z-[0] flex h-full min-h-0 w-full shrink select-none flex-col overflow-hidden dark:text-white",style:{backgroundColor:`#${t}`},children:[C(wh,{children:C(Ph,{})}),C(Ah,{})]})]}),[t])}(e=>{e.Brush=Jg,e.Camera=gx,e.Canvas=wh,e.Dream=yk,e.Entities=Ph,e.Entity=b0,e.Export=bk,e.Floating=Ah,e.Image=Ck,e.Import=Ek,e.Panel=Sae,e.Panels=Tk,e.Reset=_k,e.Selection=Pk,e.Shortcuts=x0,e.Sidebar=Cae,e.Tool=Rk,e.Tools=Iae,(t=>{t.use=et.create(n=>({color:"121212",setColor:r=>n(i=>({...i,color:r})),allowSnapping:!0,setAllowSnapping:r=>n(i=>({...i,allowSnapping:r})),autoFlatten:!0,setAutoFlatten:r=>n(i=>({...i,autoFlatten:r}))}))})(e.State||(e.State={}))})(ee||(ee={}));function Q6({className:e,children:t}){return C("div",{className:classes("rounded border border-zinc-700 bg-zinc-800 p-5",e),children:t})}function Aae({installPlugin:e}){const t=Nn.useSetup(),[n,r]=useState("");return ne(Q6,{className:"flex flex-col gap-3",children:[C("h1",{className:"text-2xl",children:"Install untrusted plugin"}),ne("p",{className:"-mt-2 flex items-center gap-2 text-red-500",children:[C(H.Icon.AlertTriangle,{className:"h-5 w-5"}),"Do not install plugins from untrusted sources!"]}),ne("div",{className:"flex items-center gap-2",children:[C(H.Input,{value:n,onChange:r,onKeyDown:i=>i.key==="Enter"&&e(n),loading:t.isLoading,placeholder:"http://localhost:3000/CoolExamplePlugin.js"}),C(H.Button,{color:"brand",className:"h-[31px]",onClick:()=>e(n),loading:t.isLoading,disabled:!n,children:"Load"})]}),ne("p",{className:"text-muted text-sm",children:["Enter a URL which points to a valid",C("a",{className:"text-brand-300 hover:underline",href:"https://github.com/Stability-AI/StableStudio/blob/main/packages/stablestudio-plugin/README.md",target:"_blank",rel:"noreferrer",children:"StableStudio plugin"}),"."]})]})}const hP=["http","https","mailto","tel"];function Rae(e){const t=(e||"").trim(),n=t.charAt(0);if(n==="#"||n==="/")return t;const r=t.indexOf(":");if(r===-1)return t;let i=-1;for(;++i<hP.length;){const a=hP[i];if(r===a.length&&t.slice(0,a.length).toLowerCase()===a)return t}return i=t.indexOf("?"),i!==-1&&r>i||(i=t.indexOf("#"),i!==-1&&r>i)?t:"javascript:void(0)"}/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var Dae=function(t){return t!=null&&t.constructor!=null&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)};const Z6=Gi(Dae);function Bd(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?fP(e.position):"start"in e||"end"in e?fP(e):"line"in e||"column"in e?Dk(e):""}function Dk(e){return pP(e&&e.line)+":"+pP(e&&e.column)}function fP(e){return Dk(e&&e.start)+"-"+Dk(e&&e.end)}function pP(e){return e&&typeof e=="number"?e:1}class ki extends Error{constructor(t,n,r){const i=[null,null];let a={start:{line:null,column:null},end:{line:null,column:null}};if(super(),typeof n=="string"&&(r=n,n=void 0),typeof r=="string"){const s=r.indexOf(":");s===-1?i[1]=r:(i[0]=r.slice(0,s),i[1]=r.slice(s+1))}n&&("type"in n||"position"in n?n.position&&(a=n.position):"start"in n||"end"in n?a=n:("line"in n||"column"in n)&&(a.start=n)),this.name=Bd(n)||"1:1",this.message=typeof t=="object"?t.message:t,this.stack="",typeof t=="object"&&t.stack&&(this.stack=t.stack),this.reason=this.message,this.fatal,this.line=a.start.line,this.column=a.start.column,this.position=a,this.source=i[0],this.ruleId=i[1],this.file,this.actual,this.expected,this.url,this.note}}ki.prototype.file="";ki.prototype.name="";ki.prototype.reason="";ki.prototype.message="";ki.prototype.stack="";ki.prototype.fatal=null;ki.prototype.column=null;ki.prototype.line=null;ki.prototype.source=null;ki.prototype.ruleId=null;ki.prototype.position=null;const aa={basename:Nae,dirname:Mae,extname:Oae,join:Lae,sep:"/"};function Nae(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Jh(e);let n=0,r=-1,i=e.length,a;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.charCodeAt(i)===47){if(a){n=i+1;break}}else r<0&&(a=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let s=-1,o=t.length-1;for(;i--;)if(e.charCodeAt(i)===47){if(a){n=i+1;break}}else s<0&&(a=!0,s=i+1),o>-1&&(e.charCodeAt(i)===t.charCodeAt(o--)?o<0&&(r=i):(o=-1,r=s));return n===r?r=s:r<0&&(r=e.length),e.slice(n,r)}function Mae(e){if(Jh(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.charCodeAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.charCodeAt(0)===47?"/":".":t===1&&e.charCodeAt(0)===47?"//":e.slice(0,t)}function Oae(e){Jh(e);let t=e.length,n=-1,r=0,i=-1,a=0,s;for(;t--;){const o=e.charCodeAt(t);if(o===47){if(s){r=t+1;break}continue}n<0&&(s=!0,n=t+1),o===46?i<0?i=t:a!==1&&(a=1):i>-1&&(a=-1)}return i<0||n<0||a===0||a===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function Lae(...e){let t=-1,n;for(;++t<e.length;)Jh(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":Fae(n)}function Fae(e){Jh(e);const t=e.charCodeAt(0)===47;let n=Bae(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.charCodeAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function Bae(e,t){let n="",r=0,i=-1,a=0,s=-1,o,l;for(;++s<=e.length;){if(s<e.length)o=e.charCodeAt(s);else{if(o===47)break;o=47}if(o===47){if(!(i===s-1||a===1))if(i!==s-1&&a===2){if(n.length<2||r!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=s,a=0;continue}}else if(n.length>0){n="",r=0,i=s,a=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,s):n=e.slice(i+1,s),r=s-i-1;i=s,a=0}else o===46&&a>-1?a++:a=-1}return n}function Jh(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const zae={cwd:Uae};function Uae(){return"/"}function Nk(e){return e!==null&&typeof e=="object"&&e.href&&e.origin}function jae(e){if(typeof e=="string")e=new URL(e);else if(!Nk(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return $ae(e)}function $ae(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.charCodeAt(n)===37&&t.charCodeAt(n+1)===50){const r=t.charCodeAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const Yw=["history","path","basename","stem","extname","dirname"];class J6{constructor(t){let n;t?typeof t=="string"||Vae(t)?n={value:t}:Nk(t)?n={path:t}:n=t:n={},this.data={},this.messages=[],this.history=[],this.cwd=zae.cwd(),this.value,this.stored,this.result,this.map;let r=-1;for(;++r<Yw.length;){const a=Yw[r];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let i;for(i in n)Yw.includes(i)||(this[i]=n[i])}get path(){return this.history[this.history.length-1]}set path(t){Nk(t)&&(t=jae(t)),Qw(t,"path"),this.path!==t&&this.history.push(t)}get dirname(){return typeof this.path=="string"?aa.dirname(this.path):void 0}set dirname(t){mP(this.basename,"dirname"),this.path=aa.join(t||"",this.basename)}get basename(){return typeof this.path=="string"?aa.basename(this.path):void 0}set basename(t){Qw(t,"basename"),Xw(t,"basename"),this.path=aa.join(this.dirname||"",t)}get extname(){return typeof this.path=="string"?aa.extname(this.path):void 0}set extname(t){if(Xw(t,"extname"),mP(this.dirname,"extname"),t){if(t.charCodeAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=aa.join(this.dirname,this.stem+(t||""))}get stem(){return typeof this.path=="string"?aa.basename(this.path,this.extname):void 0}set stem(t){Qw(t,"stem"),Xw(t,"stem"),this.path=aa.join(this.dirname||"",t+(this.extname||""))}toString(t){return(this.value||"").toString(t||void 0)}message(t,n,r){const i=new ki(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=null,i}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}}function Xw(e,t){if(e&&e.includes(aa.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+aa.sep+"`")}function Qw(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function mP(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function Vae(e){return Z6(e)}function gP(e){if(e)throw e}var qm=Object.prototype.hasOwnProperty,eL=Object.prototype.toString,yP=Object.defineProperty,vP=Object.getOwnPropertyDescriptor,wP=function(t){return typeof Array.isArray=="function"?Array.isArray(t):eL.call(t)==="[object Array]"},bP=function(t){if(!t||eL.call(t)!=="[object Object]")return!1;var n=qm.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&qm.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||qm.call(t,i)},xP=function(t,n){yP&&n.name==="__proto__"?yP(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},kP=function(t,n){if(n==="__proto__")if(qm.call(t,n)){if(vP)return vP(t,n).value}else return;return t[n]},Wae=function e(){var t,n,r,i,a,s,o=arguments[0],l=1,u=arguments.length,c=!1;for(typeof o=="boolean"&&(c=o,o=arguments[1]||{},l=2),(o==null||typeof o!="object"&&typeof o!="function")&&(o={});l<u;++l)if(t=arguments[l],t!=null)for(n in t)r=kP(o,n),i=kP(t,n),o!==i&&(c&&i&&(bP(i)||(a=wP(i)))?(a?(a=!1,s=r&&wP(r)?r:[]):s=r&&bP(r)?r:{},xP(o,{name:n,newValue:e(c,s,i)})):typeof i<"u"&&xP(o,{name:n,newValue:i}));return o};const SP=Gi(Wae);function Mk(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function Gae(){const e=[],t={run:n,use:r};return t;function n(...i){let a=-1;const s=i.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);o(null,...i);function o(l,...u){const c=e[++a];let h=-1;if(l){s(l);return}for(;++h<i.length;)(u[h]===null||u[h]===void 0)&&(u[h]=i[h]);i=u,c?Hae(c,o)(...u):s(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function Hae(e,t){let n;return r;function r(...s){const o=e.length>s.length;let l;o&&s.push(i);try{l=e.apply(this,s)}catch(u){const c=u;if(o&&n)throw c;return i(c)}o||(l instanceof Promise?l.then(a,i):l instanceof Error?i(l):a(l))}function i(s,...o){n||(n=!0,t(s,...o))}function a(s){i(null,s)}}const qae=nL().freeze(),tL={}.hasOwnProperty;function nL(){const e=Gae(),t=[];let n={},r,i=-1;return a.data=s,a.Parser=void 0,a.Compiler=void 0,a.freeze=o,a.attachers=t,a.use=l,a.parse=u,a.stringify=c,a.run=h,a.runSync=p,a.process=m,a.processSync=g,a;function a(){const y=nL();let b=-1;for(;++b<t.length;)y.use(...t[b]);return y.data(SP(!0,{},n)),y}function s(y,b){return typeof y=="string"?arguments.length===2?(eb("data",r),n[y]=b,a):tL.call(n,y)&&n[y]||null:y?(eb("data",r),n=y,a):n}function o(){if(r)return a;for(;++i<t.length;){const[y,...b]=t[i];if(b[0]===!1)continue;b[0]===!0&&(b[0]=void 0);const w=y.call(a,...b);typeof w=="function"&&e.use(w)}return r=!0,i=Number.POSITIVE_INFINITY,a}function l(y,...b){let w;if(eb("use",r),y!=null)if(typeof y=="function")A(y,...b);else if(typeof y=="object")Array.isArray(y)?_(y):k(y);else throw new TypeError("Expected usable value, not `"+y+"`");return w&&(n.settings=Object.assign(n.settings||{},w)),a;function x(P){if(typeof P=="function")A(P);else if(typeof P=="object")if(Array.isArray(P)){const[N,...B]=P;A(N,...B)}else k(P);else throw new TypeError("Expected usable value, not `"+P+"`")}function k(P){_(P.plugins),P.settings&&(w=Object.assign(w||{},P.settings))}function _(P){let N=-1;if(P!=null)if(Array.isArray(P))for(;++N<P.length;){const B=P[N];x(B)}else throw new TypeError("Expected a list of plugins, not `"+P+"`")}function A(P,N){let B=-1,j;for(;++B<t.length;)if(t[B][0]===P){j=t[B];break}j?(Mk(j[1])&&Mk(N)&&(N=SP(!0,j[1],N)),j[1]=N):t.push([...arguments])}}function u(y){a.freeze();const b=Qc(y),w=a.Parser;return Zw("parse",w),CP(w,"parse")?new w(String(b),b).parse():w(String(b),b)}function c(y,b){a.freeze();const w=Qc(b),x=a.Compiler;return Jw("stringify",x),EP(y),CP(x,"compile")?new x(y,w).compile():x(y,w)}function h(y,b,w){if(EP(y),a.freeze(),!w&&typeof b=="function"&&(w=b,b=void 0),!w)return new Promise(x);x(null,w);function x(k,_){e.run(y,Qc(b),A);function A(P,N,B){N=N||y,P?_(P):k?k(N):w(null,N,B)}}}function p(y,b){let w,x;return a.run(y,b,k),TP("runSync","run",x),w;function k(_,A){gP(_),w=A,x=!0}}function m(y,b){if(a.freeze(),Zw("process",a.Parser),Jw("process",a.Compiler),!b)return new Promise(w);w(null,b);function w(x,k){const _=Qc(y);a.run(a.parse(_),_,(P,N,B)=>{if(P||!N||!B)A(P);else{const j=a.stringify(N,B);j==null||(Xae(j)?B.value=j:B.result=j),A(P,B)}});function A(P,N){P||!N?k(P):x?x(N):b(null,N)}}}function g(y){let b;a.freeze(),Zw("processSync",a.Parser),Jw("processSync",a.Compiler);const w=Qc(y);return a.process(w,x),TP("processSync","process",b),w;function x(k){b=!0,gP(k)}}}function CP(e,t){return typeof e=="function"&&e.prototype&&(Kae(e.prototype)||t in e.prototype)}function Kae(e){let t;for(t in e)if(tL.call(e,t))return!0;return!1}function Zw(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `Parser`")}function Jw(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `Compiler`")}function eb(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function EP(e){if(!Mk(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function TP(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Qc(e){return Yae(e)?e:new J6(e)}function Yae(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function Xae(e){return typeof e=="string"||Z6(e)}const Qae={};function Zae(e,t){const n=t||Qae,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return rL(e,r,i)}function rL(e,t,n){if(Jae(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return _P(e.children,t,n)}return Array.isArray(e)?_P(e,t,n):""}function _P(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=rL(e[i],t,n);return r.join("")}function Jae(e){return!!(e&&typeof e=="object")}function qr(e,t,n,r){const i=e.length;let a=0,s;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)s=Array.from(r),s.unshift(t,n),[].splice.apply(e,s);else for(n&&[].splice.apply(e,[t,n]);a<r.length;)s=r.slice(a,a+1e4),s.unshift(t,0),[].splice.apply(e,s),a+=1e4,t+=1e4}function gi(e,t){return e.length>0?(qr(e,e.length,0,t),e):t}const IP={}.hasOwnProperty;function iL(e){const t={};let n=-1;for(;++n<e.length;)ese(t,e[n]);return t}function ese(e,t){let n;for(n in t){const i=(IP.call(e,n)?e[n]:void 0)||(e[n]={}),a=t[n];let s;for(s in a){IP.call(i,s)||(i[s]=[]);const o=a[s];tse(i[s],Array.isArray(o)?o:o?[o]:[])}}}function tse(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);qr(e,0,0,r)}const nse=/[!-/:-@[-`{-~\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,mr=Zs(/[A-Za-z]/),Ok=Zs(/\d/),rse=Zs(/[\dA-Fa-f]/),lr=Zs(/[\dA-Za-z]/),ise=Zs(/[!-/:-@[-`{-~]/),PP=Zs(/[#-'*+\--9=?A-Z^-~]/);function k0(e){return e!==null&&(e<32||e===127)}function Kt(e){return e!==null&&(e<0||e===32)}function tt(e){return e!==null&&e<-2}function jt(e){return e===-2||e===-1||e===32}const Zo=Zs(/\s/),Ny=Zs(nse);function Zs(e){return t;function t(n){return n!==null&&e.test(String.fromCharCode(n))}}function Et(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let a=0;return s;function s(l){return jt(l)?(e.enter(n),o(l)):t(l)}function o(l){return jt(l)&&a++<i?(e.consume(l),o):(e.exit(n),t(l))}}const ase={tokenize:sse};function sse(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),Et(e,t,"linePrefix")}function i(o){return e.enter("paragraph"),a(o)}function a(o){const l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,s(o)}function s(o){if(o===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(o);return}return tt(o)?(e.consume(o),e.exit("chunkText"),a):(e.consume(o),s)}}const ose={tokenize:lse},AP={tokenize:use};function lse(e){const t=this,n=[];let r=0,i,a,s;return o;function o(k){if(r<n.length){const _=n[r];return t.containerState=_[1],e.attempt(_[0].continuation,l,u)(k)}return u(k)}function l(k){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&x();const _=t.events.length;let A=_,P;for(;A--;)if(t.events[A][0]==="exit"&&t.events[A][1].type==="chunkFlow"){P=t.events[A][1].end;break}w(r);let N=_;for(;N<t.events.length;)t.events[N][1].end=Object.assign({},P),N++;return qr(t.events,A+1,0,t.events.slice(_)),t.events.length=N,u(k)}return o(k)}function u(k){if(r===n.length){if(!i)return p(k);if(i.currentConstruct&&i.currentConstruct.concrete)return g(k);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(AP,c,h)(k)}function c(k){return i&&x(),w(r),p(k)}function h(k){return t.parser.lazy[t.now().line]=r!==n.length,s=t.now().offset,g(k)}function p(k){return t.containerState={},e.attempt(AP,m,g)(k)}function m(k){return r++,n.push([t.currentConstruct,t.containerState]),p(k)}function g(k){if(k===null){i&&x(),w(0),e.consume(k);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{contentType:"flow",previous:a,_tokenizer:i}),y(k)}function y(k){if(k===null){b(e.exit("chunkFlow"),!0),w(0),e.consume(k);return}return tt(k)?(e.consume(k),b(e.exit("chunkFlow")),r=0,t.interrupt=void 0,o):(e.consume(k),y)}function b(k,_){const A=t.sliceStream(k);if(_&&A.push(null),k.previous=a,a&&(a.next=k),a=k,i.defineSkip(k.start),i.write(A),t.parser.lazy[k.start.line]){let P=i.events.length;for(;P--;)if(i.events[P][1].start.offset<s&&(!i.events[P][1].end||i.events[P][1].end.offset>s))return;const N=t.events.length;let B=N,j,W;for(;B--;)if(t.events[B][0]==="exit"&&t.events[B][1].type==="chunkFlow"){if(j){W=t.events[B][1].end;break}j=!0}for(w(r),P=N;P<t.events.length;)t.events[P][1].end=Object.assign({},W),P++;qr(t.events,B+1,0,t.events.slice(N)),t.events.length=P}}function w(k){let _=n.length;for(;_-- >k;){const A=n[_];t.containerState=A[1],A[0].exit.call(t,e)}n.length=k}function x(){i.write([null]),a=void 0,i=void 0,t.containerState._closeFlow=void 0}}function use(e,t,n){return Et(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function S0(e){if(e===null||Kt(e)||Zo(e))return 1;if(Ny(e))return 2}function My(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const a=e[i].resolveAll;a&&!r.includes(a)&&(t=a(t,n),r.push(a))}return t}const Lk={name:"attention",tokenize:dse,resolveAll:cse};function cse(e,t){let n=-1,r,i,a,s,o,l,u,c;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const h=Object.assign({},e[r][1].end),p=Object.assign({},e[n][1].start);RP(h,-l),RP(p,l),s={type:l>1?"strongSequence":"emphasisSequence",start:h,end:Object.assign({},e[r][1].end)},o={type:l>1?"strongSequence":"emphasisSequence",start:Object.assign({},e[n][1].start),end:p},a={type:l>1?"strongText":"emphasisText",start:Object.assign({},e[r][1].end),end:Object.assign({},e[n][1].start)},i={type:l>1?"strong":"emphasis",start:Object.assign({},s.start),end:Object.assign({},o.end)},e[r][1].end=Object.assign({},s.start),e[n][1].start=Object.assign({},o.end),u=[],e[r][1].end.offset-e[r][1].start.offset&&(u=gi(u,[["enter",e[r][1],t],["exit",e[r][1],t]])),u=gi(u,[["enter",i,t],["enter",s,t],["exit",s,t],["enter",a,t]]),u=gi(u,My(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),u=gi(u,[["exit",a,t],["enter",o,t],["exit",o,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(c=2,u=gi(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):c=0,qr(e,r-1,n-r+3,u),n=r+u.length-c-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function dse(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=S0(r);let a;return s;function s(l){return e.enter("attentionSequence"),a=l,o(l)}function o(l){if(l===a)return e.consume(l),o;const u=e.exit("attentionSequence"),c=S0(l),h=!c||c===2&&i||n.includes(l),p=!i||i===2&&c||n.includes(r);return u._open=!!(a===42?h:h&&(i||!p)),u._close=!!(a===42?p:p&&(c||!h)),t(l)}}function RP(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const hse={name:"autolink",tokenize:fse};function fse(e,t,n){let r=1;return i;function i(g){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(g),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),a}function a(g){return mr(g)?(e.consume(g),s):PP(g)?u(g):n(g)}function s(g){return g===43||g===45||g===46||lr(g)?o(g):u(g)}function o(g){return g===58?(e.consume(g),l):(g===43||g===45||g===46||lr(g))&&r++<32?(e.consume(g),o):u(g)}function l(g){return g===62?(e.exit("autolinkProtocol"),m(g)):g===null||g===32||g===60||k0(g)?n(g):(e.consume(g),l)}function u(g){return g===64?(e.consume(g),r=0,c):PP(g)?(e.consume(g),u):n(g)}function c(g){return lr(g)?h(g):n(g)}function h(g){return g===46?(e.consume(g),r=0,c):g===62?(e.exit("autolinkProtocol").type="autolinkEmail",m(g)):p(g)}function p(g){return(g===45||lr(g))&&r++<63?(e.consume(g),g===45?p:h):n(g)}function m(g){return e.enter("autolinkMarker"),e.consume(g),e.exit("autolinkMarker"),e.exit("autolink"),t}}const ef={tokenize:pse,partial:!0};function pse(e,t,n){return Et(e,r,"linePrefix");function r(i){return i===null||tt(i)?t(i):n(i)}}const aL={name:"blockQuote",tokenize:mse,continuation:{tokenize:gse},exit:yse};function mse(e,t,n){const r=this;return i;function i(s){if(s===62){const o=r.containerState;return o.open||(e.enter("blockQuote",{_container:!0}),o.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(s),e.exit("blockQuoteMarker"),a}return n(s)}function a(s){return jt(s)?(e.enter("blockQuotePrefixWhitespace"),e.consume(s),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(s))}}function gse(e,t,n){return Et(e,e.attempt(aL,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function yse(e){e.exit("blockQuote")}const sL={name:"characterEscape",tokenize:vse};function vse(e,t,n){return r;function r(a){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(a),e.exit("escapeMarker"),i}function i(a){return ise(a)?(e.enter("characterEscapeValue"),e.consume(a),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(a)}}const DP=document.createElement("i");function CE(e){const t="&"+e+";";DP.innerHTML=t;const n=DP.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}const oL={name:"characterReference",tokenize:wse};function wse(e,t,n){const r=this;let i=0,a,s;return o;function o(h){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(h),e.exit("characterReferenceMarker"),l}function l(h){return h===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(h),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),a=31,s=lr,c(h))}function u(h){return h===88||h===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(h),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),a=6,s=rse,c):(e.enter("characterReferenceValue"),a=7,s=Ok,c(h))}function c(h){let p;return h===59&&i?(p=e.exit("characterReferenceValue"),s===lr&&!CE(r.sliceSerialize(p))?n(h):(e.enter("characterReferenceMarker"),e.consume(h),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)):s(h)&&i++<a?(e.consume(h),c):n(h)}}const NP={name:"codeFenced",tokenize:bse,concrete:!0};function bse(e,t,n){const r=this,i={tokenize:A,partial:!0},a={tokenize:_,partial:!0},s=this.events[this.events.length-1],o=s&&s[1].type==="linePrefix"?s[2].sliceSerialize(s[1],!0).length:0;let l=0,u;return c;function c(P){return e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),u=P,h(P)}function h(P){return P===u?(e.consume(P),l++,h):(e.exit("codeFencedFenceSequence"),l<3?n(P):Et(e,p,"whitespace")(P))}function p(P){return P===null||tt(P)?b(P):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),m(P))}function m(P){return P===null||Kt(P)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Et(e,g,"whitespace")(P)):P===96&&P===u?n(P):(e.consume(P),m)}function g(P){return P===null||tt(P)?b(P):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),y(P))}function y(P){return P===null||tt(P)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),b(P)):P===96&&P===u?n(P):(e.consume(P),y)}function b(P){return e.exit("codeFencedFence"),r.interrupt?t(P):w(P)}function w(P){return P===null?k(P):tt(P)?e.attempt(a,e.attempt(i,k,o?Et(e,w,"linePrefix",o+1):w),k)(P):(e.enter("codeFlowValue"),x(P))}function x(P){return P===null||tt(P)?(e.exit("codeFlowValue"),w(P)):(e.consume(P),x)}function k(P){return e.exit("codeFenced"),t(P)}function _(P,N,B){const j=this;return W;function W(z){return P.enter("lineEnding"),P.consume(z),P.exit("lineEnding"),K}function K(z){return j.parser.lazy[j.now().line]?B(z):N(z)}}function A(P,N,B){let j=0;return Et(P,W,"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function W(G){return P.enter("codeFencedFence"),P.enter("codeFencedFenceSequence"),K(G)}function K(G){return G===u?(P.consume(G),j++,K):j<l?B(G):(P.exit("codeFencedFenceSequence"),Et(P,z,"whitespace")(G))}function z(G){return G===null||tt(G)?(P.exit("codeFencedFence"),N(G)):B(G)}}}const tb={name:"codeIndented",tokenize:kse},xse={tokenize:Sse,partial:!0};function kse(e,t,n){const r=this;return i;function i(u){return e.enter("codeIndented"),Et(e,a,"linePrefix",4+1)(u)}function a(u){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?s(u):n(u)}function s(u){return u===null?l(u):tt(u)?e.attempt(xse,s,l)(u):(e.enter("codeFlowValue"),o(u))}function o(u){return u===null||tt(u)?(e.exit("codeFlowValue"),s(u)):(e.consume(u),o)}function l(u){return e.exit("codeIndented"),t(u)}}function Sse(e,t,n){const r=this;return i;function i(s){return r.parser.lazy[r.now().line]?n(s):tt(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),i):Et(e,a,"linePrefix",4+1)(s)}function a(s){const o=r.events[r.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(s):tt(s)?i(s):n(s)}}const Cse={name:"codeText",tokenize:_se,resolve:Ese,previous:Tse};function Ese(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function Tse(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function _se(e,t,n){let r=0,i,a;return s;function s(h){return e.enter("codeText"),e.enter("codeTextSequence"),o(h)}function o(h){return h===96?(e.consume(h),r++,o):(e.exit("codeTextSequence"),l(h))}function l(h){return h===null?n(h):h===96?(a=e.enter("codeTextSequence"),i=0,c(h)):h===32?(e.enter("space"),e.consume(h),e.exit("space"),l):tt(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),l):(e.enter("codeTextData"),u(h))}function u(h){return h===null||h===32||h===96||tt(h)?(e.exit("codeTextData"),l(h)):(e.consume(h),u)}function c(h){return h===96?(e.consume(h),i++,c):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(h)):(a.type="codeTextData",u(h))}}function lL(e){const t={};let n=-1,r,i,a,s,o,l,u;for(;++n<e.length;){for(;n in t;)n=t[n];if(r=e[n],n&&r[1].type==="chunkFlow"&&e[n-1][1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,a=0,a<l.length&&l[a][1].type==="lineEndingBlank"&&(a+=2),a<l.length&&l[a][1].type==="content"))for(;++a<l.length&&l[a][1].type!=="content";)l[a][1].type==="chunkText"&&(l[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,Ise(e,n)),n=t[n],u=!0);else if(r[1]._container){for(a=n,i=void 0;a--&&(s=e[a],s[1].type==="lineEnding"||s[1].type==="lineEndingBlank");)s[0]==="enter"&&(i&&(e[i][1].type="lineEndingBlank"),s[1].type="lineEnding",i=a);i&&(r[1].end=Object.assign({},e[i][1].start),o=e.slice(i,n),o.unshift(r),qr(e,i,n-i+1,o))}}return!u}function Ise(e,t){const n=e[t][1],r=e[t][2];let i=t-1;const a=[],s=n._tokenizer||r.parser[n.contentType](n.start),o=s.events,l=[],u={};let c,h,p=-1,m=n,g=0,y=0;const b=[y];for(;m;){for(;e[++i][1]!==m;);a.push(i),m._tokenizer||(c=r.sliceStream(m),m.next||c.push(null),h&&s.defineSkip(m.start),m._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(c),m._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),h=m,m=m.next}for(m=n;++p<o.length;)o[p][0]==="exit"&&o[p-1][0]==="enter"&&o[p][1].type===o[p-1][1].type&&o[p][1].start.line!==o[p][1].end.line&&(y=p+1,b.push(y),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(s.events=[],m?(m._tokenizer=void 0,m.previous=void 0):b.pop(),p=b.length;p--;){const w=o.slice(b[p],b[p+1]),x=a.pop();l.unshift([x,x+w.length-1]),qr(e,x,2,w)}for(p=-1;++p<l.length;)u[g+l[p][0]]=g+l[p][1],g+=l[p][1]-l[p][0]-1;return u}const Pse={tokenize:Dse,resolve:Rse},Ase={tokenize:Nse,partial:!0};function Rse(e){return lL(e),e}function Dse(e,t){let n;return r;function r(o){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(o)}function i(o){return o===null?a(o):tt(o)?e.check(Ase,s,a)(o):(e.consume(o),i)}function a(o){return e.exit("chunkContent"),e.exit("content"),t(o)}function s(o){return e.consume(o),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function Nse(e,t,n){const r=this;return i;function i(s){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),Et(e,a,"linePrefix")}function a(s){if(s===null||tt(s))return n(s);const o=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(s):e.interrupt(r.parser.constructs.flow,n,t)(s)}}function uL(e,t,n,r,i,a,s,o,l){const u=l||Number.POSITIVE_INFINITY;let c=0;return h;function h(w){return w===60?(e.enter(r),e.enter(i),e.enter(a),e.consume(w),e.exit(a),p):w===null||w===41||k0(w)?n(w):(e.enter(r),e.enter(s),e.enter(o),e.enter("chunkString",{contentType:"string"}),y(w))}function p(w){return w===62?(e.enter(a),e.consume(w),e.exit(a),e.exit(i),e.exit(r),t):(e.enter(o),e.enter("chunkString",{contentType:"string"}),m(w))}function m(w){return w===62?(e.exit("chunkString"),e.exit(o),p(w)):w===null||w===60||tt(w)?n(w):(e.consume(w),w===92?g:m)}function g(w){return w===60||w===62||w===92?(e.consume(w),m):m(w)}function y(w){return w===40?++c>u?n(w):(e.consume(w),y):w===41?c--?(e.consume(w),y):(e.exit("chunkString"),e.exit(o),e.exit(s),e.exit(r),t(w)):w===null||Kt(w)?c?n(w):(e.exit("chunkString"),e.exit(o),e.exit(s),e.exit(r),t(w)):k0(w)?n(w):(e.consume(w),w===92?b:y)}function b(w){return w===40||w===41||w===92?(e.consume(w),y):y(w)}}function cL(e,t,n,r,i,a){const s=this;let o=0,l;return u;function u(m){return e.enter(r),e.enter(i),e.consume(m),e.exit(i),e.enter(a),c}function c(m){return m===null||m===91||m===93&&!l||m===94&&!o&&"_hiddenFootnoteSupport"in s.parser.constructs||o>999?n(m):m===93?(e.exit(a),e.enter(i),e.consume(m),e.exit(i),e.exit(r),t):tt(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),c):(e.enter("chunkString",{contentType:"string"}),h(m))}function h(m){return m===null||m===91||m===93||tt(m)||o++>999?(e.exit("chunkString"),c(m)):(e.consume(m),l=l||!jt(m),m===92?p:h)}function p(m){return m===91||m===92||m===93?(e.consume(m),o++,h):h(m)}}function dL(e,t,n,r,i,a){let s;return o;function o(p){return e.enter(r),e.enter(i),e.consume(p),e.exit(i),s=p===40?41:p,l}function l(p){return p===s?(e.enter(i),e.consume(p),e.exit(i),e.exit(r),t):(e.enter(a),u(p))}function u(p){return p===s?(e.exit(a),l(s)):p===null?n(p):tt(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),Et(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),c(p))}function c(p){return p===s||p===null||tt(p)?(e.exit("chunkString"),u(p)):(e.consume(p),p===92?h:c)}function h(p){return p===s||p===92?(e.consume(p),c):c(p)}}function zd(e,t){let n;return r;function r(i){return tt(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):jt(i)?Et(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}function Vi(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Mse={name:"definition",tokenize:Lse},Ose={tokenize:Fse,partial:!0};function Lse(e,t,n){const r=this;let i;return a;function a(l){return e.enter("definition"),cL.call(r,e,s,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(l)}function s(l){return i=Vi(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),l===58?(e.enter("definitionMarker"),e.consume(l),e.exit("definitionMarker"),zd(e,uL(e,e.attempt(Ose,Et(e,o,"whitespace"),Et(e,o,"whitespace")),n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString"))):n(l)}function o(l){return l===null||tt(l)?(e.exit("definition"),r.parser.defined.includes(i)||r.parser.defined.push(i),t(l)):n(l)}}function Fse(e,t,n){return r;function r(s){return Kt(s)?zd(e,i)(s):n(s)}function i(s){return s===34||s===39||s===40?dL(e,Et(e,a,"whitespace"),n,"definitionTitle","definitionTitleMarker","definitionTitleString")(s):n(s)}function a(s){return s===null||tt(s)?t(s):n(s)}}const Bse={name:"hardBreakEscape",tokenize:zse};function zse(e,t,n){return r;function r(a){return e.enter("hardBreakEscape"),e.enter("escapeMarker"),e.consume(a),i}function i(a){return tt(a)?(e.exit("escapeMarker"),e.exit("hardBreakEscape"),t(a)):n(a)}}const Use={name:"headingAtx",tokenize:$se,resolve:jse};function jse(e,t){let n=e.length-2,r=3,i,a;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},a={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},qr(e,r,n-r+1,[["enter",i,t],["enter",a,t],["exit",a,t],["exit",i,t]])),e}function $se(e,t,n){const r=this;let i=0;return a;function a(c){return e.enter("atxHeading"),e.enter("atxHeadingSequence"),s(c)}function s(c){return c===35&&i++<6?(e.consume(c),s):c===null||Kt(c)?(e.exit("atxHeadingSequence"),r.interrupt?t(c):o(c)):n(c)}function o(c){return c===35?(e.enter("atxHeadingSequence"),l(c)):c===null||tt(c)?(e.exit("atxHeading"),t(c)):jt(c)?Et(e,o,"whitespace")(c):(e.enter("atxHeadingText"),u(c))}function l(c){return c===35?(e.consume(c),l):(e.exit("atxHeadingSequence"),o(c))}function u(c){return c===null||c===35||Kt(c)?(e.exit("atxHeadingText"),o(c)):(e.consume(c),u)}}const Vse=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],MP=["pre","script","style","textarea"],Wse={name:"htmlFlow",tokenize:qse,resolveTo:Hse,concrete:!0},Gse={tokenize:Kse,partial:!0};function Hse(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function qse(e,t,n){const r=this;let i,a,s,o,l;return u;function u(O){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(O),c}function c(O){return O===33?(e.consume(O),h):O===47?(e.consume(O),g):O===63?(e.consume(O),i=3,r.interrupt?t:ae):mr(O)?(e.consume(O),s=String.fromCharCode(O),a=!0,y):n(O)}function h(O){return O===45?(e.consume(O),i=2,p):O===91?(e.consume(O),i=5,s="CDATA[",o=0,m):mr(O)?(e.consume(O),i=4,r.interrupt?t:ae):n(O)}function p(O){return O===45?(e.consume(O),r.interrupt?t:ae):n(O)}function m(O){return O===s.charCodeAt(o++)?(e.consume(O),o===s.length?r.interrupt?t:K:m):n(O)}function g(O){return mr(O)?(e.consume(O),s=String.fromCharCode(O),y):n(O)}function y(O){return O===null||O===47||O===62||Kt(O)?O!==47&&a&&MP.includes(s.toLowerCase())?(i=1,r.interrupt?t(O):K(O)):Vse.includes(s.toLowerCase())?(i=6,O===47?(e.consume(O),b):r.interrupt?t(O):K(O)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(O):a?x(O):w(O)):O===45||lr(O)?(e.consume(O),s+=String.fromCharCode(O),y):n(O)}function b(O){return O===62?(e.consume(O),r.interrupt?t:K):n(O)}function w(O){return jt(O)?(e.consume(O),w):j(O)}function x(O){return O===47?(e.consume(O),j):O===58||O===95||mr(O)?(e.consume(O),k):jt(O)?(e.consume(O),x):j(O)}function k(O){return O===45||O===46||O===58||O===95||lr(O)?(e.consume(O),k):_(O)}function _(O){return O===61?(e.consume(O),A):jt(O)?(e.consume(O),_):x(O)}function A(O){return O===null||O===60||O===61||O===62||O===96?n(O):O===34||O===39?(e.consume(O),l=O,P):jt(O)?(e.consume(O),A):(l=null,N(O))}function P(O){return O===null||tt(O)?n(O):O===l?(e.consume(O),B):(e.consume(O),P)}function N(O){return O===null||O===34||O===39||O===60||O===61||O===62||O===96||Kt(O)?_(O):(e.consume(O),N)}function B(O){return O===47||O===62||jt(O)?x(O):n(O)}function j(O){return O===62?(e.consume(O),W):n(O)}function W(O){return jt(O)?(e.consume(O),W):O===null||tt(O)?K(O):n(O)}function K(O){return O===45&&i===2?(e.consume(O),te):O===60&&i===1?(e.consume(O),X):O===62&&i===4?(e.consume(O),pe):O===63&&i===3?(e.consume(O),ae):O===93&&i===5?(e.consume(O),de):tt(O)&&(i===6||i===7)?e.check(Gse,pe,z)(O):O===null||tt(O)?z(O):(e.consume(O),K)}function z(O){return e.exit("htmlFlowData"),G(O)}function G(O){return O===null?F(O):tt(O)?e.attempt({tokenize:M,partial:!0},G,F)(O):(e.enter("htmlFlowData"),K(O))}function M(O,Ee,Ce){return Te;function Te(ft){return O.enter("lineEnding"),O.consume(ft),O.exit("lineEnding"),Xe}function Xe(ft){return r.parser.lazy[r.now().line]?Ce(ft):Ee(ft)}}function te(O){return O===45?(e.consume(O),ae):K(O)}function X(O){return O===47?(e.consume(O),s="",ue):K(O)}function ue(O){return O===62&&MP.includes(s.toLowerCase())?(e.consume(O),pe):mr(O)&&s.length<8?(e.consume(O),s+=String.fromCharCode(O),ue):K(O)}function de(O){return O===93?(e.consume(O),ae):K(O)}function ae(O){return O===62?(e.consume(O),pe):O===45&&i===2?(e.consume(O),ae):K(O)}function pe(O){return O===null||tt(O)?(e.exit("htmlFlowData"),F(O)):(e.consume(O),pe)}function F(O){return e.exit("htmlFlow"),t(O)}}function Kse(e,t,n){return r;function r(i){return e.exit("htmlFlowData"),e.enter("lineEndingBlank"),e.consume(i),e.exit("lineEndingBlank"),e.attempt(ef,t,n)}}const Yse={name:"htmlText",tokenize:Xse};function Xse(e,t,n){const r=this;let i,a,s,o;return l;function l(F){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(F),u}function u(F){return F===33?(e.consume(F),c):F===47?(e.consume(F),N):F===63?(e.consume(F),A):mr(F)?(e.consume(F),W):n(F)}function c(F){return F===45?(e.consume(F),h):F===91?(e.consume(F),a="CDATA[",s=0,b):mr(F)?(e.consume(F),_):n(F)}function h(F){return F===45?(e.consume(F),p):n(F)}function p(F){return F===null||F===62?n(F):F===45?(e.consume(F),m):g(F)}function m(F){return F===null||F===62?n(F):g(F)}function g(F){return F===null?n(F):F===45?(e.consume(F),y):tt(F)?(o=g,de(F)):(e.consume(F),g)}function y(F){return F===45?(e.consume(F),pe):g(F)}function b(F){return F===a.charCodeAt(s++)?(e.consume(F),s===a.length?w:b):n(F)}function w(F){return F===null?n(F):F===93?(e.consume(F),x):tt(F)?(o=w,de(F)):(e.consume(F),w)}function x(F){return F===93?(e.consume(F),k):w(F)}function k(F){return F===62?pe(F):F===93?(e.consume(F),k):w(F)}function _(F){return F===null||F===62?pe(F):tt(F)?(o=_,de(F)):(e.consume(F),_)}function A(F){return F===null?n(F):F===63?(e.consume(F),P):tt(F)?(o=A,de(F)):(e.consume(F),A)}function P(F){return F===62?pe(F):A(F)}function N(F){return mr(F)?(e.consume(F),B):n(F)}function B(F){return F===45||lr(F)?(e.consume(F),B):j(F)}function j(F){return tt(F)?(o=j,de(F)):jt(F)?(e.consume(F),j):pe(F)}function W(F){return F===45||lr(F)?(e.consume(F),W):F===47||F===62||Kt(F)?K(F):n(F)}function K(F){return F===47?(e.consume(F),pe):F===58||F===95||mr(F)?(e.consume(F),z):tt(F)?(o=K,de(F)):jt(F)?(e.consume(F),K):pe(F)}function z(F){return F===45||F===46||F===58||F===95||lr(F)?(e.consume(F),z):G(F)}function G(F){return F===61?(e.consume(F),M):tt(F)?(o=G,de(F)):jt(F)?(e.consume(F),G):K(F)}function M(F){return F===null||F===60||F===61||F===62||F===96?n(F):F===34||F===39?(e.consume(F),i=F,te):tt(F)?(o=M,de(F)):jt(F)?(e.consume(F),M):(e.consume(F),i=void 0,ue)}function te(F){return F===i?(e.consume(F),X):F===null?n(F):tt(F)?(o=te,de(F)):(e.consume(F),te)}function X(F){return F===62||F===47||Kt(F)?K(F):n(F)}function ue(F){return F===null||F===34||F===39||F===60||F===61||F===96?n(F):F===62||Kt(F)?K(F):(e.consume(F),ue)}function de(F){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(F),e.exit("lineEnding"),Et(e,ae,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function ae(F){return e.enter("htmlTextData"),o(F)}function pe(F){return F===62?(e.consume(F),e.exit("htmlTextData"),e.exit("htmlText"),t):n(F)}}const EE={name:"labelEnd",tokenize:noe,resolveTo:toe,resolveAll:eoe},Qse={tokenize:roe},Zse={tokenize:ioe},Jse={tokenize:aoe};function eoe(e){let t=-1,n;for(;++t<e.length;)n=e[t][1],(n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd")&&(e.splice(t+1,n.type==="labelImage"?4:2),n.type="data",t++);return e}function toe(e,t){let n=e.length,r=0,i,a,s,o;for(;n--;)if(i=e[n][1],a){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(s){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(a=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(s=n);const l={type:e[a][1].type==="labelLink"?"link":"image",start:Object.assign({},e[a][1].start),end:Object.assign({},e[e.length-1][1].end)},u={type:"label",start:Object.assign({},e[a][1].start),end:Object.assign({},e[s][1].end)},c={type:"labelText",start:Object.assign({},e[a+r+2][1].end),end:Object.assign({},e[s-2][1].start)};return o=[["enter",l,t],["enter",u,t]],o=gi(o,e.slice(a+1,a+r+3)),o=gi(o,[["enter",c,t]]),o=gi(o,My(t.parser.constructs.insideSpan.null,e.slice(a+r+4,s-3),t)),o=gi(o,[["exit",c,t],e[s-2],e[s-1],["exit",u,t]]),o=gi(o,e.slice(s+1)),o=gi(o,[["exit",l,t]]),qr(e,a,e.length,o),e}function noe(e,t,n){const r=this;let i=r.events.length,a,s;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){a=r.events[i][1];break}return o;function o(c){return a?a._inactive?u(c):(s=r.parser.defined.includes(Vi(r.sliceSerialize({start:a.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(c),e.exit("labelMarker"),e.exit("labelEnd"),l):n(c)}function l(c){return c===40?e.attempt(Qse,t,s?t:u)(c):c===91?e.attempt(Zse,t,s?e.attempt(Jse,t,u):u)(c):s?t(c):u(c)}function u(c){return a._balanced=!0,n(c)}}function roe(e,t,n){return r;function r(l){return e.enter("resource"),e.enter("resourceMarker"),e.consume(l),e.exit("resourceMarker"),zd(e,i)}function i(l){return l===41?o(l):uL(e,a,n,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(l)}function a(l){return Kt(l)?zd(e,s)(l):o(l)}function s(l){return l===34||l===39||l===40?dL(e,zd(e,o),n,"resourceTitle","resourceTitleMarker","resourceTitleString")(l):o(l)}function o(l){return l===41?(e.enter("resourceMarker"),e.consume(l),e.exit("resourceMarker"),e.exit("resource"),t):n(l)}}function ioe(e,t,n){const r=this;return i;function i(s){return cL.call(r,e,a,n,"reference","referenceMarker","referenceString")(s)}function a(s){return r.parser.defined.includes(Vi(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(s):n(s)}}function aoe(e,t,n){return r;function r(a){return e.enter("reference"),e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),i}function i(a){return a===93?(e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),e.exit("reference"),t):n(a)}}const soe={name:"labelStartImage",tokenize:ooe,resolveAll:EE.resolveAll};function ooe(e,t,n){const r=this;return i;function i(o){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(o),e.exit("labelImageMarker"),a}function a(o){return o===91?(e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelImage"),s):n(o)}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const loe={name:"labelStartLink",tokenize:uoe,resolveAll:EE.resolveAll};function uoe(e,t,n){const r=this;return i;function i(s){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelLink"),a}function a(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):t(s)}}const nb={name:"lineEnding",tokenize:coe};function coe(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),Et(e,t,"linePrefix")}}const Km={name:"thematicBreak",tokenize:doe};function doe(e,t,n){let r=0,i;return a;function a(l){return e.enter("thematicBreak"),i=l,s(l)}function s(l){return l===i?(e.enter("thematicBreakSequence"),o(l)):jt(l)?Et(e,s,"whitespace")(l):r<3||l!==null&&!tt(l)?n(l):(e.exit("thematicBreak"),t(l))}function o(l){return l===i?(e.consume(l),r++,o):(e.exit("thematicBreakSequence"),s(l))}}const Tr={name:"list",tokenize:poe,continuation:{tokenize:moe},exit:yoe},hoe={tokenize:voe,partial:!0},foe={tokenize:goe,partial:!0};function poe(e,t,n){const r=this,i=r.events[r.events.length-1];let a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,s=0;return o;function o(m){const g=r.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(g==="listUnordered"?!r.containerState.marker||m===r.containerState.marker:Ok(m)){if(r.containerState.type||(r.containerState.type=g,e.enter(g,{_container:!0})),g==="listUnordered")return e.enter("listItemPrefix"),m===42||m===45?e.check(Km,n,u)(m):u(m);if(!r.interrupt||m===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(m)}return n(m)}function l(m){return Ok(m)&&++s<10?(e.consume(m),l):(!r.interrupt||s<2)&&(r.containerState.marker?m===r.containerState.marker:m===41||m===46)?(e.exit("listItemValue"),u(m)):n(m)}function u(m){return e.enter("listItemMarker"),e.consume(m),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||m,e.check(ef,r.interrupt?n:c,e.attempt(hoe,p,h))}function c(m){return r.containerState.initialBlankLine=!0,a++,p(m)}function h(m){return jt(m)?(e.enter("listItemPrefixWhitespace"),e.consume(m),e.exit("listItemPrefixWhitespace"),p):n(m)}function p(m){return r.containerState.size=a+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(m)}}function moe(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(ef,i,a);function i(o){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Et(e,t,"listItemIndent",r.containerState.size+1)(o)}function a(o){return r.containerState.furtherBlankLines||!jt(o)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,s(o)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(foe,t,s)(o))}function s(o){return r.containerState._closeFlow=!0,r.interrupt=void 0,Et(e,e.attempt(Tr,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function goe(e,t,n){const r=this;return Et(e,i,"listItemIndent",r.containerState.size+1);function i(a){const s=r.events[r.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===r.containerState.size?t(a):n(a)}}function yoe(e){e.exit(this.containerState.type)}function voe(e,t,n){const r=this;return Et(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4+1);function i(a){const s=r.events[r.events.length-1];return!jt(a)&&s&&s[1].type==="listItemPrefixWhitespace"?t(a):n(a)}}const OP={name:"setextUnderline",tokenize:boe,resolveTo:woe};function woe(e,t){let n=e.length,r,i,a;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!a&&e[n][1].type==="definition"&&(a=n);const s={type:"setextHeading",start:Object.assign({},e[i][1].start),end:Object.assign({},e[e.length-1][1].end)};return e[i][1].type="setextHeadingText",a?(e.splice(i,0,["enter",s,t]),e.splice(a+1,0,["exit",e[r][1],t]),e[r][1].end=Object.assign({},e[a][1].end)):e[r][1]=s,e.push(["exit",s,t]),e}function boe(e,t,n){const r=this;let i=r.events.length,a,s;for(;i--;)if(r.events[i][1].type!=="lineEnding"&&r.events[i][1].type!=="linePrefix"&&r.events[i][1].type!=="content"){s=r.events[i][1].type==="paragraph";break}return o;function o(c){return!r.parser.lazy[r.now().line]&&(r.interrupt||s)?(e.enter("setextHeadingLine"),e.enter("setextHeadingLineSequence"),a=c,l(c)):n(c)}function l(c){return c===a?(e.consume(c),l):(e.exit("setextHeadingLineSequence"),Et(e,u,"lineSuffix")(c))}function u(c){return c===null||tt(c)?(e.exit("setextHeadingLine"),t(c)):n(c)}}const xoe={tokenize:koe};function koe(e){const t=this,n=e.attempt(ef,r,e.attempt(this.parser.constructs.flowInitial,i,Et(e,e.attempt(this.parser.constructs.flow,i,e.attempt(Pse,i)),"linePrefix")));return n;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEndingBlank"),e.consume(a),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const Soe={resolveAll:fL()},Coe=hL("string"),Eoe=hL("text");function hL(e){return{tokenize:t,resolveAll:fL(e==="text"?Toe:void 0)};function t(n){const r=this,i=this.parser.constructs[e],a=n.attempt(i,s,o);return s;function s(c){return u(c)?a(c):o(c)}function o(c){if(c===null){n.consume(c);return}return n.enter("data"),n.consume(c),l}function l(c){return u(c)?(n.exit("data"),a(c)):(n.consume(c),l)}function u(c){if(c===null)return!0;const h=i[c];let p=-1;if(h)for(;++p<h.length;){const m=h[p];if(!m.previous||m.previous.call(r,r.previous))return!0}return!1}}}function fL(e){return t;function t(n,r){let i=-1,a;for(;++i<=n.length;)a===void 0?n[i]&&n[i][1].type==="data"&&(a=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==a+2&&(n[a][1].end=n[i-1][1].end,n.splice(a+2,i-a-2),i=a+2),a=void 0);return e?e(n,r):n}}function Toe(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let a=i.length,s=-1,o=0,l;for(;a--;){const u=i[a];if(typeof u=="string"){for(s=u.length;u.charCodeAt(s-1)===32;)o++,s--;if(s)break;s=-1}else if(u===-2)l=!0,o++;else if(u!==-1){a++;break}}if(o){const u={type:n===e.length||l||o<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-o,offset:r.end.offset-o,_index:r.start._index+a,_bufferIndex:a?s:r.start._bufferIndex+s},end:Object.assign({},r.end)};r.end=Object.assign({},u.start),r.start.offset===r.end.offset?Object.assign(r,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}function _oe(e,t,n){let r=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const i={},a=[];let s=[],o=[];const l={consume:x,enter:k,exit:_,attempt:N(A),check:N(P),interrupt:N(P,{interrupt:!0})},u={previous:null,code:null,containerState:{},events:[],parser:e,sliceStream:m,sliceSerialize:p,now:g,defineSkip:y,write:h};let c=t.tokenize.call(u,l);return t.resolveAll&&a.push(t),u;function h(K){return s=gi(s,K),b(),s[s.length-1]!==null?[]:(B(t,0),u.events=My(a,u.events,u),u.events)}function p(K,z){return Poe(m(K),z)}function m(K){return Ioe(s,K)}function g(){return Object.assign({},r)}function y(K){i[K.line]=K.column,W()}function b(){let K;for(;r._index<s.length;){const z=s[r._index];if(typeof z=="string")for(K=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===K&&r._bufferIndex<z.length;)w(z.charCodeAt(r._bufferIndex));else w(z)}}function w(K){c=c(K)}function x(K){tt(K)?(r.line++,r.column=1,r.offset+=K===-3?2:1,W()):K!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===s[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=K}function k(K,z){const G=z||{};return G.type=K,G.start=g(),u.events.push(["enter",G,u]),o.push(G),G}function _(K){const z=o.pop();return z.end=g(),u.events.push(["exit",z,u]),z}function A(K,z){B(K,z.from)}function P(K,z){z.restore()}function N(K,z){return G;function G(M,te,X){let ue,de,ae,pe;return Array.isArray(M)?O(M):"tokenize"in M?O([M]):F(M);function F(Xe){return ft;function ft(Ze){const at=Ze!==null&&Xe[Ze],kt=Ze!==null&&Xe.null,ct=[...Array.isArray(at)?at:at?[at]:[],...Array.isArray(kt)?kt:kt?[kt]:[]];return O(ct)(Ze)}}function O(Xe){return ue=Xe,de=0,Xe.length===0?X:Ee(Xe[de])}function Ee(Xe){return ft;function ft(Ze){return pe=j(),ae=Xe,Xe.partial||(u.currentConstruct=Xe),Xe.name&&u.parser.constructs.disable.null.includes(Xe.name)?Te():Xe.tokenize.call(z?Object.assign(Object.create(u),z):u,l,Ce,Te)(Ze)}}function Ce(Xe){return K(ae,pe),te}function Te(Xe){return pe.restore(),++de<ue.length?Ee(ue[de]):X}}}function B(K,z){K.resolveAll&&!a.includes(K)&&a.push(K),K.resolve&&qr(u.events,z,u.events.length-z,K.resolve(u.events.slice(z),u)),K.resolveTo&&(u.events=K.resolveTo(u.events,u))}function j(){const K=g(),z=u.previous,G=u.currentConstruct,M=u.events.length,te=Array.from(o);return{restore:X,from:M};function X(){r=K,u.previous=z,u.currentConstruct=G,u.events.length=M,o=te,W()}}function W(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function Ioe(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,a=t.end._bufferIndex;let s;return n===i?s=[e[n].slice(r,a)]:(s=e.slice(n,i),r>-1&&(s[0]=s[0].slice(r)),a>0&&s.push(e[i].slice(0,a))),s}function Poe(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const a=e[n];let s;if(typeof a=="string")s=a;else switch(a){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=t?" ":"	";break}case-1:{if(!t&&i)continue;s=" ";break}default:s=String.fromCharCode(a)}i=a===-2,r.push(s)}return r.join("")}const Aoe={[42]:Tr,[43]:Tr,[45]:Tr,[48]:Tr,[49]:Tr,[50]:Tr,[51]:Tr,[52]:Tr,[53]:Tr,[54]:Tr,[55]:Tr,[56]:Tr,[57]:Tr,[62]:aL},Roe={[91]:Mse},Doe={[-2]:tb,[-1]:tb,[32]:tb},Noe={[35]:Use,[42]:Km,[45]:[OP,Km],[60]:Wse,[61]:OP,[95]:Km,[96]:NP,[126]:NP},Moe={[38]:oL,[92]:sL},Ooe={[-5]:nb,[-4]:nb,[-3]:nb,[33]:soe,[38]:oL,[42]:Lk,[60]:[hse,Yse],[91]:loe,[92]:[Bse,sL],[93]:EE,[95]:Lk,[96]:Cse},Loe={null:[Lk,Soe]},Foe={null:[42,95]},Boe={null:[]},zoe=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Foe,contentInitial:Roe,disable:Boe,document:Aoe,flow:Noe,flowInitial:Doe,insideSpan:Loe,string:Moe,text:Ooe},Symbol.toStringTag,{value:"Module"}));function Uoe(e={}){const t=iL([zoe].concat(e.extensions||[])),n={defined:[],lazy:{},constructs:t,content:r(ase),document:r(ose),flow:r(xoe),string:r(Coe),text:r(Eoe)};return n;function r(i){return a;function a(s){return _oe(n,i,s)}}}const LP=/[\0\t\n\r]/g;function joe(){let e=1,t="",n=!0,r;return i;function i(a,s,o){const l=[];let u,c,h,p,m;for(a=t+a.toString(s),h=0,t="",n&&(a.charCodeAt(0)===65279&&h++,n=void 0);h<a.length;){if(LP.lastIndex=h,u=LP.exec(a),p=u&&u.index!==void 0?u.index:a.length,m=a.charCodeAt(p),!u){t=a.slice(h);break}if(m===10&&h===p&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),h<p&&(l.push(a.slice(h,p)),e+=p-h),m){case 0:{l.push(65533),e++;break}case 9:{for(c=Math.ceil(e/4)*4,l.push(-2);e++<c;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:r=!0,e=1}h=p+1}return o&&(r&&l.push(-5),t&&l.push(t),l.push(null)),l}}function $oe(e){for(;!lL(e););return e}function pL(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCharCode(n)}const Voe=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function mL(e){return e.replace(Voe,Woe)}function Woe(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),a=i===120||i===88;return pL(n.slice(a?2:1),a?16:10)}return CE(n)||e}const gL={}.hasOwnProperty,Goe=function(e,t,n){return typeof t!="string"&&(n=t,t=void 0),Hoe(n)($oe(Uoe(n).document().write(joe()(e,t,!0))))};function Hoe(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(xe),autolinkProtocol:K,autolinkEmail:K,atxHeading:o(ve),blockQuote:o(ct),characterEscape:K,characterReference:K,codeFenced:o(yn),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:o(yn,l),codeText:o(St,l),codeTextData:K,data:K,codeFlowValue:K,definition:o(L),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:o(be),hardBreakEscape:o(Q),hardBreakTrailing:o(Q),htmlFlow:o(q,l),htmlFlowData:K,htmlText:o(q,l),htmlTextData:K,image:o(se),label:l,link:o(xe),listItem:o(he),listItemValue:g,listOrdered:o(Se,m),listUnordered:o(Se),paragraph:o(Pe),reference:Te,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:o(ve),strong:o(Be),thematicBreak:o(Ke)},exit:{atxHeading:c(),atxHeadingSequence:N,autolink:c(),autolinkEmail:kt,autolinkProtocol:at,blockQuote:c(),characterEscapeValue:z,characterReferenceMarkerHexadecimal:ft,characterReferenceMarkerNumeric:ft,characterReferenceValue:Ze,codeFenced:c(x),codeFencedFence:w,codeFencedFenceInfo:y,codeFencedFenceMeta:b,codeFlowValue:z,codeIndented:c(k),codeText:c(ue),codeTextData:z,data:z,definition:c(),definitionDestinationString:P,definitionLabelString:_,definitionTitleString:A,emphasis:c(),hardBreakEscape:c(M),hardBreakTrailing:c(M),htmlFlow:c(te),htmlFlowData:z,htmlText:c(X),htmlTextData:z,image:c(ae),label:F,labelText:pe,lineEnding:G,link:c(de),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:Xe,resourceDestinationString:O,resourceTitleString:Ee,resource:Ce,setextHeading:c(W),setextHeadingLineSequence:j,setextHeadingText:B,strong:c(),thematicBreak:c()}};yL(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(D){let E={type:"root",children:[]};const I={stack:[E],tokenStack:[],config:t,enter:u,exit:h,buffer:l,resume:p,setData:a,getData:s},$=[];let J=-1;for(;++J<D.length;)if(D[J][1].type==="listOrdered"||D[J][1].type==="listUnordered")if(D[J][0]==="enter")$.push(J);else{const fe=$.pop();J=i(D,fe,J)}for(J=-1;++J<D.length;){const fe=t[D[J][0]];gL.call(fe,D[J][1].type)&&fe[D[J][1].type].call(Object.assign({sliceSerialize:D[J][2].sliceSerialize},I),D[J][1])}if(I.tokenStack.length>0){const fe=I.tokenStack[I.tokenStack.length-1];(fe[1]||FP).call(I,void 0,fe[0])}for(E.position={start:ds(D.length>0?D[0][1].start:{line:1,column:1,offset:0}),end:ds(D.length>0?D[D.length-2][1].end:{line:1,column:1,offset:0})},J=-1;++J<t.transforms.length;)E=t.transforms[J](E)||E;return E}function i(D,E,I){let $=E-1,J=-1,fe=!1,me,Qe,xt,ut;for(;++$<=I;){const nt=D[$];if(nt[1].type==="listUnordered"||nt[1].type==="listOrdered"||nt[1].type==="blockQuote"?(nt[0]==="enter"?J++:J--,ut=void 0):nt[1].type==="lineEndingBlank"?nt[0]==="enter"&&(me&&!ut&&!J&&!xt&&(xt=$),ut=void 0):nt[1].type==="linePrefix"||nt[1].type==="listItemValue"||nt[1].type==="listItemMarker"||nt[1].type==="listItemPrefix"||nt[1].type==="listItemPrefixWhitespace"||(ut=void 0),!J&&nt[0]==="enter"&&nt[1].type==="listItemPrefix"||J===-1&&nt[0]==="exit"&&(nt[1].type==="listUnordered"||nt[1].type==="listOrdered")){if(me){let wt=$;for(Qe=void 0;wt--;){const Lr=D[wt];if(Lr[1].type==="lineEnding"||Lr[1].type==="lineEndingBlank"){if(Lr[0]==="exit")continue;Qe&&(D[Qe][1].type="lineEndingBlank",fe=!0),Lr[1].type="lineEnding",Qe=wt}else if(!(Lr[1].type==="linePrefix"||Lr[1].type==="blockQuotePrefix"||Lr[1].type==="blockQuotePrefixWhitespace"||Lr[1].type==="blockQuoteMarker"||Lr[1].type==="listItemIndent"))break}xt&&(!Qe||xt<Qe)&&(me._spread=!0),me.end=Object.assign({},Qe?D[Qe][1].start:nt[1].end),D.splice(Qe||$,0,["exit",me,nt[2]]),$++,I++}nt[1].type==="listItemPrefix"&&(me={type:"listItem",_spread:!1,start:Object.assign({},nt[1].start)},D.splice($,0,["enter",me,nt[2]]),$++,I++,xt=void 0,ut=!0)}}return D[E][1]._spread=fe,I}function a(D,E){n[D]=E}function s(D){return n[D]}function o(D,E){return I;function I($){u.call(this,D($),$),E&&E.call(this,$)}}function l(){this.stack.push({type:"fragment",children:[]})}function u(D,E,I){return this.stack[this.stack.length-1].children.push(D),this.stack.push(D),this.tokenStack.push([E,I]),D.position={start:ds(E.start)},D}function c(D){return E;function E(I){D&&D.call(this,I),h.call(this,I)}}function h(D,E){const I=this.stack.pop(),$=this.tokenStack.pop();if($)$[0].type!==D.type&&(E?E.call(this,D,$[0]):($[1]||FP).call(this,D,$[0]));else throw new Error("Cannot close `"+D.type+"` ("+Bd({start:D.start,end:D.end})+"): its not open");return I.position.end=ds(D.end),I}function p(){return Zae(this.stack.pop())}function m(){a("expectingFirstListItemValue",!0)}function g(D){if(s("expectingFirstListItemValue")){const E=this.stack[this.stack.length-2];E.start=Number.parseInt(this.sliceSerialize(D),10),a("expectingFirstListItemValue")}}function y(){const D=this.resume(),E=this.stack[this.stack.length-1];E.lang=D}function b(){const D=this.resume(),E=this.stack[this.stack.length-1];E.meta=D}function w(){s("flowCodeInside")||(this.buffer(),a("flowCodeInside",!0))}function x(){const D=this.resume(),E=this.stack[this.stack.length-1];E.value=D.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),a("flowCodeInside")}function k(){const D=this.resume(),E=this.stack[this.stack.length-1];E.value=D.replace(/(\r?\n|\r)$/g,"")}function _(D){const E=this.resume(),I=this.stack[this.stack.length-1];I.label=E,I.identifier=Vi(this.sliceSerialize(D)).toLowerCase()}function A(){const D=this.resume(),E=this.stack[this.stack.length-1];E.title=D}function P(){const D=this.resume(),E=this.stack[this.stack.length-1];E.url=D}function N(D){const E=this.stack[this.stack.length-1];if(!E.depth){const I=this.sliceSerialize(D).length;E.depth=I}}function B(){a("setextHeadingSlurpLineEnding",!0)}function j(D){const E=this.stack[this.stack.length-1];E.depth=this.sliceSerialize(D).charCodeAt(0)===61?1:2}function W(){a("setextHeadingSlurpLineEnding")}function K(D){const E=this.stack[this.stack.length-1];let I=E.children[E.children.length-1];(!I||I.type!=="text")&&(I=_e(),I.position={start:ds(D.start)},E.children.push(I)),this.stack.push(I)}function z(D){const E=this.stack.pop();E.value+=this.sliceSerialize(D),E.position.end=ds(D.end)}function G(D){const E=this.stack[this.stack.length-1];if(s("atHardBreak")){const I=E.children[E.children.length-1];I.position.end=ds(D.end),a("atHardBreak");return}!s("setextHeadingSlurpLineEnding")&&t.canContainEols.includes(E.type)&&(K.call(this,D),z.call(this,D))}function M(){a("atHardBreak",!0)}function te(){const D=this.resume(),E=this.stack[this.stack.length-1];E.value=D}function X(){const D=this.resume(),E=this.stack[this.stack.length-1];E.value=D}function ue(){const D=this.resume(),E=this.stack[this.stack.length-1];E.value=D}function de(){const D=this.stack[this.stack.length-1];if(s("inReference")){const E=s("referenceType")||"shortcut";D.type+="Reference",D.referenceType=E,delete D.url,delete D.title}else delete D.identifier,delete D.label;a("referenceType")}function ae(){const D=this.stack[this.stack.length-1];if(s("inReference")){const E=s("referenceType")||"shortcut";D.type+="Reference",D.referenceType=E,delete D.url,delete D.title}else delete D.identifier,delete D.label;a("referenceType")}function pe(D){const E=this.sliceSerialize(D),I=this.stack[this.stack.length-2];I.label=mL(E),I.identifier=Vi(E).toLowerCase()}function F(){const D=this.stack[this.stack.length-1],E=this.resume(),I=this.stack[this.stack.length-1];if(a("inReference",!0),I.type==="link"){const $=D.children;I.children=$}else I.alt=E}function O(){const D=this.resume(),E=this.stack[this.stack.length-1];E.url=D}function Ee(){const D=this.resume(),E=this.stack[this.stack.length-1];E.title=D}function Ce(){a("inReference")}function Te(){a("referenceType","collapsed")}function Xe(D){const E=this.resume(),I=this.stack[this.stack.length-1];I.label=E,I.identifier=Vi(this.sliceSerialize(D)).toLowerCase(),a("referenceType","full")}function ft(D){a("characterReferenceType",D.type)}function Ze(D){const E=this.sliceSerialize(D),I=s("characterReferenceType");let $;I?($=pL(E,I==="characterReferenceMarkerNumeric"?10:16),a("characterReferenceType")):$=CE(E);const J=this.stack.pop();J.value+=$,J.position.end=ds(D.end)}function at(D){z.call(this,D);const E=this.stack[this.stack.length-1];E.url=this.sliceSerialize(D)}function kt(D){z.call(this,D);const E=this.stack[this.stack.length-1];E.url="mailto:"+this.sliceSerialize(D)}function ct(){return{type:"blockquote",children:[]}}function yn(){return{type:"code",lang:null,meta:null,value:""}}function St(){return{type:"inlineCode",value:""}}function L(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function be(){return{type:"emphasis",children:[]}}function ve(){return{type:"heading",depth:void 0,children:[]}}function Q(){return{type:"break"}}function q(){return{type:"html",value:""}}function se(){return{type:"image",title:null,url:"",alt:null}}function xe(){return{type:"link",title:null,url:"",children:[]}}function Se(D){return{type:"list",ordered:D.type==="listOrdered",start:null,spread:D._spread,children:[]}}function he(D){return{type:"listItem",spread:D._spread,checked:null,children:[]}}function Pe(){return{type:"paragraph",children:[]}}function Be(){return{type:"strong",children:[]}}function _e(){return{type:"text",value:""}}function Ke(){return{type:"thematicBreak"}}}function ds(e){return{line:e.line,column:e.column,offset:e.offset}}function yL(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?yL(e,r):qoe(e,r)}}function qoe(e,t){let n;for(n in t)if(gL.call(t,n)){if(n==="canContainEols"){const r=t[n];r&&e[n].push(...r)}else if(n==="transforms"){const r=t[n];r&&e[n].push(...r)}else if(n==="enter"||n==="exit"){const r=t[n];r&&Object.assign(e[n],r)}}}function FP(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Bd({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Bd({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Bd({start:t.start,end:t.end})+") is still open")}function Koe(e){Object.assign(this,{Parser:n=>{const r=this.data("settings");return Goe(n,Object.assign({},r,e,{extensions:this.data("micromarkExtensions")||[],mdastExtensions:this.data("fromMarkdownExtensions")||[]}))}})}function Yoe(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function Xoe(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function Qoe(e,t){const n=t.value?t.value+`
`:"",r=t.lang?t.lang.match(/^[^ \t]+(?=[ \t]|$)/):null,i={};r&&(i.className=["language-"+r]);let a={type:"element",tagName:"code",properties:i,children:[{type:"text",value:n}]};return t.meta&&(a.data={meta:t.meta}),e.patch(t,a),a=e.applyData(t,a),a={type:"element",tagName:"pre",properties:{},children:[a]},e.patch(t,a),a}function Zoe(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Joe(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function ac(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const a=e.charCodeAt(n);let s="";if(a===37&&lr(e.charCodeAt(n+1))&&lr(e.charCodeAt(n+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(s=String.fromCharCode(a));else if(a>55295&&a<57344){const o=e.charCodeAt(n+1);a<56320&&o>56319&&o<57344?(s=String.fromCharCode(a,o),i=1):s=""}else s=String.fromCharCode(a);s&&(t.push(e.slice(r,n),encodeURIComponent(s)),r=n+i+1,s=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function vL(e,t){const n=String(t.identifier).toUpperCase(),r=ac(n.toLowerCase()),i=e.footnoteOrder.indexOf(n);let a;i===-1?(e.footnoteOrder.push(n),e.footnoteCounts[n]=1,a=e.footnoteOrder.length):(e.footnoteCounts[n]++,a=i+1);const s=e.footnoteCounts[n],o={type:"element",tagName:"a",properties:{href:"#"+e.clobberPrefix+"fn-"+r,id:e.clobberPrefix+"fnref-"+r+(s>1?"-"+s:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};e.patch(t,o);const l={type:"element",tagName:"sup",properties:{},children:[o]};return e.patch(t,l),e.applyData(t,l)}function ele(e,t){const n=e.footnoteById;let r=1;for(;r in n;)r++;const i=String(r);return n[i]={type:"footnoteDefinition",identifier:i,children:[{type:"paragraph",children:t.children}],position:t.position},vL(e,{type:"footnoteReference",identifier:i,position:t.position})}function tle(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function nle(e,t){if(e.dangerous){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}return null}function wL(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return{type:"text",value:"!["+t.alt+r};const i=e.all(t),a=i[0];a&&a.type==="text"?a.value="["+a.value:i.unshift({type:"text",value:"["});const s=i[i.length-1];return s&&s.type==="text"?s.value+=r:i.push({type:"text",value:r}),i}function rle(e,t){const n=e.definition(t.identifier);if(!n)return wL(e,t);const r={src:ac(n.url||""),alt:t.alt};n.title!==null&&n.title!==void 0&&(r.title=n.title);const i={type:"element",tagName:"img",properties:r,children:[]};return e.patch(t,i),e.applyData(t,i)}function ile(e,t){const n={src:ac(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function ale(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function sle(e,t){const n=e.definition(t.identifier);if(!n)return wL(e,t);const r={href:ac(n.url||"")};n.title!==null&&n.title!==void 0&&(r.title=n.title);const i={type:"element",tagName:"a",properties:r,children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function ole(e,t){const n={href:ac(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function lle(e,t,n){const r=e.all(t),i=n?ule(n):bL(t),a={},s=[];if(typeof t.checked=="boolean"){const c=r[0];let h;c&&c.type==="element"&&c.tagName==="p"?h=c:(h={type:"element",tagName:"p",properties:{},children:[]},r.unshift(h)),h.children.length>0&&h.children.unshift({type:"text",value:" "}),h.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let o=-1;for(;++o<r.length;){const c=r[o];(i||o!==0||c.type!=="element"||c.tagName!=="p")&&s.push({type:"text",value:`
`}),c.type==="element"&&c.tagName==="p"&&!i?s.push(...c.children):s.push(c)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&s.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:a,children:s};return e.patch(t,u),e.applyData(t,u)}function ule(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=bL(n[r])}return t}function bL(e){const t=e.spread;return t??e.children.length>1}function cle(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const s=r[i];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const a={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,a),e.applyData(t,a)}function dle(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function hle(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function fle(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const TE=xL("start"),_E=xL("end");function ple(e){return{start:TE(e),end:_E(e)}}function xL(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};return{line:r.line||null,column:r.column||null,offset:r.offset>-1?r.offset:null}}}function mle(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const s={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],s),i.push(s)}if(n.length>0){const s={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},o=TE(t.children[1]),l=_E(t.children[t.children.length-1]);o.line&&l.line&&(s.position={start:o,end:l}),i.push(s)}const a={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,a),e.applyData(t,a)}function gle(e,t,n){const r=n?n.children:void 0,a=(r?r.indexOf(t):1)===0?"th":"td",s=n&&n.type==="table"?n.align:void 0,o=s?s.length:t.children.length;let l=-1;const u=[];for(;++l<o;){const h=t.children[l],p={},m=s?s[l]:void 0;m&&(p.align=m);let g={type:"element",tagName:a,properties:p,children:[]};h&&(g.children=e.all(h),e.patch(h,g),g=e.applyData(t,g)),u.push(g)}const c={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,c),e.applyData(t,c)}function yle(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const BP=9,zP=32;function vle(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const a=[];for(;r;)a.push(UP(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return a.push(UP(t.slice(i),i>0,!1)),a.join("")}function UP(e,t,n){let r=0,i=e.length;if(t){let a=e.codePointAt(r);for(;a===BP||a===zP;)r++,a=e.codePointAt(r)}if(n){let a=e.codePointAt(i-1);for(;a===BP||a===zP;)i--,a=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function wle(e,t){const n={type:"text",value:vle(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function ble(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const xle={blockquote:Yoe,break:Xoe,code:Qoe,delete:Zoe,emphasis:Joe,footnoteReference:vL,footnote:ele,heading:tle,html:nle,imageReference:rle,image:ile,inlineCode:ale,linkReference:sle,link:ole,listItem:lle,list:cle,paragraph:dle,root:hle,strong:fle,table:mle,tableCell:yle,tableRow:gle,text:wle,thematicBreak:ble,toml:qp,yaml:qp,definition:qp,footnoteDefinition:qp};function qp(){return null}const IE=function(e){if(e==null)return Ele;if(typeof e=="string")return Cle(e);if(typeof e=="object")return Array.isArray(e)?kle(e):Sle(e);if(typeof e=="function")return Oy(e);throw new Error("Expected function, string, or object as test")};function kle(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=IE(e[n]);return Oy(r);function r(...i){let a=-1;for(;++a<t.length;)if(t[a].call(this,...i))return!0;return!1}}function Sle(e){return Oy(t);function t(n){let r;for(r in e)if(n[r]!==e[r])return!1;return!0}}function Cle(e){return Oy(t);function t(n){return n&&n.type===e}}function Oy(e){return t;function t(n,...r){return!!(n&&typeof n=="object"&&"type"in n&&e.call(this,n,...r))}}function Ele(){return!0}const Tle=!0,jP=!1,_le="skip",kL=function(e,t,n,r){typeof t=="function"&&typeof n!="function"&&(r=n,n=t,t=null);const i=IE(t),a=r?-1:1;s(e,void 0,[])();function s(o,l,u){const c=o&&typeof o=="object"?o:{};if(typeof c.type=="string"){const p=typeof c.tagName=="string"?c.tagName:typeof c.name=="string"?c.name:void 0;Object.defineProperty(h,"name",{value:"node ("+(o.type+(p?"<"+p+">":""))+")"})}return h;function h(){let p=[],m,g,y;if((!t||i(o,l,u[u.length-1]||null))&&(p=Ile(n(o,u)),p[0]===jP))return p;if(o.children&&p[0]!==_le)for(g=(r?o.children.length:-1)+a,y=u.concat(o);g>-1&&g<o.children.length;){if(m=s(o.children[g],g,y)(),m[0]===jP)return m;g=typeof m[1]=="number"?m[1]:g+a}return p}}};function Ile(e){return Array.isArray(e)?e:typeof e=="number"?[Tle,e]:[e]}const PE=function(e,t,n,r){typeof t=="function"&&typeof n!="function"&&(r=n,n=t,t=null),kL(e,t,i,r);function i(a,s){const o=s[s.length-1];return n(a,o?o.children.indexOf(a):null,o)}};function Ple(e){return!e||!e.position||!e.position.start||!e.position.start.line||!e.position.start.column||!e.position.end||!e.position.end.line||!e.position.end.column}const $P={}.hasOwnProperty;function Ale(e){const t=Object.create(null);if(!e||!e.type)throw new Error("mdast-util-definitions expected node");return PE(e,"definition",r=>{const i=VP(r.identifier);i&&!$P.call(t,i)&&(t[i]=r)}),n;function n(r){const i=VP(r);return i&&$P.call(t,i)?t[i]:null}}function VP(e){return String(e||"").toUpperCase()}const C0={}.hasOwnProperty;function Rle(e,t){const n=t||{},r=n.allowDangerousHtml||!1,i={};return s.dangerous=r,s.clobberPrefix=n.clobberPrefix===void 0||n.clobberPrefix===null?"user-content-":n.clobberPrefix,s.footnoteLabel=n.footnoteLabel||"Footnotes",s.footnoteLabelTagName=n.footnoteLabelTagName||"h2",s.footnoteLabelProperties=n.footnoteLabelProperties||{className:["sr-only"]},s.footnoteBackLabel=n.footnoteBackLabel||"Back to content",s.unknownHandler=n.unknownHandler,s.passThrough=n.passThrough,s.handlers={...xle,...n.handlers},s.definition=Ale(e),s.footnoteById=i,s.footnoteOrder=[],s.footnoteCounts={},s.patch=Dle,s.applyData=Nle,s.one=o,s.all=l,s.wrap=Ole,s.augment=a,PE(e,"footnoteDefinition",u=>{const c=String(u.identifier).toUpperCase();C0.call(i,c)||(i[c]=u)}),s;function a(u,c){if(u&&"data"in u&&u.data){const h=u.data;h.hName&&(c.type!=="element"&&(c={type:"element",tagName:"",properties:{},children:[]}),c.tagName=h.hName),c.type==="element"&&h.hProperties&&(c.properties={...c.properties,...h.hProperties}),"children"in c&&c.children&&h.hChildren&&(c.children=h.hChildren)}if(u){const h="type"in u?u:{position:u};Ple(h)||(c.position={start:TE(h),end:_E(h)})}return c}function s(u,c,h,p){return Array.isArray(h)&&(p=h,h={}),a(u,{type:"element",tagName:c,properties:h||{},children:p||[]})}function o(u,c){return SL(s,u,c)}function l(u){return AE(s,u)}}function Dle(e,t){e.position&&(t.position=ple(e))}function Nle(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,a=e.data.hProperties;typeof r=="string"&&(n.type==="element"?n.tagName=r:n={type:"element",tagName:r,properties:{},children:[]}),n.type==="element"&&a&&(n.properties={...n.properties,...a}),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function SL(e,t,n){const r=t&&t.type;if(!r)throw new Error("Expected node, got `"+t+"`");return C0.call(e.handlers,r)?e.handlers[r](e,t,n):e.passThrough&&e.passThrough.includes(r)?"children"in t?{...t,children:AE(e,t)}:t:e.unknownHandler?e.unknownHandler(e,t,n):Mle(e,t)}function AE(e,t){const n=[];if("children"in t){const r=t.children;let i=-1;for(;++i<r.length;){const a=SL(e,r[i],t);if(a){if(i&&r[i-1].type==="break"&&(!Array.isArray(a)&&a.type==="text"&&(a.value=a.value.replace(/^\s+/,"")),!Array.isArray(a)&&a.type==="element")){const s=a.children[0];s&&s.type==="text"&&(s.value=s.value.replace(/^\s+/,""))}Array.isArray(a)?n.push(...a):n.push(a)}}}return n}function Mle(e,t){const n=t.data||{},r="value"in t&&!(C0.call(n,"hProperties")||C0.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:AE(e,t)};return e.patch(t,r),e.applyData(t,r)}function Ole(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function Lle(e){const t=[];let n=-1;for(;++n<e.footnoteOrder.length;){const r=e.footnoteById[e.footnoteOrder[n]];if(!r)continue;const i=e.all(r),a=String(r.identifier).toUpperCase(),s=ac(a.toLowerCase());let o=0;const l=[];for(;++o<=e.footnoteCounts[a];){const h={type:"element",tagName:"a",properties:{href:"#"+e.clobberPrefix+"fnref-"+s+(o>1?"-"+o:""),dataFootnoteBackref:!0,className:["data-footnote-backref"],ariaLabel:e.footnoteBackLabel},children:[{type:"text",value:""}]};o>1&&h.children.push({type:"element",tagName:"sup",children:[{type:"text",value:String(o)}]}),l.length>0&&l.push({type:"text",value:" "}),l.push(h)}const u=i[i.length-1];if(u&&u.type==="element"&&u.tagName==="p"){const h=u.children[u.children.length-1];h&&h.type==="text"?h.value+=" ":u.children.push({type:"text",value:" "}),u.children.push(...l)}else i.push(...l);const c={type:"element",tagName:"li",properties:{id:e.clobberPrefix+"fn-"+s},children:e.wrap(i,!0)};e.patch(r,c),t.push(c)}if(t.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:e.footnoteLabelTagName,properties:{...JSON.parse(JSON.stringify(e.footnoteLabelProperties)),id:"footnote-label"},children:[{type:"text",value:e.footnoteLabel}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(t,!0)},{type:"text",value:`
`}]}}function CL(e,t){const n=Rle(e,t),r=n.one(e,null),i=Lle(n);return i&&r.children.push({type:"text",value:`
`},i),Array.isArray(r)?{type:"root",children:r}:r}const Fle=function(e,t){return e&&"run"in e?zle(e,t):Ule(e||t)},Ble=Fle;function zle(e,t){return(n,r,i)=>{e.run(CL(n,t),r,a=>{i(a)})}}function Ule(e){return t=>CL(t,e)}var EL={exports:{}},jle="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",$le=jle,Vle=$le;function TL(){}function _L(){}_L.resetWarningCache=TL;var Wle=function(){function e(r,i,a,s,o,l){if(l!==Vle){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:_L,resetWarningCache:TL};return n.PropTypes=n,n};EL.exports=Wle();var Gle=EL.exports;const st=Gi(Gle);class tf{constructor(t,n,r){this.property=t,this.normal=n,r&&(this.space=r)}}tf.prototype.property={};tf.prototype.normal={};tf.prototype.space=null;function IL(e,t){const n={},r={};let i=-1;for(;++i<e.length;)Object.assign(n,e[i].property),Object.assign(r,e[i].normal);return new tf(n,r,t)}function Fk(e){return e.toLowerCase()}class Si{constructor(t,n){this.property=t,this.attribute=n}}Si.prototype.space=null;Si.prototype.boolean=!1;Si.prototype.booleanish=!1;Si.prototype.overloadedBoolean=!1;Si.prototype.number=!1;Si.prototype.commaSeparated=!1;Si.prototype.spaceSeparated=!1;Si.prototype.commaOrSpaceSeparated=!1;Si.prototype.mustUseProperty=!1;Si.prototype.defined=!1;let Hle=0;const ht=cl(),Sn=cl(),PL=cl(),Re=cl(),Jt=cl(),bu=cl(),zr=cl();function cl(){return 2**++Hle}const Bk=Object.freeze(Object.defineProperty({__proto__:null,boolean:ht,booleanish:Sn,commaOrSpaceSeparated:zr,commaSeparated:bu,number:Re,overloadedBoolean:PL,spaceSeparated:Jt},Symbol.toStringTag,{value:"Module"})),rb=Object.keys(Bk);class RE extends Si{constructor(t,n,r,i){let a=-1;if(super(t,n),WP(this,"space",i),typeof r=="number")for(;++a<rb.length;){const s=rb[a];WP(this,rb[a],(r&Bk[s])===Bk[s])}}}RE.prototype.defined=!0;function WP(e,t,n){n&&(e[t]=n)}const qle={}.hasOwnProperty;function sc(e){const t={},n={};let r;for(r in e.properties)if(qle.call(e.properties,r)){const i=e.properties[r],a=new RE(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),t[r]=a,n[Fk(r)]=r,n[Fk(a.attribute)]=r}return new tf(t,n,e.space)}const AL=sc({space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),RL=sc({space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function DL(e,t){return t in e?e[t]:t}function NL(e,t){return DL(e,t.toLowerCase())}const ML=sc({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:NL,properties:{xmlns:null,xmlnsXLink:null}}),OL=sc({transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:Sn,ariaAutoComplete:null,ariaBusy:Sn,ariaChecked:Sn,ariaColCount:Re,ariaColIndex:Re,ariaColSpan:Re,ariaControls:Jt,ariaCurrent:null,ariaDescribedBy:Jt,ariaDetails:null,ariaDisabled:Sn,ariaDropEffect:Jt,ariaErrorMessage:null,ariaExpanded:Sn,ariaFlowTo:Jt,ariaGrabbed:Sn,ariaHasPopup:null,ariaHidden:Sn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Jt,ariaLevel:Re,ariaLive:null,ariaModal:Sn,ariaMultiLine:Sn,ariaMultiSelectable:Sn,ariaOrientation:null,ariaOwns:Jt,ariaPlaceholder:null,ariaPosInSet:Re,ariaPressed:Sn,ariaReadOnly:Sn,ariaRelevant:null,ariaRequired:Sn,ariaRoleDescription:Jt,ariaRowCount:Re,ariaRowIndex:Re,ariaRowSpan:Re,ariaSelected:Sn,ariaSetSize:Re,ariaSort:null,ariaValueMax:Re,ariaValueMin:Re,ariaValueNow:Re,ariaValueText:null,role:null}}),Kle=sc({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:NL,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:bu,acceptCharset:Jt,accessKey:Jt,action:null,allow:null,allowFullScreen:ht,allowPaymentRequest:ht,allowUserMedia:ht,alt:null,as:null,async:ht,autoCapitalize:null,autoComplete:Jt,autoFocus:ht,autoPlay:ht,capture:ht,charSet:null,checked:ht,cite:null,className:Jt,cols:Re,colSpan:null,content:null,contentEditable:Sn,controls:ht,controlsList:Jt,coords:Re|bu,crossOrigin:null,data:null,dateTime:null,decoding:null,default:ht,defer:ht,dir:null,dirName:null,disabled:ht,download:PL,draggable:Sn,encType:null,enterKeyHint:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:ht,formTarget:null,headers:Jt,height:Re,hidden:ht,high:Re,href:null,hrefLang:null,htmlFor:Jt,httpEquiv:Jt,id:null,imageSizes:null,imageSrcSet:null,inputMode:null,integrity:null,is:null,isMap:ht,itemId:null,itemProp:Jt,itemRef:Jt,itemScope:ht,itemType:Jt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:ht,low:Re,manifest:null,max:null,maxLength:Re,media:null,method:null,min:null,minLength:Re,multiple:ht,muted:ht,name:null,nonce:null,noModule:ht,noValidate:ht,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:ht,optimum:Re,pattern:null,ping:Jt,placeholder:null,playsInline:ht,poster:null,preload:null,readOnly:ht,referrerPolicy:null,rel:Jt,required:ht,reversed:ht,rows:Re,rowSpan:Re,sandbox:Jt,scope:null,scoped:ht,seamless:ht,selected:ht,shape:null,size:Re,sizes:null,slot:null,span:Re,spellCheck:Sn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Re,step:null,style:null,tabIndex:Re,target:null,title:null,translate:null,type:null,typeMustMatch:ht,useMap:null,value:Sn,width:Re,wrap:null,align:null,aLink:null,archive:Jt,axis:null,background:null,bgColor:null,border:Re,borderColor:null,bottomMargin:Re,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:ht,declare:ht,event:null,face:null,frame:null,frameBorder:null,hSpace:Re,leftMargin:Re,link:null,longDesc:null,lowSrc:null,marginHeight:Re,marginWidth:Re,noResize:ht,noHref:ht,noShade:ht,noWrap:ht,object:null,profile:null,prompt:null,rev:null,rightMargin:Re,rules:null,scheme:null,scrolling:Sn,standby:null,summary:null,text:null,topMargin:Re,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Re,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:ht,disableRemotePlayback:ht,prefix:null,property:null,results:Re,security:null,unselectable:null}}),Yle=sc({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:DL,properties:{about:zr,accentHeight:Re,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Re,amplitude:Re,arabicForm:null,ascent:Re,attributeName:null,attributeType:null,azimuth:Re,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Re,by:null,calcMode:null,capHeight:Re,className:Jt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Re,diffuseConstant:Re,direction:null,display:null,dur:null,divisor:Re,dominantBaseline:null,download:ht,dx:null,dy:null,edgeMode:null,editable:null,elevation:Re,enableBackground:null,end:null,event:null,exponent:Re,externalResourcesRequired:null,fill:null,fillOpacity:Re,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:bu,g2:bu,glyphName:bu,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Re,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Re,horizOriginX:Re,horizOriginY:Re,id:null,ideographic:Re,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Re,k:Re,k1:Re,k2:Re,k3:Re,k4:Re,kernelMatrix:zr,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Re,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Re,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Re,overlineThickness:Re,paintOrder:null,panose1:null,path:null,pathLength:Re,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Jt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Re,pointsAtY:Re,pointsAtZ:Re,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:zr,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:zr,rev:zr,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:zr,requiredFeatures:zr,requiredFonts:zr,requiredFormats:zr,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Re,specularExponent:Re,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Re,strikethroughThickness:Re,string:null,stroke:null,strokeDashArray:zr,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Re,strokeOpacity:Re,strokeWidth:null,style:null,surfaceScale:Re,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:zr,tabIndex:Re,tableValues:null,target:null,targetX:Re,targetY:Re,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:zr,to:null,transform:null,u1:null,u2:null,underlinePosition:Re,underlineThickness:Re,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Re,values:null,vAlphabetic:Re,vMathematical:Re,vectorEffect:null,vHanging:Re,vIdeographic:Re,version:null,vertAdvY:Re,vertOriginX:Re,vertOriginY:Re,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Re,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),Xle=/^data[-\w.:]+$/i,GP=/-[a-z]/g,Qle=/[A-Z]/g;function Zle(e,t){const n=Fk(t);let r=t,i=Si;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&Xle.test(t)){if(t.charAt(4)==="-"){const a=t.slice(5).replace(GP,eue);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=t.slice(4);if(!GP.test(a)){let s=a.replace(Qle,Jle);s.charAt(0)!=="-"&&(s="-"+s),t="data"+s}}i=RE}return new i(r,t)}function Jle(e){return"-"+e.toLowerCase()}function eue(e){return e.charAt(1).toUpperCase()}const HP={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},tue=IL([RL,AL,ML,OL,Kle],"html"),nue=IL([RL,AL,ML,OL,Yle],"svg");function rue(e){if(e.allowedElements&&e.disallowedElements)throw new TypeError("Only one of `allowedElements` and `disallowedElements` should be defined");if(e.allowedElements||e.disallowedElements||e.allowElement)return t=>{PE(t,"element",(n,r,i)=>{const a=i;let s;if(e.allowedElements?s=!e.allowedElements.includes(n.tagName):e.disallowedElements&&(s=e.disallowedElements.includes(n.tagName)),!s&&e.allowElement&&typeof r=="number"&&(s=!e.allowElement(n,r,a)),s&&typeof r=="number")return e.unwrapDisallowed&&n.children?a.children.splice(r,1,...n.children):a.children.splice(r,1),r})}}var LL={exports:{}},Ft={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DE=Symbol.for("react.element"),NE=Symbol.for("react.portal"),Ly=Symbol.for("react.fragment"),Fy=Symbol.for("react.strict_mode"),By=Symbol.for("react.profiler"),zy=Symbol.for("react.provider"),Uy=Symbol.for("react.context"),iue=Symbol.for("react.server_context"),jy=Symbol.for("react.forward_ref"),$y=Symbol.for("react.suspense"),Vy=Symbol.for("react.suspense_list"),Wy=Symbol.for("react.memo"),Gy=Symbol.for("react.lazy"),aue=Symbol.for("react.offscreen"),FL;FL=Symbol.for("react.module.reference");function Ci(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case DE:switch(e=e.type,e){case Ly:case By:case Fy:case $y:case Vy:return e;default:switch(e=e&&e.$$typeof,e){case iue:case Uy:case jy:case Gy:case Wy:case zy:return e;default:return t}}case NE:return t}}}Ft.ContextConsumer=Uy;Ft.ContextProvider=zy;Ft.Element=DE;Ft.ForwardRef=jy;Ft.Fragment=Ly;Ft.Lazy=Gy;Ft.Memo=Wy;Ft.Portal=NE;Ft.Profiler=By;Ft.StrictMode=Fy;Ft.Suspense=$y;Ft.SuspenseList=Vy;Ft.isAsyncMode=function(){return!1};Ft.isConcurrentMode=function(){return!1};Ft.isContextConsumer=function(e){return Ci(e)===Uy};Ft.isContextProvider=function(e){return Ci(e)===zy};Ft.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===DE};Ft.isForwardRef=function(e){return Ci(e)===jy};Ft.isFragment=function(e){return Ci(e)===Ly};Ft.isLazy=function(e){return Ci(e)===Gy};Ft.isMemo=function(e){return Ci(e)===Wy};Ft.isPortal=function(e){return Ci(e)===NE};Ft.isProfiler=function(e){return Ci(e)===By};Ft.isStrictMode=function(e){return Ci(e)===Fy};Ft.isSuspense=function(e){return Ci(e)===$y};Ft.isSuspenseList=function(e){return Ci(e)===Vy};Ft.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Ly||e===By||e===Fy||e===$y||e===Vy||e===aue||typeof e=="object"&&e!==null&&(e.$$typeof===Gy||e.$$typeof===Wy||e.$$typeof===zy||e.$$typeof===Uy||e.$$typeof===jy||e.$$typeof===FL||e.getModuleId!==void 0)};Ft.typeOf=Ci;LL.exports=Ft;var sue=LL.exports;const oue=Gi(sue);function lue(e){const t=e&&typeof e=="object"&&e.type==="text"?e.value||"":e;return typeof t=="string"&&t.replace(/[ \t\n\f\r]/g,"")===""}function uue(e){return e.join(" ").trim()}function cue(e,t){const n=t||{};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}var ME={exports:{}},qP=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,due=/\n/g,hue=/^\s*/,fue=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,pue=/^:\s*/,mue=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,gue=/^[;\s]*/,yue=/^\s+|\s+$/g,vue=`
`,KP="/",YP="*",Eo="",wue="comment",bue="declaration",xue=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(g){var y=g.match(due);y&&(n+=y.length);var b=g.lastIndexOf(vue);r=~b?g.length-b:r+g.length}function a(){var g={line:n,column:r};return function(y){return y.position=new s(g),u(),y}}function s(g){this.start=g,this.end={line:n,column:r},this.source=t.source}s.prototype.content=e;function o(g){var y=new Error(t.source+":"+n+":"+r+": "+g);if(y.reason=g,y.filename=t.source,y.line=n,y.column=r,y.source=e,!t.silent)throw y}function l(g){var y=g.exec(e);if(y){var b=y[0];return i(b),e=e.slice(b.length),y}}function u(){l(hue)}function c(g){var y;for(g=g||[];y=h();)y!==!1&&g.push(y);return g}function h(){var g=a();if(!(KP!=e.charAt(0)||YP!=e.charAt(1))){for(var y=2;Eo!=e.charAt(y)&&(YP!=e.charAt(y)||KP!=e.charAt(y+1));)++y;if(y+=2,Eo===e.charAt(y-1))return o("End of comment missing");var b=e.slice(2,y-2);return r+=2,i(b),e=e.slice(y),r+=2,g({type:wue,comment:b})}}function p(){var g=a(),y=l(fue);if(y){if(h(),!l(pue))return o("property missing ':'");var b=l(mue),w=g({type:bue,property:XP(y[0].replace(qP,Eo)),value:b?XP(b[0].replace(qP,Eo)):Eo});return l(gue),w}}function m(){var g=[];c(g);for(var y;y=p();)y!==!1&&(g.push(y),c(g));return g}return u(),m()};function XP(e){return e?e.replace(yue,Eo):Eo}var kue=xue;function BL(e,t){var n=null;if(!e||typeof e!="string")return n;for(var r,i=kue(e),a=typeof t=="function",s,o,l=0,u=i.length;l<u;l++)r=i[l],s=r.property,o=r.value,a?t(s,o,r):o&&(n||(n={}),n[s]=o);return n}ME.exports=BL;ME.exports.default=BL;var Sue=ME.exports;const Cue=Gi(Sue),zk={}.hasOwnProperty,Eue=new Set(["table","thead","tbody","tfoot","tr"]);function zL(e,t){const n=[];let r=-1,i;for(;++r<t.children.length;)i=t.children[r],i.type==="element"?n.push(Tue(e,i,r,t)):i.type==="text"?(t.type!=="element"||!Eue.has(t.tagName)||!lue(i))&&n.push(i.value):i.type==="raw"&&!e.options.skipHtml&&n.push(i.value);return n}function Tue(e,t,n,r){const i=e.options,a=i.transformLinkUri===void 0?Rae:i.transformLinkUri,s=e.schema,o=t.tagName,l={};let u=s,c;if(s.space==="html"&&o==="svg"&&(u=nue,e.schema=u),t.properties)for(c in t.properties)zk.call(t.properties,c)&&Iue(l,c,t.properties[c],e);(o==="ol"||o==="ul")&&e.listDepth++;const h=zL(e,t);(o==="ol"||o==="ul")&&e.listDepth--,e.schema=s;const p=t.position||{start:{line:null,column:null,offset:null},end:{line:null,column:null,offset:null}},m=i.components&&zk.call(i.components,o)?i.components[o]:o,g=typeof m=="string"||m===$e.Fragment;if(!oue.isValidElementType(m))throw new TypeError(`Component for name \`${o}\` not defined or is not renderable`);if(l.key=n,o==="a"&&i.linkTarget&&(l.target=typeof i.linkTarget=="function"?i.linkTarget(String(l.href||""),t.children,typeof l.title=="string"?l.title:null):i.linkTarget),o==="a"&&a&&(l.href=a(String(l.href||""),t.children,typeof l.title=="string"?l.title:null)),!g&&o==="code"&&r.type==="element"&&r.tagName!=="pre"&&(l.inline=!0),!g&&(o==="h1"||o==="h2"||o==="h3"||o==="h4"||o==="h5"||o==="h6")&&(l.level=Number.parseInt(o.charAt(1),10)),o==="img"&&i.transformImageUri&&(l.src=i.transformImageUri(String(l.src||""),String(l.alt||""),typeof l.title=="string"?l.title:null)),!g&&o==="li"&&r.type==="element"){const y=_ue(t);l.checked=y&&y.properties?!!y.properties.checked:null,l.index=ib(r,t),l.ordered=r.tagName==="ol"}return!g&&(o==="ol"||o==="ul")&&(l.ordered=o==="ol",l.depth=e.listDepth),(o==="td"||o==="th")&&(l.align&&(l.style||(l.style={}),l.style.textAlign=l.align,delete l.align),g||(l.isHeader=o==="th")),!g&&o==="tr"&&r.type==="element"&&(l.isHeader=r.tagName==="thead"),i.sourcePos&&(l["data-sourcepos"]=Rue(p)),!g&&i.rawSourcePos&&(l.sourcePosition=t.position),!g&&i.includeElementIndex&&(l.index=ib(r,t),l.siblingCount=ib(r)),g||(l.node=t),h.length>0?$e.createElement(m,l,h):$e.createElement(m,l)}function _ue(e){let t=-1;for(;++t<e.children.length;){const n=e.children[t];if(n.type==="element"&&n.tagName==="input")return n}return null}function ib(e,t){let n=-1,r=0;for(;++n<e.children.length&&e.children[n]!==t;)e.children[n].type==="element"&&r++;return r}function Iue(e,t,n,r){const i=Zle(r.schema,t);let a=n;a==null||a!==a||(Array.isArray(a)&&(a=i.commaSeparated?cue(a):uue(a)),i.property==="style"&&typeof a=="string"&&(a=Pue(a)),i.space&&i.property?e[zk.call(HP,i.property)?HP[i.property]:i.property]=a:i.attribute&&(e[i.attribute]=a))}function Pue(e){const t={};try{Cue(e,n)}catch{}return t;function n(r,i){const a=r.slice(0,4)==="-ms-"?`ms-${r.slice(4)}`:r;t[a.replace(/-([a-z])/g,Aue)]=i}}function Aue(e,t){return t.toUpperCase()}function Rue(e){return[e.start.line,":",e.start.column,"-",e.end.line,":",e.end.column].map(String).join("")}const QP={}.hasOwnProperty,Due="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Kp={plugins:{to:"remarkPlugins",id:"change-plugins-to-remarkplugins"},renderers:{to:"components",id:"change-renderers-to-components"},astPlugins:{id:"remove-buggy-html-in-markdown-parser"},allowDangerousHtml:{id:"remove-buggy-html-in-markdown-parser"},escapeHtml:{id:"remove-buggy-html-in-markdown-parser"},source:{to:"children",id:"change-source-to-children"},allowNode:{to:"allowElement",id:"replace-allownode-allowedtypes-and-disallowedtypes"},allowedTypes:{to:"allowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},disallowedTypes:{to:"disallowedElements",id:"replace-allownode-allowedtypes-and-disallowedtypes"},includeNodeIndex:{to:"includeElementIndex",id:"change-includenodeindex-to-includeelementindex"}};function UL(e){for(const a in Kp)if(QP.call(Kp,a)&&QP.call(e,a)){const s=Kp[a];console.warn(`[react-markdown] Warning: please ${s.to?`use \`${s.to}\` instead of`:"remove"} \`${a}\` (see <${Due}#${s.id}> for more info)`),delete Kp[a]}const t=qae().use(Koe).use(e.remarkPlugins||[]).use(Ble,{...e.remarkRehypeOptions,allowDangerousHtml:!0}).use(e.rehypePlugins||[]).use(rue,e),n=new J6;typeof e.children=="string"?n.value=e.children:e.children!==void 0&&e.children!==null&&console.warn(`[react-markdown] Warning: please pass a string as \`children\` (not: \`${e.children}\`)`);const r=t.runSync(t.parse(n),n);if(r.type!=="root")throw new TypeError("Expected a `root` node");let i=$e.createElement($e.Fragment,{},zL({options:e,schema:tue,listDepth:0},r));return e.className&&(i=$e.createElement("div",{className:e.className},i)),i}UL.propTypes={children:st.string,className:st.string,allowElement:st.func,allowedElements:st.arrayOf(st.string),disallowedElements:st.arrayOf(st.string),unwrapDisallowed:st.bool,remarkPlugins:st.arrayOf(st.oneOfType([st.object,st.func,st.arrayOf(st.oneOfType([st.bool,st.string,st.object,st.func,st.arrayOf(st.any)]))])),rehypePlugins:st.arrayOf(st.oneOfType([st.object,st.func,st.arrayOf(st.oneOfType([st.bool,st.string,st.object,st.func,st.arrayOf(st.any)]))])),sourcePos:st.bool,rawSourcePos:st.bool,skipHtml:st.bool,includeElementIndex:st.bool,transformLinkUri:st.oneOfType([st.func,st.bool]),linkTarget:st.oneOfType([st.func,st.string]),transformImageUri:st.func,components:st.object};const Nue={tokenize:zue,partial:!0},jL={tokenize:Uue,partial:!0},$L={tokenize:jue,partial:!0},VL={tokenize:$ue,partial:!0},Mue={tokenize:Vue,partial:!0},WL={tokenize:Fue,previous:HL},GL={tokenize:Bue,previous:qL},Xa={tokenize:Lue,previous:KL},ba={},Oue={text:ba};let go=48;for(;go<123;)ba[go]=Xa,go++,go===58?go=65:go===91&&(go=97);ba[43]=Xa;ba[45]=Xa;ba[46]=Xa;ba[95]=Xa;ba[72]=[Xa,GL];ba[104]=[Xa,GL];ba[87]=[Xa,WL];ba[119]=[Xa,WL];function Lue(e,t,n){const r=this;let i,a;return s;function s(h){return!Uk(h)||!KL.call(r,r.previous)||OE(r.events)?n(h):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),o(h))}function o(h){return Uk(h)?(e.consume(h),o):h===64?(e.consume(h),l):n(h)}function l(h){return h===46?e.check(Mue,c,u)(h):h===45||h===95||lr(h)?(a=!0,e.consume(h),l):c(h)}function u(h){return e.consume(h),i=!0,l}function c(h){return a&&i&&mr(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(h)):n(h)}}function Fue(e,t,n){const r=this;return i;function i(s){return s!==87&&s!==119||!HL.call(r,r.previous)||OE(r.events)?n(s):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(Nue,e.attempt(jL,e.attempt($L,a),n),n)(s))}function a(s){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(s)}}function Bue(e,t,n){const r=this;let i="",a=!1;return s;function s(h){return(h===72||h===104)&&qL.call(r,r.previous)&&!OE(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(h),e.consume(h),o):n(h)}function o(h){if(mr(h)&&i.length<5)return i+=String.fromCodePoint(h),e.consume(h),o;if(h===58){const p=i.toLowerCase();if(p==="http"||p==="https")return e.consume(h),l}return n(h)}function l(h){return h===47?(e.consume(h),a?u:(a=!0,l)):n(h)}function u(h){return h===null||k0(h)||Kt(h)||Zo(h)||Ny(h)?n(h):e.attempt(jL,e.attempt($L,c),n)(h)}function c(h){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(h)}}function zue(e,t,n){let r=0;return i;function i(s){return(s===87||s===119)&&r<3?(r++,e.consume(s),i):s===46&&r===3?(e.consume(s),a):n(s)}function a(s){return s===null?n(s):t(s)}}function Uue(e,t,n){let r,i,a;return s;function s(u){return u===46||u===95?e.check(VL,l,o)(u):u===null||Kt(u)||Zo(u)||u!==45&&Ny(u)?l(u):(a=!0,e.consume(u),s)}function o(u){return u===95?r=!0:(i=r,r=void 0),e.consume(u),s}function l(u){return i||r||!a?n(u):t(u)}}function jue(e,t){let n=0,r=0;return i;function i(s){return s===40?(n++,e.consume(s),i):s===41&&r<n?a(s):s===33||s===34||s===38||s===39||s===41||s===42||s===44||s===46||s===58||s===59||s===60||s===63||s===93||s===95||s===126?e.check(VL,t,a)(s):s===null||Kt(s)||Zo(s)?t(s):(e.consume(s),i)}function a(s){return s===41&&r++,e.consume(s),i}}function $ue(e,t,n){return r;function r(o){return o===33||o===34||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===63||o===95||o===126?(e.consume(o),r):o===38?(e.consume(o),a):o===93?(e.consume(o),i):o===60||o===null||Kt(o)||Zo(o)?t(o):n(o)}function i(o){return o===null||o===40||o===91||Kt(o)||Zo(o)?t(o):r(o)}function a(o){return mr(o)?s(o):n(o)}function s(o){return o===59?(e.consume(o),r):mr(o)?(e.consume(o),s):n(o)}}function Vue(e,t,n){return r;function r(a){return e.consume(a),i}function i(a){return lr(a)?n(a):t(a)}}function HL(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||Kt(e)}function qL(e){return!mr(e)}function KL(e){return!(e===47||Uk(e))}function Uk(e){return e===43||e===45||e===46||e===95||lr(e)}function OE(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const Wue={tokenize:Zue,partial:!0};function Gue(){return{document:{[91]:{tokenize:Yue,continuation:{tokenize:Xue},exit:Que}},text:{[91]:{tokenize:Kue},[93]:{add:"after",tokenize:Hue,resolveTo:que}}}}function Hue(e,t,n){const r=this;let i=r.events.length;const a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s;for(;i--;){const l=r.events[i][1];if(l.type==="labelImage"){s=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return o;function o(l){if(!s||!s._balanced)return n(l);const u=Vi(r.sliceSerialize({start:s.end,end:r.now()}));return u.codePointAt(0)!==94||!a.includes(u.slice(1))?n(l):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(l),e.exit("gfmFootnoteCallLabelMarker"),t(l))}}function que(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const a={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},s={type:"chunkString",contentType:"string",start:Object.assign({},a.start),end:Object.assign({},a.end)},o=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",i,t],["exit",i,t],["enter",a,t],["enter",s,t],["exit",s,t],["exit",a,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...o),e}function Kue(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a=0,s;return o;function o(h){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(h),e.exit("gfmFootnoteCallLabelMarker"),l}function l(h){return h!==94?n(h):(e.enter("gfmFootnoteCallMarker"),e.consume(h),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",u)}function u(h){if(a>999||h===93&&!s||h===null||h===91||Kt(h))return n(h);if(h===93){e.exit("chunkString");const p=e.exit("gfmFootnoteCallString");return i.includes(Vi(r.sliceSerialize(p)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(h),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(h)}return Kt(h)||(s=!0),a++,e.consume(h),h===92?c:u}function c(h){return h===91||h===92||h===93?(e.consume(h),a++,u):u(h)}}function Yue(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a,s=0,o;return l;function l(g){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(g),e.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(g){return g===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(g),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",c):n(g)}function c(g){if(s>999||g===93&&!o||g===null||g===91||Kt(g))return n(g);if(g===93){e.exit("chunkString");const y=e.exit("gfmFootnoteDefinitionLabelString");return a=Vi(r.sliceSerialize(y)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(g),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),p}return Kt(g)||(o=!0),s++,e.consume(g),g===92?h:c}function h(g){return g===91||g===92||g===93?(e.consume(g),s++,c):c(g)}function p(g){return g===58?(e.enter("definitionMarker"),e.consume(g),e.exit("definitionMarker"),i.includes(a)||i.push(a),Et(e,m,"gfmFootnoteDefinitionWhitespace")):n(g)}function m(g){return t(g)}}function Xue(e,t,n){return e.check(ef,t,e.attempt(Wue,t,n))}function Que(e){e.exit("gfmFootnoteDefinition")}function Zue(e,t,n){const r=this;return Et(e,i,"gfmFootnoteDefinitionIndent",4+1);function i(a){const s=r.events[r.events.length-1];return s&&s[1].type==="gfmFootnoteDefinitionIndent"&&s[2].sliceSerialize(s[1],!0).length===4?t(a):n(a)}}function Jue(e){let n=(e||{}).singleTilde;const r={tokenize:a,resolveAll:i};return n==null&&(n=!0),{text:{[126]:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(s,o){let l=-1;for(;++l<s.length;)if(s[l][0]==="enter"&&s[l][1].type==="strikethroughSequenceTemporary"&&s[l][1]._close){let u=l;for(;u--;)if(s[u][0]==="exit"&&s[u][1].type==="strikethroughSequenceTemporary"&&s[u][1]._open&&s[l][1].end.offset-s[l][1].start.offset===s[u][1].end.offset-s[u][1].start.offset){s[l][1].type="strikethroughSequence",s[u][1].type="strikethroughSequence";const c={type:"strikethrough",start:Object.assign({},s[u][1].start),end:Object.assign({},s[l][1].end)},h={type:"strikethroughText",start:Object.assign({},s[u][1].end),end:Object.assign({},s[l][1].start)},p=[["enter",c,o],["enter",s[u][1],o],["exit",s[u][1],o],["enter",h,o]],m=o.parser.constructs.insideSpan.null;m&&qr(p,p.length,0,My(m,s.slice(u+1,l),o)),qr(p,p.length,0,[["exit",h,o],["enter",s[l][1],o],["exit",s[l][1],o],["exit",c,o]]),qr(s,u-1,l-u+3,p),l=u+p.length-2;break}}for(l=-1;++l<s.length;)s[l][1].type==="strikethroughSequenceTemporary"&&(s[l][1].type="data");return s}function a(s,o,l){const u=this.previous,c=this.events;let h=0;return p;function p(g){return u===126&&c[c.length-1][1].type!=="characterEscape"?l(g):(s.enter("strikethroughSequenceTemporary"),m(g))}function m(g){const y=S0(u);if(g===126)return h>1?l(g):(s.consume(g),h++,m);if(h<2&&!n)return l(g);const b=s.exit("strikethroughSequenceTemporary"),w=S0(g);return b._open=!w||w===2&&!!y,b._close=!y||y===2&&!!w,o(g)}}}const ece={flow:{null:{tokenize:nce,resolve:tce}}},ZP={tokenize:rce,partial:!0};function tce(e,t){let n=-1,r,i,a,s,o,l,u;for(;++n<e.length;){const c=e[n][1];if(a&&(c.type==="temporaryTableCellContent"&&(s=s||n,o=n),(c.type==="tableCellDivider"||c.type==="tableRow")&&o)){const h={type:"tableContent",start:e[s][1].start,end:e[o][1].end},p={type:"chunkText",start:h.start,end:h.end,contentType:"text"};e.splice(s,o-s+1,["enter",h,t],["enter",p,t],["exit",p,t],["exit",h,t]),n-=o-s-3,s=void 0,o=void 0}if(e[n][0]==="exit"&&l!==void 0&&l+(u?0:1)<n&&(c.type==="tableCellDivider"||c.type==="tableRow"&&(l+3<n||e[l][1].type!=="whitespace"))){const h={type:i?"tableDelimiter":r?"tableHeader":"tableData",start:e[l][1].start,end:e[n][1].end};e.splice(n+(c.type==="tableCellDivider"?1:0),0,["exit",h,t]),e.splice(l,0,["enter",h,t]),n+=2,l=n+1,u=!0}c.type==="tableRow"&&(a=e[n][0]==="enter",a&&(l=n+1,u=!1)),c.type==="tableDelimiterRow"&&(i=e[n][0]==="enter",i&&(l=n+1,u=!1)),c.type==="tableHead"&&(r=e[n][0]==="enter")}return e}function nce(e,t,n){const r=this,i=[];let a=0,s,o;return l;function l(X){return e.enter("table")._align=i,e.enter("tableHead"),e.enter("tableRow"),X===124?u(X):(a++,e.enter("temporaryTableCellContent"),p(X))}function u(X){return e.enter("tableCellDivider"),e.consume(X),e.exit("tableCellDivider"),s=!0,c}function c(X){return X===null||tt(X)?g(X):jt(X)?(e.enter("whitespace"),e.consume(X),h):(s&&(s=void 0,a++),X===124?u(X):(e.enter("temporaryTableCellContent"),p(X)))}function h(X){return jt(X)?(e.consume(X),h):(e.exit("whitespace"),c(X))}function p(X){return X===null||X===124||Kt(X)?(e.exit("temporaryTableCellContent"),c(X)):(e.consume(X),X===92?m:p)}function m(X){return X===92||X===124?(e.consume(X),p):p(X)}function g(X){if(X===null)return n(X);e.exit("tableRow"),e.exit("tableHead");const ue=r.interrupt;return r.interrupt=!0,e.attempt({tokenize:te,partial:!0},function(de){return r.interrupt=ue,e.enter("tableDelimiterRow"),y(de)},function(de){return r.interrupt=ue,n(de)})(X)}function y(X){return X===null||tt(X)?_(X):jt(X)?(e.enter("whitespace"),e.consume(X),b):X===45?(e.enter("tableDelimiterFiller"),e.consume(X),o=!0,i.push("none"),w):X===58?(e.enter("tableDelimiterAlignment"),e.consume(X),e.exit("tableDelimiterAlignment"),i.push("left"),x):X===124?(e.enter("tableCellDivider"),e.consume(X),e.exit("tableCellDivider"),y):n(X)}function b(X){return jt(X)?(e.consume(X),b):(e.exit("whitespace"),y(X))}function w(X){return X===45?(e.consume(X),w):(e.exit("tableDelimiterFiller"),X===58?(e.enter("tableDelimiterAlignment"),e.consume(X),e.exit("tableDelimiterAlignment"),i[i.length-1]=i[i.length-1]==="left"?"center":"right",k):y(X))}function x(X){return X===45?(e.enter("tableDelimiterFiller"),e.consume(X),o=!0,w):n(X)}function k(X){return X===null||tt(X)?_(X):jt(X)?(e.enter("whitespace"),e.consume(X),b):X===124?(e.enter("tableCellDivider"),e.consume(X),e.exit("tableCellDivider"),y):n(X)}function _(X){return e.exit("tableDelimiterRow"),!o||a!==i.length?n(X):X===null?A(X):e.check(ZP,A,e.attempt({tokenize:te,partial:!0},Et(e,P,"linePrefix",4),A))(X)}function A(X){return e.exit("table"),t(X)}function P(X){return e.enter("tableBody"),N(X)}function N(X){return e.enter("tableRow"),X===124?B(X):(e.enter("temporaryTableCellContent"),K(X))}function B(X){return e.enter("tableCellDivider"),e.consume(X),e.exit("tableCellDivider"),j}function j(X){return X===null||tt(X)?G(X):jt(X)?(e.enter("whitespace"),e.consume(X),W):X===124?B(X):(e.enter("temporaryTableCellContent"),K(X))}function W(X){return jt(X)?(e.consume(X),W):(e.exit("whitespace"),j(X))}function K(X){return X===null||X===124||Kt(X)?(e.exit("temporaryTableCellContent"),j(X)):(e.consume(X),X===92?z:K)}function z(X){return X===92||X===124?(e.consume(X),K):K(X)}function G(X){return e.exit("tableRow"),X===null?M(X):e.check(ZP,M,e.attempt({tokenize:te,partial:!0},Et(e,N,"linePrefix",4),M))(X)}function M(X){return e.exit("tableBody"),A(X)}function te(X,ue,de){return ae;function ae(F){return X.enter("lineEnding"),X.consume(F),X.exit("lineEnding"),Et(X,pe,"linePrefix")}function pe(F){if(r.parser.lazy[r.now().line]||F===null||tt(F))return de(F);const O=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&O&&O[1].type==="linePrefix"&&O[2].sliceSerialize(O[1],!0).length>=4?de(F):(r._gfmTableDynamicInterruptHack=!0,X.check(r.parser.constructs.flow,function(Ee){return r._gfmTableDynamicInterruptHack=!1,de(Ee)},function(Ee){return r._gfmTableDynamicInterruptHack=!1,ue(Ee)})(F))}}}function rce(e,t,n){let r=0;return i;function i(s){return e.enter("check"),e.consume(s),a}function a(s){return s===-1||s===32?(e.consume(s),r++,r===4?t:a):s===null||Kt(s)?t(s):n(s)}}const ice={tokenize:sce},ace={text:{[91]:ice}};function sce(e,t,n){const r=this;return i;function i(l){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(l):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),a)}function a(l){return Kt(l)?(e.enter("taskListCheckValueUnchecked"),e.consume(l),e.exit("taskListCheckValueUnchecked"),s):l===88||l===120?(e.enter("taskListCheckValueChecked"),e.consume(l),e.exit("taskListCheckValueChecked"),s):n(l)}function s(l){return l===93?(e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),o):n(l)}function o(l){return tt(l)?t(l):jt(l)?e.check({tokenize:oce},t,n)(l):n(l)}}function oce(e,t,n){return Et(e,r,"whitespace");function r(i){return i===null?n(i):t(i)}}function lce(e){return iL([Oue,Gue(),Jue(e),ece,ace])}function JP(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(t);for(;i!==-1;)r++,i=n.indexOf(t,i+t.length);return r}function uce(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}const cce={}.hasOwnProperty,dce=function(e,t,n,r){let i,a;typeof t=="string"||t instanceof RegExp?(a=[[t,n]],i=r):(a=t,i=n),i||(i={});const s=IE(i.ignore||[]),o=hce(a);let l=-1;for(;++l<o.length;)kL(e,"text",u);return e;function u(h,p){let m=-1,g;for(;++m<p.length;){const y=p[m];if(s(y,g?g.children.indexOf(y):void 0,g))return;g=y}if(g)return c(h,p)}function c(h,p){const m=p[p.length-1],g=o[l][0],y=o[l][1];let b=0;const w=m.children.indexOf(h);let x=!1,k=[];g.lastIndex=0;let _=g.exec(h.value);for(;_;){const A=_.index,P={index:_.index,input:_.input,stack:[...p,h]};let N=y(..._,P);if(typeof N=="string"&&(N=N.length>0?{type:"text",value:N}:void 0),N!==!1&&(b!==A&&k.push({type:"text",value:h.value.slice(b,A)}),Array.isArray(N)?k.push(...N):N&&k.push(N),b=A+_[0].length,x=!0),!g.global)break;_=g.exec(h.value)}return x?(b<h.value.length&&k.push({type:"text",value:h.value.slice(b)}),m.children.splice(w,1,...k)):k=[h],w+k.length}};function hce(e){const t=[];if(typeof e!="object")throw new TypeError("Expected array or object as schema");if(Array.isArray(e)){let n=-1;for(;++n<e.length;)t.push([eA(e[n][0]),tA(e[n][1])])}else{let n;for(n in e)cce.call(e,n)&&t.push([eA(n),tA(e[n])])}return t}function eA(e){return typeof e=="string"?new RegExp(uce(e),"g"):e}function tA(e){return typeof e=="function"?e:()=>e}const ab="phrasing",sb=["autolink","link","image","label"],fce={transforms:[bce],enter:{literalAutolink:mce,literalAutolinkEmail:ob,literalAutolinkHttp:ob,literalAutolinkWww:ob},exit:{literalAutolink:wce,literalAutolinkEmail:vce,literalAutolinkHttp:gce,literalAutolinkWww:yce}},pce={unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:ab,notInConstruct:sb},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:ab,notInConstruct:sb},{character:":",before:"[ps]",after:"\\/",inConstruct:ab,notInConstruct:sb}]};function mce(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function ob(e){this.config.enter.autolinkProtocol.call(this,e)}function gce(e){this.config.exit.autolinkProtocol.call(this,e)}function yce(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.url="http://"+this.sliceSerialize(e)}function vce(e){this.config.exit.autolinkEmail.call(this,e)}function wce(e){this.exit(e)}function bce(e){dce(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,xce],[/([-.\w+]+)@([-\w]+(?:\.[-\w]+)+)/g,kce]],{ignore:["link","linkReference"]})}function xce(e,t,n,r,i){let a="";if(!YL(i)||(/^w/i.test(t)&&(n=t+n,t="",a="http://"),!Sce(n)))return!1;const s=Cce(n+r);if(!s[0])return!1;const o={type:"link",title:null,url:a+t+s[0],children:[{type:"text",value:t+s[0]}]};return s[1]?[o,{type:"text",value:s[1]}]:o}function kce(e,t,n,r){return!YL(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function Sce(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function Cce(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const i=JP(e,"(");let a=JP(e,")");for(;r!==-1&&i>a;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),a++;return[e,n]}function YL(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||Zo(n)||Ny(n))&&(!t||n!==47)}function XL(e){return e.label||!e.identifier?e.label||"":mL(e.identifier)}function Ece(e,t,n){const r=t.indexStack,i=e.children||[],a=t.createTracker(n),s=[];let o=-1;for(r.push(-1);++o<i.length;){const l=i[o];r[r.length-1]=o,s.push(a.move(t.handle(l,e,t,{before:`
`,after:`
`,...a.current()}))),l.type!=="list"&&(t.bulletLastUsed=void 0),o<i.length-1&&s.push(a.move(Tce(l,i[o+1],e,t)))}return r.pop(),s.join("")}function Tce(e,t,n,r){let i=r.join.length;for(;i--;){const a=r.join[i](e,t,n,r);if(a===!0||a===1)break;if(typeof a=="number")return`
`.repeat(1+a);if(a===!1)return`

<!---->

`}return`

`}const _ce=/\r?\n|\r/g;function Ice(e,t){const n=[];let r=0,i=0,a;for(;a=_ce.exec(e);)s(e.slice(r,a.index)),n.push(a[0]),r=a.index+a[0].length,i++;return s(e.slice(r)),n.join("");function s(o){n.push(t(o,i,!o))}}function QL(e){if(!e._compiled){const t=(e.atBreak?"[\\r\\n][\\t ]*":"")+(e.before?"(?:"+e.before+")":"");e._compiled=new RegExp((t?"("+t+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(e.character)?"\\":"")+e.character+(e.after?"(?:"+e.after+")":""),"g")}return e._compiled}function Pce(e,t){return nA(e,t.inConstruct,!0)&&!nA(e,t.notInConstruct,!1)}function nA(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function ZL(e,t,n){const r=(n.before||"")+(t||"")+(n.after||""),i=[],a=[],s={};let o=-1;for(;++o<e.unsafe.length;){const c=e.unsafe[o];if(!Pce(e.stack,c))continue;const h=QL(c);let p;for(;p=h.exec(r);){const m="before"in c||!!c.atBreak,g="after"in c,y=p.index+(m?p[1].length:0);i.includes(y)?(s[y].before&&!m&&(s[y].before=!1),s[y].after&&!g&&(s[y].after=!1)):(i.push(y),s[y]={before:m,after:g})}}i.sort(Ace);let l=n.before?n.before.length:0;const u=r.length-(n.after?n.after.length:0);for(o=-1;++o<i.length;){const c=i[o];c<l||c>=u||c+1<u&&i[o+1]===c+1&&s[c].after&&!s[c+1].before&&!s[c+1].after||i[o-1]===c-1&&s[c].before&&!s[c-1].before&&!s[c-1].after||(l!==c&&a.push(rA(r.slice(l,c),"\\")),l=c,/[!-/:-@[-`{-~]/.test(r.charAt(c))&&(!n.encode||!n.encode.includes(r.charAt(c)))?a.push("\\"):(a.push("&#x"+r.charCodeAt(c).toString(16).toUpperCase()+";"),l++))}return a.push(rA(r.slice(l,u),n.after)),a.join("")}function Ace(e,t){return e-t}function rA(e,t){const n=/\\(?=[!-/:-@[-`{-~])/g,r=[],i=[],a=e+t;let s=-1,o=0,l;for(;l=n.exec(a);)r.push(l.index);for(;++s<r.length;)o!==r[s]&&i.push(e.slice(o,r[s])),i.push("\\"),o=r[s];return i.push(e.slice(o)),i.join("")}function Hy(e){const t=e||{},n=t.now||{};let r=t.lineShift||0,i=n.line||1,a=n.column||1;return{move:l,current:s,shift:o};function s(){return{now:{line:i,column:a},lineShift:r}}function o(u){r+=u}function l(u){const c=u||"",h=c.split(/\r?\n|\r/g),p=h[h.length-1];return i+=h.length-1,a=h.length===1?a+p.length:1+p.length+r,c}}JL.peek=jce;function Rce(){return{enter:{gfmFootnoteDefinition:Nce,gfmFootnoteDefinitionLabelString:Mce,gfmFootnoteCall:Fce,gfmFootnoteCallString:Bce},exit:{gfmFootnoteDefinition:Lce,gfmFootnoteDefinitionLabelString:Oce,gfmFootnoteCall:Uce,gfmFootnoteCallString:zce}}}function Dce(){return{unsafe:[{character:"[",inConstruct:["phrasing","label","reference"]}],handlers:{footnoteDefinition:$ce,footnoteReference:JL}}}function Nce(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function Mce(){this.buffer()}function Oce(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=Vi(this.sliceSerialize(e)).toLowerCase()}function Lce(e){this.exit(e)}function Fce(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function Bce(){this.buffer()}function zce(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=Vi(this.sliceSerialize(e)).toLowerCase()}function Uce(e){this.exit(e)}function JL(e,t,n,r){const i=Hy(r);let a=i.move("[^");const s=n.enter("footnoteReference"),o=n.enter("reference");return a+=i.move(ZL(n,XL(e),{...i.current(),before:a,after:"]"})),o(),s(),a+=i.move("]"),a}function jce(){return"["}function $ce(e,t,n,r){const i=Hy(r);let a=i.move("[^");const s=n.enter("footnoteDefinition"),o=n.enter("label");return a+=i.move(ZL(n,XL(e),{...i.current(),before:a,after:"]"})),o(),a+=i.move("]:"+(e.children&&e.children.length>0?" ":"")),i.shift(4),a+=i.move(Ice(Ece(e,n,i.current()),Vce)),s(),a}function Vce(e,t,n){return t===0?e:(n?"":"    ")+e}function eF(e,t,n){const r=t.indexStack,i=e.children||[],a=[];let s=-1,o=n.before;r.push(-1);let l=t.createTracker(n);for(;++s<i.length;){const u=i[s];let c;if(r[r.length-1]=s,s+1<i.length){let h=t.handle.handlers[i[s+1].type];h&&h.peek&&(h=h.peek),c=h?h(i[s+1],e,t,{before:"",after:"",...l.current()}).charAt(0):""}else c=n.after;a.length>0&&(o==="\r"||o===`
`)&&u.type==="html"&&(a[a.length-1]=a[a.length-1].replace(/(\r?\n|\r)$/," "),o=" ",l=t.createTracker(n),l.move(a.join(""))),a.push(l.move(t.handle(u,e,t,{...l.current(),before:o,after:c}))),o=a[a.length-1].slice(-1)}return r.pop(),a.join("")}const Wce=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];tF.peek=Yce;const Gce={canContainEols:["delete"],enter:{strikethrough:qce},exit:{strikethrough:Kce}},Hce={unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:Wce}],handlers:{delete:tF}};function qce(e){this.enter({type:"delete",children:[]},e)}function Kce(e){this.exit(e)}function tF(e,t,n,r){const i=Hy(r),a=n.enter("strikethrough");let s=i.move("~~");return s+=eF(e,n,{...i.current(),before:s,after:"~"}),s+=i.move("~~"),a(),s}function Yce(){return"~"}nF.peek=Xce;function nF(e,t,n){let r=e.value||"",i="`",a=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++a<n.unsafe.length;){const s=n.unsafe[a],o=QL(s);let l;if(s.atBreak)for(;l=o.exec(r);){let u=l.index;r.charCodeAt(u)===10&&r.charCodeAt(u-1)===13&&u--,r=r.slice(0,u)+" "+r.slice(l.index+1)}}return i+r+i}function Xce(){return"`"}function Qce(e,t={}){const n=(t.align||[]).concat(),r=t.stringLength||Jce,i=[],a=[],s=[],o=[];let l=0,u=-1;for(;++u<e.length;){const g=[],y=[];let b=-1;for(e[u].length>l&&(l=e[u].length);++b<e[u].length;){const w=Zce(e[u][b]);if(t.alignDelimiters!==!1){const x=r(w);y[b]=x,(o[b]===void 0||x>o[b])&&(o[b]=x)}g.push(w)}a[u]=g,s[u]=y}let c=-1;if(typeof n=="object"&&"length"in n)for(;++c<l;)i[c]=iA(n[c]);else{const g=iA(n);for(;++c<l;)i[c]=g}c=-1;const h=[],p=[];for(;++c<l;){const g=i[c];let y="",b="";g===99?(y=":",b=":"):g===108?y=":":g===114&&(b=":");let w=t.alignDelimiters===!1?1:Math.max(1,o[c]-y.length-b.length);const x=y+"-".repeat(w)+b;t.alignDelimiters!==!1&&(w=y.length+w+b.length,w>o[c]&&(o[c]=w),p[c]=w),h[c]=x}a.splice(1,0,h),s.splice(1,0,p),u=-1;const m=[];for(;++u<a.length;){const g=a[u],y=s[u];c=-1;const b=[];for(;++c<l;){const w=g[c]||"";let x="",k="";if(t.alignDelimiters!==!1){const _=o[c]-(y[c]||0),A=i[c];A===114?x=" ".repeat(_):A===99?_%2?(x=" ".repeat(_/2+.5),k=" ".repeat(_/2-.5)):(x=" ".repeat(_/2),k=x):k=" ".repeat(_)}t.delimiterStart!==!1&&!c&&b.push("|"),t.padding!==!1&&!(t.alignDelimiters===!1&&w==="")&&(t.delimiterStart!==!1||c)&&b.push(" "),t.alignDelimiters!==!1&&b.push(x),b.push(w),t.alignDelimiters!==!1&&b.push(k),t.padding!==!1&&b.push(" "),(t.delimiterEnd!==!1||c!==l-1)&&b.push("|")}m.push(t.delimiterEnd===!1?b.join("").replace(/ +$/,""):b.join(""))}return m.join(`
`)}function Zce(e){return e==null?"":String(e)}function Jce(e){return e.length}function iA(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}const ede={enter:{table:tde,tableData:aA,tableHeader:aA,tableRow:rde},exit:{codeText:ide,table:nde,tableData:lb,tableHeader:lb,tableRow:lb}};function tde(e){const t=e._align;this.enter({type:"table",align:t.map(n=>n==="none"?null:n),children:[]},e),this.setData("inTable",!0)}function nde(e){this.exit(e),this.setData("inTable")}function rde(e){this.enter({type:"tableRow",children:[]},e)}function lb(e){this.exit(e)}function aA(e){this.enter({type:"tableCell",children:[]},e)}function ide(e){let t=this.resume();this.getData("inTable")&&(t=t.replace(/\\([\\|])/g,ade));const n=this.stack[this.stack.length-1];n.value=t,this.exit(e)}function ade(e,t){return t==="|"?t:e}function sde(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,a=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{table:s,tableRow:o,tableCell:l,inlineCode:p}};function s(m,g,y,b){return u(c(m,y,b),m.align)}function o(m,g,y,b){const w=h(m,y,b),x=u([w]);return x.slice(0,x.indexOf(`
`))}function l(m,g,y,b){const w=y.enter("tableCell"),x=y.enter("phrasing"),k=eF(m,y,{...b,before:a,after:a});return x(),w(),k}function u(m,g){return Qce(m,{align:g,alignDelimiters:r,padding:n,stringLength:i})}function c(m,g,y){const b=m.children;let w=-1;const x=[],k=g.enter("table");for(;++w<b.length;)x[w]=h(b[w],g,y);return k(),x}function h(m,g,y){const b=m.children;let w=-1;const x=[],k=g.enter("tableRow");for(;++w<b.length;)x[w]=l(b[w],m,g,y);return k(),x}function p(m,g,y){let b=nF(m,g,y);return y.stack.includes("tableCell")&&(b=b.replace(/\|/g,"\\$&")),b}}function ode(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function lde(e){const t=e.options.listItemIndent||"tab";if(t===1||t==="1")return"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function ude(e,t,n,r){const i=lde(n);let a=n.bulletCurrent||ode(n);t&&t.type==="list"&&t.ordered&&(a=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+a);let s=a.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(s=Math.ceil(s/4)*4);const o=n.createTracker(r);o.move(a+" ".repeat(s-a.length)),o.shift(s);const l=n.enter("listItem"),u=n.indentLines(n.containerFlow(e,o.current()),c);return l(),u;function c(h,p,m){return p?(m?"":" ".repeat(s))+h:(m?a:a+" ".repeat(s-a.length))+h}}const cde={exit:{taskListCheckValueChecked:sA,taskListCheckValueUnchecked:sA,paragraph:hde}},dde={unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:fde}};function sA(e){const t=this.stack[this.stack.length-2];t.checked=e.type==="taskListCheckValueChecked"}function hde(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1],r=n.children[0];if(r&&r.type==="text"){const i=t.children;let a=-1,s;for(;++a<i.length;){const o=i[a];if(o.type==="paragraph"){s=o;break}}s===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function fde(e,t,n,r){const i=e.children[0],a=typeof e.checked=="boolean"&&i&&i.type==="paragraph",s="["+(e.checked?"x":" ")+"] ",o=Hy(r);a&&o.move(s);let l=ude(e,t,n,{...r,...o.current()});return a&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),l;function u(c){return c+s}}function pde(){return[fce,Rce(),Gce,ede,cde]}function mde(e){return{extensions:[pce,Dce(),Hce,sde(e),dde]}}function gde(e={}){const t=this.data();n("micromarkExtensions",lce(e)),n("fromMarkdownExtensions",pde()),n("toMarkdownExtensions",mde(e));function n(r,i){(t[r]?t[r]:t[r]=[]).push(i)}}function rF({text:e,className:t}){return C("span",{className:classes("prose dark:prose-invert",t),children:C(UL,{children:e,remarkPlugins:[gde]})})}function iF({settingKey:e,settingValue:t,setSetting:n}){const r=t.formatter?t.formatter(t.value):t.value,i=a=>n(e,t.setter?t.setter(a):a);return ne("div",{className:"flex flex-col gap-1.5",children:[ne("div",{className:"flex justify-between",children:[ne("label",{children:[t.title," ",t.required&&C("span",{className:"text-sm text-red-500",children:"*"})]}),t.type==="boolean"&&C(H.Checkbox,{size:"xl",value:r,onChange:i})]}),t.type==="string"&&t.options&&C(H.Dropdown,{value:t.value??"",size:"md",onChange:a=>i(a.value),options:t.options,fullWidth:!0,className:"mx-0 -ml-0.5",innerClassName:"pl-3.5"}),t.type==="string"&&!t.options&&C(H.Input,{placeholder:t.placeholder,value:r,onChange:i,type:t.password?"password":"text"}),t.type==="number"&&(t.variant==="input"||!t.variant)&&C(H.NumberInput,{number:!0,placeholder:t.placeholder?.toString(),value:r,onNumberChange:i,max:t.max,min:t.min,step:t.step??void 0,inputClassName:"bg-white/5 px-2 py-0.5 group-hover:outline-0 outline-0 focus:outline-transparent",containerClassName:"mx-0",icon:H.Icon.ChevronsLeftRight}),t.type==="number"&&t.variant==="slider"&&ne("div",{className:"flex flex-col",children:[ne("div",{className:"flex justify-between",children:[C(H.Label,{className:"mx-0",children:t.min??0}),C(H.Label,{className:"mx-0",children:t.max??100})]}),C(H.Slider,{value:r,displayValue:![t.min??0,t.max??100].includes(r),onChange:i,max:t.max??100,min:t.min,step:t.step??void 0,className:"mt-3.5"})]}),C(rF,{text:t.description??"",className:"text-sm font-light opacity-75"})]},t.title)}function yde({id:e,manifest:t,pluginStatus:n,settings:r,setSetting:i}){const a=Nn.useUnload();return ne(Q6,{className:"flex flex-col gap-2",children:[ne("div",{className:"flex flex-col",children:[ne("div",{className:"mb-4",children:[ne("div",{className:"flex items-start justify-between",children:[ne("div",{className:"flex items-center gap-4",children:[t?.icon&&C("img",{src:t.icon,className:"aspect-square h-7 w-7 shrink-0 rounded-lg object-cover",alt:"Plugin icon"}),t?.link?C("a",{href:t.link,className:"text-2xl hover:underline",target:"_blank",rel:"noreferrer",children:t.name??"Unnamed"}):C("h1",{className:"text-2xl",children:t?.name??"Unnamed"}),n&&ne("div",{className:"flex items-center gap-1",children:[n.indicator==="error"&&C(H.Icon.AlertCircle,{className:"h-5 w-5 text-red-500"}),n.indicator==="warning"&&C(H.Icon.AlertTriangle,{className:"h-5 w-5 text-yellow-500"}),n.indicator==="success"&&C(H.Icon.Check,{className:"h-5 w-5 text-green-500"}),n.indicator==="info"&&C(H.Icon.Info,{className:"h-5 w-5 text-blue-500"}),n.indicator==="loading"&&C(H.Icon.RefreshClockwise,{className:"h-5 w-5 animate-spin text-blue-500"}),C("span",{className:classes("text-sm",n.indicator==="error"&&"text-red-500",n.indicator==="warning"&&"text-yellow-500",n.indicator==="success"&&"text-green-500",n.indicator==="info"&&"text-blue-500",n.indicator==="loading"&&"text-blue-500"),children:n.text})]})]}),e&&a&&C(H.Button,{className:"h-18",icon:H.Icon.Trash,onClick:()=>e&&a(e),children:"Uninstall"})]}),ne("div",{className:"mt-2 flex gap-5",children:[t?.version&&C(ub,{label:"Version",value:t.version}),C(ub,{label:"License",value:t?.license??"No license"}),C(ub,{label:"Author",value:t?.author??"No author"})]})]}),C(vde,{label:"About",value:t?.description??"No description",markdown:!0})]}),Object.keys(r).length>0&&ne("div",{className:"mt-2 flex flex-col gap-4",children:[C(H.Label,{className:"ml-0",children:"Settings"}),Object.entries(r).map(([s,o])=>C(iF,{settingKey:s,settingValue:o,setSetting:i},s))]})]})}function vde({label:e,value:t,markdown:n,className:r}){return ne("div",{className:classes("flex flex-col gap-2",r),children:[C(H.Label,{className:"ml-0",children:e}),n?C(rF,{text:t??""}):C("p",{children:t})]})}function ub({label:e,value:t,className:n}){return ne("p",{className:classes("opacity-muted text-sm",n),children:[ne("span",{className:"select-none opacity-50",children:[e," "]}),t]})}function E0(){const[e,t]=useState(),n=Nn.useSetup(),{manifest:r,settings:i,setSetting:a,getStatus:s}=Nn.use(({manifest:c,settings:h,setSetting:p,getStatus:m})=>({manifest:c,settings:h,setSetting:p??doNothing,getStatus:m})),{developerMode:o,setDeveloperMode:l}=E0.use();useEffect(()=>{function c(){if(!s)return;const p=s();p&&(p instanceof Promise?(t(m=>({...m,indicator:"loading"})),p.then(t)):(t(p),console.log(p)))}c();const h=setInterval(c,1e4);return()=>clearInterval(h)},[s]);const u=useMemo(()=>Object.entries(i??{}).find(([,c])=>c.required&&!c.value),[i]);return C(rt,{children:C("div",{className:"h-full justify-between overflow-y-auto bg-zinc-900 px-5 py-6",children:ne("div",{className:"mx-auto flex max-w-[60rem] flex-col gap-5",children:[!u&&C(ly,{to:"/generate",className:"w-fit",children:ne("div",{className:"my-5 -ml-1 flex gap-1 text-lg opacity-50 hover:opacity-100",children:[C(H.Icon.ChevronLeft,{className:"h-6 w-6"}),"Generate"]})}),C("div",{children:C("h1",{className:"text-3xl",children:"Settings"})}),C(yde,{manifest:r,pluginStatus:e,settings:i??{},setSetting:a}),C(iF,{settingKey:"developerMode",setSetting:()=>l(!o),settingValue:{type:"boolean",title:"Developer mode",description:"Enable experimental features such as installing untrusted plugins",required:!1,value:o}}),o&&C(Aae,{installPlugin:c=>c&&n.loadFromURL(c)})]})})})}(e=>{let t;(n=>{n.use=et.create(r=>({developerMode:localStorage.getItem("stablestudio-developerMode")==="true",setDeveloperMode:i=>r(a=>(localStorage.setItem("stablestudio-developerMode",i.toString()),{...a,developerMode:i}))}))})(t||(t={})),e.use=t.use})(E0||(E0={}));function Ga(){const e=Ga.useNavigate(),t=Nn.use(({settings:n})=>n??{});return useEffect(()=>{Object.entries(t).find(([,r])=>r.required&&!r.value)&&e("/settings")},[e,t]),C(Ga.Routes,{})}(e=>{function t(){return PU(t.use())}e.Routes=t,(n=>{function r(){return useMemo(()=>[{path:"/generate",element:C(re,{})},{path:"/edit",element:C(ee,{})},{path:"/settings",element:C(E0,{})},{path:"*",element:C(jU,{to:"/generate",replace:!0})}],[])}n.use=r})(t=e.Routes||(e.Routes={})),e.useNavigate=sC,e.useLocation=qs,e.Provider=qU})(Ga||(Ga={}));function wde(){const[e,t]=useState(!1),{input:n}=re.Image.Session.useCurrentInput(),r=re.Image.Session.useCreateDream(),i=useRef(null),a=qs();return console.log("BottomBar"),py(i,()=>t(!1)),a.pathname.startsWith("/generate")?C(Ar.div,{layoutId:"bottom-bar-parent",className:classes("fixed bottom-0 z-[100] flex max-h-screen min-h-0 w-screen flex-col rounded-t-xl border-t border-zinc-700/75 bg-zinc-900 sm:hidden"),ref:i,children:ne("div",{className:"relative",children:[C(Ar.div,{layoutId:"bottom-bar-open-button",layout:"preserve-aspect",className:"flex items-center justify-center pt-3 pb-1",onClick:()=>t(!e),children:C(H.Icon.ChevronUp,{className:classes("text-lg text-zinc-500",e&&"rotate-180")})}),e&&n&&C(Ar.div,{layoutId:"bottom-bar",layout:"preserve-aspect",className:"flex max-h-[60vh] min-h-0 shrink grow-0 flex-col overflow-y-auto",children:C(re.Image.Sidebar.Tab,{id:n.id})}),n&&C(Ar.div,{layout:"preserve-aspect",layoutId:"bottom-bar-create-button",className:"p-2",children:C(re.Image.Create.Button,{id:n.id,onIdleClick:()=>r(),fullWidth:!0})})]})}):null}let oA;var jk;(e=>{e.get=()=>oA,e.create=()=>oA||(oA=new Kne({defaultOptions:{mutations:{cacheTime:0},queries:{cacheTime:24*60*60*1e3,refetchOnWindowFocus:!1,retry:1}}}))})(jk||(jk={}));const bde=({children:e})=>ne(Zne,{client:useMemo(()=>T0.Client.create(),[]),children:[!1,e]});var T0;(e=>{e.Client=jk,e.Provider=bde})(T0||(T0={}));function xde({children:e}){return C(Vo.Provider,{children:C(Ga.Provider,{children:C(T0.Provider,{children:e})})})}function kde({position:e}){const[t,n]=useState(!1),[r,i]=Dt.Sidebar.use(e),a=H.useIsMobileDevice(),s=ee.Canvas.useResize(),o=useCallback(()=>{if(a)return i(({visible:l})=>({visible:!l}));i(({width:l})=>({width:l===0?Dt.Sidebar.presetWidth():0}))},[a,i]);return useEffect(()=>{const l=()=>n(!1),u=c=>{t&&(c.preventDefault(),c.stopPropagation(),i({width:clamp(0,e==="left"?c.clientX:window.innerWidth-c.clientX,600)}),s())};return window.addEventListener("mousemove",u),window.addEventListener("mouseup",l),()=>{window.removeEventListener("mousemove",u),window.removeEventListener("mouseup",l)}},[e,s,t,i]),ne("div",{onMouseDown:useCallback(()=>!a&&n(!0),[a,n]),style:{[e]:"100%"},className:classes("group absolute top-0 bottom-0 flex w-5 cursor-col-resize",e==="right"&&"justify-end"),children:[C("div",{className:classes("absolute p-2 duration-150 group-hover:opacity-100 sm:opacity-100 md:opacity-0",r.width===0&&"opacity-muted"),children:C(H.Button,{className:VD("dark:bg-zinc-700",a&&"h-10 w-16"),onClick:o,icon:e==="left"&&r.width>0&&r.visible?H.Icon.ChevronLeft:H.Icon.ChevronRight})}),ne("div",{className:"relative",children:[C(lA,{resizing:t}),C(lA,{resizing:t,className:"w-1 blur-md"})]})]})}function lA({resizing:e,className:t}){return C("div",{className:classes("bg-brand-500 absolute top-0 h-full w-0.5 -translate-x-1/2 opacity-0 duration-150 group-hover:opacity-70",e&&"opacity-100 group-hover:opacity-100",t)})}function Sde(e){const{title:t,children:n,className:r,collapsable:i,defaultExpanded:a,padding:s=H.Common.Size.preset(),button:o,icon:l,divider:u=!0,onChange:c}=e,[h,p]=useState(!!a||!i),m=useMemo(()=>typeof r=="function"?r({...e,expanded:h}):r,[r,e,h]);useEffect(()=>{a&&p(a)},[a]);const g=useMemo(()=>({testsdfsadfasdfs:!0,transparent:!0,className:"p-0"}),[]),y=useMemo(()=>typeof o=="function"?o(g):o,[g,o]);return ne("div",{className:classes("flex flex-col border-zinc-700 last-of-type:border-b-0",u&&"border-b-1 border-b",m),children:[t&&ne("div",{className:"flex items-center py-2 px-2",children:[C(H.Button,{...g,className:classes(g.className,"mr-auto",!i&&"ml-1 cursor-default hover:text-white/80 dark:hover:text-white/80"),onClick:()=>{i&&(p(!h),c?.(!h))},iconLeft:l?typeof l=="function"?l({...e,expanded:h}):l:i&&(b=>C(H.Icon.ChevronDown,{className:classes(b.className,!h&&"-rotate-90",i&&"cursor-pointer")})),children:t}),y]}),(h||!i)&&n&&C("div",{className:classes(s==="sm"&&"p-2",s==="md"&&"p-4",s==="lg"&&"p-5"),children:n})]})}var $k;(e=>{e.use=()=>{const t=doNothing,n=doNothing,r=doNothing,i=doNothing,a=doNothing;Ye.use(useMemo(()=>({name:["Sidebar","Toggle Both"],keys:["Meta","\\"],icon:H.Icon.Sidebar,action:t}),[t])),Ye.use(useMemo(()=>({name:["Sidebar","Toggle Right"],keys:["F7"],icon:H.Icon.SidebarOpen,action:n}),[n])),Ye.use(useMemo(()=>({name:["Sidebar","Toggle Left"],keys:["F5"],icon:H.Icon.SidebarClose,action:r}),[r])),Ye.use(useMemo(()=>({name:["Sidebar","Layers"],keys:["Control","l"],icon:H.Icon.Layers,action:i}),[i])),Ye.use(useMemo(()=>({name:["Sidebar","History"],keys:["Control","y"],icon:H.Icon.History,action:a}),[a]))}})($k||($k={}));function Cde({className:e,children:t}){return C("div",{className:classes("justify-end border-t border-zinc-700 p-2",e),children:t})}function Ede({position:e}){const[t]=Dt.Sidebar.use(e),r=Dt.Sidebar.Tabs.use(e).find(i=>i.name===t.tab);return C(rt,{children:r?.bottom})}function aF(e){return C(H.Button,{size:"lg",...e,className:classes("w-full",e.className)})}function Tde({position:e}){const t=Ga.useNavigate(),[n,r]=Dt.Sidebar.use(e),i=Dt.Sidebar.Tabs.use(e),a=H.useIsMobileDevice(),s=i.every(o=>o.button===!1);return useMemo(()=>!i[0]||s?null:ne("div",{className:"flex flex-row gap-2 border-b border-zinc-700 p-2",children:[i.map(o=>{if(o.button===!1)return null;const l=()=>{r(c=>({...c,tab:o.name})),o.route&&t(o.route)},u={key:o.name,icon:o.icon,active:o.name===n.tab,className:classes("justify-start",!!o.button&&"w-full"),children:o.name,onClick:l};return typeof o.button=="function"?o.button(u):C(aF,{...u})}),a&&C(H.Button,{className:"h-full w-full",icon:H.Icon.ChevronLeft,onClick:()=>r(o=>({...o,visible:!1}))})]}),[i,s,a,n.tab,r,t])}var Vu;(e=>{e.use=n=>{const r=t.use(({tabs:i})=>i);return useMemo(()=>Object.values(r).filter(i=>i.position===n).sort((i,a)=>(i.index??1/0)-(a.index??1/0)),[n,r])};let t;(n=>{n.use=et.create(r=>({tabs:{},setTab:(i,a)=>r(s=>{const{[i]:o,...l}=s.tabs;return{tabs:{...l,...a&&{[i]:a}}}}),setLeftElement:i=>r({leftElement:i}),setRightElement:i=>r({rightElement:i})}))})(t=e.State||(e.State={}))})(Vu||(Vu={}));function xu({position:e}){const t=Vu.State.use(n=>e==="left"?n.setLeftElement:n.setRightElement,et.shallow);return C("div",{ref:t,className:classes("flex min-h-0 shrink flex-col overflow-y-auto")})}(e=>{e.Bottom=Cde,e.Button=aF,e.Buttons=Tde,e.Bottoms=Ede;function t({children:n,...r}){const[i,a]=Dt.Sidebar.use(r.position),s=qs(),{setTab:o,element:l}=Vu.State.use(({setTab:u,...c})=>({setTab:u,element:r.position==="left"?c.leftElement:c.rightElement}),et.shallow);return useEffect(()=>(o(r.name,{enabled:!0,...r}),()=>o(r.name)),[r,o]),useEffect(()=>{(window.location.pathname===r.route||window.location.pathname==="/"&&r.defaultActive)&&a(u=>({...u,tab:r.name}))},[r.name,r.defaultActive,a,r.route,s]),useMemo(()=>C(rt,{children:i.tab===r.name&&r.enabled&&l&&Yu.createPortal(n,l)}),[n,l,r.enabled,r.name,i.tab])}e.Set=t})(xu||(xu={}));function _de(){return ne(rt,{children:[C(re.Image.Sidebar,{}),C(ee.Sidebar,{})]})}function Wu({position:e}){const[t]=Wu.use(e),r=Vu.use(e).some(o=>o.enabled),i=H.useIsMobileDevice(),a=r&&t.visible&&t.width>300,s=useMemo(()=>ne(rt,{children:[C(xu.Buttons,{position:e}),C(xu,{position:e}),C(xu.Bottoms,{position:e})]}),[e]);return i?null:ne("div",{style:{width:a?i?"100%":t.width:0},className:classes("relative z-[10] min-h-0 shrink-0 border-zinc-700 dark:bg-zinc-900",a&&(e==="left"?"border-r":"border-l")),children:[r&&C(kde,{position:e}),C("div",{className:classes("flex h-full min-h-0 shrink grow flex-col",!a&&"hidden"),children:s})]})}(e=>{e.Section=Sde,e.Shortcuts=$k,e.Tab=xu,e.Tabs=Vu,e.presetWidth=()=>400,e.use=n=>{const{sidebar:r,stateSet:i}=t.use(s=>({sidebar:s[n],stateSet:s.setSidebar}),et.shallow),a=useCallback(s=>i(n,s),[n,i]);return useMemo(()=>[r,a],[r,a])};let t;(n=>{n.use=et.create(r=>{const i={visible:!0,width:(0,e.presetWidth)()};return{left:i,right:i,setSidebar:(a,s)=>r(o=>({[a]:{...o[a],...typeof s=="function"?s(o[a]):s}}))}})})(t||(t={}))})(Wu||(Wu={}));function _0({className:e,children:t}){const n=I0.use(({setElement:r})=>r);return C("div",{ref:n,className:classes("flex h-full grow basis-0 items-center justify-center",e),children:t})}(e=>{function t({children:n}){const r=I0.use(({element:i})=>i,et.shallow);return C(rt,{children:r&&Yu.createPortal(n,r)})}e.Set=t})(_0||(_0={}));var I0;(e=>{e.use=et.create(t=>({setElement:n=>t({element:n})}))})(I0||(I0={}));const Ide=()=>C("div",{className:"flex grow basis-0 items-center gap-4",children:C(ly,{className:"flex flex-row items-center gap-3",to:"/",children:C(H.Logo.Next,{})})}),Pde=()=>{const{setIsOpen:e}=Ye.Palette.use(),t=H.useIsMobileDevice();return C("div",{className:"flex grow basis-0 items-center justify-end gap-2",children:ne(rt,{children:[!t&&ne(H.Button,{outline:!0,className:"rounded-full",icon:H.Icon.Keyboard,onClick:()=>e(!0),children:["Shortcuts",C(Ye.Keys,{keys:["Meta","k"],className:"ml-2"})]}),C(ly,{to:"/settings",children:C(H.Button,{outline:!0,label:"Settings",labelPlacement:"bottom",className:"aspect-square h-[30px] w-[30px]",icon:H.Icon.Settings})})]})})};function P0(){return ne("nav",{className:"relative flex h-14 w-screen shrink-0 flex-row items-center border-b border-black/20 bg-zinc-50 px-2 text-black dark:border-zinc-700 dark:bg-zinc-900 dark:text-white sm:min-w-[1000px]",children:[C(Ide,{}),C(_0,{}),C(Pde,{})]})}(e=>{e.Center=_0;function t(i){return C(H.Divider,{variant:"vertical",className:"mx-2 group-hover:bg-red-500",...i})}e.Divider=t;function n({children:i}){return C("div",{children:i})}e.Buttons=n;function r({menu:i,...a}){return ne("div",{className:classes("group/button relative flex h-full items-center justify-center duration-150",a.active?"dark:bg-brand-500":"hover:dark:bg-muted-white-extra"),children:[C(H.Button,{transparent:!0,size:"lg",className:"p-4",...a}),i&&C(H.Button,{transparent:!0,size:"sm",className:"-ml-4 h-full p-0 pr-2",icon:H.Icon.ChevronDown})]})}e.Button=r})(P0||(P0={}));function Dt(){const e=H.useIsMobileDevice();return useMemo(()=>ne(xde,{children:[C("div",{className:"absolute top-0 left-0 -z-50 h-screen w-screen dark:bg-zinc-800"}),ne("div",{className:"absolute top-0 left-0 flex h-screen w-screen flex-col text-white sm:overflow-x-auto",children:[C(Ye.Palette,{}),C(P0,{}),C(_de,{}),ne("div",{className:"flex min-h-0 grow overflow-auto sm:min-w-[1000px]",children:[C(Wu,{position:"left"}),C("div",{className:"shrink grow overflow-y-auto",children:C(Ga,{})}),C(Wu,{position:"right"})]}),e&&C(wde,{})]})]}),[e])}(e=>{e.Sidebar=Wu,e.TopBar=P0})(Dt||(Dt={}));const Ade=async()=>{const e=document.getElementById("app");e&&fb.createRoot(e).render(C(React.StrictMode,{children:C(Dt,{})}))};Ade();
